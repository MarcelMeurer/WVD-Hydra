(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[490],{35179:function(e,t,n){"use strict";n.r(t),n.d(t,{UserSettingsModule:function(){return Fe}});var r=n(38583),o=n(10264),i=n(79765),l=n(46797),s=n(40205),a=n(25917),c=n(94402),d=n(68307),u=n(11627),m=n(15257),p=n(45435),g=n(43190),v=n(39761),f=n(67666),h=n(5304),b=n(46782),y=n(94612),S=n(42145),C=n(548),E=n(95242),x=n(34022);function w(e,t,n){return 0===n?[t]:(e.push(t),e)}var P=n(14625),R=n(34681),k=n(76897),I=n(11173),N=(()=>(function(e){e.Tenant="SceneName",e.Name="CloudPcUserSetting.DisplayName",e.Assigned="AssignmentsData",e.LastUpdated="CloudPcUserSetting.LastModifiedDateTime"}(N||(N={})),N))(),T=n(37716),O=n(47010);const F=["popoverRef"];function D(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"ngx-table-filter-popover",4),T["\u0275\u0275listener"]("filtersChanges",function(t){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().filtersChanged(t)}),T["\u0275\u0275elementEnd"]()}if(2&e){const e=T["\u0275\u0275nextContext"]();T["\u0275\u0275property"]("filters",e.filters)("filterName",e.filterName)}}const A=function(e){return{"filters-applied":e}};let M=(()=>{class e{constructor(){this.dataSource=[],this.filtersChanges=new T.EventEmitter,this.filters=[],this.areFiltersApplied=!1,this.valueMapper=e=>{var t;switch(this.resourcePath){case N.Assigned:return(null===(t=e.AssignmentsData)||void 0===t?void 0:t.length)>0?"Yes":"No";default:return this.getObjectValueByResourcePath(e,this.resourcePath)}},this.getObjectValueByResourcePath=(e,t)=>null==t?void 0:t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:void 0,e)}ngOnInit(){this.buildFilters()}filtersChanged(e,t=!1){var n;this.areFiltersApplied=e[0].some(e=>e.checked),this.filtersChanges.emit(e),t||null===(n=this.popoverRef)||void 0===n||n.hide()}buildFilters(){var e;if(!(null===(e=this.dataSource)||void 0===e?void 0:e.length)||!this.resourcePath)return;const t=new Set(this.dataSource.map(this.valueMapper)),n=Array.from(t);this.filters=n.map(e=>({label:e,checked:!1})).sort((e,t)=>e.label.toLowerCase().localeCompare(t.label.toLowerCase()))}resetAllFilters(){this.filters=this.filters.map(e=>({...e,checked:!1})),this.areFiltersApplied=!1,this.filtersChanged([this.filters,this.filterName],!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-user-settings-filter-trigger"]],viewQuery:function(e,t){if(1&e&&T["\u0275\u0275viewQuery"](F,7),2&e){let e;T["\u0275\u0275queryRefresh"](e=T["\u0275\u0275loadQuery"]())&&(t.popoverRef=e.first)}},inputs:{resourcePath:"resourcePath",filterName:"filterName",dataSource:"dataSource"},outputs:{filtersChanges:"filtersChanges"},decls:5,vars:5,consts:[["nbButton","","size","tiny","nbPopoverTrigger","focus","nbPopoverPlacement","bottom",3,"ngClass","nbPopover","disabled","click"],["popoverRef","nbPopover"],["icon","funnel"],["tableFilterPopoverTpl",""],[3,"filters","filterName","filtersChanges"]],template:function(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"button",0,1),T["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),T["\u0275\u0275element"](2,"nb-icon",2),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](3,D,1,2,"ng-template",null,3,T["\u0275\u0275templateRefExtractor"])),2&e){const e=T["\u0275\u0275reference"](4);T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction1"](3,A,t.areFiltersApplied))("nbPopover",e)("disabled",!t.dataSource.length&&!t.areFiltersApplied)}},directives:[P.DPz,r.mk,P.ydg,P.fMN,O.D],styles:['[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   button.filters-applied[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-.188em;right:-.188em;width:.7em;height:.7em;border-radius:50%;background-color:var(--primary)}']}),e})();var G=n(3679),U=n(88002),_=n(36123),V=n(30110),H=n(39538),$=(()=>(function(e){e[e.NotConfigured=0]="NotConfigured",e[e.CrossRegion=1]="CrossRegion",e[e.Premium=2]="Premium",e[e.UnknownFutureValue=3]="UnknownFutureValue"}($||($={})),$))(),j=(()=>(function(e){e[e.MicrosoftHostedNetwork=0]="MicrosoftHostedNetwork",e[e.AzureNetworkConnection=1]="AzureNetworkConnection"}(j||(j={})),j))(),B=(()=>(function(e){e[e.Image=0]="Image",e[e.Snapshot=1]="Snapshot",e[e.UnknownFutureValue=2]="UnknownFutureValue"}(B||(B={})),B))(),z=(()=>(function(e){e[e.Hours4=4]="Hours4",e[e.Hours6=6]="Hours6",e[e.Hours12=12]="Hours12",e[e.Hours16=16]="Hours16",e[e.Hours24=24]="Hours24"}(z||(z={})),z))();let q=(()=>{class e{constructor(e,t,n,r,o,l){this.dialogRef=e,this.dialogService=t,this.viewSceneService=n,this.wd365Service=r,this.toastrService=o,this.cdr=l,this.destroyed$=new i.xQ,this.tenants$=this.wd365Service.getViewScenes(),this.form=new G.cw({settings:new G.cw({tenant:new G.NI(null,G.kI.required),displayName:new G.NI("",G.kI.required),localAdminEnabled:new G.NI(!1),resetEnabled:new G.NI(!1),userRestoreEnabled:new G.NI(!1),frequencyInHours:new G.NI(z.Hours12),disasterRecoveryType:new G.NI($.NotConfigured),networkType:new G.NI(j.MicrosoftHostedNetwork),regionGroup:new G.NI(""),regionName:new G.NI(""),userInitiatedDisasterRecoveryAllowed:new G.NI(!1),provisioningSourceType:new G.NI("")}),assignments:new G.cw({groups:new G.Oe([])})}),this.isSaving=!1}get assignmentGroupsFormArray(){var e;return null===(e=this.form.get("assignments"))||void 0===e?void 0:e.get("groups")}set userSettings(e){var t;e&&(this.cloudPcUserSettings={...e},this.populateSettingsForm(e),this.populateAssignmentsFormArray(null===(t=this.cloudPcUserSettings)||void 0===t?void 0:t.AssignmentsData))}ngOnInit(){this.initialFormValues=this.form.getRawValue(),this.hasFormChanges$=this.form.valueChanges.pipe((0,U.U)(e=>(0,_.xF)(this.initialFormValues,e).hasDifference),(0,v.O)(!1))}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}close(){(0,_.xF)(this.initialFormValues,this.form.getRawValue()).hasDifference?this.showConfirmationDialog():this.dialogRef.close()}showConfirmationDialog(){const{onClose:e}=this.dialogService.open(V.z,{context:{headerTitle:"Warning",bodyText:"You are about to exit without saving your changes. Are you sure you want to leave?",cancelButtonText:"Close without saving",confirmButtonText:"Stay"},hasScroll:!1,closeOnEsc:!1,closeOnBackdropClick:!1});e.subscribe(e=>{!0!==e&&this.dialogRef.close()})}save(){var e,t;const{settings:n}=this.form.getRawValue(),r=n.tenant,o=n.networkType===j.MicrosoftHostedNetwork&&n.regionGroup,i=this.assignmentGroupsFormArray.value.map(({checked:e,...t})=>t),l=null===(t=null===(e=this.cloudPcUserSettings)||void 0===e?void 0:e.CloudPcUserSetting)||void 0===t?void 0:t.Id,s={...l&&{id:l},displayName:n.displayName,localAdminEnabled:n.localAdminEnabled,resetEnabled:n.resetEnabled,restorePointSetting:{userRestoreEnabled:n.userRestoreEnabled,frequencyInHours:n.frequencyInHours},crossRegionDisasterRecoverySetting:{crossRegionDisasterRecoveryEnabled:n.disasterRecoveryType===$.CrossRegion,maintainCrossRegionRestorePointEnabled:!0,disasterRecoveryType:n.disasterRecoveryType,userInitiatedDisasterRecoveryAllowed:n.disasterRecoveryType===$.Premium&&n.userInitiatedDisasterRecoveryAllowed,disasterRecoveryNetworkSetting:o?{RegionGroup:n.regionGroup,RegionName:n.regionName}:null},notificationSetting:{restartPromptsDisabled:!1},...""!==n.provisioningSourceType&&{provisioningSourceType:n.provisioningSourceType},Assignments:i};this.isSaving=!0,this.cdr.markForCheck(),this.wd365Service.saveUserSettings(r,s).pipe((0,b.R)(this.destroyed$)).subscribe({next:()=>{this.toastrService.success(this.cloudPcUserSettings?"User setting updated":"User setting created","Success"),this.dialogRef.close({created:!0})},error:e=>{this.isSaving=!1,this.toastrService.danger(e.message||(this.cloudPcUserSettings?"Failed to update user setting":"Failed to create user setting"),"Error"),this.cdr.markForCheck()}})}populateSettingsForm(e){var t,n,r,o,i,l,s,a,c,d;const u=e.CloudPcUserSetting,m=null==u?void 0:u.RestorePointSetting,p=null==u?void 0:u.CrossRegionDisasterRecoverySetting,g=null==p?void 0:p.DisasterRecoveryNetworkSetting;this.form.patchValue({settings:{tenant:e.SceneId,displayName:null!==(t=null==u?void 0:u.DisplayName)&&void 0!==t?t:"",localAdminEnabled:null!==(n=null==u?void 0:u.LocalAdminEnabled)&&void 0!==n&&n,resetEnabled:null!==(r=null==u?void 0:u.ResetEnabled)&&void 0!==r&&r,userRestoreEnabled:null!==(o=null==m?void 0:m.UserRestoreEnabled)&&void 0!==o&&o,frequencyInHours:null!==(i=null==m?void 0:m.FrequencyInHours)&&void 0!==i?i:z.Hours12,disasterRecoveryType:null!==(l=null==p?void 0:p.DisasterRecoveryType)&&void 0!==l?l:$.NotConfigured,networkType:j.MicrosoftHostedNetwork,regionGroup:null!==(s=null==g?void 0:g.RegionGroup)&&void 0!==s?s:"",regionName:null!==(a=null==g?void 0:g.RegionName)&&void 0!==a?a:"",userInitiatedDisasterRecoveryAllowed:null!==(c=null==p?void 0:p.UserInitiatedDisasterRecoveryAllowed)&&void 0!==c&&c,provisioningSourceType:null!==(d=null==u?void 0:u.ProvisioningSourceType)&&void 0!==d?d:""}})}populateAssignmentsFormArray(e){var t;this.assignmentGroupsFormArray.clear(),null===(t=null==e?void 0:e.map(e=>({...e,checked:!1})))||void 0===t||t.forEach(e=>this.assignmentGroupsFormArray.push(new G.NI(e),{emitEvent:!1})),this.initialFormValues=this.form.getRawValue()}}return e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](P.X4l),T["\u0275\u0275directiveInject"](P.Gln),T["\u0275\u0275directiveInject"](H.E),T["\u0275\u0275directiveInject"](R.G),T["\u0275\u0275directiveInject"](P.quB),T["\u0275\u0275directiveInject"](T.ChangeDetectorRef))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-manage-user-settings-dialog"]],inputs:{userSettings:"userSettings"},decls:17,vars:16,consts:[["nbSpinnerMessage","Saving...",3,"nbSpinner"],[3,"formGroup"],["tabTitle","Settings","badgePosition","center start","badgeStatus","danger",3,"badgeDot"],["settingsTab",""],[3,"form","tenants","cloudPcUserSettings"],["tabTitle","Assignments"],[3,"form","tenantId"],[1,"d-flex","justify-content-between"],["type","button","nbButton","",3,"disabled","click"]],template:function(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-card",0),T["\u0275\u0275elementStart"](1,"nb-card-header"),T["\u0275\u0275text"](2),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](3,"nb-card-body"),T["\u0275\u0275elementStart"](4,"nb-tabset",1),T["\u0275\u0275elementStart"](5,"nb-tab",2,3),T["\u0275\u0275element"](7,"ngx-settings-tab",4),T["\u0275\u0275pipe"](8,"async"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](9,"nb-tab",5),T["\u0275\u0275element"](10,"ngx-assignments-tab",6),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](11,"nb-card-footer",7),T["\u0275\u0275elementStart"](12,"button",8),T["\u0275\u0275listener"]("click",function(){return t.close()}),T["\u0275\u0275text"](13,"Close"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](14,"button",8),T["\u0275\u0275listener"]("click",function(){return t.save()}),T["\u0275\u0275pipe"](15,"async"),T["\u0275\u0275text"](16),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){const e=T["\u0275\u0275reference"](6);let n;T["\u0275\u0275property"]("nbSpinner",t.isSaving),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"](" ",t.cloudPcUserSettings?"Update user settings":"Create user settings"," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("formGroup",t.form),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("badgeDot",!e.active&&(null==t.form.controls||null==t.form.controls.settings?null:t.form.controls.settings.invalid)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("form",null==t.form.controls?null:t.form.controls.settings)("tenants",T["\u0275\u0275pipeBind1"](8,12,t.tenants$))("cloudPcUserSettings",t.cloudPcUserSettings),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("form",null==t.form.controls?null:t.form.controls.assignments)("tenantId",null==(n=t.form.get("settings.tenant"))?null:n.value),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("disabled",t.isSaving),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("disabled",t.form.invalid||t.isSaving||t.cloudPcUserSettings&&!T["\u0275\u0275pipeBind1"](15,14,t.hasFormChanges$)),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"](" ",t.cloudPcUserSettings?"Update":"Save"," ")}},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{width:80em;height:80vh}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-tabset[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-tabset[_ngcontent-%COMP%]   nb-tab[_ngcontent-%COMP%]{height:calc(100% - 2rem);overflow-y:auto}"],changeDetection:0}),e})();var L=n(60290),W=n(73544);function Q(e,t){1&e&&T["\u0275\u0275element"](0,"nb-spinner")}function K(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"ngx-user-settings-filter-trigger",18),T["\u0275\u0275listener"]("filtersChanges",function(t){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"](2).populateFiltersSet(t)}),T["\u0275\u0275elementEnd"]()}if(2&e){const e=T["\u0275\u0275nextContext"](2);T["\u0275\u0275property"]("resourcePath",e.sortKeys.Tenant)("dataSource",e.allUserSettingsCache)}}function Y(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"ngx-user-settings-filter-trigger",19),T["\u0275\u0275listener"]("filtersChanges",function(t){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"](2).populateFiltersSet(t)}),T["\u0275\u0275elementEnd"]()}if(2&e){const e=T["\u0275\u0275nextContext"](2);T["\u0275\u0275property"]("resourcePath",e.sortKeys.Assigned)("dataSource",e.allUserSettingsCache)}}function J(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"td"),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate"]((null==e.AssignmentsData?null:e.AssignmentsData.length)>0?"Yes":"No")}}function X(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"td"),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"date"),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind2"](2,1,e.CloudPcUserSetting.LastModifiedDateTime,"short"))}}function Z(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"td",20),T["\u0275\u0275elementStart"](1,"nb-action",21),T["\u0275\u0275listener"]("click",function(){const t=T["\u0275\u0275restoreView"](e).$implicit;return T["\u0275\u0275nextContext"](2).openManageUserSettingsDialog(t)}),T["\u0275\u0275element"](2,"nb-icon",22),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()}}function ee(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementContainerStart"](0),T["\u0275\u0275elementStart"](1,"ngx-data-table",1,2),T["\u0275\u0275listener"]("clearFiltersClick",function(){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().clearFilters()})("selectionChange",function(t){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().selectionChange(t)}),T["\u0275\u0275elementStart"](3,"div",3),T["\u0275\u0275elementStart"](4,"nb-actions",4),T["\u0275\u0275elementStart"](5,"nb-action",5),T["\u0275\u0275listener"]("click",function(){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().removeSelectedUserSettings()}),T["\u0275\u0275element"](6,"nb-icon",6),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](7,"nb-action",7),T["\u0275\u0275listener"]("click",function(){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().openManageUserSettingsDialog()}),T["\u0275\u0275element"](8,"nb-icon",8),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](9,"ngx-table-column",9),T["\u0275\u0275template"](10,K,1,2,"ng-template",null,10,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](12,"ngx-table-column",11),T["\u0275\u0275elementStart"](13,"ngx-table-column",12),T["\u0275\u0275template"](14,Y,1,2,"ng-template",null,10,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275template"](16,J,2,1,"ng-template",null,13,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](18,"ngx-table-column",14),T["\u0275\u0275template"](19,X,3,4,"ng-template",null,13,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](21,"ngx-table-column",15),T["\u0275\u0275template"](22,Z,3,0,"ng-template",null,13,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](24,"button",16),T["\u0275\u0275listener"]("click",function(){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().update()}),T["\u0275\u0275element"](25,"nb-icon",17),T["\u0275\u0275text"](26," Update "),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=T["\u0275\u0275reference"](2),t=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("data",t.userSettings)("config",t.tableConfig)("columnFilters",t.filterState.columnFilters),T["\u0275\u0275advance"](4),T["\u0275\u0275propertyInterpolate"]("nbTooltip",e.hasSelection?"Delete":"Select at least one item to delete"),T["\u0275\u0275property"]("disabled",!e.hasSelection),T["\u0275\u0275advance"](4),T["\u0275\u0275property"]("sortable",!0)("searchable",!0),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("sortable",!0)("searchable",!0),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("sortable",!0),T["\u0275\u0275advance"](5),T["\u0275\u0275property"]("sortable",!0)}}const te={autoFocus:!0,closeOnEsc:!1,closeOnBackdropClick:!1,hasScroll:!1},ne=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.wd365Service=e,this.toastrService=t,this.cdr=n,this.dialogService=r,this.destroyed$=new i.xQ,this.selectedUserSettingsGroups={},this.userSettings$=new i.xQ,this.filterState={searchQuery:"",columnFilters:{}},this.tableConfig={id:"UserSettings",search:{placeholder:"Search for user settings"},selectionKey:"IsSelected",sorting:{enabled:!0,defaultColumn:N.Tenant,defaultDirection:"asc"}},this.sortKeys=N,this.userSettings=[],this.allUserSettingsCache=[],this.isLoading=!1,this.retryApiCallWithToastCallback=e=>e.pipe((0,d.b)(e=>this.showDangerToast("Failure accessing the User Settings API",`Cannot read data from API. The message is: ${e.message} with status ${e.statusText}`)),(0,u.j)(()=>(0,l.H)(k.e5))),this.handleApiErrorCallback=e=>(0,s._)(()=>(this.showDangerToast("Failure accessing the API",`Cannot read data from API. Reload this site to try it again. The message is: ${e.message} with status ${e.statusText}`),(0,a.of)([])))}ngOnInit(){this.loadUserSettings()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}openManageUserSettingsDialog(e){const{onClose:t}=this.dialogService.open(q,{context:{userSettings:e},...te});t.subscribe(e=>{(null==e?void 0:e.created)&&this.update()})}update(){this.userSettings$.next()}populateFiltersSet([e,t]){const n=e.filter(e=>e.checked).map(e=>e.label.toLowerCase());this.filterState={...this.filterState,columnFilters:{...this.filterState.columnFilters,[t]:n}},this.applyAllFilters()}clearFilters(){var e;this.filterState={...this.filterState,columnFilters:{}},null===(e=this.filterTriggers)||void 0===e||e.forEach(e=>e.resetAllFilters()),this.applyAllFilters()}selectionChange(e){const t=this.userSettings.filter(t=>e.includes(t.CloudPcUserSetting.Id));this.selectedUserSettingsGroups=t.reduce((e,t)=>{var n;return t.SceneId?{...e,[t.SceneId]:[...null!==(n=e[t.SceneId])&&void 0!==n?n:[],t.CloudPcUserSetting.Id]}:e},{})}removeSelectedUserSettings(){const e=Object.values(this.selectedUserSettingsGroups).flat().length;if(0===e)return;const{onClose:t}=this.dialogService.open(V.z,{context:{headerTitle:"Delete user settings?",bodyText:`Please confirm deletion of ${e} user setting(s)`,cancelButtonText:"Cancel",confirmButtonText:"Delete"},...te});t.pipe((0,m.q)(1),(0,p.h)(e=>!0===e),(0,g.w)(()=>this.processUserSettingsRemoval())).subscribe({next:()=>{this.update(),this.toastrService.success(`${e} user settings deleted`,"User setting deleted")},error:e=>this.toastrService.danger(e.message,"Error")})}loadUserSettings(){this.isLoading=!0,this.userSettings$.pipe((0,v.O)(0),(0,g.w)(()=>(0,l.H)(0,I.tc.autoRefreshDefault)),(0,g.w)(()=>this.wd365Service.getUserSettings()),(0,f.a)(this.retryApiCallWithToastCallback),(0,h.K)(this.handleApiErrorCallback),(0,d.b)(e=>{const t=e.map(e=>{var t,n;return{...e,Id:null!==(n=null===(t=e.CloudPcUserSetting)||void 0===t?void 0:t.Id)&&void 0!==n?n:e.Id}});this.allUserSettingsCache=[...t],this.applyAllFilters()}),(0,b.R)(this.destroyed$)).subscribe(()=>{this.isLoading=!1,this.cdr.markForCheck()})}showDangerToast(e,t){this.toastrService.danger(t,e,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:P.fe3.TOP_RIGHT,preventDuplicates:!0})}applyAllFilters(){let e=[...this.allUserSettingsCache];Object.keys(this.filterState.columnFilters).some(e=>{var t;return(null===(t=this.filterState.columnFilters[e])||void 0===t?void 0:t.length)>0})&&(e=this.applyColumnFilters(e)),this.userSettings=e,this.cdr.markForCheck()}applyColumnFilters(e){const t=Object.keys(this.filterState.columnFilters).filter(e=>{var t;return(null===(t=this.filterState.columnFilters[e])||void 0===t?void 0:t.length)>0});return t.length?e.filter(e=>t.every(t=>{var n;const r=this.filterState.columnFilters[t],o=null===(n=this.getTableCellValue(e,t))||void 0===n?void 0:n.toLowerCase();return r.includes(o)})):e}getTableCellValue(e,t){var n;switch(t){case"SceneName":return e.SceneName;case"IsAssigned":return(null===(n=e.AssignmentsData)||void 0===n?void 0:n.length)>0?"Yes":"No";default:return""}}processUserSettingsRemoval(){return(0,c.D)(Object.entries(this.selectedUserSettingsGroups)).pipe((0,y.b)(([e,t])=>this.wd365Service.removeUserSettings(e,t)),function(e,t){return arguments.length>=2?function(n){return(0,x.z)((0,S.R)(e,t),(0,C.h)(1),(0,E.d)(t))(n)}:function(t){return(0,x.z)((0,S.R)((t,n,r)=>e(t,n,r+1)),(0,C.h)(1))(t)}}(w,[]))}}return e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](R.G),T["\u0275\u0275directiveInject"](P.quB),T["\u0275\u0275directiveInject"](T.ChangeDetectorRef),T["\u0275\u0275directiveInject"](P.Gln))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-user-settings"]],viewQuery:function(e,t){if(1&e&&T["\u0275\u0275viewQuery"](M,5),2&e){let e;T["\u0275\u0275queryRefresh"](e=T["\u0275\u0275loadQuery"]())&&(t.filterTriggers=e)}},decls:7,vars:2,consts:[[4,"ngIf"],[3,"data","config","columnFilters","clearFiltersClick","selectionChange"],["dataTable",""],["data-table-actions","",1,"d-flex","align-items-center"],["size","small"],["nbTooltipPlacement","top",3,"disabled","nbTooltip","click"],["icon","trash-2-outline"],[3,"click"],["icon","plus-outline"],["key","SceneName","label","Tenant",3,"sortable","searchable"],["headerFilter",""],["key","CloudPcUserSetting.DisplayName","label","Name",3,"sortable","searchable"],["key","AssignmentsData","label","Assigned",3,"sortable"],["cell",""],["key","CloudPcUserSetting.LastModifiedDateTime","label","Last updated",3,"sortable"],["key","actions","label","Edit"],["type","button","nbButton","","status","semi-round",3,"click"],["icon","refresh"],["filterName","SceneName",3,"resourcePath","dataSource","filtersChanges"],["filterName","IsAssigned",3,"resourcePath","dataSource","filtersChanges"],[1,"text-center","align-middle"],["nbTooltip","Edit user setting",1,"d-inline","c-pointer",3,"click"],["icon","settings-2-outline"]],template:function(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"nb-card"),T["\u0275\u0275elementStart"](1,"nb-card-header"),T["\u0275\u0275elementStart"](2,"h1"),T["\u0275\u0275text"](3,"User Settings"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"nb-card-body"),T["\u0275\u0275template"](5,Q,1,0,"nb-spinner",0),T["\u0275\u0275template"](6,ee,27,11,"ng-container",0),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e&&(T["\u0275\u0275advance"](5),T["\u0275\u0275property"]("ngIf",t.isLoading),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",!t.isLoading))},directives:[P.Asz,P.ndF,P.yKW,r.O5,P.Tzq,L.Q,P.lYD,P.Bk3,P.jNv,P.fMN,W.U,P.DPz,M],pipes:[r.uU],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nb-actions[_ngcontent-%COMP%]   nb-action[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}"],changeDetection:0}),e})()}];let re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=T["\u0275\u0275defineInjector"]({imports:[[o.Bz.forChild(ne)],o.Bz]}),e})();var oe=n(61367),ie=n(14171),le=n(88100);function se(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",32),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275property"]("value",e.Id),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.DisplayName," ")}}function ae(e,t){1&e&&(T["\u0275\u0275elementContainerStart"](0),T["\u0275\u0275elementStart"](1,"span",33),T["\u0275\u0275text"](2,"This field is required"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementContainerEnd"]())}function ce(e,t){1&e&&(T["\u0275\u0275elementContainerStart"](0),T["\u0275\u0275elementStart"](1,"span",33),T["\u0275\u0275text"](2,"This field is required"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementContainerEnd"]())}function de(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",32),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275property"]("value",e.value),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function ue(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",32),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275property"]("value",e.value),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function me(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",43),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=T["\u0275\u0275nextContext"](4);T["\u0275\u0275property"]("value",e.value)("disabled",e.value===n.CloudPcDisasterRecoveryNetworkType.AzureNetworkConnection),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function pe(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",3),T["\u0275\u0275elementStart"](1,"div",13),T["\u0275\u0275elementStart"](2,"label",39),T["\u0275\u0275text"](3,"Network Type"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](4,"nb-icon",40),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"div",7),T["\u0275\u0275elementStart"](6,"nb-select",41),T["\u0275\u0275template"](7,me,2,3,"nb-option",42),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){const e=T["\u0275\u0275nextContext"](3);T["\u0275\u0275advance"](7),T["\u0275\u0275property"]("ngForOf",e.networkTypeOptions)}}function ge(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",32),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275property"]("value",e.value),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function ve(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",32),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275property"]("value",e.value),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function fe(e,t){if(1&e&&(T["\u0275\u0275elementContainerStart"](0),T["\u0275\u0275elementStart"](1,"div",3),T["\u0275\u0275elementStart"](2,"div",4),T["\u0275\u0275elementStart"](3,"label",44),T["\u0275\u0275elementStart"](4,"span",6),T["\u0275\u0275text"](5,"*"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](6,"span"),T["\u0275\u0275text"](7,"Geography"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"div",7),T["\u0275\u0275elementStart"](9,"nb-select",45),T["\u0275\u0275template"](10,ge,2,2,"nb-option",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](11,"div",3),T["\u0275\u0275elementStart"](12,"div",4),T["\u0275\u0275elementStart"](13,"label",46),T["\u0275\u0275elementStart"](14,"span",6),T["\u0275\u0275text"](15,"*"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](16,"span"),T["\u0275\u0275text"](17,"Region"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](18,"div",7),T["\u0275\u0275elementStart"](19,"nb-select",47),T["\u0275\u0275template"](20,ve,2,2,"nb-option",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementContainerEnd"]()),2&e){const e=T["\u0275\u0275nextContext"](3);T["\u0275\u0275advance"](9),T["\u0275\u0275property"]("nbSpinner",(null==e.form||null==e.form.controls||null==e.form.controls.tenant?null:e.form.controls.tenant.value)&&(null==e.form||null==e.form.controls||null==e.form.controls.disasterRecoveryType?null:e.form.controls.disasterRecoveryType.value)!==e.CloudPcDisasterRecoveryType.NotConfigured&&!e.regionGroupOptions.length)("placeholder",null!=e.form&&null!=e.form.controls&&null!=e.form.controls.tenant&&e.form.controls.tenant.value?"Select one":"Select tenant first"),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",e.regionGroupOptions),T["\u0275\u0275advance"](9),T["\u0275\u0275property"]("nbSpinner",(null==e.form||null==e.form.controls||null==e.form.controls.regionGroup?null:e.form.controls.regionGroup.value)&&!e.regionNameOptions.length)("placeholder",null!=e.form&&null!=e.form.controls&&null!=e.form.controls.regionGroup&&e.form.controls.regionGroup.value?"Select one":"Select geography first"),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",e.regionNameOptions)}}function he(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",3),T["\u0275\u0275elementStart"](1,"div",13),T["\u0275\u0275elementStart"](2,"label",14),T["\u0275\u0275text"](3,"Allow user to initiate Disaster Recovery Plus service"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"div",16),T["\u0275\u0275element"](5,"nb-checkbox",48),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]())}function be(e,t){if(1&e&&(T["\u0275\u0275elementContainerStart"](0),T["\u0275\u0275elementStart"](1,"p",20),T["\u0275\u0275text"](2," Protect Cloud PCs during regional outages. Purchase and assign optional disaster recovery licenses before configuring. Disaster Recovery Plus cannot be configured for Frontline Cloud PCs. Optional disaster recovery cannot be configured for Government Cloud PCs. "),T["\u0275\u0275elementStart"](3,"a",34),T["\u0275\u0275text"](4,"Learn more about optional Business Continuity and Disaster Recovery"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](5,". "),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](6,"div",3),T["\u0275\u0275elementStart"](7,"div",13),T["\u0275\u0275elementStart"](8,"label",35),T["\u0275\u0275text"](9,"Enable additional DR for this user setting"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](10,"nb-icon",36),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](11,"div",7),T["\u0275\u0275elementStart"](12,"nb-select",37),T["\u0275\u0275template"](13,ue,2,2,"nb-option",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](14,pe,8,1,"div",38),T["\u0275\u0275template"](15,fe,21,6,"ng-container",10),T["\u0275\u0275template"](16,he,6,0,"div",38),T["\u0275\u0275elementContainerEnd"]()),2&e){const e=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](13),T["\u0275\u0275property"]("ngForOf",e.disasterRecoveryOptions),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",(null==e.form||null==e.form.controls||null==e.form.controls.disasterRecoveryType?null:e.form.controls.disasterRecoveryType.value)!==e.CloudPcDisasterRecoveryType.NotConfigured),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",(null==e.form||null==e.form.controls||null==e.form.controls.disasterRecoveryType?null:e.form.controls.disasterRecoveryType.value)!==e.CloudPcDisasterRecoveryType.NotConfigured&&(null==e.form||null==e.form.controls||null==e.form.controls.networkType?null:e.form.controls.networkType.value)===e.CloudPcDisasterRecoveryNetworkType.MicrosoftHostedNetwork),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",(null==e.form||null==e.form.controls||null==e.form.controls.disasterRecoveryType?null:e.form.controls.disasterRecoveryType.value)===e.CloudPcDisasterRecoveryType.Premium)}}function ye(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-option",32),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;T["\u0275\u0275property"]("value",e.value),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function Se(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementContainerStart"](0,1),T["\u0275\u0275elementStart"](1,"h6",2),T["\u0275\u0275text"](2,"General"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](3,"div",3),T["\u0275\u0275elementStart"](4,"div",4),T["\u0275\u0275elementStart"](5,"label",5),T["\u0275\u0275elementStart"](6,"span",6),T["\u0275\u0275text"](7,"*"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"span"),T["\u0275\u0275text"](9,"Tenant"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](10,"div",7),T["\u0275\u0275elementStart"](11,"nb-select",8),T["\u0275\u0275template"](12,se,2,2,"nb-option",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](13,ae,3,0,"ng-container",10),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](14,"div",3),T["\u0275\u0275elementStart"](15,"div",4),T["\u0275\u0275elementStart"](16,"label",11),T["\u0275\u0275elementStart"](17,"span",6),T["\u0275\u0275text"](18,"*"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](19,"span"),T["\u0275\u0275text"](20,"Name"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](21,"div",7),T["\u0275\u0275element"](22,"input",12),T["\u0275\u0275template"](23,ce,3,0,"ng-container",10),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](24,"div",3),T["\u0275\u0275elementStart"](25,"div",13),T["\u0275\u0275elementStart"](26,"label",14),T["\u0275\u0275text"](27,"Enable Local admin"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](28,"nb-icon",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](29,"div",16),T["\u0275\u0275element"](30,"nb-checkbox",17),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](31,"div",3),T["\u0275\u0275elementStart"](32,"div",13),T["\u0275\u0275elementStart"](33,"label",14),T["\u0275\u0275text"](34,"Enable users to reset their Cloud PCs"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](35,"nb-icon",18),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](36,"div",16),T["\u0275\u0275element"](37,"nb-checkbox",19),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](38,"h6",2),T["\u0275\u0275text"](39,"Point-in-time restore service"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](40,"p",20),T["\u0275\u0275text"](41," Restore a user\u2019s Cloud PC to a backup taken at a specific point in time. Users will lose any data stored on the Cloud PC disk between the current time and the recovery point. "),T["\u0275\u0275elementStart"](42,"a",21),T["\u0275\u0275text"](43,"Learn more"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](44,". "),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](45,"div",3),T["\u0275\u0275elementStart"](46,"div",13),T["\u0275\u0275elementStart"](47,"label",14),T["\u0275\u0275text"](48,"Allow user to initiate restore service"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](49,"nb-icon",22),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](50,"div",16),T["\u0275\u0275element"](51,"nb-checkbox",23),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](52,"div",3),T["\u0275\u0275elementStart"](53,"div",13),T["\u0275\u0275elementStart"](54,"label",24),T["\u0275\u0275text"](55,"Frequency of restore-point service"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](56,"nb-icon",25),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](57,"div",7),T["\u0275\u0275elementStart"](58,"nb-select",26),T["\u0275\u0275template"](59,de,2,2,"nb-option",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](60,"hr",27),T["\u0275\u0275elementStart"](61,"h6",28),T["\u0275\u0275listener"]("click",function(){T["\u0275\u0275restoreView"](e);const t=T["\u0275\u0275nextContext"]();return t.isDisasterRecoveryExpanded=!t.isDisasterRecoveryExpanded}),T["\u0275\u0275element"](62,"nb-icon",29),T["\u0275\u0275text"](63," Optional Business Continuity and Disaster Recovery "),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](64,be,17,4,"ng-container",10),T["\u0275\u0275elementStart"](65,"h6",2),T["\u0275\u0275text"](66,"Provisioning source type"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](67,"div",20),T["\u0275\u0275elementStart"](68,"ul"),T["\u0275\u0275elementStart"](69,"li"),T["\u0275\u0275elementStart"](70,"b"),T["\u0275\u0275text"](71,"Default"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](72,": use the image from the provisioning policy."),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](73,"li"),T["\u0275\u0275elementStart"](74,"b"),T["\u0275\u0275text"](75,"From Snapshot"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](76,": use an uploaded personal image if available. Provisioning fails if no snapshot exists for the user. "),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](77,"div",3),T["\u0275\u0275elementStart"](78,"div",4),T["\u0275\u0275elementStart"](79,"label",30),T["\u0275\u0275text"](80,"Type"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](81,"div",7),T["\u0275\u0275elementStart"](82,"nb-select",31),T["\u0275\u0275template"](83,ye,2,2,"nb-option",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=T["\u0275\u0275nextContext"]();T["\u0275\u0275property"]("formGroup",e.form),T["\u0275\u0275advance"](11),T["\u0275\u0275property"]("nbSpinner",!(null!=e.tenants&&e.tenants.length)),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",e.tenants),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",(null==e.form||null==e.form.controls||null==e.form.controls.tenant||null==e.form.controls.tenant.errors?null:e.form.controls.tenant.errors.required)&&(null==e.form||null==e.form.controls||null==e.form.controls.tenant?null:e.form.controls.tenant.touched)),T["\u0275\u0275advance"](10),T["\u0275\u0275property"]("ngIf",(null==e.form||null==e.form.controls||null==e.form.controls.displayName||null==e.form.controls.displayName.errors?null:e.form.controls.displayName.errors.required)&&(null==e.form||null==e.form.controls||null==e.form.controls.displayName?null:e.form.controls.displayName.touched)),T["\u0275\u0275advance"](36),T["\u0275\u0275property"]("ngForOf",e.frequencyOptions),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("icon",e.isDisasterRecoveryExpanded?"chevron-down-outline":"chevron-right-outline"),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",e.isDisasterRecoveryExpanded),T["\u0275\u0275advance"](19),T["\u0275\u0275property"]("ngForOf",e.provisioningSourceTypeOptions)}}let Ce=(()=>{class e{constructor(e,t){this.wd365Service=e,this.cdr=t,this.destroyed$=new i.xQ,this.supportedRegions=[],this.prevFormValue=null,this.tenants=[],this.isDisasterRecoveryExpanded=!1,this.regionGroupOptions=[],this.regionNameOptions=[],this.CloudPcDisasterRecoveryNetworkType=j,this.CloudPcDisasterRecoveryType=$,this.frequencyOptions=[{value:z.Hours4,label:"4 hours"},{value:z.Hours6,label:"6 hours"},{value:z.Hours12,label:"12 hours"},{value:z.Hours16,label:"16 hours"},{value:z.Hours24,label:"24 hours"}],this.disasterRecoveryOptions=[{value:$.NotConfigured,label:"None"},{value:$.CrossRegion,label:"Cross Region Disaster Recovery"},{value:$.Premium,label:"Disaster Recovery Plus"}],this.networkTypeOptions=[{value:j.MicrosoftHostedNetwork,label:"Microsoft Hosted Network"},{value:j.AzureNetworkConnection,label:"Azure Network Connection (An upcoming feature - stay tuned)"}],this.provisioningSourceTypeOptions=[{value:"",label:"Default"},{value:B.Image,label:"Image"},{value:B.Snapshot,label:"Snapshot"}]}setupFormSubscriptions(){var e,t;this.prevFormValue=null===(e=this.form)||void 0===e?void 0:e.getRawValue(),null===(t=this.form)||void 0===t||t.valueChanges.pipe((0,b.R)(this.destroyed$)).subscribe(e=>{var t,n,r,o;(null===(t=this.prevFormValue)||void 0===t?void 0:t.tenant)!==e.tenant&&this.onTenantChange(),(null===(n=this.prevFormValue)||void 0===n?void 0:n.regionGroup)!==e.regionGroup&&this.onRegionGroupChange(e.regionGroup),(null===(r=this.prevFormValue)||void 0===r?void 0:r.disasterRecoveryType)!==e.disasterRecoveryType&&this.onDisasterRecoveryTypeChange(),(null===(o=this.prevFormValue)||void 0===o?void 0:o.networkType)!==e.networkType&&this.onNetworkTypeChange(),this.prevFormValue=e}),this.initializeFormState()}onTenantChange(){this.loadRegionsIfNeeded(),this.updateRegionDisabledState()}onRegionGroupChange(e){var t,n;this.updateRegionNameOptions(e),null===(n=null===(t=this.form)||void 0===t?void 0:t.get("regionName"))||void 0===n||n.reset("",{emitEvent:!1}),this.updateRegionDisabledState()}onDisasterRecoveryTypeChange(){var e,t,n,r,o,i;null===(t=null===(e=this.form)||void 0===e?void 0:e.get("networkType"))||void 0===t||t.reset(j.MicrosoftHostedNetwork,{emitEvent:!1}),null===(r=null===(n=this.form)||void 0===n?void 0:n.get("regionGroup"))||void 0===r||r.reset("",{emitEvent:!1}),null===(i=null===(o=this.form)||void 0===o?void 0:o.get("regionName"))||void 0===i||i.reset("",{emitEvent:!1}),this.updateRegionValidators(),this.updateRegionDisabledState(),this.loadRegionsIfNeeded()}onNetworkTypeChange(){this.updateRegionValidators()}initializeFormState(){var e,t;this.cloudPcUserSettings&&(null===(t=null===(e=this.form)||void 0===e?void 0:e.get("tenant"))||void 0===t||t.disable({emitEvent:!1})),this.updateRegionValidators(),this.updateRegionDisabledState(),this.loadRegionsIfNeeded()}updateRegionDisabledState(){var e,t,n,r,o,i;const l=null===(e=this.form)||void 0===e?void 0:e.get("regionGroup"),s=null===(t=this.form)||void 0===t?void 0:t.get("regionName"),a=!!(null===(r=null===(n=this.form)||void 0===n?void 0:n.get("tenant"))||void 0===r?void 0:r.value),c=!!(null===(i=null===(o=this.form)||void 0===o?void 0:o.get("regionGroup"))||void 0===i?void 0:i.value);a?null==l||l.enable({emitEvent:!1}):null==l||l.disable({emitEvent:!1}),c?null==s||s.enable({emitEvent:!1}):null==s||s.disable({emitEvent:!1})}loadRegionsIfNeeded(){var e,t,n,r;const o=null===(t=null===(e=this.form)||void 0===e?void 0:e.get("tenant"))||void 0===t?void 0:t.value,i=null===(r=null===(n=this.form)||void 0===n?void 0:n.get("disasterRecoveryType"))||void 0===r?void 0:r.value;o&&i!==$.NotConfigured&&0===this.regionGroupOptions.length&&this.loadSupportedRegions(o)}ngOnInit(){this.setupFormSubscriptions(),this.expandDRSectionIfConfigured()}expandDRSectionIfConfigured(){var e,t;(null===(t=null===(e=this.form)||void 0===e?void 0:e.get("disasterRecoveryType"))||void 0===t?void 0:t.value)!==$.NotConfigured&&(this.isDisasterRecoveryExpanded=!0)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}loadSupportedRegions(e){this.wd365Service.getSupportedRegions(e).pipe((0,b.R)(this.destroyed$)).subscribe(e=>{var t,n;this.supportedRegions=e,this.regionGroupOptions=e.map(e=>({value:e.GeographyName,label:e.GeographyName})),this.cdr.markForCheck();const r=null===(n=null===(t=this.form)||void 0===t?void 0:t.get("regionGroup"))||void 0===n?void 0:n.value;r&&this.updateRegionNameOptions(r)})}updateRegionNameOptions(e){var t;const n=this.supportedRegions.find(t=>t.GeographyName===e);this.regionNameOptions=null!==(t=null==n?void 0:n.Regions.map(e=>({value:e.Name,label:e.Name})))&&void 0!==t?t:[],this.cdr.markForCheck()}updateRegionValidators(){var e,t,n,r,o,i;const l=null===(t=null===(e=this.form)||void 0===e?void 0:e.get("disasterRecoveryType"))||void 0===t?void 0:t.value,s=null===(r=null===(n=this.form)||void 0===n?void 0:n.get("networkType"))||void 0===r?void 0:r.value,a=null===(o=this.form)||void 0===o?void 0:o.get("regionGroup"),c=null===(i=this.form)||void 0===i?void 0:i.get("regionName");l!==$.NotConfigured&&s===j.MicrosoftHostedNetwork?(null==a||a.setValidators(G.kI.required),null==c||c.setValidators(G.kI.required)):(null==a||a.clearValidators(),null==c||c.clearValidators()),null==a||a.updateValueAndValidity({emitEvent:!1}),null==c||c.updateValueAndValidity({emitEvent:!1})}}return e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](R.G),T["\u0275\u0275directiveInject"](T.ChangeDetectorRef))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-settings-tab"]],inputs:{form:"form",tenants:"tenants",cloudPcUserSettings:"cloudPcUserSettings"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"section-title"],[1,"form-group","row"],[1,"col-md-3","d-flex","align-items-center"],["for","tenant",1,"label"],[1,"asterisk"],[1,"col-md-9"],["id","tenant","fullWidth","","placeholder","Select Tenant","formControlName","tenant",3,"nbSpinner"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","displayName",1,"label"],["id","displayName","type","text","nbInput","","fullWidth","","formControlName","displayName","placeholder","Enter a name"],[1,"col-md-3","d-flex","align-items-center","justify-content-between"],[1,"label"],["icon","info-outline","nbTooltip","Makes the end user a local administrator on all of their Cloud PCs."],[1,"col-md-9","d-flex","align-items-center"],["formControlName","localAdminEnabled"],["icon","info-outline","nbTooltip","Allows targeted users to reprovision their Cloud PC from the Windows 365 app or web app."],["formControlName","resetEnabled"],[1,"label","section-description"],["href","https://learn.microsoft.com/en-us/windows-365/enterprise/restore-overview","target","_blank","rel","noopener"],["icon","info-outline","nbTooltip","Allow users to start their own point-in-time restore for supported Cloud PCs."],["formControlName","userRestoreEnabled"],["for","frequencyInHours",1,"label"],["icon","info-outline","nbTooltip","Choose how often Windows 365 creates restore points for eligible Cloud PCs."],["id","frequencyInHours","fullWidth","","formControlName","frequencyInHours"],[1,"section-divider"],[1,"section-title","collapsible-title",3,"click"],[3,"icon"],["for","provisioningSourceType",1,"label"],["id","provisioningSourceType","fullWidth","","formControlName","provisioningSourceType"],[3,"value"],[1,"form-control-error"],["href","https://learn.microsoft.com/en-us/windows-365/enterprise/cross-region-disaster-recovery","target","_blank","rel","noopener"],["for","disasterRecoveryType",1,"label"],["icon","info-outline","nbTooltip","Adds extra resilience for Cloud PCs. Additional licenses may be required."],["id","disasterRecoveryType","fullWidth","","formControlName","disasterRecoveryType"],["class","form-group row",4,"ngIf"],["for","networkType",1,"label"],["icon","info-outline","nbTooltip","Select the network type for disaster recovery."],["id","networkType","fullWidth","","formControlName","networkType"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["for","regionGroup",1,"label"],["id","regionGroup","fullWidth","","formControlName","regionGroup",3,"nbSpinner","placeholder"],["for","regionName",1,"label"],["id","regionName","fullWidth","","formControlName","regionName",3,"nbSpinner","placeholder"],["formControlName","userInitiatedDisasterRecoveryAllowed"]],template:function(e,t){1&e&&T["\u0275\u0275template"](0,Se,84,9,"ng-container",0),2&e&&T["\u0275\u0275property"]("ngIf",t.form)},directives:[r.O5,G.JL,G.sg,P.rs,G.JJ,G.u,P.Q7R,r.sg,P.h8i,G.Fj,P.fMN,P.jNv,P.NTf,P.q51],styles:["[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .asterisk[_ngcontent-%COMP%]{color:var(--danger);margin-right:.5em}[_nghost-%COMP%]   .form-control-error[_ngcontent-%COMP%]{font-size:.8em;color:var(--danger)}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:.8125rem;font-weight:600;color:#101426}[_nghost-%COMP%]   .collapsible-title[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;grid-gap:.5rem;gap:.5rem}[_nghost-%COMP%]   .collapsible-title[_ngcontent-%COMP%]:hover{opacity:.8}[_nghost-%COMP%]   .collapsible-title[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .section-description[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.5rem}[_nghost-%COMP%]   .section-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary)}[_nghost-%COMP%]   .section-divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #edf1f7;margin:1rem 0}"],changeDetection:0}),e})();var Ee=n(5992),xe=n(54904);function we(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"nb-alert",2),T["\u0275\u0275text"](1," Select a tenant before assigning groups.\n"),T["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"span",16),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){const e=T["\u0275\u0275nextContext"]().$implicit;T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate"](e.value.Upn)}}function Re(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"nb-list-item",14),T["\u0275\u0275elementStart"](1,"nb-checkbox",15),T["\u0275\u0275listener"]("checkedChange",function(t){const n=T["\u0275\u0275restoreView"](e).$implicit;return T["\u0275\u0275nextContext"](3).selectOne(n,t)}),T["\u0275\u0275elementStart"](2,"span",16),T["\u0275\u0275text"](3),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](4,Pe,2,1,"span",17),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"button",18),T["\u0275\u0275listener"]("click",function(){const t=T["\u0275\u0275restoreView"](e).index;return T["\u0275\u0275nextContext"](3).remove(t)}),T["\u0275\u0275element"](6,"nb-icon",6),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("checked",e.value.checked),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate"](e.value.DisplayName),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",e.value.Upn)}}function ke(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"nb-list",12),T["\u0275\u0275template"](1,Re,7,3,"nb-list-item",13),T["\u0275\u0275elementEnd"]()),2&e){const e=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",e.assignmentGroupsFormArray.controls)("ngForTrackBy",e.trackByIndex)}}function Ie(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",19),T["\u0275\u0275elementStart"](1,"span",20),T["\u0275\u0275text"](2,"No groups selected"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]())}function Ne(e,t){if(1&e){const e=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"div",3),T["\u0275\u0275elementStart"](1,"ngx-directory-object-typehead",4),T["\u0275\u0275listener"]("selectionChanged",function(t){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().selectionChanged(t)}),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](2,"button",5),T["\u0275\u0275listener"]("click",function(){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().removeSelected()}),T["\u0275\u0275element"](3,"nb-icon",6),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"div",7),T["\u0275\u0275elementStart"](5,"nb-checkbox",8),T["\u0275\u0275listener"]("checkedChange",function(t){return T["\u0275\u0275restoreView"](e),T["\u0275\u0275nextContext"]().selectAll(t)}),T["\u0275\u0275text"](6),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](7,"div",9),T["\u0275\u0275template"](8,ke,2,2,"nb-list",10),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](9,Ie,3,0,"ng-template",null,11,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementEnd"]()}if(2&e){const e=T["\u0275\u0275reference"](10),t=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("tenantViewSceneId",t.tenantId)("multi",!0)("type",t.DirectoryObjectTypeEnum.Groups),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("disabled",!t.isIndeterminate&&!t.areAllSelected),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("disabled",!t.assignmentGroupsFormArray.length)("checked",t.areAllSelected)("indeterminate",t.isIndeterminate),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",t.areAllSelected?"Deselect all":"Select all"," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.assignmentGroupsFormArray.length)("ngIfElse",e)}}let Te=(()=>{class e{constructor(){this.DirectoryObjectTypeEnum=Ee.W,this.trackByIndex=e=>e}get assignmentGroupsFormArray(){var e;return null===(e=this.form)||void 0===e?void 0:e.get("groups")}get areAllSelected(){var e;const t=this.assignmentGroupsFormArray.controls.every(e=>e.value.checked);return!(!(null===(e=this.assignmentGroupsFormArray)||void 0===e?void 0:e.length)||!t)}get isIndeterminate(){var e;if(!(null===(e=this.assignmentGroupsFormArray)||void 0===e?void 0:e.length))return!1;const t=this.assignmentGroupsFormArray.controls.filter(e=>e.value.checked).length;return t>0&&t<this.assignmentGroupsFormArray.length}selectionChanged(e){const t=new Set(this.assignmentGroupsFormArray.value.map(e=>e.Id));e.filter(e=>!t.has(e.Id)).forEach(e=>this.assignmentGroupsFormArray.push(new G.NI({...e,checked:!1})))}removeSelected(){for(let e=this.assignmentGroupsFormArray.length-1;e>=0;e--)this.assignmentGroupsFormArray.at(e).value.checked&&this.remove(e)}selectAll(e){this.assignmentGroupsFormArray.controls.forEach(t=>t.setValue({...t.value,checked:e},{emitEvent:!1}))}selectOne(e,t){e.setValue({...e.value,checked:t},{emitEvent:!1})}remove(e){this.assignmentGroupsFormArray.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-assignments-tab"]],inputs:{tenantId:"tenantId",form:"form"},decls:3,vars:2,consts:[["status","danger",4,"ngIf","ngIfElse"],["viewTpl",""],["status","danger"],[1,"assignments-tab-header"],["label","Search for groups by name (min. 3 characters)","placeholder","Start typing to assign groups to the selected tenant.","multiSelectButtonLabel","Add groups",3,"tenantViewSceneId","multi","type","selectionChanged"],["nbButton","",3,"disabled","click"],["icon","trash-2-outline"],[1,"assignments-tab-body","mt-4"],[1,"select-all-checkbox",3,"disabled","checked","indeterminate","checkedChange"],[1,"scrollable-container"],["class","mt-2",4,"ngIf","ngIfElse"],["noDataTpl",""],[1,"mt-2"],["class","d-flex justify-content-between",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column",3,"checked","checkedChange"],[1,"d-flex"],["class","d-flex",4,"ngIf"],["nbButton","","size","tiny","status","danger",3,"click"],[1,"no-data-container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"text-muted"]],template:function(e,t){if(1&e&&(T["\u0275\u0275template"](0,we,2,0,"nb-alert",0),T["\u0275\u0275template"](1,Ne,11,10,"ng-template",null,1,T["\u0275\u0275templateRefExtractor"])),2&e){const e=T["\u0275\u0275reference"](2);T["\u0275\u0275property"]("ngIf",!t.tenantId)("ngIfElse",e)}},directives:[r.O5,P.$9b,xe.B,P.DPz,P.fMN,P.NTf,P.zP_,r.sg,P.qBV],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden}[_nghost-%COMP%]   .assignments-tab-header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;grid-gap:1em;gap:1em}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]{height:calc(100% - 5rem)}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{padding:.5em}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]   .scrollable-container[_ngcontent-%COMP%]{height:calc(100% - 3rem);overflow:auto}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{padding:.5em;min-height:4.063em}"],changeDetection:0}),e})();var Oe=n(77194);let Fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=T["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=T["\u0275\u0275defineInjector"]({imports:[[r.ez,re,P.MAY,P.zyh,P.uuI,P.T2N,P.KdK,P.rgH,P.spT,ie.tA,oe.H,le.Z,P.EoG,G.UX,Oe.e7,P.MfT,P.PYG,P.COg,P.IIj,P.nKr]]}),e})();T["\u0275\u0275setComponentScope"](q,[P.Asz,P.Q7R,P.ndF,P.yKW,P.kyn,G.JL,G.sg,P.TR4,Ce,Te,P.XWE,P.DPz],[r.Ov])}}]);