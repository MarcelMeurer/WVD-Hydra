(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[171],{46326:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var i=n(37716);let a=(()=>{class e{getItem(e){return localStorage.getItem(e)}setItem(e,t){localStorage.setItem(e,t)}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},73544:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var i=n(37716);const a=["cell"],r=["headerFilter"];let l=(()=>{class e{constructor(){this.key="",this.label="",this.sortable=!1,this.searchable=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["ngx-table-column"]],contentQueries:function(e,t,n){if(1&e&&(i["\u0275\u0275contentQuery"](n,a,5,i.TemplateRef),i["\u0275\u0275contentQuery"](n,r,5,i.TemplateRef)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.cellTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.headerFilterTemplate=e.first)}},inputs:{key:"key",label:"label",sortable:"sortable",searchable:"searchable",searchTransform:"searchTransform"}}),e})()},90968:function(e,t,n){"use strict";n.d(t,{L8:function(){return i},V2:function(){return a},Hc:function(){return r},Al:function(){return l},XU:function(){return o}});const i=20,a={enabled:!0,pageSize:i,pageSizeOptions:[20,50,80,100,150,200],maxPaginationSize:5},r={enabled:!0,defaultDirection:"asc"},l={enabled:!0,placeholder:"Search..."},o=300},60290:function(e,t,n){"use strict";n.d(t,{Q:function(){return F}});var i=n(37716),a=n(3679),r=n(79765),l=n(54395),o=n(46782),s=n(73544),c=n(90968),g=n(46839);function d(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",17),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).clearSearch()}),i["\u0275\u0275element"](1,"nb-icon",18),i["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"label",13),i["\u0275\u0275elementStart"](2,"div",14),i["\u0275\u0275elementStart"](3,"nb-form-field"),i["\u0275\u0275element"](4,"input",15),i["\u0275\u0275template"](5,d,2,0,"button",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("formControl",e.searchControl)("placeholder",e.searchConfig.placeholder),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.searchControl.value)}}function u(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"th",19),i["\u0275\u0275elementStart"](1,"nb-checkbox",20),i["\u0275\u0275listener"]("checkedChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSelectAll(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("checked",e.areAllSelected)("indeterminate",e.isIndeterminate)}}function m(e,t){if(1&e&&i["\u0275\u0275element"](0,"nb-icon",25),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("icon","asc"===e.sortDirection?"arrow-down":"arrow-up")("nbTooltip","asc"===e.sortDirection?"Sorted ascending":"Sorted descending")}}function p(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function f(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,p,1,0,"ng-container",26),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",e.headerFilterTemplate)}}function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"th",21),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().toggleSort(t)}),i["\u0275\u0275elementStart"](1,"div",22),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",23),i["\u0275\u0275template"](5,m,1,2,"nb-icon",24),i["\u0275\u0275template"](6,f,2,1,"ng-container",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("c-pointer",e.sortable&&n.sortingConfig.enabled),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.sortable&&n.sortingConfig.enabled&&n.sortColumn===e.key),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.headerFilterTemplate)}}function S(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"td",29),i["\u0275\u0275elementStart"](1,"nb-checkbox",30),i["\u0275\u0275listener"]("checkedChange",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().onSelectItem(n,t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("checked",t.selectedIds.has(e.Id))}}function v(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}const y=function(e,t,n,i){return{$implicit:e,item:t,index:n,value:i}};function x(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,v,1,0,"ng-container",33),i["\u0275\u0275pipe"](2,"nestedValue"),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](),n=t.$implicit,a=t.index;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",e.cellTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction4"](5,y,n,n,a,i["\u0275\u0275pipeBind2"](2,2,n,e.key)))}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"nestedValue"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,t,e.key)," ")}}function P(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,x,3,10,"ng-container",31),i["\u0275\u0275template"](2,I,3,4,"ng-template",null,32,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275reference"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.cellTemplate)("ngIfElse",n)}}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275template"](1,S,2,1,"td",27),i["\u0275\u0275template"](2,P,4,2,"ng-container",28),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.selectionEnabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.columns)("ngForTrackBy",e.trackByIndex)}}function w(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",34),i["\u0275\u0275elementStart"](2,"ngx-table-empty-state",35),i["\u0275\u0275listener"]("clearSearchClick",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().clearSearch()})("clearFiltersClick",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().clearFilters()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("colspan",e.columns.length+(e.selectionEnabled?1:0)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("filterState",e.filterState)}}function E(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ngx-data-table-pagination",36),i["\u0275\u0275listener"]("paginationChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onPaginationChange(t)})("selectAllPageItems",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSelectAllPageItems()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("config",e.paginationConfig)("totalItems",e.totalFilteredItems)("tableId",null==e.config?null:e.config.id)("showSelectPage",e.selectionEnabled)("selectedCount",e.selectedIds.size)}}const k=[[["","data-table-actions",""]]],O=["[data-table-actions]"];let F=(()=>{class e{constructor(e){this.cdr=e,this.destroyed$=new r.xQ,this.filteredData=[],this.sortedData=[],this.startIndex=0,this.endIndex=c.L8,this.data=[],this.config={},this.columnFilters={},this.initialSearch="",this.sortChange=new i.EventEmitter,this.clearFiltersClick=new i.EventEmitter,this.selectionChange=new i.EventEmitter,this.searchChange=new i.EventEmitter,this.paginationConfig=c.V2,this.sortingConfig=c.Hc,this.searchConfig=c.Al,this.paginatedData=[],this.totalFilteredItems=0,this.sortColumn="",this.sortDirection="asc",this.searchControl=new a.NI(""),this.selectedIds=new Set,this.currentPageSize=c.L8,this.trackByIndex=e=>e}get filterState(){var e;return{searchQuery:null!==(e=this.searchControl.value)&&void 0!==e?e:"",columnFilters:this.columnFilters}}get selectionEnabled(){return!!this.selectionKey}get areAllSelected(){return!!this.selectionKey&&this.paginatedData.length>0&&this.paginatedData.every(e=>this.selectedIds.has(e.Id))}get isIndeterminate(){if(!this.selectionKey)return!1;const e=this.paginatedData.filter(e=>this.selectedIds.has(e.Id)).length;return e>0&&e<this.paginatedData.length}get selectedItems(){return this.data.filter(e=>this.selectedIds.has(e.Id))}get hasSelection(){return this.selectedIds.size>0}onSelectAll(e){e?this.selectAllOnPage(this.paginatedData):this.deselectAllOnPage(this.paginatedData),this.emitSelectionChange()}onSelectItem(e,t){this.selectionKey&&(e[this.selectionKey]=t,t?this.selectedIds.add(e.Id):this.selectedIds.delete(e.Id),this.emitSelectionChange())}onSelectAllPageItems(){this.sortedData.every(e=>this.selectedIds.has(e.Id))?this.deselectAllOnPage(this.sortedData):this.selectAllOnPage(this.sortedData),this.emitSelectionChange()}ngOnInit(){this.initialSearch&&this.searchControl.setValue(this.initialSearch,{emitEvent:!1}),this.initSearch()}ngOnChanges(e){var t,n,i,a,r,l,o;e.config&&(this.paginationConfig={...c.V2,...null===(t=this.config)||void 0===t?void 0:t.pagination},this.sortingConfig={...c.Hc,...null===(n=this.config)||void 0===n?void 0:n.sorting},this.searchConfig={...c.Al,...null===(i=this.config)||void 0===i?void 0:i.search},this.selectionKey="string"==typeof(null===(a=this.config)||void 0===a?void 0:a.selectionKey)?this.config.selectionKey:void 0,this.currentPageSize=null!==(r=this.paginationConfig.pageSize)&&void 0!==r?r:c.L8,this.initSortState()),e.columnFilters&&(null===(l=this.columns)||void 0===l?void 0:l.length)?(this.resetToFirstPage(),this.applySearch()):e.data&&(null===(o=this.columns)||void 0===o?void 0:o.length)&&(this.cleanupStaleSelections(),this.applySearch())}clearFilters(){this.clearFiltersClick.emit()}ngAfterContentInit(){var e;(null===(e=this.data)||void 0===e?void 0:e.length)&&this.applySearch()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}onPaginationChange(e){this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.currentPageSize=e.pageSize,this.updatePaginatedData()}toggleSort(e){if(!this.sortingConfig.enabled||!e.sortable)return;const t=e.key;this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applySorting(),this.updatePaginatedData(),this.sortChange.emit({column:this.sortColumn,direction:this.sortDirection})}clearSearch(){this.searchControl.setValue("")}selectAllOnPage(e){this.selectionKey&&e.forEach(e=>{e[this.selectionKey]=!0,this.selectedIds.add(e.Id)})}deselectAllOnPage(e){this.selectionKey&&e.forEach(e=>{e[this.selectionKey]=!1,this.selectedIds.delete(e.Id)})}emitSelectionChange(){this.selectionChange.emit(Array.from(this.selectedIds))}cleanupStaleSelections(){var e;const t=new Set((null!==(e=this.data)&&void 0!==e?e:[]).map(e=>e.Id));let n=!1;this.selectedIds.forEach(e=>{t.has(e)||(this.selectedIds.delete(e),n=!0)}),n&&this.emitSelectionChange()}initSortState(){this.sortingConfig.defaultColumn&&(this.sortColumn=this.sortingConfig.defaultColumn),this.sortingConfig.defaultDirection&&(this.sortDirection=this.sortingConfig.defaultDirection)}initSearch(){this.searchControl.valueChanges.pipe((0,l.b)(c.XU),(0,o.R)(this.destroyed$)).subscribe(e=>{this.resetToFirstPage(),this.applySearch(),this.searchChange.emit(null!=e?e:""),this.cdr.markForCheck()})}resetToFirstPage(){this.startIndex=0,this.endIndex=this.currentPageSize}applySearch(){var e,t,n,i,a;const r=(null!==(e=this.searchControl.value)&&void 0!==e?e:"").trim().toLowerCase();if(!this.searchConfig.enabled||!r)return this.filteredData=null!==(t=this.data)&&void 0!==t?t:[],this.totalFilteredItems=this.filteredData.length,this.applySorting(),void this.updatePaginatedData();const l=null!==(i=null===(n=this.columns)||void 0===n?void 0:n.filter(e=>e.searchable))&&void 0!==i?i:[];this.filteredData=(null!==(a=this.data)&&void 0!==a?a:[]).filter(e=>l.some(t=>{const n=(0,g.q)(e,t.key);return(t.searchTransform?t.searchTransform(n,e):String(null!=n?n:"")).toLowerCase().includes(r)})),this.totalFilteredItems=this.filteredData.length,this.applySorting(),this.updatePaginatedData()}applySorting(){this.sortedData=this.sortingConfig.enabled&&this.sortColumn?[...this.filteredData].sort((e,t)=>{const n=(0,g.q)(e,this.sortColumn),i=(0,g.q)(t,this.sortColumn);let a=0;return null==n&&null==i?a=0:null==n?a=1:null==i?a=-1:"string"==typeof n&&"string"==typeof i?a=n.localeCompare(i,void 0,{sensitivity:"base"}):n<i?a=-1:n>i&&(a=1),"asc"===this.sortDirection?a:-a}):this.filteredData}updatePaginatedData(){this.paginatedData=this.paginationConfig.enabled?this.sortedData.slice(this.startIndex,this.endIndex):this.sortedData}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-data-table"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,s.U,4),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.columns=e)}},inputs:{data:"data",config:"config",columnFilters:"columnFilters",initialSearch:"initialSearch"},outputs:{sortChange:"sortChange",clearFiltersClick:"clearFiltersClick",selectionChange:"selectionChange",searchChange:"searchChange"},features:[i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:O,decls:15,vars:7,consts:[[1,"data-table-wrapper"],[1,"row","d-flex","justify-content-between"],["class","col-md-5",4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center","col-md-7"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"align-top"],["class","align-middle text-center selection-column",4,"ngIf"],["class","align-top",3,"c-pointer","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"config","totalItems","tableId","showSelectPage","selectedCount","paginationChange","selectAllPageItems",4,"ngIf"],[1,"col-md-5"],[1,"w-100"],[1,"search-input-wrapper"],["type","text","nbInput","","fullWidth","",1,"search-input",3,"formControl","placeholder"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click",4,"ngIf"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click"],["icon","close-outline"],[1,"align-middle","text-center","selection-column"],[3,"checked","indeterminate","checkedChange"],[1,"align-top",3,"click"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],["class","sort-direction-icon",3,"icon","nbTooltip",4,"ngIf"],[1,"sort-direction-icon",3,"icon","nbTooltip"],[4,"ngTemplateOutlet"],["class","text-center align-middle selection-column",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","align-middle","selection-column"],[3,"checked","checkedChange"],[4,"ngIf","ngIfElse"],["defaultCell",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-center","p-5"],[3,"filterState","clearSearchClick","clearFiltersClick"],[3,"config","totalItems","tableId","showSelectPage","selectedCount","paginationChange","selectAllPageItems"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](k),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,h,6,3,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275projection"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275elementStart"](6,"table",5),i["\u0275\u0275elementStart"](7,"thead"),i["\u0275\u0275elementStart"](8,"tr",6),i["\u0275\u0275template"](9,u,2,2,"th",7),i["\u0275\u0275template"](10,C,7,5,"th",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"tbody"),i["\u0275\u0275template"](12,b,3,3,"tr",9),i["\u0275\u0275template"](13,w,3,2,"tr",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](14,E,1,5,"ngx-data-table-pagination",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.searchConfig.enabled),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngIf",t.selectionEnabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.columns)("ngForTrackBy",t.trackByIndex),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.paginatedData),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.paginatedData.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.paginationConfig.enabled))},styles:["[_nghost-%COMP%]   .sort-direction-icon[_ngcontent-%COMP%]{font-size:1em;cursor:default}[_nghost-%COMP%]   .data-table-search[_ngcontent-%COMP%]{margin-bottom:1rem;max-width:300px}[_nghost-%COMP%]   .selection-column[_ngcontent-%COMP%]{width:3rem}"],changeDetection:0}),e})()},46839:function(e,t,n){"use strict";function i(e,t){return e&&t?t.split(".").reduce((e,t)=>null==e?void 0:e[t],e):null}n.d(t,{q:function(){return i}})},14171:function(e,t,n){"use strict";n.d(t,{L8:function(){return i.L8},tA:function(){return x},z5:function(){return P}});var i=n(90968),a=n(60290),r=n(37716),l=n(38583),o=n(14625);function s(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span",7),r["\u0275\u0275elementStart"](1,"span",8),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.selectedCount),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.itemName," selected ")}}function c(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",9),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onSelectAllPageItems()}),r["\u0275\u0275element"](1,"nb-icon",10),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate2"](" Select all ",e.totalItems," ",e.itemName," ")}}function g(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"nb-option",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e," ")}}function d(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275elementStart"](1,"span",12),r["\u0275\u0275text"](2,"Page:"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",13),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPageChange(1)}),r["\u0275\u0275element"](4,"nb-icon",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",13),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.onPageChange(t.currentPage-1)}),r["\u0275\u0275element"](6,"nb-icon",15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"nb-select",16),r["\u0275\u0275listener"]("selectedChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPageChange(t)}),r["\u0275\u0275template"](8,g,2,2,"nb-option",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"span",18),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"button",13),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.onPageChange(t.currentPage+1)}),r["\u0275\u0275element"](12,"nb-icon",19),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"button",13),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.onPageChange(t.totalPages)}),r["\u0275\u0275element"](14,"nb-icon",20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",1===e.currentPage),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",1===e.currentPage),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("selected",e.currentPage),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.pageNumbers)("ngForTrackBy",e.trackByPage),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("of ",e.totalPages,""),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("disabled",e.currentPage===e.totalPages),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",e.currentPage===e.totalPages)}}function h(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"nb-option",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e," ")}}function u(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",22),r["\u0275\u0275elementStart"](1,"span",12),r["\u0275\u0275text"](2,"Items per page:"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"nb-select",16),r["\u0275\u0275listener"]("selectedChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPageSizeChange(t)}),r["\u0275\u0275template"](4,h,2,2,"nb-option",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("selected",e.pageSize),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",null==e.config?null:e.config.pageSizeOptions)("ngForTrackBy",e.trackBySize)}}let m=(()=>{class e{constructor(e){this.tableStorageService=e,this.totalItems=0,this.showSelectPage=!1,this.selectedCount=0,this.itemName="items",this.paginationChange=new r.EventEmitter,this.selectAllPageItems=new r.EventEmitter,this.currentPage=1,this.pageSize=i.L8,this.totalPages=1,this.pageNumbers=[],this.showPageNavigation=!1,this.showPageSizeSelector=!1,this.trackByPage=(e,t)=>t,this.trackBySize=(e,t)=>t}ngOnInit(){this.loadPageSize(),this.recalculatePaginationState(),this.emitPaginationChange()}ngOnChanges(e){e.totalItems&&!e.totalItems.firstChange&&(this.clampCurrentPage(),this.recalculatePaginationState(),this.emitPaginationChange())}onPageChange(e){this.currentPage=e,this.recalculatePaginationState(),this.emitPaginationChange()}onPageSizeChange(e){this.pageSize=e,this.savePageSize(),this.clampCurrentPage(),this.recalculatePaginationState(),this.emitPaginationChange()}recalculatePaginationState(){var e,t;this.totalPages=this.calculateTotalPages(),this.pageNumbers=Array.from({length:this.totalPages},(e,t)=>t+1),this.showPageNavigation=this.totalItems>this.pageSize;const n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.pageSizeOptions)&&void 0!==t?t:[i.L8],a=Math.min(...n);this.showPageSizeSelector=this.totalItems>a}calculateTotalPages(){return this.pageSize>0?Math.max(1,Math.ceil(this.totalItems/this.pageSize)):1}onSelectAllPageItems(){this.selectAllPageItems.emit()}loadPageSize(){var e,t,n,a;if(this.tableId){const n=this.tableStorageService.getStoredPageSize(this.tableId);this.pageSize=null!==(t=null!=n?n:null===(e=this.config)||void 0===e?void 0:e.pageSize)&&void 0!==t?t:i.L8}else this.pageSize=null!==(a=null===(n=this.config)||void 0===n?void 0:n.pageSize)&&void 0!==a?a:i.L8}savePageSize(){this.tableId&&this.tableStorageService.savePageSize(this.tableId,this.pageSize)}clampCurrentPage(){const e=this.calculateTotalPages();this.currentPage=Math.max(1,Math.min(this.currentPage,e))}emitPaginationChange(){const e=(this.currentPage-1)*this.pageSize,t=Math.min(e+this.pageSize,this.totalItems);this.paginationChange.emit({currentPage:this.currentPage,pageSize:this.pageSize,startIndex:e,endIndex:t})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](P))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-data-table-pagination"]],inputs:{config:"config",totalItems:"totalItems",tableId:"tableId",showSelectPage:"showSelectPage",selectedCount:"selectedCount",itemName:"itemName"},outputs:{paginationChange:"paginationChange",selectAllPageItems:"selectAllPageItems"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:7,vars:4,consts:[[1,"pagination-row"],[1,"pagination-left"],["class","selected-count",4,"ngIf"],["type","button","class","select-all-btn","nbButton","","ghost","","size","small",3,"click",4,"ngIf"],[1,"pagination-right"],["class","page-selector",4,"ngIf"],["class","page-size-selector",4,"ngIf"],[1,"selected-count"],[1,"selected-count-number"],["type","button","nbButton","","ghost","","size","small",1,"select-all-btn",3,"click"],["icon","checkmark-square-outline"],[1,"page-selector"],[1,"pagination-label"],["type","button","nbButton","","ghost","","size","small",3,"disabled","click"],["icon","arrowhead-left-outline"],["icon","arrow-ios-back-outline"],["size","small",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"pagination-total"],["icon","arrow-ios-forward-outline"],["icon","arrowhead-right-outline"],[3,"value"],[1,"page-size-selector"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275template"](2,s,4,2,"span",2),r["\u0275\u0275template"](3,c,3,2,"button",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275template"](5,d,15,8,"div",5),r["\u0275\u0275template"](6,u,5,3,"div",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showSelectPage),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showSelectPage&&t.totalItems>0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showPageNavigation),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showPageSizeSelector))},directives:[l.O5,o.DPz,o.fMN,o.rs,l.sg,o.q51],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .pagination-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;grid-gap:1rem;gap:1rem;flex-wrap:wrap;color:var(--dark)}[_nghost-%COMP%]   .pagination-left[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:1rem;gap:1rem}[_nghost-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-weight:600;color:var(--dark)}[_nghost-%COMP%]   .selected-count-number[_ngcontent-%COMP%]{display:inline-block;min-width:24px;text-align:right}[_nghost-%COMP%]   .select-all-btn[_ngcontent-%COMP%]{color:var(--dark)!important;text-transform:uppercase}[_nghost-%COMP%]   .select-all-btn[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}[_nghost-%COMP%]   .pagination-right[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:1.5rem;gap:1.5rem}[_nghost-%COMP%]   .page-selector[_ngcontent-%COMP%], [_nghost-%COMP%]   .page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.25rem;gap:.25rem}[_nghost-%COMP%]   .page-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.25rem;background:transparent!important;border:none!important}[_nghost-%COMP%]   .pagination-label[_ngcontent-%COMP%]{color:var(--dark);font-weight:600;white-space:nowrap}[_nghost-%COMP%]   .pagination-total[_ngcontent-%COMP%]{color:var(--dark);white-space:nowrap}[_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{min-width:70px}"],changeDetection:0}),e})();var p=n(3679),f=n(69517),C=n(46839);let S=(()=>{class e{transform(e,t){return(0,C.q)(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"nestedValue",type:e,pure:!0}),e})();var v=n(88100),y=n(1816);let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[l.ez,p.UX,f.jF,o.T2N,o.MfT,o.V7y,o.KdK,o.nKr,o.IIj,o.rgH,v.Z]]}),e})();r["\u0275\u0275setComponentScope"](a.Q,[l.O5,o.jBG,o.h8i,p.Fj,p.JJ,p.oH,o.DPz,o.jNv,o.yyc,o.fMN,o.NTf,l.sg,l.tP,y.$,m],[S]);var I=n(46326);let P=(()=>{class e{constructor(e){this.storageService=e,this.STORAGE_PREFIX="Hydra.Table."}getStoredPageSize(e){if(!e)return null;const t=this.storageService.getItem(this.getPageSizeKey(e));return t?Number(t):null}savePageSize(e,t){e&&this.storageService.setItem(this.getPageSizeKey(e),t.toString())}getPageSizeKey(e){return`${this.STORAGE_PREFIX}${e}.PageSize`}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](I.V))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1816:function(e,t,n){"use strict";n.d(t,{$:function(){return p}});var i=n(37716),a=n(38583),r=n(14625);function l(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](' No results for "',e.filterState.searchQuery,'" with current filters. ')}}function o(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](' No results for "',e.filterState.searchQuery,'". ')}}function s(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," No results match the applied filters. "),i["\u0275\u0275elementContainerEnd"]())}function c(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," No data to display. "),i["\u0275\u0275elementContainerEnd"]())}function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1," Try a different term or clear the search. "),i["\u0275\u0275elementEnd"]())}function d(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1," Adjust or clear filters. "),i["\u0275\u0275elementEnd"]())}function h(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1," Try different terms or filters. "),i["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",7),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onClearSearch()}),i["\u0275\u0275text"](1," Clear search "),i["\u0275\u0275elementEnd"]()}}function m(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",7),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onClearFilters()}),i["\u0275\u0275text"](1," Clear filters "),i["\u0275\u0275elementEnd"]()}}let p=(()=>{class e{constructor(){this.clearSearchClick=new i.EventEmitter,this.clearFiltersClick=new i.EventEmitter,this.hasSearchQuery=!1,this.hasActiveFilters=!1}set filterState(e){this._filterState=e,this.updateEmptyStateFlags()}get filterState(){return this._filterState}updateEmptyStateFlags(){var e,t;this.hasSearchQuery=(null!==(t=null===(e=this._filterState.searchQuery)||void 0===e?void 0:e.trim().length)&&void 0!==t?t:0)>0,this.hasActiveFilters=!1,this._filterState.columnFilters&&(this.hasActiveFilters=Object.keys(this._filterState.columnFilters).some(e=>{var t;return(null===(t=this._filterState.columnFilters[e])||void 0===t?void 0:t.length)>0}))}onClearSearch(){this.clearSearchClick.emit()}onClearFilters(){this.clearFiltersClick.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-table-empty-state"]],inputs:{filterState:"filterState"},outputs:{clearSearchClick:"clearSearchClick",clearFiltersClick:"clearFiltersClick"},decls:12,vars:9,consts:[[1,"empty-state"],[1,"mb-2"],[4,"ngIf"],["class","text-muted mb-3",4,"ngIf"],[1,"d-flex","justify-content-center","gap-2"],["type","button","nbButton","","status","primary","size","small",3,"click",4,"ngIf"],[1,"text-muted","mb-3"],["type","button","nbButton","","status","primary","size","small",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275template"](2,l,2,1,"ng-container",2),i["\u0275\u0275template"](3,o,2,1,"ng-container",2),i["\u0275\u0275template"](4,s,2,0,"ng-container",2),i["\u0275\u0275template"](5,c,2,0,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,g,2,0,"p",3),i["\u0275\u0275template"](7,d,2,0,"p",3),i["\u0275\u0275template"](8,h,2,0,"p",3),i["\u0275\u0275elementStart"](9,"div",4),i["\u0275\u0275template"](10,u,2,0,"button",5),i["\u0275\u0275template"](11,m,2,0,"button",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&!t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&!t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&!t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasActiveFilters))},directives:[a.O5,r.DPz],styles:["[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   .gap-2[_ngcontent-%COMP%]{grid-gap:.5rem;gap:.5rem}"]}),e})()},88100:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(38583),a=n(14625),r=n(37716);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[i.ez,a.T2N]]}),e})()}}]);