!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[538],{76897:function(e,t,n){"use strict";n.d(t,{XU:function(){return r},cc:function(){return i},e5:function(){return o}});var r=400,i=3,o=5e3},1816:function(e,t,n){"use strict";n.d(t,{$:function(){return v}});var r=n(37716),i=n(38583),o=n(14625);function a(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1),r["\u0275\u0275elementContainerEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](' No results for "',n.filterState.searchQuery,'" with current filters. ')}}function c(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1),r["\u0275\u0275elementContainerEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](' No results for "',n.filterState.searchQuery,'". ')}}function u(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1," No results match the applied filters. "),r["\u0275\u0275elementContainerEnd"]())}function p(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1," No data to display. "),r["\u0275\u0275elementContainerEnd"]())}function d(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",6),r["\u0275\u0275text"](1," Try a different term or clear the search. "),r["\u0275\u0275elementEnd"]())}function f(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",6),r["\u0275\u0275text"](1," Adjust or clear filters. "),r["\u0275\u0275elementEnd"]())}function h(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",6),r["\u0275\u0275text"](1," Try different terms or filters. "),r["\u0275\u0275elementEnd"]())}function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",7),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onClearSearch()}),r["\u0275\u0275text"](1," Clear search "),r["\u0275\u0275elementEnd"]()}}function m(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",7),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onClearFilters()}),r["\u0275\u0275text"](1," Clear filters "),r["\u0275\u0275elementEnd"]()}}var v=function(){var e=function(){function e(){l(this,e),this.clearSearchClick=new r.EventEmitter,this.clearFiltersClick=new r.EventEmitter,this.hasSearchQuery=!1,this.hasActiveFilters=!1}return s(e,[{key:"filterState",get:function(){return this._filterState},set:function(e){this._filterState=e,this.updateEmptyStateFlags()}},{key:"updateEmptyStateFlags",value:function(){var e,t,n=this;this.hasSearchQuery=(null!==(t=null===(e=this._filterState.searchQuery)||void 0===e?void 0:e.trim().length)&&void 0!==t?t:0)>0,this.hasActiveFilters=!1,this._filterState.columnFilters&&(this.hasActiveFilters=Object.keys(this._filterState.columnFilters).some(function(e){var t;return(null===(t=n._filterState.columnFilters[e])||void 0===t?void 0:t.length)>0}))}},{key:"onClearSearch",value:function(){this.clearSearchClick.emit()}},{key:"onClearFilters",value:function(){this.clearFiltersClick.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-table-empty-state"]],inputs:{filterState:"filterState"},outputs:{clearSearchClick:"clearSearchClick",clearFiltersClick:"clearFiltersClick"},decls:12,vars:9,consts:[[1,"empty-state"],[1,"mb-2"],[4,"ngIf"],["class","text-muted mb-3",4,"ngIf"],[1,"d-flex","justify-content-center","gap-2"],["type","button","nbButton","","status","primary","size","small",3,"click",4,"ngIf"],[1,"text-muted","mb-3"],["type","button","nbButton","","status","primary","size","small",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"h5",1),r["\u0275\u0275template"](2,a,2,1,"ng-container",2),r["\u0275\u0275template"](3,c,2,1,"ng-container",2),r["\u0275\u0275template"](4,u,2,0,"ng-container",2),r["\u0275\u0275template"](5,p,2,0,"ng-container",2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,d,2,0,"p",3),r["\u0275\u0275template"](7,f,2,0,"p",3),r["\u0275\u0275template"](8,h,2,0,"p",3),r["\u0275\u0275elementStart"](9,"div",4),r["\u0275\u0275template"](10,g,2,0,"button",5),r["\u0275\u0275template"](11,m,2,0,"button",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&t.hasActiveFilters),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&!t.hasActiveFilters),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&t.hasActiveFilters),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&!t.hasActiveFilters),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&!t.hasActiveFilters),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&t.hasActiveFilters),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&t.hasActiveFilters),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.hasSearchQuery),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.hasActiveFilters))},directives:[i.O5,o.DPz],styles:["[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   .gap-2[_ngcontent-%COMP%]{grid-gap:.5rem;gap:.5rem}"]}),e}()},88100:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(38583),i=n(14625),o=n(37716),a=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.ez,i.T2N]]}),e}()},47010:function(e,t,n){"use strict";n.d(t,{D:function(){return m}});var r=n(37716),o=n(79765),a=n(3679),c=n(54395),u=n(87519),p=n(46782),d=n(76897),f=n(14625),h=n(38583);function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"nb-list-item"),r["\u0275\u0275elementStart"](1,"nb-checkbox",7),r["\u0275\u0275listener"]("checkedChange",function(e){return r["\u0275\u0275restoreView"](n).$implicit.checked=e})("checkedChange",function(e){var t=r["\u0275\u0275restoreView"](n).$implicit;return r["\u0275\u0275nextContext"]().toggle(t,e)}),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("checked",i.checked),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i.label," ")}}var m=function(){var e=function(){function e(){var t=this;l(this,e),this.destroyed$=new o.xQ,this.filtersCache=[],this.filtersChanges=new r.EventEmitter,this.areAllChecked=!1,this.isIntermediateState=!1,this.searchQueryControl=new a.NI(""),this.internalFilters=[],this.trackByItemIndex=function(e,t){return"".concat(t.label,"-").concat(e)},this.searchInFiltersCallback=function(e){var n=e.toLowerCase().trim();t.internalFilters=n?t.filtersCache.filter(function(e){return e.label.toLowerCase().includes(n)}):i(t.filtersCache)}}return s(e,[{key:"filters",set:function(e){if(!e)throw new Error("Filters are required");this.internalFilters=e,this.filtersCache=i(e),this.initSearch(),this.updateCheckStates()}},{key:"selectAll",value:function(e){var t=this;this.internalFilters.forEach(function(n){return t.toggle(n,e)}),this.updateCheckStates()}},{key:"toggle",value:function(e,t){e.checked=t,this.updateCheckStates()}},{key:"applyFilters",value:function(){this.filtersChanges.emit([this.internalFilters,this.filterName])}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"initSearch",value:function(){this.searchQueryControl.valueChanges.pipe((0,c.b)(d.XU),(0,u.x)(),(0,p.R)(this.destroyed$)).subscribe(this.searchInFiltersCallback)}},{key:"updateCheckStates",value:function(){var e=this.filtersCache.length,t=this.filtersCache.filter(function(e){return e.checked}).length;this.areAllChecked=t===e,this.isIntermediateState=t>0&&t<e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-table-filter-popover"]],inputs:{filters:"filters",filterName:"filterName"},outputs:{filtersChanges:"filtersChanges"},decls:12,vars:6,consts:[[1,"content-layout"],["for","filters_search",1,"w-100"],["id","filters_search","type","text","placeholder","Search","nbInput","","fullWidth","","fieldSize","small",3,"formControl"],[3,"checked","indeterminate","checkedChange"],[1,"scrollable-container"],[4,"ngFor","ngForOf","ngForTrackBy"],["nbButton","","size","small","fullWidth","",3,"click"],[3,"checked","checkedChange"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"nb-card"),r["\u0275\u0275elementStart"](1,"nb-list",0),r["\u0275\u0275elementStart"](2,"nb-list-item"),r["\u0275\u0275elementStart"](3,"label",1),r["\u0275\u0275element"](4,"input",2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"nb-checkbox",3),r["\u0275\u0275listener"]("checkedChange",function(e){return t.selectAll(e)}),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"nb-list",4),r["\u0275\u0275template"](8,g,3,2,"nb-list-item",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"nb-card-footer"),r["\u0275\u0275elementStart"](10,"button",6),r["\u0275\u0275listener"]("click",function(){return t.applyFilters()}),r["\u0275\u0275text"](11," Apply "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("formControl",t.searchQueryControl),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("checked",t.areAllChecked)("indeterminate",t.isIntermediateState),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.areAllChecked?"Deselect":"Select"," all "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.internalFilters)("ngForTrackBy",t.trackByItemIndex))},directives:[f.Asz,f.zP_,f.qBV,f.h8i,a.Fj,a.JJ,a.oH,f.NTf,h.sg,f.XWE,f.DPz],styles:["[_nghost-%COMP%]{display:block;width:18.75em;height:27em;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0;height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]{height:100%;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{height:100%;align-items:start;flex-direction:column}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-list.scrollable-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-list.scrollable-container[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{height:auto;padding:.5em 0}[_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{padding:0 .5em}"]}),e}()},66538:function(t,r,o){"use strict";o.r(r),o.d(r,{ProvisioningPoliciesModule:function(){return ze}});var a=o(38583),c=o(10264),u=o(79765),p=o(46797),d=o(40205),f=o(25917),h=o(39761),g=o(5304),m=o(46782),v=o(54395),y=o(87519),C=o(68307),S=o(11627),P=o(43190),b=o(67666),x=o(11173),k=o(76897),E=(function(e){e[e.Gallery=0]="Gallery",e[e.Custom=1]="Custom",e[e.UnknownFutureValue=2]="UnknownFutureValue"}(E||(E={})),E),w=(function(e){e[e.Dedicated=0]="Dedicated",e[e.Shared=1]="Shared",e[e.UnknownFutureValue=2]="UnknownFutureValue",e[e.SharedByUser=3]="SharedByUser",e[e.SharedByEntraGroup=4]="SharedByEntraGroup",e[e.Reserve=5]="Reserve"}(w||(w={})),w),I=(function(e){e[e.CloudPc=0]="CloudPc",e[e.CloudApp=1]="CloudApp",e[e.UnknownFutureValue=2]="UnknownFutureValue"}(I||(I={})),I),T=o(14625),F=o(3679),O=o(34681),A=(function(e){e.TenantName="SceneName",e.Name="Resource.DisplayName",e.Image="Resource.ImageDisplayName",e.Experience="UserExperienceType",e.ImageStatus="Resource.ImageType",e.CreatedBy="Resource.CreatedBy",e.LicenseType="Resource.ProvisioningType"}(A||(A={})),A);function N(e){switch(e){case I.CloudApp:case"CloudApp":return"Cloud App";case I.CloudPc:case"CloudPc":return"Cloud PC";case I.UnknownFutureValue:case"UnknownFutureValue":return"Unknown future value";default:return"null"}}function _(e){switch(e){case E.Gallery:return"Gallery";case E.Custom:return"Custom";case E.UnknownFutureValue:return"Unknown future value";default:return"null"}}function M(e){switch(e){case w.Dedicated:return"Dedicated";case w.Shared:return"Shared";case w.SharedByUser:return"Shared By User";case w.SharedByEntraGroup:return"Shared By Entra Group";case w.Reserve:return"Reserve";case w.UnknownFutureValue:return"Unknown future value";default:return"null"}}var R=o(37716),U=o(47010),z=["popoverRef"];function V(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"ngx-table-filter-popover",4),R["\u0275\u0275listener"]("filtersChanges",function(e){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"]().filtersChanged(e)}),R["\u0275\u0275elementEnd"]()}if(2&e){var r=R["\u0275\u0275nextContext"]();R["\u0275\u0275property"]("filters",r.filters)("filterName",r.filterName)}}var D=function(e){return{"filters-applied":e}},B=function(){var e=function(){function e(){var t=this;l(this,e),this.dataSource=[],this.filtersChanges=new R.EventEmitter,this.filters=[],this.areFiltersApplied=!1,this.valueMapper=function(e){var n,r;switch(t.resourcePath){case A.Experience:return N(e.UserExperienceType);case A.ImageStatus:return _(null===(n=e.Resource)||void 0===n?void 0:n.ImageType);case A.LicenseType:return M(null===(r=e.Resource)||void 0===r?void 0:r.ProvisioningType);default:return t.getObjectValueByResourcePath(e,t.resourcePath)}},this.getObjectValueByResourcePath=function(e,t){return null==t?void 0:t.split(".").reduce(function(e,t){return e&&void 0!==e[t]?e[t]:void 0},e)}}return s(e,[{key:"ngOnInit",value:function(){this.buildFilters()}},{key:"filtersChanged",value:function(e){var t;this.areFiltersApplied=e[0].some(function(e){return e.checked}),this.filtersChanges.emit(e),null===(t=this.popoverRef)||void 0===t||t.hide()}},{key:"buildFilters",value:function(){var e;if((null===(e=this.dataSource)||void 0===e?void 0:e.length)&&this.resourcePath){var t=new Set(this.dataSource.map(this.valueMapper)),n=Array.from(t);this.filters=n.map(function(e){return{label:e,checked:!1}})}}},{key:"resetAllFilters",value:function(){this.filters=this.filters.map(function(e){return n(n({},e),{},{checked:!1})}),this.areFiltersApplied=!1,this.filtersChanged([this.filters,this.filterName])}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=R["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-provisioning-policies-filter-trigger"]],viewQuery:function(e,t){var n;(1&e&&R["\u0275\u0275viewQuery"](z,7),2&e)&&(R["\u0275\u0275queryRefresh"](n=R["\u0275\u0275loadQuery"]())&&(t.popoverRef=n.first))},inputs:{resourcePath:"resourcePath",filterName:"filterName",dataSource:"dataSource"},outputs:{filtersChanges:"filtersChanges"},decls:5,vars:5,consts:[["nbButton","","size","tiny","nbPopoverTrigger","focus","nbPopoverPlacement","bottom",3,"ngClass","nbPopover","disabled","click"],["popoverRef","nbPopover"],["icon","funnel"],["tableFilterPopoverTpl",""],[3,"filters","filterName","filtersChanges"]],template:function(e,t){if(1&e&&(R["\u0275\u0275elementStart"](0,"button",0,1),R["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),R["\u0275\u0275element"](2,"nb-icon",2),R["\u0275\u0275elementEnd"](),R["\u0275\u0275template"](3,V,1,2,"ng-template",null,3,R["\u0275\u0275templateRefExtractor"])),2&e){var n=R["\u0275\u0275reference"](4);R["\u0275\u0275property"]("ngClass",R["\u0275\u0275pureFunction1"](3,D,t.areFiltersApplied))("nbPopover",n)("disabled",!t.dataSource.length)}},directives:[T.DPz,a.mk,T.ydg,T.fMN,U.D],styles:['[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   button.filters-applied[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-.188em;right:-.188em;width:.7em;height:.7em;border-radius:50%;background-color:var(--primary)}']}),e}(),j=o(1816),L=o(69517);function Q(e,t){1&e&&R["\u0275\u0275element"](0,"nb-spinner")}function K(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"button",19),R["\u0275\u0275listener"]("click",function(){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).clearSearch()}),R["\u0275\u0275element"](1,"nb-icon",20),R["\u0275\u0275elementEnd"]()}}function $(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function G(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function H(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function q(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function W(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function X(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function J(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function Z(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Cloud App"),R["\u0275\u0275elementContainerEnd"]())}function Y(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Cloud PC"),R["\u0275\u0275elementContainerEnd"]())}function ee(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Unknown future value"),R["\u0275\u0275elementContainerEnd"]())}function te(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Gallery"),R["\u0275\u0275elementContainerEnd"]())}function ne(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Custom"),R["\u0275\u0275elementContainerEnd"]())}function re(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Unknown future value"),R["\u0275\u0275elementContainerEnd"]())}function ie(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Dedicated"),R["\u0275\u0275elementContainerEnd"]())}function oe(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Shared"),R["\u0275\u0275elementContainerEnd"]())}function ae(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Shared By User"),R["\u0275\u0275elementContainerEnd"]())}function le(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Shared By Entra Group"),R["\u0275\u0275elementContainerEnd"]())}function ce(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Reserve"),R["\u0275\u0275elementContainerEnd"]())}function se(e,t){1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275text"](1,"Unknown future value"),R["\u0275\u0275elementContainerEnd"]())}function ue(e,t){if(1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275elementStart"](1,"tr"),R["\u0275\u0275elementStart"](2,"td"),R["\u0275\u0275text"](3),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](4,"td"),R["\u0275\u0275text"](5),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](6,"td"),R["\u0275\u0275text"](7),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](8,"td"),R["\u0275\u0275template"](9,Z,2,0,"ng-container",0),R["\u0275\u0275template"](10,Y,2,0,"ng-container",0),R["\u0275\u0275template"](11,ee,2,0,"ng-container",0),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](12,"td"),R["\u0275\u0275template"](13,te,2,0,"ng-container",0),R["\u0275\u0275template"](14,ne,2,0,"ng-container",0),R["\u0275\u0275template"](15,re,2,0,"ng-container",0),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](16,"td"),R["\u0275\u0275text"](17),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](18,"td"),R["\u0275\u0275template"](19,ie,2,0,"ng-container",0),R["\u0275\u0275template"](20,oe,2,0,"ng-container",0),R["\u0275\u0275template"](21,ae,2,0,"ng-container",0),R["\u0275\u0275template"](22,le,2,0,"ng-container",0),R["\u0275\u0275template"](23,ce,2,0,"ng-container",0),R["\u0275\u0275template"](24,se,2,0,"ng-container",0),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=R["\u0275\u0275nextContext"](3);R["\u0275\u0275advance"](3),R["\u0275\u0275textInterpolate"](n.SceneName),R["\u0275\u0275advance"](2),R["\u0275\u0275textInterpolate"](null==n.Resource?null:n.Resource.DisplayName),R["\u0275\u0275advance"](2),R["\u0275\u0275textInterpolate"](null==n.Resource?null:n.Resource.ImageDisplayName),R["\u0275\u0275advance"](2),R["\u0275\u0275property"]("ngIf",n.UserExperienceType===r.CloudPcUserExperienceType.CloudApp||"CloudApp"===n.UserExperienceType),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",n.UserExperienceType===r.CloudPcUserExperienceType.CloudPc||"CloudPc"===n.UserExperienceType),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",n.UserExperienceType===r.CloudPcUserExperienceType.UnknownFutureValue||"UnknownFutureValue"===n.UserExperienceType),R["\u0275\u0275advance"](2),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ImageType)===r.CloudPcProvisioningPolicyImageType.Gallery),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ImageType)===r.CloudPcProvisioningPolicyImageType.Custom),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ImageType)===r.CloudPcProvisioningPolicyImageType.UnknownFutureValue),R["\u0275\u0275advance"](2),R["\u0275\u0275textInterpolate"](null==n.Resource?null:n.Resource.CreatedBy),R["\u0275\u0275advance"](2),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ProvisioningType)===r.CloudPcProvisioningType.Dedicated),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ProvisioningType)===r.CloudPcProvisioningType.Shared),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ProvisioningType)===r.CloudPcProvisioningType.SharedByUser),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ProvisioningType)===r.CloudPcProvisioningType.SharedByEntraGroup),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ProvisioningType)===r.CloudPcProvisioningType.Reserve),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",(null==n.Resource?null:n.Resource.ProvisioningType)===r.CloudPcProvisioningType.UnknownFutureValue)}}function pe(e,t){if(1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275template"](1,ue,25,16,"ng-container",21),R["\u0275\u0275pipe"](2,"slice"),R["\u0275\u0275elementContainerEnd"]()),2&e){var n=R["\u0275\u0275nextContext"](2);R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngForOf",R["\u0275\u0275pipeBind3"](2,2,n.provisioningPolicies,(n.paginationCurrentPage-1)*n.paginationPageSize,n.paginationCurrentPage*n.paginationPageSize))("ngForTrackBy",n.trackByPolicyId)}}function de(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"tr"),R["\u0275\u0275elementStart"](1,"td",22),R["\u0275\u0275elementStart"](2,"ngx-table-empty-state",23),R["\u0275\u0275listener"]("clearSearchClick",function(){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).clearSearch()})("clearFiltersClick",function(){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).clearFilters()}),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"]()}if(2&e){R["\u0275\u0275nextContext"]();var r=R["\u0275\u0275reference"](12),i=R["\u0275\u0275nextContext"]();R["\u0275\u0275advance"](1),R["\u0275\u0275attribute"]("colspan",r.children.length),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("filterState",i.filterState)}}function fe(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"ngb-pagination",24),R["\u0275\u0275listener"]("pageChange",function(e){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).paginationCurrentPage=e}),R["\u0275\u0275elementEnd"]()}if(2&e){var r=R["\u0275\u0275nextContext"](2);R["\u0275\u0275property"]("page",r.paginationCurrentPage)("collectionSize",r.provisioningPolicies.length)("maxSize",r.paginationMaxSize)("boundaryLinks",!0)("pageSize",r.paginationPageSize)}}function he(e,t){if(1&e&&(R["\u0275\u0275elementStart"](0,"nb-option",27),R["\u0275\u0275text"](1),R["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;R["\u0275\u0275property"]("value",n),R["\u0275\u0275advance"](1),R["\u0275\u0275textInterpolate1"](" ",n," ")}}function ge(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"nb-select",25),R["\u0275\u0275listener"]("ngModelChange",function(e){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).paginationPageSize=e})("selectedChange",function(){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).saveLocalConfig()}),R["\u0275\u0275template"](1,he,2,2,"nb-option",26),R["\u0275\u0275elementEnd"]()}if(2&e){var r=R["\u0275\u0275nextContext"](2);R["\u0275\u0275property"]("ngModel",r.paginationPageSize),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngForOf",r.rowsPerPageOptions)}}var me=function(e){return{sortKey:e,label:"Tenant",filterName:"SceneName"}},ve=function(e){return{sortKey:e,label:"Name",filterName:"DisplayName"}},ye=function(e){return{sortKey:e,label:"Image",filterName:"ImageDisplayName"}},Ce=function(e){return{sortKey:e,label:"Experience",filterName:"UserExperienceType"}},Se=function(e){return{sortKey:e,label:"Image status",filterName:"ImageType"}},Pe=function(e){return{sortKey:e,label:"Created by",filterName:"CreatedBy"}},be=function(e){return{sortKey:e,label:"License type",filterName:"ProvisioningType"}};function xe(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275elementStart"](1,"div",3),R["\u0275\u0275elementStart"](2,"div",4),R["\u0275\u0275elementStart"](3,"label",5),R["\u0275\u0275elementStart"](4,"div",6),R["\u0275\u0275elementStart"](5,"nb-form-field"),R["\u0275\u0275element"](6,"input",7),R["\u0275\u0275template"](7,K,2,0,"button",8),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](8,"div",9),R["\u0275\u0275elementStart"](9,"table",10),R["\u0275\u0275elementStart"](10,"thead"),R["\u0275\u0275elementStart"](11,"tr",11,12),R["\u0275\u0275template"](13,$,1,0,"ng-container",13),R["\u0275\u0275template"](14,G,1,0,"ng-container",13),R["\u0275\u0275template"](15,H,1,0,"ng-container",13),R["\u0275\u0275template"](16,q,1,0,"ng-container",13),R["\u0275\u0275template"](17,W,1,0,"ng-container",13),R["\u0275\u0275template"](18,X,1,0,"ng-container",13),R["\u0275\u0275template"](19,J,1,0,"ng-container",13),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](20,"tbody"),R["\u0275\u0275template"](21,pe,3,6,"ng-container",0),R["\u0275\u0275template"](22,de,3,2,"tr",0),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275template"](23,fe,1,5,"ngb-pagination",14),R["\u0275\u0275elementStart"](24,"div",15),R["\u0275\u0275template"](25,ge,2,2,"nb-select",16),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](26,"button",17),R["\u0275\u0275listener"]("click",function(){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"]().update()}),R["\u0275\u0275element"](27,"nb-icon",18),R["\u0275\u0275text"](28," Update "),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=R["\u0275\u0275nextContext"](),i=R["\u0275\u0275reference"](8);R["\u0275\u0275advance"](6),R["\u0275\u0275property"]("formControl",r.searchFormControl),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",r.searchFormControl.value),R["\u0275\u0275advance"](6),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](20,me,r.sortKeys.TenantName)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](22,ve,r.sortKeys.Name)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](24,ye,r.sortKeys.Image)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](26,Ce,r.sortKeys.Experience)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](28,Se,r.sortKeys.ImageStatus)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](30,Pe,r.sortKeys.CreatedBy)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](32,be,r.sortKeys.LicenseType)),R["\u0275\u0275advance"](2),R["\u0275\u0275property"]("ngIf",r.provisioningPolicies.length),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",r.isEmptyStateVisible),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",r.provisioningPolicies.length>3),R["\u0275\u0275advance"](2),R["\u0275\u0275property"]("ngIf",r.provisioningPolicies.length>r.MAX_LENGTH_TO_SHOW_ELEMENT)}}function ke(e,t){1&e&&R["\u0275\u0275elementContainer"](0)}function Ee(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"ngx-provisioning-policies-filter-trigger",32),R["\u0275\u0275listener"]("filtersChanges",function(e){return R["\u0275\u0275restoreView"](n),R["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),R["\u0275\u0275elementEnd"]()}if(2&e){var r=R["\u0275\u0275nextContext"](),i=r.sortKey,o=r.filterName,a=R["\u0275\u0275nextContext"]();R["\u0275\u0275property"]("resourcePath",i)("filterName",o)("dataSource",a.provisioningPolicies)}}var we=function(e){return{$implicit:e}};function Ie(e,t){if(1&e){var n=R["\u0275\u0275getCurrentView"]();R["\u0275\u0275elementStart"](0,"th",28),R["\u0275\u0275listener"]("click",function(){var e=R["\u0275\u0275restoreView"](n).sortKey,t=R["\u0275\u0275nextContext"]();return e&&t.toggleSort(e)}),R["\u0275\u0275elementStart"](1,"div",29),R["\u0275\u0275elementStart"](2,"span"),R["\u0275\u0275text"](3),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](4,"div",30),R["\u0275\u0275template"](5,ke,1,0,"ng-container",13),R["\u0275\u0275template"](6,Ee,1,3,"ngx-provisioning-policies-filter-trigger",31),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"]()}if(2&e){var r=t.sortKey,i=t.label,o=t.hideFilter;R["\u0275\u0275nextContext"]();var a=R["\u0275\u0275reference"](10);R["\u0275\u0275advance"](3),R["\u0275\u0275textInterpolate"](i),R["\u0275\u0275advance"](2),R["\u0275\u0275property"]("ngTemplateOutlet",a)("ngTemplateOutletContext",R["\u0275\u0275pureFunction1"](4,we,r)),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",!o)}}function Te(e,t){if(1&e&&(R["\u0275\u0275elementContainerStart"](0),R["\u0275\u0275element"](1,"nb-icon",33),R["\u0275\u0275elementContainerEnd"]()),2&e){var n=R["\u0275\u0275nextContext"](2);R["\u0275\u0275advance"](1),R["\u0275\u0275propertyInterpolate"]("nbTooltip","asc"===n.sortDirection?"Sorted ascending":"Sorted descending"),R["\u0275\u0275propertyInterpolate1"]("icon","arrow-","asc"===n.sortDirection?"down":"up","")}}function Fe(e,t){if(1&e&&R["\u0275\u0275template"](0,Te,2,2,"ng-container",0),2&e){var n=t.$implicit,r=R["\u0275\u0275nextContext"]();R["\u0275\u0275property"]("ngIf",r.sortColumn===n)}}var Oe,Ae,Ne=[{path:"",component:(Oe=function(){function t(e,n){var r=this;l(this,t),this.wd365Service=e,this.toastrService=n,this.destroyed$=new u.xQ,this.filterState={searchQuery:"",columnFilters:{}},this.selectedPolicyIds=new Set,this.selectedPolicies=[],this.rowsPerPageOptions=[20,50,80,100,150,200],this.MAX_LENGTH_TO_SHOW_ELEMENT=20,this.CloudPcUserExperienceType=I,this.CloudPcProvisioningPolicyImageType=E,this.CloudPcProvisioningType=w,this.isEmptyStateVisible=!1,this.provisioningPolicies$=new u.xQ,this.provisioningPolicies=[],this.provisioningPoliciesCache=[],this.isLoading=!1,this.searchFormControl=new F.NI(""),this.paginationCurrentPage=1,this.paginationPageSize=this.rowsPerPageOptions[0],this.paginationMaxSize=10,this.sortKeys=A,this.sortColumn="",this.sortDirection="asc",this.trackByPolicyId=function(e,t){return t.Id},this.retryApiCallWithToastCallback=function(e){return e.pipe((0,C.b)(function(e){return r.showDangerToast("Failure accessing the API","Cannot read data from API. The message is: ".concat(e.message," with status ").concat(e.statusText))}),(0,S.j)(function(){return(0,p.H)(k.e5)}))},this.handleApiErrorCallback=function(e){return(0,d._)(function(){return r.showDangerToast("Failure accessing the API","Cannot read data from API. Reload this site to try it again. The message is: ".concat(e.message," with status ").concat(e.statusText)),(0,f.of)([])})}}return s(t,[{key:"hasSelectedPolicies",get:function(){return this.selectedPolicies.length>0}},{key:"areAllChecked",get:function(){return this.provisioningPolicies.length>0&&this.provisioningPolicies.every(function(e){return e.IsSelected})}},{key:"isIntermediateState",get:function(){var e=this.provisioningPolicies.filter(function(e){return e.IsSelected}).length;return e>0&&e<this.provisioningPolicies.length}},{key:"ngOnInit",value:function(){this.loadPageSizeFromLocalStorage(),this.initProvisioningPolicies(),this.initTableSearch()}},{key:"loadPageSizeFromLocalStorage",value:function(){var e=localStorage.getItem("Hydra.ProvisioningPolicies.PageSize");e&&Number(e)&&(this.paginationPageSize=Number(e))}},{key:"toggleSort",value:function(e){this.sortColumn===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=e,this.sortDirection="asc"),this.applySorting()}},{key:"selectionChanged",value:function(e,t){e.IsSelected=t,t?this.selectedPolicyIds.add(e.Id):this.selectedPolicyIds.delete(e.Id),this.countSelected()}},{key:"selectAll",value:function(e){e?this.selectAllOnPage(this.provisioningPolicies):this.deselectAllOnPage(this.provisioningPolicies),this.countSelected()}},{key:"selectPage",value:function(){var e=this.getPoliciesPageSlice();e.every(function(e){return e.IsSelected})?this.deselectAllOnPage(e):this.selectAllOnPage(e),this.countSelected()}},{key:"clearSearch",value:function(){this.searchFormControl.setValue("")}},{key:"clearFilters",value:function(){var e;this.filterState=n(n({},this.filterState),{},{columnFilters:{}}),this.paginationCurrentPage=1,null===(e=this.filterTriggers)||void 0===e||e.forEach(function(e){return e.resetAllFilters()}),this.applyAllFilters()}},{key:"saveLocalConfig",value:function(){localStorage.setItem("Hydra.ProvisioningPolicies.PageSize",this.paginationPageSize.toString())}},{key:"update",value:function(){this.provisioningPolicies$.next()}},{key:"populateFiltersSet",value:function(t){var n=e(t,2),r=n[0],i=n[1];this.filterState.columnFilters[i]=r.filter(function(e){return e.checked}).map(function(e){return e.label.toLowerCase()}),this.applyAllFilters()}},{key:"countSelected",value:function(){this.selectedPolicies=this.provisioningPolicies.filter(function(e){return e.IsSelected})}},{key:"getPoliciesPageSlice",value:function(){return this.provisioningPolicies.slice((this.paginationCurrentPage-1)*this.paginationPageSize,this.paginationCurrentPage*this.paginationPageSize)}},{key:"selectAllOnPage",value:function(e){var t=this;e.forEach(function(e){e.IsSelected=!0,t.selectedPolicyIds.add(e.Id)})}},{key:"deselectAllOnPage",value:function(e){var t=this;e.forEach(function(e){e.IsSelected=!1,t.selectedPolicyIds.delete(e.Id)})}},{key:"preserveSelection",value:function(e){var t=this;return e.map(function(e){return n(n({},e),{},{IsSelected:t.selectedPolicyIds.has(e.Id)})})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"initProvisioningPolicies",value:function(){var e=this;this.isLoading=!0,this.provisioningPolicies$.pipe((0,h.O)(0),(0,P.w)(function(){return(0,p.H)(0,x.tc.autoRefreshDefault)}),(0,P.w)(function(){return e.wd365Service.getProvisioningPolicies()}),(0,b.a)(this.retryApiCallWithToastCallback),(0,g.K)(this.handleApiErrorCallback),(0,m.R)(this.destroyed$)).subscribe(function(t){var n=e.preserveSelection(t);e.provisioningPoliciesCache=i(n),e.applyAllFilters(),e.isLoading=!1,e.updateEmptyStateVisibility()})}},{key:"updateEmptyStateVisibility",value:function(){this.isEmptyStateVisible=!this.isLoading&&0===this.provisioningPolicies.length}},{key:"initTableSearch",value:function(){var e=this;this.searchFormControl.valueChanges.pipe((0,v.b)(k.XU),(0,y.x)(),(0,m.R)(this.destroyed$)).subscribe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.filterState.searchQuery=t.trim(),e.applyAllFilters()})}},{key:"applyAllFilters",value:function(){var e=this;this.paginationCurrentPage=1;var t=i(this.provisioningPoliciesCache);Object.keys(this.filterState.columnFilters).some(function(t){var n;return(null===(n=e.filterState.columnFilters[t])||void 0===n?void 0:n.length)>0})&&(t=this.applyColumnFilters(t)),this.filterState.searchQuery&&(t=this.applySearchFilter(t)),this.provisioningPolicies=t,this.updateEmptyStateVisibility(),this.applySorting()}},{key:"applySorting",value:function(){this.sortColumn&&this.sortByPropertyPath(this.sortColumn)}},{key:"applyColumnFilters",value:function(e){var t=this,n=Object.keys(this.filterState.columnFilters).filter(function(e){var n;return(null===(n=t.filterState.columnFilters[e])||void 0===n?void 0:n.length)>0});return n.length?e.filter(function(e){return n.every(function(n){var r,i=t.filterState.columnFilters[n],o=null===(r=function(e,t){var n,r,i,o,a;switch(t){case"SceneName":return e.Scene;case"DisplayName":return null===(n=e.Resource)||void 0===n?void 0:n.DisplayName;case"ImageDisplayName":return null===(r=e.Resource)||void 0===r?void 0:r.ImageDisplayName;case"UserExperienceType":return N(e.UserExperienceType);case"ImageType":return _(null===(i=e.Resource)||void 0===i?void 0:i.ImageType);case"CreatedBy":return null===(o=e.Resource)||void 0===o?void 0:o.CreatedBy;case"ProvisioningType":return M(null===(a=e.Resource)||void 0===a?void 0:a.ProvisioningType);default:return""}}(e,n))||void 0===r?void 0:r.toLowerCase();return i.includes(o)})}):e}},{key:"applySearchFilter",value:function(e){var t,n=null===(t=this.filterState)||void 0===t?void 0:t.searchQuery.toLowerCase();return e.filter(function(e){var t,r,i,o,a,l,c,s,u,p,d,f=null!==(r=null===(t=e.Scene)||void 0===t?void 0:t.toLowerCase())&&void 0!==r?r:"",h=null!==(a=null===(o=null===(i=e.Resource)||void 0===i?void 0:i.DisplayName)||void 0===o?void 0:o.toLowerCase())&&void 0!==a?a:"",g=null!==(s=null===(c=null===(l=e.Resource)||void 0===l?void 0:l.ImageDisplayName)||void 0===c?void 0:c.toLowerCase())&&void 0!==s?s:"",m=null!==(d=null===(p=null===(u=e.Resource)||void 0===u?void 0:u.CreatedBy)||void 0===p?void 0:p.toLowerCase())&&void 0!==d?d:"";return(null==f?void 0:f.includes(n))||(null==h?void 0:h.includes(n))||(null==g?void 0:g.includes(n))||(null==m?void 0:m.includes(n))})}},{key:"sortByPropertyPath",value:function(e){var t=this,n=e.split(".");this.provisioningPolicies.sort(function(e,r){var i=t.getNestedProperty(e,n),o=t.getNestedProperty(r,n);return i=null==i?"":i,o=null==o?"":o,"asc"===t.sortDirection?i>o?1:i<o?-1:0:i<o?1:i>o?-1:0})}},{key:"getNestedProperty",value:function(e,t){return t.reduce(function(e,t){return e&&void 0!==e[t]?e[t]:void 0},e)}},{key:"showDangerToast",value:function(e,t){this.toastrService.danger(t,e,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:T.fe3.TOP_RIGHT,preventDuplicates:!0})}}]),t}(),Oe.\u0275fac=function(e){return new(e||Oe)(R["\u0275\u0275directiveInject"](O.G),R["\u0275\u0275directiveInject"](T.quB))},Oe.\u0275cmp=R["\u0275\u0275defineComponent"]({type:Oe,selectors:[["ngx-provisioning-policies"]],viewQuery:function(e,t){var n;1&e&&R["\u0275\u0275viewQuery"](B,5),2&e&&R["\u0275\u0275queryRefresh"](n=R["\u0275\u0275loadQuery"]())&&(t.filterTriggers=n)},decls:11,vars:2,consts:[[4,"ngIf"],["tableHeaderCellTpl",""],["sortTableIconTpl",""],[1,"row"],[1,"col-md-5"],["for","search_query",1,"w-100"],[1,"search-input-wrapper"],["id","search_query","type","text","placeholder","Search for tenant, name, image, or creator","nbInput","","fullWidth","",1,"search-input",3,"formControl"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"align-top"],["headerRow",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","d-flex justify-content-center",3,"page","collectionSize","maxSize","boundaryLinks","pageSize","pageChange",4,"ngIf"],[1,"d-flex","justify-content-center","p-2"],["nbTooltip","How many rows to list on one page",3,"ngModel","ngModelChange","selectedChange",4,"ngIf"],["type","button","nbButton","","status","semi-round",3,"click"],["icon","refresh"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click"],["icon","close-outline"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","p-5"],[3,"filterState","clearSearchClick","clearFiltersClick"],[1,"d-flex","justify-content-center",3,"page","collectionSize","maxSize","boundaryLinks","pageSize","pageChange"],["nbTooltip","How many rows to list on one page",3,"ngModel","ngModelChange","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"align-top",3,"click"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[3,"resourcePath","filterName","dataSource","filtersChanges",4,"ngIf"],[3,"resourcePath","filterName","dataSource","filtersChanges"],[1,"sort-direction-icon","mr-1",3,"nbTooltip","icon"]],template:function(e,t){1&e&&(R["\u0275\u0275elementStart"](0,"nb-card"),R["\u0275\u0275elementStart"](1,"nb-card-header"),R["\u0275\u0275elementStart"](2,"h1"),R["\u0275\u0275text"](3,"Provisioning Policies"),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementStart"](4,"nb-card-body"),R["\u0275\u0275template"](5,Q,1,0,"nb-spinner",0),R["\u0275\u0275template"](6,xe,29,34,"ng-container",0),R["\u0275\u0275elementEnd"](),R["\u0275\u0275elementEnd"](),R["\u0275\u0275template"](7,Ie,7,6,"ng-template",null,1,R["\u0275\u0275templateRefExtractor"]),R["\u0275\u0275template"](9,Fe,1,1,"ng-template",null,2,R["\u0275\u0275templateRefExtractor"])),2&e&&(R["\u0275\u0275advance"](5),R["\u0275\u0275property"]("ngIf",t.isLoading),R["\u0275\u0275advance"](1),R["\u0275\u0275property"]("ngIf",!t.isLoading))},directives:[T.Asz,T.ndF,T.yKW,a.O5,T.Tzq,T.jBG,T.h8i,F.Fj,F.JJ,F.oH,a.tP,T.DPz,T.fMN,T.jNv,T.yyc,a.sg,j.$,L.N9,T.rs,F.On,T.q51,B],pipes:[a.OU],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(.skip-sorting){-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}[_nghost-%COMP%]   .sort-direction-icon[_ngcontent-%COMP%]{font-size:1em;cursor:default}"]}),Oe)}],_e=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=R["\u0275\u0275defineInjector"]({imports:[[c.Bz.forChild(Ne)],c.Bz]}),e}(),Me=o(66911),Re=o(61367),Ue=o(88100),ze=((Ae=function e(){l(this,e)}).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275mod=R["\u0275\u0275defineNgModule"]({type:Ae}),Ae.\u0275inj=R["\u0275\u0275defineInjector"]({imports:[[a.ez,_e,Me.m,F.u5,T.zyh,T.KdK,L.jF,T.T2N,T.uuI,T.MAY,T.MfT,T.nKr,T.rgH,F.UX,Re.H,Ue.Z,T.spT,T.x4g,T.IIj,T.V7y]]}),Ae)},34681:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var r=n(47349),i=n(92340),o=n(37716),a=n(91841),c=function(){var e=function(){function e(t){l(this,e),this.httpClient=t,this.apiUrl="".concat(i.N.apiUrl,"/data/scenes"),this.ALL_TENANTS_ID="00000000-0000-0000-0000-000000000000"}return s(e,[{key:"getAllCloudPCs",value:function(){return this.httpClient.get("".concat(this.apiUrl,"/").concat(this.ALL_TENANTS_ID,"/win365/cloudpcs")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"getClouPcMigrationSnapshots",value:function(){return this.httpClient.get("".concat(this.apiUrl,"/").concat(this.ALL_TENANTS_ID,"/win365/snapshotImports")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"getCloudPcSnapshots",value:function(e,t){return this.httpClient.get("".concat(this.apiUrl,"/").concat(e,"/win365/cloudpcs/").concat(t,"/snapshots")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"getProvisioningPolicies",value:function(){return this.httpClient.get("".concat(this.apiUrl,"/").concat(this.ALL_TENANTS_ID,"/win365/provisioningpolicies")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"getUserSettings",value:function(){return this.httpClient.get("".concat(this.apiUrl,"/").concat(this.ALL_TENANTS_ID,"/win365/settings")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"saveUserSettings",value:function(e,t){return this.httpClient.post("".concat(this.apiUrl,"/").concat(e,"/win365/settings"),t).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"removeUserSettings",value:function(e,t){return this.httpClient.delete("".concat(this.apiUrl,"/").concat(e,"/win365/settings"),{body:t}).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"getSupportedRegions",value:function(e){return this.httpClient.get("".concat(this.apiUrl,"/").concat(e,"/win365/supportedRegions")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}},{key:"getViewScenes",value:function(){return this.httpClient.get("".concat(i.N.apiUrl,"/data/views/win365/scenes")).pipe((0,r.d)({refCount:!0,bufferSize:1}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();