/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.25.1(336c463ee6c20d8a49e40d099b9178def0df6b18)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var Q=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/base/common/errors","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/editor/common/config/editorOptions","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/base/browser/browser","vs/editor/common/controller/cursorCommon","vs/base/common/keyCodes","vs/base/common/objects","vs/base/browser/ui/aria/aria","vs/editor/common/modes/languageConfigurationRegistry","vs/base/common/network","vs/base/common/resources","vs/editor/browser/view/viewPart","vs/platform/configuration/common/configuration","vs/editor/common/view/editorColorRegistry","vs/base/common/actions","vs/base/common/map","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/event","vs/base/browser/keyboardEvent","vs/base/browser/mouseEvent","vs/editor/common/core/editOperation","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/platform/progress/common/progress","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/editor/browser/config/configuration","vs/base/common/filters","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/editor/browser/core/editorState","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/stopwatch","vs/base/common/htmlContent","vs/editor/common/core/stringBuilder","vs/base/browser/ui/actionbar/actionbar","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/decorators","vs/base/common/functional","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/browser/view/dynamicViewOverlay","vs/editor/common/core/lineTokens","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/numbers","vs/base/common/buffer","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/platform/theme/common/styler","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/wordHelper","vs/editor/contrib/codeAction/types","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/controller/cursorWordOperations","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/find/findModel","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/browser/dnd","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/common/diff/diff","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/common/viewLayout/lineDecorations","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/browser/controller/mouseTarget","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/mime","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelEvents","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetAdapterModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/insane/insane","vs/editor/edcore.main"],J=function($){for(var e=[],S=0,k=$.length;S<k;S++)e[S]=Q[$[S]];return e},kt;(function($){var e=function(){function k(){this._pendingLoads=0}return k.prototype.attachListeners=function(M,y,w,p){var v=function(){y.removeEventListener("load",i),y.removeEventListener("error",_)},i=function(s){v(),w()},_=function(s){v(),p(s)};y.addEventListener("load",i),y.addEventListener("error",_)},k.prototype._onLoad=function(M,y){this._pendingLoads--,y()},k.prototype._onLoadError=function(M,y,w){this._pendingLoads--,y(w)},k.prototype._insertLinkNode=function(M){this._pendingLoads++;var y=document.head||document.getElementsByTagName("head")[0],w=y.getElementsByTagName("link")||y.getElementsByTagName("script");w.length>0?y.insertBefore(M,w[w.length-1]):y.appendChild(M)},k.prototype.createLinkTag=function(M,y,w,p){var v=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",M);var _=function(){return v._onLoad(M,w)},s=function(a){return v._onLoadError(M,p,a)};return this.attachListeners(M,i,_,s),i.setAttribute("href",y),i},k.prototype._linkTagExists=function(M,y){var w,p,v,i,_=document.getElementsByTagName("link");for(w=0,p=_.length;w<p;w++)if(v=_[w].getAttribute("data-name"),i=_[w].getAttribute("href"),v===M||i===y)return!0;return!1},k.prototype.load=function(M,y,w,p){if(this._linkTagExists(M,y)){w();return}var v=this.createLinkTag(M,y,w,p);this._insertLinkNode(v)},k}(),S=function(){function k(){this._cssLoader=new e}return k.prototype.load=function(M,y,w,p){p=p||{};var v=p["vs/css"]||{};if(v.disabled){w({});return}var i=y.toUrl(M+".css");this._cssLoader.load(M,i,function(_){w({})},function(_){typeof w.error=="function"&&w.error("Could not find "+i+" or it was empty")})},k}();$.CSSPlugin=S,define("vs/css",new S)})(kt||(kt={}));var ai=this&&this.__spreadArrays||function(){for(var $=0,e=0,S=arguments.length;e<S;e++)$+=arguments[e].length;for(var k=Array($),M=0,e=0;e<S;e++)for(var y=arguments[e],w=0,p=y.length;w<p;w++,M++)k[M]=y[w];return k},Mt;(function($){var e=function(){function p(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(p.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),p.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},p}();function S(p,v,i){var _;return v.length===0?_=p:_=p.replace(/\{(\d+)\}/g,function(s,a){var u=a[0],c=v[u],d=s;return typeof c=="string"?d=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(d=String(c)),d}),i.isPseudo&&(_="\uFF3B"+_.replace(/[aouei]/g,"$&$&")+"\uFF3D"),_}function k(p,v){var i=p[v];return i||(i=p["*"],i)?i:null}function M(p,v,i){for(var _=[],s=3;s<arguments.length;s++)_[s-3]=arguments[s];return S(i,_,p)}function y(p,v){return function(i,_){var s=Array.prototype.slice.call(arguments,2);return S(p[i],s,v)}}var w=function(){function p(v){var i=this;this._env=v,this.localize=function(_,s){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];return M.apply(void 0,ai([i._env,_,s],a))}}return p.prototype.setPseudoTranslation=function(v){this._env._isPseudo=v},p.prototype.create=function(v,i){return{localize:y(i[v],this._env)}},p.prototype.load=function(v,i,_,s){var a=this;if(s=s||{},!v||v.length===0)_({localize:this.localize});else{var u=s["vs/nls"]||{},c=u.availableLanguages?k(u.availableLanguages,v):null,d=".nls";c!==null&&c!==p.DEFAULT_TAG&&(d=d+"."+c);var r=function(n){Array.isArray(n)?n.localize=y(n,a._env):n.localize=y(n[v],a._env),_(n)};typeof u.loadBundle=="function"?u.loadBundle(v,c,function(n,o){n?i([v+".nls"],r):r(o)}):i([v+d],r)}},p.DEFAULT_TAG="i-default",p}();$.NLSPlugin=w,define("vs/nls",new w(new e))})(Mt||(Mt={})),define(Q[151],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class S{constructor(M){this.data=M}update(){}getData(){return this.data}}e.DragAndDropData=S,e.StaticDND={CurrentDragAndDropData:void 0}}),define(Q[30],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class S{constructor(y){this.domNode=y,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){this._maxWidth!==y&&(this._maxWidth=y,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(y){this._width!==y&&(this._width=y,this.domNode.style.width=this._width+"px")}setHeight(y){this._height!==y&&(this._height=y,this.domNode.style.height=this._height+"px")}setTop(y){this._top!==y&&(this._top=y,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(y){this._left!==y&&(this._left=y,this.domNode.style.left=this._left+"px")}setBottom(y){this._bottom!==y&&(this._bottom=y,this.domNode.style.bottom=this._bottom+"px")}setRight(y){this._right!==y&&(this._right=y,this.domNode.style.right=this._right+"px")}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){this._fontSize!==y&&(this._fontSize=y,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(y){this._lineHeight!==y&&(this._lineHeight=y,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(y){this._letterSpacing!==y&&(this._letterSpacing=y,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,w){this.domNode.classList.toggle(y,w),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,w){this.domNode.setAttribute(y,w)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=S;function k(M){return new S(M)}e.createFastDomNode=k}),define(Q[195],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let S=!1,k=null;function M(w){if(!w.parent||w.parent===w)return null;try{let p=w.location,v=w.parent.location;if(p.origin!=="null"&&v.origin!=="null"&&(p.protocol!==v.protocol||p.hostname!==v.hostname||p.port!==v.port))return S=!0,null}catch(p){return S=!0,null}return w.parent}class y{static getSameOriginWindowChain(){if(!k){k=[];let p=window,v;do v=M(p),v?k.push({window:p,iframeElement:p.frameElement||null}):k.push({window:p,iframeElement:null}),p=v;while(p)}return k.slice(0)}static hasDifferentOriginAncestor(){return k||this.getSameOriginWindowChain(),S}static getPositionOfChildWindowRelativeToAncestorWindow(p,v){if(!v||p===v)return{top:0,left:0};let i=0,_=0,s=this.getSameOriginWindowChain();for(const a of s){if(i+=a.window.scrollY,_+=a.window.scrollX,a.window===v||!a.iframeElement)break;let u=a.iframeElement.getBoundingClientRect();i+=u.top,_+=u.left}return{top:i,left:_}}}e.IframeUtils=y}),define(Q[281],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class S extends Error{constructor(M,y){super(`ListError [${M}] ${y}`)}}e.ListError=S}),define(Q[282],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class S{constructor(M){this.spliceables=M}splice(M,y,w){this.spliceables.forEach(p=>p.splice(M,y,w))}}e.CombinedSpliceable=S}),define(Q[196],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const S=20;class k{constructor(y,w,p,v,i,_){this._scrollbarSize=Math.round(w),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(y),this._visibleSize=v,this._scrollSize=i,this._scrollPosition=_,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(y){const w=Math.round(y);return this._visibleSize!==w?(this._visibleSize=w,this._refreshComputedValues(),!0):!1}setScrollSize(y){const w=Math.round(y);return this._scrollSize!==w?(this._scrollSize=w,this._refreshComputedValues(),!0):!1}setScrollPosition(y){const w=Math.round(y);return this._scrollPosition!==w?(this._scrollPosition=w,this._refreshComputedValues(),!0):!1}setScrollbarSize(y){this._scrollbarSize=y}static _computeValues(y,w,p,v,i){const _=Math.max(0,p-y),s=Math.max(0,_-2*w),a=v>0&&v>p;if(!a)return{computedAvailableSize:Math.round(_),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const u=Math.round(Math.max(S,Math.floor(p*s/v))),c=(s-u)/(v-p),d=i*c;return{computedAvailableSize:Math.round(_),computedIsNeeded:a,computedSliderSize:Math.round(u),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const y=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=y.computedAvailableSize,this._computedIsNeeded=y.computedIsNeeded,this._computedSliderSize=y.computedSliderSize,this._computedSliderRatio=y.computedSliderRatio,this._computedSliderPosition=y.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(y){if(!this._computedIsNeeded)return 0;const w=y-this._arrowSize-this._computedSliderSize/2;return Math.round(w/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(y){if(!this._computedIsNeeded)return 0;const w=y-this._arrowSize;let p=this._scrollPosition;return w<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(y){if(!this._computedIsNeeded)return 0;const w=this._computedSliderPosition+y;return Math.round(w/this._computedSliderRatio)}}e.ScrollbarState=k}),define(Q[100],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var S;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element"})(S=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class k extends Error{constructor(w,p){super(`TreeError [${w}] ${p}`)}}e.TreeError=k;class M{constructor(w){this.fn=w,this._map=new WeakMap}map(w){let p=this._map.get(w);return p||(p=this.fn(w),this._map.set(w,p)),p}}e.WeakMapper=M}),define(Q[19],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function S(h,m=0){return h[h.length-(1+m)]}e.tail=S;function k(h){if(h.length===0)throw new Error("Invalid tail call");return[h.slice(0,h.length-1),h[h.length-1]]}e.tail2=k;function M(h,m,C=(g,f)=>g===f){if(h===m)return!0;if(!h||!m||h.length!==m.length)return!1;for(let g=0,f=h.length;g<f;g++)if(!C(h[g],m[g]))return!1;return!0}e.equals=M;function y(h,m,C){let g=0,f=h.length-1;for(;g<=f;){const b=(g+f)/2|0,L=C(h[b],m);if(L<0)g=b+1;else if(L>0)f=b-1;else return b}return-(g+1)}e.binarySearch=y;function w(h,m){let C=0,g=h.length;if(g===0)return 0;for(;C<g;){const f=Math.floor((C+g)/2);m(h[f])?g=f:C=f+1}return C}e.findFirstInSorted=w;function p(h,m,C){if(h=h|0,h>=m.length)throw new TypeError("invalid index");let g=m[Math.floor(m.length*Math.random())],f=[],b=[],L=[];for(let N of m){const D=C(N,g);D<0?f.push(N):D>0?b.push(N):L.push(N)}return h<f.length?p(h,f,C):h<f.length+L.length?L[0]:p(h-(f.length+L.length),b,C)}e.quickSelect=p;function v(h,m){const C=[];let g;for(const f of h.slice(0).sort(m))!g||m(g[0],f)!==0?(g=[f],C.push(g)):g.push(f);return C}e.groupBy=v;function i(h){return h.filter(m=>!!m)}e.coalesce=i;function _(h){return!Array.isArray(h)||h.length===0}e.isFalsyOrEmpty=_;function s(h){return Array.isArray(h)&&h.length>0}e.isNonEmptyArray=s;function a(h,m){if(!m)return h.filter((g,f)=>h.indexOf(g)===f);const C=Object.create(null);return h.filter(g=>{const f=m(g);return C[f]?!1:(C[f]=!0,!0)})}e.distinct=a;function u(h){const m=new Set;return h.filter(C=>m.has(C)?!1:(m.add(C),!0))}e.distinctES6=u;function c(h,m){return h.length>0?h[0]:m}e.firstOrDefault=c;function d(h){return[].concat(...h)}e.flatten=d;function r(h,m){let C=typeof m=="number"?h:0;typeof m=="number"?C=h:(C=0,m=h);const g=[];if(C<=m)for(let f=C;f<m;f++)g.push(f);else for(let f=C;f>m;f--)g.push(f);return g}e.range=r;function n(h,m,C){const g=h.slice(0,m),f=h.slice(m);return g.concat(C,f)}e.arrayInsert=n;function o(h,m){const C=h.indexOf(m);C>-1&&(h.splice(C,1),h.unshift(m))}e.pushToStart=o;function t(h,m){const C=h.indexOf(m);C>-1&&(h.splice(C,1),h.push(m))}e.pushToEnd=t;function l(h){return Array.isArray(h)?h:[h]}e.asArray=l}),define(Q[197],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function S(k,M){if(!k)throw new Error(M?`Assertion failed (${M})`:"Assertion Failed")}e.ok=S}),define(Q[198],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const S=Object.prototype.hasOwnProperty;function k(y,w){for(let p in y)if(S.call(y,p)&&w({key:p,value:y[p]},function(){delete y[p]})===!1)return}e.forEach=k;class M{constructor(){this.map=new Map}add(w,p){let v=this.map.get(w);v||(v=new Set,this.map.set(w,v)),v.add(p)}delete(w,p){const v=this.map.get(w);!v||(v.delete(p),v.size===0&&this.map.delete(w))}forEach(w,p){const v=this.map.get(w);!v||v.forEach(p)}}e.SetMap=M}),define(Q[29],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function S(p,v){const i=Math.pow(10,v);return Math.round(p*i)/i}class k{constructor(v,i,_,s=1){this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,_))|0,this.a=S(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.r===i.r&&v.g===i.g&&v.b===i.b&&v.a===i.a}}e.RGBA=k;class M{constructor(v,i,_,s){this.h=Math.max(Math.min(360,v),0)|0,this.s=S(Math.max(Math.min(1,i),0),3),this.l=S(Math.max(Math.min(1,_),0),3),this.a=S(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.h===i.h&&v.s===i.s&&v.l===i.l&&v.a===i.a}static fromRGBA(v){const i=v.r/255,_=v.g/255,s=v.b/255,a=v.a,u=Math.max(i,_,s),c=Math.min(i,_,s);let d=0,r=0;const n=(c+u)/2,o=u-c;if(o>0){switch(r=Math.min(n<=.5?o/(2*n):o/(2-2*n),1),u){case i:d=(_-s)/o+(_<s?6:0);break;case _:d=(s-i)/o+2;break;case s:d=(i-_)/o+4;break}d*=60,d=Math.round(d)}return new M(d,r,n,a)}static _hue2rgb(v,i,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?v+(i-v)*6*_:_<1/2?i:_<2/3?v+(i-v)*(2/3-_)*6:v}static toRGBA(v){const i=v.h/360,{s:_,l:s,a}=v;let u,c,d;if(_===0)u=c=d=s;else{const r=s<.5?s*(1+_):s+_-s*_,n=2*s-r;u=M._hue2rgb(n,r,i+1/3),c=M._hue2rgb(n,r,i),d=M._hue2rgb(n,r,i-1/3)}return new k(Math.round(u*255),Math.round(c*255),Math.round(d*255),a)}}e.HSLA=M;class y{constructor(v,i,_,s){this.h=Math.max(Math.min(360,v),0)|0,this.s=S(Math.max(Math.min(1,i),0),3),this.v=S(Math.max(Math.min(1,_),0),3),this.a=S(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.h===i.h&&v.s===i.s&&v.v===i.v&&v.a===i.a}static fromRGBA(v){const i=v.r/255,_=v.g/255,s=v.b/255,a=Math.max(i,_,s),u=Math.min(i,_,s),c=a-u,d=a===0?0:c/a;let r;return c===0?r=0:a===i?r=((_-s)/c%6+6)%6:a===_?r=(s-i)/c+2:r=(i-_)/c+4,new y(Math.round(r*60),d,a,v.a)}static toRGBA(v){const{h:i,s:_,v:s,a}=v,u=s*_,c=u*(1-Math.abs(i/60%2-1)),d=s-u;let[r,n,o]=[0,0,0];return i<60?(r=u,n=c):i<120?(r=c,n=u):i<180?(n=u,o=c):i<240?(n=c,o=u):i<300?(r=c,o=u):i<=360&&(r=u,o=c),r=Math.round((r+d)*255),n=Math.round((n+d)*255),o=Math.round((o+d)*255),new k(r,n,o,a)}}e.HSVA=y;class w{constructor(v){if(v)if(v instanceof k)this.rgba=v;else if(v instanceof M)this._hsla=v,this.rgba=M.toRGBA(v);else if(v instanceof y)this._hsva=v,this.rgba=y.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return w.Format.CSS.parseHex(v)||w.red}get hsla(){return this._hsla?this._hsla:M.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:y.fromRGBA(this.rgba)}equals(v){return!!v&&k.equals(this.rgba,v.rgba)&&M.equals(this.hsla,v.hsla)&&y.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=w._relativeLuminanceForComponent(this.rgba.r),i=w._relativeLuminanceForComponent(this.rgba.g),_=w._relativeLuminanceForComponent(this.rgba.b),s=.2126*v+.7152*i+.0722*_;return S(s,4)}static _relativeLuminanceForComponent(v){const i=v/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const i=this.getRelativeLuminance(),_=v.getRelativeLuminance();return i>_}isDarkerThan(v){const i=this.getRelativeLuminance(),_=v.getRelativeLuminance();return i<_}lighten(v){return new w(new M(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new w(new M(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:i,g:_,b:s,a}=this.rgba;return new w(new k(i,_,s,a*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new w(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+w.Format.CSS.format(this)}static getLighterColor(v,i,_){if(v.isLighterThan(i))return v;_=_||.5;const s=v.getRelativeLuminance(),a=i.getRelativeLuminance();return _=_*(a-s)/a,v.lighten(_)}static getDarkerColor(v,i,_){if(v.isDarkerThan(i))return v;_=_||.5;const s=v.getRelativeLuminance(),a=i.getRelativeLuminance();return _=_*(s-a)/s,v.darken(_)}}e.Color=w,w.white=new w(new k(255,255,255,1)),w.black=new w(new k(0,0,0,1)),w.red=new w(new k(255,0,0,1)),w.blue=new w(new k(0,0,255,1)),w.cyan=new w(new k(0,255,255,1)),w.lightgrey=new w(new k(211,211,211,1)),w.transparent=new w(new k(0,0,0,0)),function(p){let v;(function(i){let _;(function(s){function a(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:p.Format.CSS.formatRGBA(m)}s.formatRGB=a;function u(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}s.formatRGBA=u;function c(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(m)}s.formatHSL=c;function d(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}s.formatHSLA=d;function r(m){const C=m.toString(16);return C.length!==2?"0"+C:C}function n(m){return`#${r(m.rgba.r)}${r(m.rgba.g)}${r(m.rgba.b)}`}s.formatHex=n;function o(m,C=!1){return C&&m.rgba.a===1?p.Format.CSS.formatHex(m):`#${r(m.rgba.r)}${r(m.rgba.g)}${r(m.rgba.b)}${r(Math.round(m.rgba.a*255))}`}s.formatHexA=o;function t(m){return m.isOpaque()?p.Format.CSS.formatHex(m):p.Format.CSS.formatRGBA(m)}s.format=t;function l(m){const C=m.length;if(C===0||m.charCodeAt(0)!==35)return null;if(C===7){const g=16*h(m.charCodeAt(1))+h(m.charCodeAt(2)),f=16*h(m.charCodeAt(3))+h(m.charCodeAt(4)),b=16*h(m.charCodeAt(5))+h(m.charCodeAt(6));return new p(new k(g,f,b,1))}if(C===9){const g=16*h(m.charCodeAt(1))+h(m.charCodeAt(2)),f=16*h(m.charCodeAt(3))+h(m.charCodeAt(4)),b=16*h(m.charCodeAt(5))+h(m.charCodeAt(6)),L=16*h(m.charCodeAt(7))+h(m.charCodeAt(8));return new p(new k(g,f,b,L/255))}if(C===4){const g=h(m.charCodeAt(1)),f=h(m.charCodeAt(2)),b=h(m.charCodeAt(3));return new p(new k(16*g+g,16*f+f,16*b+b))}if(C===5){const g=h(m.charCodeAt(1)),f=h(m.charCodeAt(2)),b=h(m.charCodeAt(3)),L=h(m.charCodeAt(4));return new p(new k(16*g+g,16*f+f,16*b+b,(16*L+L)/255))}return null}s.parseHex=l;function h(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(_=i.CSS||(i.CSS={}))})(v=p.Format||(p.Format={}))}(w=e.Color||(e.Color={}))}),define(Q[89],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function S(k,M,y){let w=null,p=null;if(typeof y.value=="function"?(w="value",p=y.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof y.get=="function"&&(w="get",p=y.get),!p)throw new Error("not supported");const v=`$memoize$${M}`;y[w]=function(...i){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,i)}),this[v]}}e.memoize=S}),define(Q[283],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class S{constructor(M,y,w,p){this.originalStart=M,this.originalLength=y,this.modifiedStart=w,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=S}),define(Q[12],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class S{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(()=>{throw a.stack?new Error(a.message+`

`+a.stack):a},0)}}emit(a){this.listeners.forEach(u=>{u(a)})}onUnexpectedError(a){this.unexpectedErrorHandler(a),this.emit(a)}onUnexpectedExternalError(a){this.unexpectedErrorHandler(a)}}e.ErrorHandler=S,e.errorHandler=new S;function k(s){p(s)||e.errorHandler.onUnexpectedError(s)}e.onUnexpectedError=k;function M(s){p(s)||e.errorHandler.onUnexpectedExternalError(s)}e.onUnexpectedExternalError=M;function y(s){if(s instanceof Error){let{name:a,message:u}=s;const c=s.stacktrace||s.stack;return{$isError:!0,name:a,message:u,stack:c}}return s}e.transformErrorForSerialization=y;const w="Canceled";function p(s){return s instanceof Error&&s.name===w&&s.message===w}e.isPromiseCanceledError=p;function v(){const s=new Error(w);return s.name=s.message,s}e.canceled=v;function i(s){return s?new Error(`Illegal argument: ${s}`):new Error("Illegal argument")}e.illegalArgument=i;function _(s){return s?new Error(`Illegal state: ${s}`):new Error("Illegal state")}e.illegalState=_}),define(Q[90],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function S(k){const M=this;let y=!1,w;return function(){return y||(y=!0,w=k.apply(M,arguments)),w}}e.once=S}),define(Q[123],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class S{constructor(M){this._prefix=M,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=S,e.defaultGenerator=new S("id#")});let Tt;(function(){function $(e,S,k){function M(p,v){if(!S[p]){if(!e[p]){var i=typeof require=="function"&&require;if(!v&&i)return i(p,!0);if(y)return y(p,!0);var _=new Error("Cannot find module '"+p+"'");throw _.code="MODULE_NOT_FOUND",_}var s=S[p]={exports:{}};e[p][0].call(s.exports,function(a){var u=e[p][1][a];return M(u||a)},s,s.exports,$,e,S,k)}return S[p].exports}for(var y=typeof require=="function"&&require,w=0;w<k.length;w++)M(k[w]);return M}return $})()({1:[function($,e,S){"use strict";var k=$("./toMap"),M=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:k(M)}},{"./toMap":10}],2:[function($,e,S){"use strict";var k={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=k},{}],3:[function($,e,S){"use strict";var k=$("./toMap"),M=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:k(M)}},{"./toMap":10}],4:[function($,e,S){"use strict";var k=$("he"),M=$("assignment"),y=$("./parser"),w=$("./sanitizer"),p=$("./defaults");function v(i,_,s){var a=[],u=s===!0?_:M({},p,_),c=w(a,u);return y(i,c),a.join("")}v.defaults=p,e.exports=v,Tt=v},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function($,e,S){"use strict";e.exports=function(M){return typeof M=="string"?M.toLowerCase():M}},{}],6:[function($,e,S){"use strict";function k(M){for(var y=Array.prototype.slice.call(arguments,1),w,p;y.length;){w=y.shift();for(p in w)w.hasOwnProperty(p)&&(Object.prototype.toString.call(M[p])==="[object Object]"?M[p]=k(M[p],w[p]):M[p]=w[p])}return M}e.exports=k},{}],7:[function($,e,S){"use strict";var k=$("he"),M=$("./lowercase"),y=$("./attributes"),w=$("./elements"),p=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,v=/^<\s*\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,_=/^</,s=/^<\s*\//;function a(){var c=[];return c.lastItem=function(){return c[c.length-1]},c}function u(c,d){for(var r=a(),n=c,o;c;)t();f();function t(){o=!0,l();var b=c===n;n=c,b&&(c="")}function l(){c.substr(0,4)==="<!--"?m():s.test(c)?h(v,f):_.test(c)&&h(p,g),C()}function h(b,L){var N=c.match(b);N&&(c=c.substring(N[0].length),N[0].replace(b,L),o=!1)}function m(){var b=c.indexOf("-->");b>=0&&(d.comment&&d.comment(c.substring(4,b)),c=c.substring(b+3),o=!1)}function C(){if(!!o){var b,L=c.indexOf("<");L>=0?(b=c.substring(0,L),c=c.substring(L)):(b=c,c=""),d.chars&&d.chars(b)}}function g(b,L,N,D){var I={},T=M(L),A=w.voids[T]||!!D;N.replace(i,R),A||r.push(T),d.start&&d.start(T,I,A);function R(O,P,F,E,x){F===void 0&&E===void 0&&x===void 0?I[P]=void 0:I[P]=k.decode(F||E||x||"")}}function f(b,L){var N,D=0,I=M(L);if(I)for(D=r.length-1;D>=0&&r[D]!==I;D--);if(D>=0){for(N=r.length-1;N>=D;N--)d.end&&d.end(r[N]);r.length=D}}}e.exports=u},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function($,e,S){"use strict";var k=$("he"),M=$("./lowercase"),y=$("./attributes"),w=$("./elements");function p(v,i){var _,s,a=i||{};return l(),{start:c,end:d,chars:n};function u(h){v.push(h)}function c(h,m,C){var g=M(h);if(s.ignoring){o(g);return}if((a.allowedTags||[]).indexOf(g)===-1){o(g);return}if(a.filter&&!a.filter({tag:g,attrs:m})){o(g);return}u("<"),u(g),Object.keys(m).forEach(f),u(C?"/>":">");function f(b){var L=m[b],N=(a.allowedClasses||{})[g]||[],D=(a.allowedAttributes||{})[g]||[];D=D.concat((a.allowedAttributes||{})["*"]||[]);var I,T=M(b);T==="class"&&D.indexOf(T)===-1?(L=L.split(" ").filter(A).join(" ").trim(),I=L.length):I=D.indexOf(T)!==-1&&(y.uris[T]!==!0||r(L)),I&&(u(" "),u(b),typeof L=="string"&&(u('="'),u(k.encode(L)),u('"')));function A(R){return N&&N.indexOf(R)!==-1}}}function d(h){var m=M(h),C=(a.allowedTags||[]).indexOf(m)!==-1;C&&s.ignoring===!1?(u("</"),u(m),u(">")):t(m)}function r(h){var m=h[0];if(m==="#"||m==="/")return!0;var C=h.indexOf(":");if(C===-1)return!0;var g=h.indexOf("?");if(g!==-1&&C>g)return!0;var f=h.indexOf("#");if(f!==-1&&C>f)return!0;return a.allowedSchemes.some(b);function b(L){return h.indexOf(L+":")===0}}function n(h){s.ignoring===!1&&u(a.transformText?a.transformText(h):h)}function o(h){w.voids[h]||(s.ignoring===!1?s={ignoring:h,depth:1}:s.ignoring===h&&s.depth++)}function t(h){s.ignoring===h&&--s.depth<=0&&l()}function l(){s={ignoring:!1,depth:0}}}e.exports=p},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function($,e,S){"use strict";var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},y=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,w=/[&<>"']/g;function p(s){return k[s]}function v(s){return M[s]}function i(s){return s==null?"":String(s).replace(w,p)}function _(s){return s==null?"":String(s).replace(y,v)}i.options=_.options={},e.exports={encode:i,escape:i,decode:_,unescape:_,version:"1.0.0-browser"}},{}],10:[function($,e,S){"use strict";function k(y){return y.reduce(M,{})}function M(y,w){return y[w]=!0,y}e.exports=k},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:Tt}}),define(Q[53],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var S;(function(k){function M(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}k.is=M;const y=Object.freeze([]);function w(){return y}k.empty=w;function*p(h){yield h}k.single=p;function v(h){return h||y}k.from=v;function i(h){return!h||h[Symbol.iterator]().next().done===!0}k.isEmpty=i;function _(h){return h[Symbol.iterator]().next().value}k.first=_;function s(h,m){for(const C of h)if(m(C))return!0;return!1}k.some=s;function a(h,m){for(const C of h)if(m(C))return C}k.find=a;function*u(h,m){for(const C of h)m(C)&&(yield C)}k.filter=u;function*c(h,m){let C=0;for(const g of h)yield m(g,C++)}k.map=c;function*d(...h){for(const m of h)for(const C of m)yield C}k.concat=d;function*r(h){for(const m of h)for(const C of m)yield C}k.concatNested=r;function n(h,m,C){let g=C;for(const f of h)g=m(g,f);return g}k.reduce=n;function*o(h,m,C=h.length){for(m<0&&(m+=h.length),C<0?C+=h.length:C>h.length&&(C=h.length);m<C;m++)yield h[m]}k.slice=o;function t(h,m=Number.POSITIVE_INFINITY){const C=[];if(m===0)return[C,h];const g=h[Symbol.iterator]();for(let f=0;f<m;f++){const b=g.next();if(b.done)return[C,k.empty()];C.push(b.value)}return[C,{[Symbol.iterator](){return g}}]}k.consume=t;function l(h,m,C=(g,f)=>g===f){const g=h[Symbol.iterator](),f=m[Symbol.iterator]();for(;;){const b=g.next(),L=f.next();if(b.done!==L.done)return!1;if(b.done)return!0;if(!C(b.value,L.value))return!1}}k.equals=l})(S=e.Iterable||(e.Iterable={}))}),define(Q[40],J([0,1,12]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class k{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,n){this._keyCodeToStr[r]=n,this._strToKeyCode[n.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const M=new k,y=new k,w=new k;(function(){function d(r,n,o=n,t=o){M.define(r,n),y.define(r,o),w.define(r,t)}d(0,"unknown"),d(1,"Backspace"),d(2,"Tab"),d(3,"Enter"),d(4,"Shift"),d(5,"Ctrl"),d(6,"Alt"),d(7,"PauseBreak"),d(8,"CapsLock"),d(9,"Escape"),d(10,"Space"),d(11,"PageUp"),d(12,"PageDown"),d(13,"End"),d(14,"Home"),d(15,"LeftArrow","Left"),d(16,"UpArrow","Up"),d(17,"RightArrow","Right"),d(18,"DownArrow","Down"),d(19,"Insert"),d(20,"Delete"),d(21,"0"),d(22,"1"),d(23,"2"),d(24,"3"),d(25,"4"),d(26,"5"),d(27,"6"),d(28,"7"),d(29,"8"),d(30,"9"),d(31,"A"),d(32,"B"),d(33,"C"),d(34,"D"),d(35,"E"),d(36,"F"),d(37,"G"),d(38,"H"),d(39,"I"),d(40,"J"),d(41,"K"),d(42,"L"),d(43,"M"),d(44,"N"),d(45,"O"),d(46,"P"),d(47,"Q"),d(48,"R"),d(49,"S"),d(50,"T"),d(51,"U"),d(52,"V"),d(53,"W"),d(54,"X"),d(55,"Y"),d(56,"Z"),d(57,"Meta"),d(58,"ContextMenu"),d(59,"F1"),d(60,"F2"),d(61,"F3"),d(62,"F4"),d(63,"F5"),d(64,"F6"),d(65,"F7"),d(66,"F8"),d(67,"F9"),d(68,"F10"),d(69,"F11"),d(70,"F12"),d(71,"F13"),d(72,"F14"),d(73,"F15"),d(74,"F16"),d(75,"F17"),d(76,"F18"),d(77,"F19"),d(78,"NumLock"),d(79,"ScrollLock"),d(80,";",";","OEM_1"),d(81,"=","=","OEM_PLUS"),d(82,",",",","OEM_COMMA"),d(83,"-","-","OEM_MINUS"),d(84,".",".","OEM_PERIOD"),d(85,"/","/","OEM_2"),d(86,"`","`","OEM_3"),d(110,"ABNT_C1"),d(111,"ABNT_C2"),d(87,"[","[","OEM_4"),d(88,"\\","\\","OEM_5"),d(89,"]","]","OEM_6"),d(90,"'","'","OEM_7"),d(91,"OEM_8"),d(92,"OEM_102"),d(93,"NumPad0"),d(94,"NumPad1"),d(95,"NumPad2"),d(96,"NumPad3"),d(97,"NumPad4"),d(98,"NumPad5"),d(99,"NumPad6"),d(100,"NumPad7"),d(101,"NumPad8"),d(102,"NumPad9"),d(103,"NumPad_Multiply"),d(104,"NumPad_Add"),d(105,"NumPad_Separator"),d(106,"NumPad_Subtract"),d(107,"NumPad_Decimal"),d(108,"NumPad_Divide")})();var p;(function(d){function r(h){return M.keyCodeToStr(h)}d.toString=r;function n(h){return M.strToKeyCode(h)}d.fromString=n;function o(h){return y.keyCodeToStr(h)}d.toUserSettingsUS=o;function t(h){return w.keyCodeToStr(h)}d.toUserSettingsGeneral=t;function l(h){return y.strToKeyCode(h)||w.strToKeyCode(h)}d.fromUserSettings=l})(p=e.KeyCodeUtils||(e.KeyCodeUtils={}));function v(d,r){const n=(r&65535)<<16>>>0;return(d|n)>>>0}e.KeyChord=v;function i(d,r){if(d===0)return null;const n=(d&65535)>>>0,o=(d&4294901760)>>>16;return o!==0?new a([_(n,r),_(o,r)]):new a([_(n,r)])}e.createKeybinding=i;function _(d,r){const n=!!(d&2048),o=!!(d&256),t=r===2?o:n,l=!!(d&1024),h=!!(d&512),m=r===2?n:o,C=d&255;return new s(t,l,h,m,C)}e.createSimpleKeybinding=_;class s{constructor(r,n,o,t,l){this.ctrlKey=r,this.shiftKey=n,this.altKey=o,this.metaKey=t,this.keyCode=l}equals(r){return this.ctrlKey===r.ctrlKey&&this.shiftKey===r.shiftKey&&this.altKey===r.altKey&&this.metaKey===r.metaKey&&this.keyCode===r.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=s;class a{constructor(r){if(r.length===0)throw S.illegalArgument("parts");this.parts=r}}e.ChordKeybinding=a;class u{constructor(r,n,o,t,l,h){this.ctrlKey=r,this.shiftKey=n,this.altKey=o,this.metaKey=t,this.keyLabel=l,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=u;class c{}e.ResolvedKeybinding=c}),define(Q[152],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class S{constructor(M){this.executor=M,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(M){this._error=M}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=S}),define(Q[2],J([0,1,53]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.trackDisposable=void 0;const k=!1;let M=null;if(k){const r="__is_disposable_tracked__";M=new class{trackDisposable(n){const o=new Error("Potentially leaked disposable").stack;setTimeout(()=>{n[r]||console.log(o)},3e3)}markTracked(n){if(n&&n!==u.None)try{n[r]=!0}catch(o){}}}}function y(r){!M||M.markTracked(r)}function w(r){return M&&M.trackDisposable(r),r}e.trackDisposable=w;class p extends Error{constructor(n){super(`Encountered errors while disposing of store. Errors: [${n.join(", ")}]`);this.errors=n}}e.MultiDisposeError=p;function v(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=v;function i(r){if(S.Iterable.is(r)){let n=[];for(const o of r)if(o){y(o);try{o.dispose()}catch(t){n.push(t)}}if(n.length===1)throw n[0];if(n.length>1)throw new p(n);return Array.isArray(r)?[]:r}else if(r)return y(r),r.dispose(),r}e.dispose=i;function _(...r){return r.forEach(y),s(()=>i(r))}e.combinedDisposable=_;function s(r){const n=w({dispose:()=>{y(n),r()}});return n}e.toDisposable=s;class a{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(y(this),this._isDisposed=!0,this.clear())}clear(){try{i(this._toDispose.values())}finally{this._toDispose.clear()}}add(n){if(!n)return n;if(n===this)throw new Error("Cannot register a disposable on itself!");return y(n),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(n),n}}e.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1;class u{constructor(){this._store=new a,w(this)}dispose(){y(this),this._store.dispose()}_register(n){if(n===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(n)}}e.Disposable=u,u.None=Object.freeze({dispose(){}});class c{constructor(){this._isDisposed=!1,w(this)}get value(){return this._isDisposed?void 0:this._value}set value(n){var o;this._isDisposed||n===this._value||((o=this._value)===null||o===void 0||o.dispose(),n&&y(n),this._value=n)}clear(){this.value=void 0}dispose(){var n;this._isDisposed=!0,y(this),(n=this._value)===null||n===void 0||n.dispose(),this._value=void 0}}e.MutableDisposable=c;class d{constructor(n){this.object=n}dispose(){}}e.ImmortalReference=d}),define(Q[72],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class S{constructor(y){this.element=y,this.next=S.Undefined,this.prev=S.Undefined}}S.Undefined=new S(void 0);class k{constructor(){this._first=S.Undefined,this._last=S.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===S.Undefined}clear(){let y=this._first;for(;y!==S.Undefined;){const w=y.next;y.prev=S.Undefined,y.next=S.Undefined,y=w}this._first=S.Undefined,this._last=S.Undefined,this._size=0}unshift(y){return this._insert(y,!1)}push(y){return this._insert(y,!0)}_insert(y,w){const p=new S(y);if(this._first===S.Undefined)this._first=p,this._last=p;else if(w){const i=this._last;this._last=p,p.prev=i,i.next=p}else{const i=this._first;this._first=p,p.next=i,i.prev=p}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(p))}}shift(){if(this._first!==S.Undefined){const y=this._first.element;return this._remove(this._first),y}}pop(){if(this._last!==S.Undefined){const y=this._last.element;return this._remove(this._last),y}}_remove(y){if(y.prev!==S.Undefined&&y.next!==S.Undefined){const w=y.prev;w.next=y.next,y.next.prev=w}else y.prev===S.Undefined&&y.next===S.Undefined?(this._first=S.Undefined,this._last=S.Undefined):y.next===S.Undefined?(this._last=this._last.prev,this._last.next=S.Undefined):y.prev===S.Undefined&&(this._first=this._first.next,this._first.prev=S.Undefined);this._size-=1}*[Symbol.iterator](){let y=this._first;for(;y!==S.Undefined;)yield y.element,y=y.next}}e.LinkedList=k}),function($,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):($=typeof globalThis!="undefined"?globalThis:$||self,$.marked=e())}(this,function(){"use strict";function $(we,Se){for(var ye=0;ye<Se.length;ye++){var me=Se[ye];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(we,me.key,me)}}function e(we,Se,ye){return Se&&$(we.prototype,Se),ye&&$(we,ye),we}function S(we,Se){if(!!we){if(typeof we=="string")return k(we,Se);var ye=Object.prototype.toString.call(we).slice(8,-1);if(ye==="Object"&&we.constructor&&(ye=we.constructor.name),ye==="Map"||ye==="Set")return Array.from(we);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return k(we,Se)}}function k(we,Se){(Se==null||Se>we.length)&&(Se=we.length);for(var ye=0,me=new Array(Se);ye<Se;ye++)me[ye]=we[ye];return me}function M(we,Se){var ye;if(typeof Symbol=="undefined"||we[Symbol.iterator]==null){if(Array.isArray(we)||(ye=S(we))||Se&&we&&typeof we.length=="number"){ye&&(we=ye);var me=0;return function(){return me>=we.length?{done:!0}:{done:!1,value:we[me++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return ye=we[Symbol.iterator](),ye.next.bind(ye)}function y(we){var Se={exports:{}};return we(Se,Se.exports),Se.exports}var w=y(function(we){function Se(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ye(me){we.exports.defaults=me}we.exports={defaults:Se(),getDefaults:Se,changeDefaults:ye}}),p=/[&<>"']/,v=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,_=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=function(Se){return s[Se]};function u(we,Se){if(Se){if(p.test(we))return we.replace(v,a)}else if(i.test(we))return we.replace(_,a);return we}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(we){return we.replace(c,function(Se,ye){return ye=ye.toLowerCase(),ye==="colon"?":":ye.charAt(0)==="#"?ye.charAt(1)==="x"?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):""})}var r=/(^|[^\[])\^/g;function n(we,Se){we=we.source||we,Se=Se||"";var ye={replace:function(Ce,he){return he=he.source||he,he=he.replace(r,"$1"),we=we.replace(Ce,he),ye},getRegex:function(){return new RegExp(we,Se)}};return ye}var o=/[^\w:]/g,t=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l(we,Se,ye){if(we){var me;try{me=decodeURIComponent(d(ye)).replace(o,"").toLowerCase()}catch(Ce){return null}if(me.indexOf("javascript:")===0||me.indexOf("vbscript:")===0||me.indexOf("data:")===0)return null}Se&&!t.test(ye)&&(ye=f(Se,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(Ce){return null}return ye}var h={},m=/^[^:]+:\/*[^/]*$/,C=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;function f(we,Se){h[" "+we]||(m.test(we)?h[" "+we]=we+"/":h[" "+we]=D(we,"/",!0)),we=h[" "+we];var ye=we.indexOf(":")===-1;return Se.substring(0,2)==="//"?ye?Se:we.replace(C,"$1")+Se:Se.charAt(0)==="/"?ye?Se:we.replace(g,"$1")+Se:we+Se}var b={exec:function(){}};function L(we){for(var Se=1,ye,me;Se<arguments.length;Se++){ye=arguments[Se];for(me in ye)Object.prototype.hasOwnProperty.call(ye,me)&&(we[me]=ye[me])}return we}function N(we,Se){var ye=we.replace(/\|/g,function(he,ge,ve){for(var ke=!1,Ne=ge;--Ne>=0&&ve[Ne]==="\\";)ke=!ke;return ke?"|":" |"}),me=ye.split(/ \|/),Ce=0;if(me.length>Se)me.splice(Se);else for(;me.length<Se;)me.push("");for(;Ce<me.length;Ce++)me[Ce]=me[Ce].trim().replace(/\\\|/g,"|");return me}function D(we,Se,ye){var me=we.length;if(me===0)return"";for(var Ce=0;Ce<me;){var he=we.charAt(me-Ce-1);if(he===Se&&!ye)Ce++;else if(he!==Se&&ye)Ce++;else break}return we.substr(0,me-Ce)}function I(we,Se){if(we.indexOf(Se[1])===-1)return-1;for(var ye=we.length,me=0,Ce=0;Ce<ye;Ce++)if(we[Ce]==="\\")Ce++;else if(we[Ce]===Se[0])me++;else if(we[Ce]===Se[1]&&(me--,me<0))return Ce;return-1}function T(we){we&&we.sanitize&&!we.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function A(we,Se){if(Se<1)return"";for(var ye="";Se>1;)Se&1&&(ye+=we),Se>>=1,we+=we;return ye+we}var R={escape:u,unescape:d,edit:n,cleanUrl:l,resolveUrl:f,noopTest:b,merge:L,splitCells:N,rtrim:D,findClosingBracket:I,checkSanitizeDeprecation:T,repeatString:A},O=w.defaults,P=R.rtrim,F=R.splitCells,E=R.escape,x=R.findClosingBracket;function H(we,Se,ye){var me=Se.href,Ce=Se.title?E(Se.title):null,he=we[1].replace(/\\([\[\]])/g,"$1");return we[0].charAt(0)!=="!"?{type:"link",raw:ye,href:me,title:Ce,text:he}:{type:"image",raw:ye,href:me,title:Ce,text:E(he)}}function K(we,Se){var ye=we.match(/^(\s+)(?:```)/);if(ye===null)return Se;var me=ye[1];return Se.split(`
`).map(function(Ce){var he=Ce.match(/^\s+/);if(he===null)return Ce;var ge=he[0];return ge.length>=me.length?Ce.slice(me.length):Ce}).join(`
`)}var q=function(){function we(ye){this.options=ye||O}var Se=we.prototype;return Se.space=function(me){var Ce=this.rules.block.newline.exec(me);if(Ce)return Ce[0].length>1?{type:"space",raw:Ce[0]}:{raw:`
`}},Se.code=function(me){var Ce=this.rules.block.code.exec(me);if(Ce){var he=Ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ce[0],codeBlockStyle:"indented",text:this.options.pedantic?he:P(he,`
`)}}},Se.fences=function(me){var Ce=this.rules.block.fences.exec(me);if(Ce){var he=Ce[0],ge=K(he,Ce[3]||"");return{type:"code",raw:he,lang:Ce[2]?Ce[2].trim():Ce[2],text:ge}}},Se.heading=function(me){var Ce=this.rules.block.heading.exec(me);if(Ce){var he=Ce[2].trim();if(/#$/.test(he)){var ge=P(he,"#");(this.options.pedantic||!ge||/ $/.test(ge))&&(he=ge.trim())}return{type:"heading",raw:Ce[0],depth:Ce[1].length,text:he}}},Se.nptable=function(me){var Ce=this.rules.block.nptable.exec(me);if(Ce){var he={type:"table",header:F(Ce[1].replace(/^ *| *\| *$/g,"")),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[],raw:Ce[0]};if(he.header.length===he.align.length){var ge=he.align.length,ve;for(ve=0;ve<ge;ve++)/^ *-+: *$/.test(he.align[ve])?he.align[ve]="right":/^ *:-+: *$/.test(he.align[ve])?he.align[ve]="center":/^ *:-+ *$/.test(he.align[ve])?he.align[ve]="left":he.align[ve]=null;for(ge=he.cells.length,ve=0;ve<ge;ve++)he.cells[ve]=F(he.cells[ve],he.header.length);return he}}},Se.hr=function(me){var Ce=this.rules.block.hr.exec(me);if(Ce)return{type:"hr",raw:Ce[0]}},Se.blockquote=function(me){var Ce=this.rules.block.blockquote.exec(me);if(Ce){var he=Ce[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ce[0],text:he}}},Se.list=function(me){var Ce=this.rules.block.list.exec(me);if(Ce){var he=Ce[0],ge=Ce[2],ve=ge.length>1,ke={type:"list",raw:he,ordered:ve,start:ve?+ge.slice(0,-1):"",loose:!1,items:[]},Ne=Ce[0].match(this.rules.block.item),Ae=!1,Pe,Fe,Oe,xe,We,ze,Ke,Be,He=Ne.length;Oe=this.rules.block.listItemStart.exec(Ne[0]);for(var Ve=0;Ve<He;Ve++){if(Pe=Ne[Ve],he=Pe,Ve!==He-1){if(xe=this.rules.block.listItemStart.exec(Ne[Ve+1]),this.options.pedantic?xe[1].length>Oe[1].length:xe[1].length>Oe[0].length||xe[1].length>3){Ne.splice(Ve,2,Ne[Ve]+`
`+Ne[Ve+1]),Ve--,He--;continue}else(!this.options.pedantic||this.options.smartLists?xe[2][xe[2].length-1]!==ge[ge.length-1]:ve===(xe[2].length===1))&&(We=Ne.slice(Ve+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-We.length),Ve=He-1);Oe=xe}Fe=Pe.length,Pe=Pe.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Pe.indexOf(`
 `)&&(Fe-=Pe.length,Pe=this.options.pedantic?Pe.replace(/^ {1,4}/gm,""):Pe.replace(new RegExp("^ {1,"+Fe+"}","gm"),"")),ze=Ae||/\n\n(?!\s*$)/.test(Pe),Ve!==He-1&&(Ae=Pe.charAt(Pe.length-1)===`
`,ze||(ze=Ae)),ze&&(ke.loose=!0),this.options.gfm&&(Ke=/^\[[ xX]\] /.test(Pe),Be=void 0,Ke&&(Be=Pe[1]!==" ",Pe=Pe.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:he,task:Ke,checked:Be,loose:ze,text:Pe})}return ke}},Se.html=function(me){var Ce=this.rules.block.html.exec(me);if(Ce)return{type:this.options.sanitize?"paragraph":"html",raw:Ce[0],pre:!this.options.sanitizer&&(Ce[1]==="pre"||Ce[1]==="script"||Ce[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):E(Ce[0]):Ce[0]}},Se.def=function(me){var Ce=this.rules.block.def.exec(me);if(Ce){Ce[3]&&(Ce[3]=Ce[3].substring(1,Ce[3].length-1));var he=Ce[1].toLowerCase().replace(/\s+/g," ");return{tag:he,raw:Ce[0],href:Ce[2],title:Ce[3]}}},Se.table=function(me){var Ce=this.rules.block.table.exec(me);if(Ce){var he={type:"table",header:F(Ce[1].replace(/^ *| *\| *$/g,"")),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[]};if(he.header.length===he.align.length){he.raw=Ce[0];var ge=he.align.length,ve;for(ve=0;ve<ge;ve++)/^ *-+: *$/.test(he.align[ve])?he.align[ve]="right":/^ *:-+: *$/.test(he.align[ve])?he.align[ve]="center":/^ *:-+ *$/.test(he.align[ve])?he.align[ve]="left":he.align[ve]=null;for(ge=he.cells.length,ve=0;ve<ge;ve++)he.cells[ve]=F(he.cells[ve].replace(/^ *\| *| *\| *$/g,""),he.header.length);return he}}},Se.lheading=function(me){var Ce=this.rules.block.lheading.exec(me);if(Ce)return{type:"heading",raw:Ce[0],depth:Ce[2].charAt(0)==="="?1:2,text:Ce[1]}},Se.paragraph=function(me){var Ce=this.rules.block.paragraph.exec(me);if(Ce)return{type:"paragraph",raw:Ce[0],text:Ce[1].charAt(Ce[1].length-1)===`
`?Ce[1].slice(0,-1):Ce[1]}},Se.text=function(me){var Ce=this.rules.block.text.exec(me);if(Ce)return{type:"text",raw:Ce[0],text:Ce[0]}},Se.escape=function(me){var Ce=this.rules.inline.escape.exec(me);if(Ce)return{type:"escape",raw:Ce[0],text:E(Ce[1])}},Se.tag=function(me,Ce,he){var ge=this.rules.inline.tag.exec(me);if(ge)return!Ce&&/^<a /i.test(ge[0])?Ce=!0:Ce&&/^<\/a>/i.test(ge[0])&&(Ce=!1),!he&&/^<(pre|code|kbd|script)(\s|>)/i.test(ge[0])?he=!0:he&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ge[0])&&(he=!1),{type:this.options.sanitize?"text":"html",raw:ge[0],inLink:Ce,inRawBlock:he,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ge[0]):E(ge[0]):ge[0]}},Se.link=function(me){var Ce=this.rules.inline.link.exec(me);if(Ce){var he=Ce[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var ge=P(he.slice(0,-1),"\\");if((he.length-ge.length)%2==0)return}else{var ve=x(Ce[2],"()");if(ve>-1){var ke=Ce[0].indexOf("!")===0?5:4,Ne=ke+Ce[1].length+ve;Ce[2]=Ce[2].substring(0,ve),Ce[0]=Ce[0].substring(0,Ne).trim(),Ce[3]=""}}var Ae=Ce[2],Pe="";if(this.options.pedantic){var Fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ae);Fe&&(Ae=Fe[1],Pe=Fe[3])}else Pe=Ce[3]?Ce[3].slice(1,-1):"";return Ae=Ae.trim(),/^</.test(Ae)&&(this.options.pedantic&&!/>$/.test(he)?Ae=Ae.slice(1):Ae=Ae.slice(1,-1)),H(Ce,{href:Ae&&Ae.replace(this.rules.inline._escapes,"$1"),title:Pe&&Pe.replace(this.rules.inline._escapes,"$1")},Ce[0])}},Se.reflink=function(me,Ce){var he;if((he=this.rules.inline.reflink.exec(me))||(he=this.rules.inline.nolink.exec(me))){var ge=(he[2]||he[1]).replace(/\s+/g," ");if(ge=Ce[ge.toLowerCase()],!ge||!ge.href){var ve=he[0].charAt(0);return{type:"text",raw:ve,text:ve}}return H(he,ge,he[0])}},Se.emStrong=function(me,Ce,he){he===void 0&&(he="");var ge=this.rules.inline.emStrong.lDelim.exec(me);if(!!ge&&!(ge[3]&&he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ve=ge[1]||ge[2]||"";if(!ve||ve&&(he===""||this.rules.inline.punctuation.exec(he))){var ke=ge[0].length-1,Ne,Ae,Pe=ke,Fe=0,Oe=ge[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Oe.lastIndex=0,Ce=Ce.slice(-1*me.length+ke);(ge=Oe.exec(Ce))!=null;)if(Ne=ge[1]||ge[2]||ge[3]||ge[4]||ge[5]||ge[6],!!Ne){if(Ae=Ne.length,ge[3]||ge[4]){Pe+=Ae;continue}else if((ge[5]||ge[6])&&ke%3&&!((ke+Ae)%3)){Fe+=Ae;continue}if(Pe-=Ae,!(Pe>0)){if(Pe+Fe-Ae<=0&&!Ce.slice(Oe.lastIndex).match(Oe)&&(Ae=Math.min(Ae,Ae+Pe+Fe)),Math.min(ke,Ae)%2)return{type:"em",raw:me.slice(0,ke+ge.index+Ae+1),text:me.slice(1,ke+ge.index+Ae)};if(Math.min(ke,Ae)%2==0)return{type:"strong",raw:me.slice(0,ke+ge.index+Ae+1),text:me.slice(2,ke+ge.index+Ae-1)}}}}}},Se.codespan=function(me){var Ce=this.rules.inline.code.exec(me);if(Ce){var he=Ce[2].replace(/\n/g," "),ge=/[^ ]/.test(he),ve=/^ /.test(he)&&/ $/.test(he);return ge&&ve&&(he=he.substring(1,he.length-1)),he=E(he,!0),{type:"codespan",raw:Ce[0],text:he}}},Se.br=function(me){var Ce=this.rules.inline.br.exec(me);if(Ce)return{type:"br",raw:Ce[0]}},Se.del=function(me){var Ce=this.rules.inline.del.exec(me);if(Ce)return{type:"del",raw:Ce[0],text:Ce[2]}},Se.autolink=function(me,Ce){var he=this.rules.inline.autolink.exec(me);if(he){var ge,ve;return he[2]==="@"?(ge=E(this.options.mangle?Ce(he[1]):he[1]),ve="mailto:"+ge):(ge=E(he[1]),ve=ge),{type:"link",raw:he[0],text:ge,href:ve,tokens:[{type:"text",raw:ge,text:ge}]}}},Se.url=function(me,Ce){var he;if(he=this.rules.inline.url.exec(me)){var ge,ve;if(he[2]==="@")ge=E(this.options.mangle?Ce(he[0]):he[0]),ve="mailto:"+ge;else{var ke;do ke=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0];while(ke!==he[0]);ge=E(he[0]),he[1]==="www."?ve="http://"+ge:ve=ge}return{type:"link",raw:he[0],text:ge,href:ve,tokens:[{type:"text",raw:ge,text:ge}]}}},Se.inlineText=function(me,Ce,he){var ge=this.rules.inline.text.exec(me);if(ge){var ve;return Ce?ve=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ge[0]):E(ge[0]):ge[0]:ve=E(this.options.smartypants?he(ge[0]):ge[0]),{type:"text",raw:ge[0],text:ve}}},we}(),G=R.noopTest,ee=R.edit,ie=R.merge,ae={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:G,table:G,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};ae._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,ae._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ae.def=ee(ae.def).replace("label",ae._label).replace("title",ae._title).getRegex(),ae.bullet=/(?:[*+-]|\d{1,9}[.)])/,ae.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,ae.item=ee(ae.item,"gm").replace(/bull/g,ae.bullet).getRegex(),ae.listItemStart=ee(/^( *)(bull)/).replace("bull",ae.bullet).getRegex(),ae.list=ee(ae.list).replace(/bull/g,ae.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ae.def.source+")").getRegex(),ae._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ae._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ae.html=ee(ae.html,"i").replace("comment",ae._comment).replace("tag",ae._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae.paragraph=ee(ae._paragraph).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.blockquote=ee(ae.blockquote).replace("paragraph",ae.paragraph).getRegex(),ae.normal=ie({},ae),ae.gfm=ie({},ae.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ae.gfm.nptable=ee(ae.gfm.nptable).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.gfm.table=ee(ae.gfm.table).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.pedantic=ie({},ae.normal,{html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ae._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:G,paragraph:ee(ae.normal._paragraph).replace("hr",ae.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ae.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var de={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:G,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:G,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};de._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",de.punctuation=ee(de.punctuation).replace(/punctuation/g,de._punctuation).getRegex(),de.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,de.escapedEmSt=/\\\*|\\_/g,de._comment=ee(ae._comment).replace("(?:-->|$)","-->").getRegex(),de.emStrong.lDelim=ee(de.emStrong.lDelim).replace(/punct/g,de._punctuation).getRegex(),de.emStrong.rDelimAst=ee(de.emStrong.rDelimAst,"g").replace(/punct/g,de._punctuation).getRegex(),de.emStrong.rDelimUnd=ee(de.emStrong.rDelimUnd,"g").replace(/punct/g,de._punctuation).getRegex(),de._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,de._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,de._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,de.autolink=ee(de.autolink).replace("scheme",de._scheme).replace("email",de._email).getRegex(),de._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,de.tag=ee(de.tag).replace("comment",de._comment).replace("attribute",de._attribute).getRegex(),de._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,de._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,de._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,de.link=ee(de.link).replace("label",de._label).replace("href",de._href).replace("title",de._title).getRegex(),de.reflink=ee(de.reflink).replace("label",de._label).getRegex(),de.reflinkSearch=ee(de.reflinkSearch,"g").replace("reflink",de.reflink).replace("nolink",de.nolink).getRegex(),de.normal=ie({},de),de.pedantic=ie({},de.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",de._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",de._label).getRegex()}),de.gfm=ie({},de.normal,{escape:ee(de.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),de.gfm.url=ee(de.gfm.url,"i").replace("email",de.gfm._extended_email).getRegex(),de.breaks=ie({},de.gfm,{br:ee(de.br).replace("{2,}","*").getRegex(),text:ee(de.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Y={block:ae,inline:de},B=w.defaults,W=Y.block,V=Y.inline,z=R.repeatString;function U(we){return we.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function X(we){var Se="",ye,me,Ce=we.length;for(ye=0;ye<Ce;ye++)me=we.charCodeAt(ye),Math.random()>.5&&(me="x"+me.toString(16)),Se+="&#"+me+";";return Se}var te=function(){function we(ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=ye||B,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var me={block:W.normal,inline:V.normal};this.options.pedantic?(me.block=W.pedantic,me.inline=V.pedantic):this.options.gfm&&(me.block=W.gfm,this.options.breaks?me.inline=V.breaks:me.inline=V.gfm),this.tokenizer.rules=me}we.lex=function(me,Ce){var he=new we(Ce);return he.lex(me)},we.lexInline=function(me,Ce){var he=new we(Ce);return he.inlineTokens(me)};var Se=we.prototype;return Se.lex=function(me){return me=me.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(me,this.tokens,!0),this.inline(this.tokens),this.tokens},Se.blockTokens=function(me,Ce,he){Ce===void 0&&(Ce=[]),he===void 0&&(he=!0),this.options.pedantic&&(me=me.replace(/^ +$/gm,""));for(var ge,ve,ke,Ne;me;){if(ge=this.tokenizer.space(me)){me=me.substring(ge.raw.length),ge.type&&Ce.push(ge);continue}if(ge=this.tokenizer.code(me)){me=me.substring(ge.raw.length),Ne=Ce[Ce.length-1],Ne&&Ne.type==="paragraph"?(Ne.raw+=`
`+ge.raw,Ne.text+=`
`+ge.text):Ce.push(ge);continue}if(ge=this.tokenizer.fences(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.heading(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.nptable(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.hr(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.blockquote(me)){me=me.substring(ge.raw.length),ge.tokens=this.blockTokens(ge.text,[],he),Ce.push(ge);continue}if(ge=this.tokenizer.list(me)){for(me=me.substring(ge.raw.length),ke=ge.items.length,ve=0;ve<ke;ve++)ge.items[ve].tokens=this.blockTokens(ge.items[ve].text,[],!1);Ce.push(ge);continue}if(ge=this.tokenizer.html(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(he&&(ge=this.tokenizer.def(me))){me=me.substring(ge.raw.length),this.tokens.links[ge.tag]||(this.tokens.links[ge.tag]={href:ge.href,title:ge.title});continue}if(ge=this.tokenizer.table(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.lheading(me)){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(he&&(ge=this.tokenizer.paragraph(me))){me=me.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.text(me)){me=me.substring(ge.raw.length),Ne=Ce[Ce.length-1],Ne&&Ne.type==="text"?(Ne.raw+=`
`+ge.raw,Ne.text+=`
`+ge.text):Ce.push(ge);continue}if(me){var Ae="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(Ae);break}else throw new Error(Ae)}}return Ce},Se.inline=function(me){var Ce,he,ge,ve,ke,Ne,Ae=me.length;for(Ce=0;Ce<Ae;Ce++)switch(Ne=me[Ce],Ne.type){case"paragraph":case"text":case"heading":{Ne.tokens=[],this.inlineTokens(Ne.text,Ne.tokens);break}case"table":{for(Ne.tokens={header:[],cells:[]},ve=Ne.header.length,he=0;he<ve;he++)Ne.tokens.header[he]=[],this.inlineTokens(Ne.header[he],Ne.tokens.header[he]);for(ve=Ne.cells.length,he=0;he<ve;he++)for(ke=Ne.cells[he],Ne.tokens.cells[he]=[],ge=0;ge<ke.length;ge++)Ne.tokens.cells[he][ge]=[],this.inlineTokens(ke[ge],Ne.tokens.cells[he][ge]);break}case"blockquote":{this.inline(Ne.tokens);break}case"list":{for(ve=Ne.items.length,he=0;he<ve;he++)this.inline(Ne.items[he].tokens);break}}return me},Se.inlineTokens=function(me,Ce,he,ge){Ce===void 0&&(Ce=[]),he===void 0&&(he=!1),ge===void 0&&(ge=!1);var ve,ke,Ne=me,Ae,Pe,Fe;if(this.tokens.links){var Oe=Object.keys(this.tokens.links);if(Oe.length>0)for(;(Ae=this.tokenizer.rules.inline.reflinkSearch.exec(Ne))!=null;)Oe.includes(Ae[0].slice(Ae[0].lastIndexOf("[")+1,-1))&&(Ne=Ne.slice(0,Ae.index)+"["+z("a",Ae[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ae=this.tokenizer.rules.inline.blockSkip.exec(Ne))!=null;)Ne=Ne.slice(0,Ae.index)+"["+z("a",Ae[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ae=this.tokenizer.rules.inline.escapedEmSt.exec(Ne))!=null;)Ne=Ne.slice(0,Ae.index)+"++"+Ne.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;me;){if(Pe||(Fe=""),Pe=!1,ve=this.tokenizer.escape(me)){me=me.substring(ve.raw.length),Ce.push(ve);continue}if(ve=this.tokenizer.tag(me,he,ge)){me=me.substring(ve.raw.length),he=ve.inLink,ge=ve.inRawBlock;var xe=Ce[Ce.length-1];xe&&ve.type==="text"&&xe.type==="text"?(xe.raw+=ve.raw,xe.text+=ve.text):Ce.push(ve);continue}if(ve=this.tokenizer.link(me)){me=me.substring(ve.raw.length),ve.type==="link"&&(ve.tokens=this.inlineTokens(ve.text,[],!0,ge)),Ce.push(ve);continue}if(ve=this.tokenizer.reflink(me,this.tokens.links)){me=me.substring(ve.raw.length);var We=Ce[Ce.length-1];ve.type==="link"?(ve.tokens=this.inlineTokens(ve.text,[],!0,ge),Ce.push(ve)):We&&ve.type==="text"&&We.type==="text"?(We.raw+=ve.raw,We.text+=ve.text):Ce.push(ve);continue}if(ve=this.tokenizer.emStrong(me,Ne,Fe)){me=me.substring(ve.raw.length),ve.tokens=this.inlineTokens(ve.text,[],he,ge),Ce.push(ve);continue}if(ve=this.tokenizer.codespan(me)){me=me.substring(ve.raw.length),Ce.push(ve);continue}if(ve=this.tokenizer.br(me)){me=me.substring(ve.raw.length),Ce.push(ve);continue}if(ve=this.tokenizer.del(me)){me=me.substring(ve.raw.length),ve.tokens=this.inlineTokens(ve.text,[],he,ge),Ce.push(ve);continue}if(ve=this.tokenizer.autolink(me,X)){me=me.substring(ve.raw.length),Ce.push(ve);continue}if(!he&&(ve=this.tokenizer.url(me,X))){me=me.substring(ve.raw.length),Ce.push(ve);continue}if(ve=this.tokenizer.inlineText(me,ge,U)){me=me.substring(ve.raw.length),ve.raw.slice(-1)!=="_"&&(Fe=ve.raw.slice(-1)),Pe=!0,ke=Ce[Ce.length-1],ke&&ke.type==="text"?(ke.raw+=ve.raw,ke.text+=ve.text):Ce.push(ve);continue}if(me){var ze="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(ze);break}else throw new Error(ze)}}return Ce},e(we,null,[{key:"rules",get:function(){return{block:W,inline:V}}}]),we}(),se=w.defaults,le=R.cleanUrl,ue=R.escape,re=function(){function we(ye){this.options=ye||se}var Se=we.prototype;return Se.code=function(me,Ce,he){var ge=(Ce||"").match(/\S*/)[0];if(this.options.highlight){var ve=this.options.highlight(me,ge);ve!=null&&ve!==me&&(he=!0,me=ve)}return me=me.replace(/\n$/,"")+`
`,ge?'<pre><code class="'+this.options.langPrefix+ue(ge,!0)+'">'+(he?me:ue(me,!0))+`</code></pre>
`:"<pre><code>"+(he?me:ue(me,!0))+`</code></pre>
`},Se.blockquote=function(me){return`<blockquote>
`+me+`</blockquote>
`},Se.html=function(me){return me},Se.heading=function(me,Ce,he,ge){return this.options.headerIds?"<h"+Ce+' id="'+this.options.headerPrefix+ge.slug(he)+'">'+me+"</h"+Ce+`>
`:"<h"+Ce+">"+me+"</h"+Ce+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(me,Ce,he){var ge=Ce?"ol":"ul",ve=Ce&&he!==1?' start="'+he+'"':"";return"<"+ge+ve+`>
`+me+"</"+ge+`>
`},Se.listitem=function(me){return"<li>"+me+`</li>
`},Se.checkbox=function(me){return"<input "+(me?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(me){return"<p>"+me+`</p>
`},Se.table=function(me,Ce){return Ce&&(Ce="<tbody>"+Ce+"</tbody>"),`<table>
<thead>
`+me+`</thead>
`+Ce+`</table>
`},Se.tablerow=function(me){return`<tr>
`+me+`</tr>
`},Se.tablecell=function(me,Ce){var he=Ce.header?"th":"td",ge=Ce.align?"<"+he+' align="'+Ce.align+'">':"<"+he+">";return ge+me+"</"+he+`>
`},Se.strong=function(me){return"<strong>"+me+"</strong>"},Se.em=function(me){return"<em>"+me+"</em>"},Se.codespan=function(me){return"<code>"+me+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(me){return"<del>"+me+"</del>"},Se.link=function(me,Ce,he){if(me=le(this.options.sanitize,this.options.baseUrl,me),me===null)return he;var ge='<a href="'+ue(me)+'"';return Ce&&(ge+=' title="'+Ce+'"'),ge+=">"+he+"</a>",ge},Se.image=function(me,Ce,he){if(me=le(this.options.sanitize,this.options.baseUrl,me),me===null)return he;var ge='<img src="'+me+'" alt="'+he+'"';return Ce&&(ge+=' title="'+Ce+'"'),ge+=this.options.xhtml?"/>":">",ge},Se.text=function(me){return me},we}(),ce=function(){function we(){}var Se=we.prototype;return Se.strong=function(me){return me},Se.em=function(me){return me},Se.codespan=function(me){return me},Se.del=function(me){return me},Se.html=function(me){return me},Se.text=function(me){return me},Se.link=function(me,Ce,he){return""+he},Se.image=function(me,Ce,he){return""+he},Se.br=function(){return""},we}(),j=function(){function we(){this.seen={}}var Se=we.prototype;return Se.serialize=function(me){return me.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(me,Ce){var he=me,ge=0;if(this.seen.hasOwnProperty(he)){ge=this.seen[me];do ge++,he=me+"-"+ge;while(this.seen.hasOwnProperty(he))}return Ce||(this.seen[me]=ge,this.seen[he]=0),he},Se.slug=function(me,Ce){Ce===void 0&&(Ce={});var he=this.serialize(me);return this.getNextSafeSlug(he,Ce.dryrun)},we}(),ne=w.defaults,Z=R.unescape,oe=function(){function we(ye){this.options=ye||ne,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ce,this.slugger=new j}we.parse=function(me,Ce){var he=new we(Ce);return he.parse(me)},we.parseInline=function(me,Ce){var he=new we(Ce);return he.parseInline(me)};var Se=we.prototype;return Se.parse=function(me,Ce){Ce===void 0&&(Ce=!0);var he="",ge,ve,ke,Ne,Ae,Pe,Fe,Oe,xe,We,ze,Ke,Be,He,Ve,Ue,Ge,$e,Qe=me.length;for(ge=0;ge<Qe;ge++)switch(We=me[ge],We.type){case"space":continue;case"hr":{he+=this.renderer.hr();continue}case"heading":{he+=this.renderer.heading(this.parseInline(We.tokens),We.depth,Z(this.parseInline(We.tokens,this.textRenderer)),this.slugger);continue}case"code":{he+=this.renderer.code(We.text,We.lang,We.escaped);continue}case"table":{for(Oe="",Fe="",Ne=We.header.length,ve=0;ve<Ne;ve++)Fe+=this.renderer.tablecell(this.parseInline(We.tokens.header[ve]),{header:!0,align:We.align[ve]});for(Oe+=this.renderer.tablerow(Fe),xe="",Ne=We.cells.length,ve=0;ve<Ne;ve++){for(Pe=We.tokens.cells[ve],Fe="",Ae=Pe.length,ke=0;ke<Ae;ke++)Fe+=this.renderer.tablecell(this.parseInline(Pe[ke]),{header:!1,align:We.align[ke]});xe+=this.renderer.tablerow(Fe)}he+=this.renderer.table(Oe,xe);continue}case"blockquote":{xe=this.parse(We.tokens),he+=this.renderer.blockquote(xe);continue}case"list":{for(ze=We.ordered,Ke=We.start,Be=We.loose,Ne=We.items.length,xe="",ve=0;ve<Ne;ve++)Ve=We.items[ve],Ue=Ve.checked,Ge=Ve.task,He="",Ve.task&&($e=this.renderer.checkbox(Ue),Be?Ve.tokens.length>0&&Ve.tokens[0].type==="text"?(Ve.tokens[0].text=$e+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&Ve.tokens[0].tokens[0].type==="text"&&(Ve.tokens[0].tokens[0].text=$e+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:$e}):He+=$e),He+=this.parse(Ve.tokens,Be),xe+=this.renderer.listitem(He,Ge,Ue);he+=this.renderer.list(xe,ze,Ke);continue}case"html":{he+=this.renderer.html(We.text);continue}case"paragraph":{he+=this.renderer.paragraph(this.parseInline(We.tokens));continue}case"text":{for(xe=We.tokens?this.parseInline(We.tokens):We.text;ge+1<Qe&&me[ge+1].type==="text";)We=me[++ge],xe+=`
`+(We.tokens?this.parseInline(We.tokens):We.text);he+=Ce?this.renderer.paragraph(xe):xe;continue}default:{var Ye='Token with "'+We.type+'" type was not found.';if(this.options.silent){console.error(Ye);return}else throw new Error(Ye)}}return he},Se.parseInline=function(me,Ce){Ce=Ce||this.renderer;var he="",ge,ve,ke=me.length;for(ge=0;ge<ke;ge++)switch(ve=me[ge],ve.type){case"escape":{he+=Ce.text(ve.text);break}case"html":{he+=Ce.html(ve.text);break}case"link":{he+=Ce.link(ve.href,ve.title,this.parseInline(ve.tokens,Ce));break}case"image":{he+=Ce.image(ve.href,ve.title,ve.text);break}case"strong":{he+=Ce.strong(this.parseInline(ve.tokens,Ce));break}case"em":{he+=Ce.em(this.parseInline(ve.tokens,Ce));break}case"codespan":{he+=Ce.codespan(ve.text);break}case"br":{he+=Ce.br();break}case"del":{he+=Ce.del(this.parseInline(ve.tokens,Ce));break}case"text":{he+=Ce.text(ve.text);break}default:{var Ne='Token with "'+ve.type+'" type was not found.';if(this.options.silent){console.error(Ne);return}else throw new Error(Ne)}}return he},we}(),fe=R.merge,_e=R.checkSanitizeDeprecation,be=R.escape,Le=w.getDefaults,Ee=w.changeDefaults,Re=w.defaults;function De(we,Se,ye){if(typeof we=="undefined"||we===null)throw new Error("marked(): input parameter is undefined or null");if(typeof we!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected");if(typeof Se=="function"&&(ye=Se,Se=null),Se=fe({},De.defaults,Se||{}),_e(Se),ye){var me=Se.highlight,Ce;try{Ce=te.lex(we,Se)}catch(ke){return ye(ke)}var he=function(Ne){var Ae;if(!Ne)try{Ae=oe.parse(Ce,Se)}catch(Pe){Ne=Pe}return Se.highlight=me,Ne?ye(Ne):ye(null,Ae)};if(!me||me.length<3||(delete Se.highlight,!Ce.length))return he();var ge=0;De.walkTokens(Ce,function(ke){ke.type==="code"&&(ge++,setTimeout(function(){me(ke.text,ke.lang,function(Ne,Ae){if(Ne)return he(Ne);Ae!=null&&Ae!==ke.text&&(ke.text=Ae,ke.escaped=!0),ge--,ge===0&&he()})},0))}),ge===0&&he();return}try{var ve=te.lex(we,Se);return Se.walkTokens&&De.walkTokens(ve,Se.walkTokens),oe.parse(ve,Se)}catch(ke){if(ke.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+be(ke.message+"",!0)+"</pre>";throw ke}}De.options=De.setOptions=function(we){return fe(De.defaults,we),Ee(De.defaults),De},De.getDefaults=Le,De.defaults=Re,De.use=function(we){var Se=fe({},we);if(we.renderer&&function(){var me=De.defaults.renderer||new re,Ce=function(ve){var ke=me[ve];me[ve]=function(){for(var Ne=arguments.length,Ae=new Array(Ne),Pe=0;Pe<Ne;Pe++)Ae[Pe]=arguments[Pe];var Fe=we.renderer[ve].apply(me,Ae);return Fe===!1&&(Fe=ke.apply(me,Ae)),Fe}};for(var he in we.renderer)Ce(he);Se.renderer=me}(),we.tokenizer&&function(){var me=De.defaults.tokenizer||new q,Ce=function(ve){var ke=me[ve];me[ve]=function(){for(var Ne=arguments.length,Ae=new Array(Ne),Pe=0;Pe<Ne;Pe++)Ae[Pe]=arguments[Pe];var Fe=we.tokenizer[ve].apply(me,Ae);return Fe===!1&&(Fe=ke.apply(me,Ae)),Fe}};for(var he in we.tokenizer)Ce(he);Se.tokenizer=me}(),we.walkTokens){var ye=De.defaults.walkTokens;Se.walkTokens=function(me){we.walkTokens(me),ye&&ye(me)}}De.setOptions(Se)},De.walkTokens=function(we,Se){for(var ye=M(we),me;!(me=ye()).done;){var Ce=me.value;switch(Se(Ce),Ce.type){case"table":{for(var he=M(Ce.tokens.header),ge;!(ge=he()).done;){var ve=ge.value;De.walkTokens(ve,Se)}for(var ke=M(Ce.tokens.cells),Ne;!(Ne=ke()).done;)for(var Ae=Ne.value,Pe=M(Ae),Fe;!(Fe=Pe()).done;){var Oe=Fe.value;De.walkTokens(Oe,Se)}break}case"list":{De.walkTokens(Ce.items,Se);break}default:Ce.tokens&&De.walkTokens(Ce.tokens,Se)}}},De.parseInline=function(we,Se){if(typeof we=="undefined"||we===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof we!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected");Se=fe({},De.defaults,Se||{}),_e(Se);try{var ye=te.lexInline(we,Se);return Se.walkTokens&&De.walkTokens(ye,Se.walkTokens),oe.parseInline(ye,Se)}catch(me){if(me.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+be(me.message+"",!0)+"</pre>";throw me}},De.Parser=oe,De.parser=oe.parse,De.Renderer=re,De.TextRenderer=ce,De.Lexer=te,De.lexer=te.lex,De.Tokenizer=q,De.Slugger=j,De.parse=De;var Te=De;return Te}),define(Q[284],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class S{constructor(M,y=0,w=M.length,p=y-1){this.items=M,this.start=y,this.end=w,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=S}),define(Q[285],J([0,1,284]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(y=[],w=10){this._initialize(y),this._limit=w,this._onChange()}add(y){this._history.delete(y),this._history.add(y),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(y){return this._history.has(y)}_onChange(){this._reduceToLimit();const y=this._elements;this._navigator=new S.ArrayNavigator(y,0,y.length,y.length)}_reduceToLimit(){const y=this._elements;y.length>this._limit&&this._initialize(y.slice(y.length-this._limit))}_currentPosition(){const y=this._navigator.current();return y?this._elements.indexOf(y):-1}_initialize(y){this._history=new Set;for(const w of y)this._history.add(w)}get _elements(){const y=[];return this._history.forEach(w=>y.push(w)),y}}e.HistoryNavigator=k}),define(Q[101],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function S(M,y,w){return Math.min(Math.max(M,y),w)}e.clamp=S;class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=k}),define(Q[17],J([0,1]),function($,e){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=e.globals=void 0;const k="en";let M=!1,y=!1,w=!1,p=!1,v=!1,i=!1,_=!1,s,a=k,u,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let d;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?d=e.globals.vscode.process:typeof process!="undefined"&&(d=process);const r=typeof((S=d==null?void 0:d.versions)===null||S===void 0?void 0:S.electron)=="string"&&d.type==="renderer";if(e.isElectronSandboxed=r&&(d==null?void 0:d.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const h=d==null?void 0:d.env.VSCODE_BROWSER_CODE_LOADING;if(typeof h=="string")return h==="none"||h==="code"||h==="bypassHeatCheck"||h==="bypassHeatCheckAndEagerCompile"?h:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!r)c=navigator.userAgent,M=c.indexOf("Windows")>=0,y=c.indexOf("Macintosh")>=0,_=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,w=c.indexOf("Linux")>=0,i=!0,s=navigator.language,a=s;else if(typeof d=="object"){M=d.platform==="win32",y=d.platform==="darwin",w=d.platform==="linux",p=w&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,s=k,a=k;const h=d.env.VSCODE_NLS_CONFIG;if(h)try{const m=JSON.parse(h),C=m.availableLanguages["*"];s=m.locale,a=C||k,u=m._translationsConfigFile}catch(m){}v=!0}else console.error("Unable to resolve platform.");let n=0;y?n=1:M?n=3:w&&(n=2),e.isWindows=M,e.isMacintosh=y,e.isLinux=w,e.isNative=v,e.isWeb=i,e.isIOS=_,e.userAgent=c,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let C=[];e.globals.addEventListener("message",f=>{if(f.data&&f.data.vscodeSetImmediateId)for(let b=0,L=C.length;b<L;b++){const N=C[b];if(N.id===f.data.vscodeSetImmediateId){C.splice(b,1),N.callback();return}}});let g=0;return f=>{const b=++g;C.push({id:b,callback:f}),e.globals.postMessage({vscodeSetImmediateId:b},"*")}}if(typeof(d==null?void 0:d.nextTick)=="function")return d.nextTick.bind(d);const m=Promise.resolve();return C=>m.then(C)}(),e.OS=y||_?2:M?1:3;let o=!0,t=!1;function l(){if(!t){t=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,o=new Uint16Array(h.buffer)[0]===(2<<8)+1}return o}e.isLittleEndian=l}),define(Q[286],J([0,1,17]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof S.globals.vscode!="undefined"&&typeof S.globals.vscode.process!="undefined"){const M=S.globals.vscode.process;k={get platform(){return M.platform},get env(){return M.env},cwd(){return M.cwd()},nextTick(y){return S.setImmediate(y)}}}else typeof process!="undefined"?k={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(M){return process.nextTick(M)}}:k={get platform(){return S.isWindows?"win32":S.isMacintosh?"darwin":"linux"},nextTick(M){return S.setImmediate(M)},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(Q[73],J([0,1,286]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,M=97,y=90,w=122,p=46,v=47,i=92,_=58,s=63;class a extends Error{constructor(l,h,m){let C;typeof h=="string"&&h.indexOf("not ")===0?(C="must not be",h=h.replace(/^not /,"")):C="must be";const g=l.indexOf(".")!==-1?"property":"argument";let f=`The "${l}" ${g} ${C} of type ${h}`;f+=`. Received type ${typeof m}`,super(f),this.code="ERR_INVALID_ARG_TYPE"}}function u(t,l){if(typeof t!="string")throw new a(l,"string",t)}function c(t){return t===v||t===i}function d(t){return t===v}function r(t){return t>=k&&t<=y||t>=M&&t<=w}function n(t,l,h,m){let C="",g=0,f=-1,b=0,L=0;for(let N=0;N<=t.length;++N){if(N<t.length)L=t.charCodeAt(N);else{if(m(L))break;L=v}if(m(L)){if(!(f===N-1||b===1))if(b===2){if(C.length<2||g!==2||C.charCodeAt(C.length-1)!==p||C.charCodeAt(C.length-2)!==p){if(C.length>2){const D=C.lastIndexOf(h);D===-1?(C="",g=0):(C=C.slice(0,D),g=C.length-1-C.lastIndexOf(h)),f=N,b=0;continue}else if(C.length!==0){C="",g=0,f=N,b=0;continue}}l&&(C+=C.length>0?`${h}..`:"..",g=2)}else C.length>0?C+=`${h}${t.slice(f+1,N)}`:C=t.slice(f+1,N),g=N-f-1;f=N,b=0}else L===p&&b!==-1?++b:b=-1}return C}function o(t,l){if(l===null||typeof l!="object")throw new a("pathObject","Object",l);const h=l.dir||l.root,m=l.base||`${l.name||""}${l.ext||""}`;return h?h===l.root?`${h}${m}`:`${h}${t}${m}`:m}e.win32={resolve(...t){let l="",h="",m=!1;for(let C=t.length-1;C>=-1;C--){let g;if(C>=0){if(g=t[C],u(g,"path"),g.length===0)continue}else l.length===0?g=S.cwd():(g=S.env[`=${l}`]||S.cwd(),(g===void 0||g.slice(0,2).toLowerCase()!==l.toLowerCase()&&g.charCodeAt(2)===i)&&(g=`${l}\\`));const f=g.length;let b=0,L="",N=!1;const D=g.charCodeAt(0);if(f===1)c(D)&&(b=1,N=!0);else if(c(D))if(N=!0,c(g.charCodeAt(1))){let I=2,T=I;for(;I<f&&!c(g.charCodeAt(I));)I++;if(I<f&&I!==T){const A=g.slice(T,I);for(T=I;I<f&&c(g.charCodeAt(I));)I++;if(I<f&&I!==T){for(T=I;I<f&&!c(g.charCodeAt(I));)I++;(I===f||I!==T)&&(L=`\\\\${A}\\${g.slice(T,I)}`,b=I)}}}else b=1;else r(D)&&g.charCodeAt(1)===_&&(L=g.slice(0,2),b=2,f>2&&c(g.charCodeAt(2))&&(N=!0,b=3));if(L.length>0)if(l.length>0){if(L.toLowerCase()!==l.toLowerCase())continue}else l=L;if(m){if(l.length>0)break}else if(h=`${g.slice(b)}\\${h}`,m=N,N&&l.length>0)break}return h=n(h,!m,"\\",c),m?`${l}\\${h}`:`${l}${h}`||"."},normalize(t){u(t,"path");const l=t.length;if(l===0)return".";let h=0,m,C=!1;const g=t.charCodeAt(0);if(l===1)return d(g)?"\\":t;if(c(g))if(C=!0,c(t.charCodeAt(1))){let b=2,L=b;for(;b<l&&!c(t.charCodeAt(b));)b++;if(b<l&&b!==L){const N=t.slice(L,b);for(L=b;b<l&&c(t.charCodeAt(b));)b++;if(b<l&&b!==L){for(L=b;b<l&&!c(t.charCodeAt(b));)b++;if(b===l)return`\\\\${N}\\${t.slice(L)}\\`;b!==L&&(m=`\\\\${N}\\${t.slice(L,b)}`,h=b)}}}else h=1;else r(g)&&t.charCodeAt(1)===_&&(m=t.slice(0,2),h=2,l>2&&c(t.charCodeAt(2))&&(C=!0,h=3));let f=h<l?n(t.slice(h),!C,"\\",c):"";return f.length===0&&!C&&(f="."),f.length>0&&c(t.charCodeAt(l-1))&&(f+="\\"),m===void 0?C?`\\${f}`:f:C?`${m}\\${f}`:`${m}${f}`},isAbsolute(t){u(t,"path");const l=t.length;if(l===0)return!1;const h=t.charCodeAt(0);return c(h)||l>2&&r(h)&&t.charCodeAt(1)===_&&c(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let l,h;for(let g=0;g<t.length;++g){const f=t[g];u(f,"path"),f.length>0&&(l===void 0?l=h=f:l+=`\\${f}`)}if(l===void 0)return".";let m=!0,C=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++C;const g=h.length;g>1&&c(h.charCodeAt(1))&&(++C,g>2&&(c(h.charCodeAt(2))?++C:m=!1))}if(m){for(;C<l.length&&c(l.charCodeAt(C));)C++;C>=2&&(l=`\\${l.slice(C)}`)}return e.win32.normalize(l)},relative(t,l){if(u(t,"from"),u(l,"to"),t===l)return"";const h=e.win32.resolve(t),m=e.win32.resolve(l);if(h===m||(t=h.toLowerCase(),l=m.toLowerCase(),t===l))return"";let C=0;for(;C<t.length&&t.charCodeAt(C)===i;)C++;let g=t.length;for(;g-1>C&&t.charCodeAt(g-1)===i;)g--;const f=g-C;let b=0;for(;b<l.length&&l.charCodeAt(b)===i;)b++;let L=l.length;for(;L-1>b&&l.charCodeAt(L-1)===i;)L--;const N=L-b,D=f<N?f:N;let I=-1,T=0;for(;T<D;T++){const R=t.charCodeAt(C+T);if(R!==l.charCodeAt(b+T))break;R===i&&(I=T)}if(T!==D){if(I===-1)return m}else{if(N>D){if(l.charCodeAt(b+T)===i)return m.slice(b+T+1);if(T===2)return m.slice(b+T)}f>D&&(t.charCodeAt(C+T)===i?I=T:T===2&&(I=3)),I===-1&&(I=0)}let A="";for(T=C+I+1;T<=g;++T)(T===g||t.charCodeAt(T)===i)&&(A+=A.length===0?"..":"\\..");return b+=I,A.length>0?`${A}${m.slice(b,L)}`:(m.charCodeAt(b)===i&&++b,m.slice(b,L))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const l=e.win32.resolve(t);if(l.length<=2)return t;if(l.charCodeAt(0)===i){if(l.charCodeAt(1)===i){const h=l.charCodeAt(2);if(h!==s&&h!==p)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(r(l.charCodeAt(0))&&l.charCodeAt(1)===_&&l.charCodeAt(2)===i)return`\\\\?\\${l}`;return t},dirname(t){u(t,"path");const l=t.length;if(l===0)return".";let h=-1,m=0;const C=t.charCodeAt(0);if(l===1)return c(C)?t:".";if(c(C)){if(h=m=1,c(t.charCodeAt(1))){let b=2,L=b;for(;b<l&&!c(t.charCodeAt(b));)b++;if(b<l&&b!==L){for(L=b;b<l&&c(t.charCodeAt(b));)b++;if(b<l&&b!==L){for(L=b;b<l&&!c(t.charCodeAt(b));)b++;if(b===l)return t;b!==L&&(h=m=b+1)}}}}else r(C)&&t.charCodeAt(1)===_&&(h=l>2&&c(t.charCodeAt(2))?3:2,m=h);let g=-1,f=!0;for(let b=l-1;b>=m;--b)if(c(t.charCodeAt(b))){if(!f){g=b;break}}else f=!1;if(g===-1){if(h===-1)return".";g=h}return t.slice(0,g)},basename(t,l){l!==void 0&&u(l,"ext"),u(t,"path");let h=0,m=-1,C=!0,g;if(t.length>=2&&r(t.charCodeAt(0))&&t.charCodeAt(1)===_&&(h=2),l!==void 0&&l.length>0&&l.length<=t.length){if(l===t)return"";let f=l.length-1,b=-1;for(g=t.length-1;g>=h;--g){const L=t.charCodeAt(g);if(c(L)){if(!C){h=g+1;break}}else b===-1&&(C=!1,b=g+1),f>=0&&(L===l.charCodeAt(f)?--f==-1&&(m=g):(f=-1,m=b))}return h===m?m=b:m===-1&&(m=t.length),t.slice(h,m)}for(g=t.length-1;g>=h;--g)if(c(t.charCodeAt(g))){if(!C){h=g+1;break}}else m===-1&&(C=!1,m=g+1);return m===-1?"":t.slice(h,m)},extname(t){u(t,"path");let l=0,h=-1,m=0,C=-1,g=!0,f=0;t.length>=2&&t.charCodeAt(1)===_&&r(t.charCodeAt(0))&&(l=m=2);for(let b=t.length-1;b>=l;--b){const L=t.charCodeAt(b);if(c(L)){if(!g){m=b+1;break}continue}C===-1&&(g=!1,C=b+1),L===p?h===-1?h=b:f!==1&&(f=1):h!==-1&&(f=-1)}return h===-1||C===-1||f===0||f===1&&h===C-1&&h===m+1?"":t.slice(h,C)},format:o.bind(null,"\\"),parse(t){u(t,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return l;const h=t.length;let m=0,C=t.charCodeAt(0);if(h===1)return c(C)?(l.root=l.dir=t,l):(l.base=l.name=t,l);if(c(C)){if(m=1,c(t.charCodeAt(1))){let I=2,T=I;for(;I<h&&!c(t.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&c(t.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&!c(t.charCodeAt(I));)I++;I===h?m=I:I!==T&&(m=I+1)}}}}else if(r(C)&&t.charCodeAt(1)===_){if(h<=2)return l.root=l.dir=t,l;if(m=2,c(t.charCodeAt(2))){if(h===3)return l.root=l.dir=t,l;m=3}}m>0&&(l.root=t.slice(0,m));let g=-1,f=m,b=-1,L=!0,N=t.length-1,D=0;for(;N>=m;--N){if(C=t.charCodeAt(N),c(C)){if(!L){f=N+1;break}continue}b===-1&&(L=!1,b=N+1),C===p?g===-1?g=N:D!==1&&(D=1):g!==-1&&(D=-1)}return b!==-1&&(g===-1||D===0||D===1&&g===b-1&&g===f+1?l.base=l.name=t.slice(f,b):(l.name=t.slice(f,g),l.base=t.slice(f,b),l.ext=t.slice(g,b))),f>0&&f!==m?l.dir=t.slice(0,f-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let l="",h=!1;for(let m=t.length-1;m>=-1&&!h;m--){const C=m>=0?t[m]:S.cwd();u(C,"path"),C.length!==0&&(l=`${C}/${l}`,h=C.charCodeAt(0)===v)}return l=n(l,!h,"/",d),h?`/${l}`:l.length>0?l:"."},normalize(t){if(u(t,"path"),t.length===0)return".";const l=t.charCodeAt(0)===v,h=t.charCodeAt(t.length-1)===v;return t=n(t,!l,"/",d),t.length===0?l?"/":h?"./":".":(h&&(t+="/"),l?`/${t}`:t)},isAbsolute(t){return u(t,"path"),t.length>0&&t.charCodeAt(0)===v},join(...t){if(t.length===0)return".";let l;for(let h=0;h<t.length;++h){const m=t[h];u(m,"path"),m.length>0&&(l===void 0?l=m:l+=`/${m}`)}return l===void 0?".":e.posix.normalize(l)},relative(t,l){if(u(t,"from"),u(l,"to"),t===l||(t=e.posix.resolve(t),l=e.posix.resolve(l),t===l))return"";const h=1,m=t.length,C=m-h,g=1,f=l.length-g,b=C<f?C:f;let L=-1,N=0;for(;N<b;N++){const I=t.charCodeAt(h+N);if(I!==l.charCodeAt(g+N))break;I===v&&(L=N)}if(N===b)if(f>b){if(l.charCodeAt(g+N)===v)return l.slice(g+N+1);if(N===0)return l.slice(g+N)}else C>b&&(t.charCodeAt(h+N)===v?L=N:N===0&&(L=0));let D="";for(N=h+L+1;N<=m;++N)(N===m||t.charCodeAt(N)===v)&&(D+=D.length===0?"..":"/..");return`${D}${l.slice(g+L)}`},toNamespacedPath(t){return t},dirname(t){if(u(t,"path"),t.length===0)return".";const l=t.charCodeAt(0)===v;let h=-1,m=!0;for(let C=t.length-1;C>=1;--C)if(t.charCodeAt(C)===v){if(!m){h=C;break}}else m=!1;return h===-1?l?"/":".":l&&h===1?"//":t.slice(0,h)},basename(t,l){l!==void 0&&u(l,"ext"),u(t,"path");let h=0,m=-1,C=!0,g;if(l!==void 0&&l.length>0&&l.length<=t.length){if(l===t)return"";let f=l.length-1,b=-1;for(g=t.length-1;g>=0;--g){const L=t.charCodeAt(g);if(L===v){if(!C){h=g+1;break}}else b===-1&&(C=!1,b=g+1),f>=0&&(L===l.charCodeAt(f)?--f==-1&&(m=g):(f=-1,m=b))}return h===m?m=b:m===-1&&(m=t.length),t.slice(h,m)}for(g=t.length-1;g>=0;--g)if(t.charCodeAt(g)===v){if(!C){h=g+1;break}}else m===-1&&(C=!1,m=g+1);return m===-1?"":t.slice(h,m)},extname(t){u(t,"path");let l=-1,h=0,m=-1,C=!0,g=0;for(let f=t.length-1;f>=0;--f){const b=t.charCodeAt(f);if(b===v){if(!C){h=f+1;break}continue}m===-1&&(C=!1,m=f+1),b===p?l===-1?l=f:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||m===-1||g===0||g===1&&l===m-1&&l===h+1?"":t.slice(l,m)},format:o.bind(null,"/"),parse(t){u(t,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return l;const h=t.charCodeAt(0)===v;let m;h?(l.root="/",m=1):m=0;let C=-1,g=0,f=-1,b=!0,L=t.length-1,N=0;for(;L>=m;--L){const D=t.charCodeAt(L);if(D===v){if(!b){g=L+1;break}continue}f===-1&&(b=!1,f=L+1),D===p?C===-1?C=L:N!==1&&(N=1):C!==-1&&(N=-1)}if(f!==-1){const D=g===0&&h?1:g;C===-1||N===0||N===1&&C===f-1&&C===g+1?l.base=l.name=t.slice(D,f):(l.name=t.slice(D,C),l.base=t.slice(D,f),l.ext=t.slice(C,f))}return g>0?l.dir=t.slice(0,g-1):h&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=S.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=S.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=S.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=S.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=S.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=S.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=S.platform==="win32"?e.win32.sep:e.posix.sep}),define(Q[124],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var S;(function(k){function M(v,i){if(v.start>=i.end||i.start>=v.end)return{start:0,end:0};const _=Math.max(v.start,i.start),s=Math.min(v.end,i.end);return s-_<=0?{start:0,end:0}:{start:_,end:s}}k.intersect=M;function y(v){return v.end-v.start<=0}k.isEmpty=y;function w(v,i){return!y(M(v,i))}k.intersects=w;function p(v,i){const _=[],s={start:v.start,end:Math.min(i.start,v.end)},a={start:Math.max(i.end,v.start),end:v.end};return y(s)||_.push(s),y(a)||_.push(a),_}k.relativeComplement=p})(S=e.Range||(e.Range={}))}),define(Q[287],J([0,1,124]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(v,i){const _=[];for(let s of i){if(v.start>=s.range.end)continue;if(v.end<s.range.start)break;const a=S.Range.intersect(v,s.range);S.Range.isEmpty(a)||_.push({range:a,size:s.size})}return _}e.groupIntersect=k;function M({start:v,end:i},_){return{start:v+_,end:i+_}}e.shift=M;function y(v){const i=[];let _=null;for(let s of v){const a=s.range.start,u=s.range.end,c=s.size;if(_&&c===_.size){_.range.end=u;continue}_={range:{start:a,end:u},size:c},i.push(_)}return i}e.consolidate=y;function w(...v){return y(v.reduce((i,_)=>i.concat(_),[]))}class p{constructor(){this.groups=[],this._size=0}splice(i,_,s=[]){const a=s.length-_,u=k({start:0,end:i},this.groups),c=k({start:i+_,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:M(r.range,a),size:r.size})),d=s.map((r,n)=>({range:{start:i+n,end:i+n+1},size:r.size}));this.groups=w(u,d,c),this._size=this.groups.reduce((r,n)=>r+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let _=0,s=0;for(let a of this.groups){const u=a.range.end-a.range.start,c=s+u*a.size;if(i<c)return _+Math.floor((i-s)/a.size);_+=u,s=c}return _}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let _=0,s=0;for(let a of this.groups){const u=a.range.end-a.range.start,c=s+u;if(i<c)return _+(i-s)*a.size;_+=u*a.size,s=c}return-1}}e.RangeMap=p}),define(Q[81],J([0,1,17]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const k=S.globals.performance&&typeof S.globals.performance.now=="function";class M{constructor(w){this._highResolution=k&&w,this._startTime=this._now(),this._stopTime=-1}static create(w=!0){return new M(w)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?S.globals.performance.now():Date.now()}}e.StopWatch=M}),define(Q[6],J([0,1,12,2,72,81]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.PauseableEmitter=e.Emitter=e.Event=void 0;var w;(function(c){c.None=()=>k.Disposable.None;function d(O){return(P,F=null,E)=>{let x=!1,H;return H=O(K=>{if(!x)return H?H.dispose():x=!0,P.call(F,K)},null,E),x&&H.dispose(),H}}c.once=d;function r(O,P){return m((F,E=null,x)=>O(H=>F.call(E,P(H)),null,x))}c.map=r;function n(O,P){return m((F,E=null,x)=>O(H=>{P(H),F.call(E,H)},null,x))}c.forEach=n;function o(O,P){return m((F,E=null,x)=>O(H=>P(H)&&F.call(E,H),null,x))}c.filter=o;function t(O){return O}c.signal=t;function l(...O){return(P,F=null,E)=>k.combinedDisposable(...O.map(x=>x(H=>P.call(F,H),null,E)))}c.any=l;function h(O,P,F){let E=F;return r(O,x=>(E=P(E,x),E))}c.reduce=h;function m(O){let P;const F=new _({onFirstListenerAdd(){P=O(F.fire,F)},onLastListenerRemove(){P.dispose()}});return F.event}c.snapshot=m;function C(O,P,F=100,E=!1,x){let H,K,q,G=0;const ee=new _({leakWarningThreshold:x,onFirstListenerAdd(){H=O(ie=>{G++,K=P(K,ie),E&&!q&&(ee.fire(K),K=void 0),clearTimeout(q),q=setTimeout(()=>{const ae=K;K=void 0,q=void 0,(!E||G>1)&&ee.fire(ae),G=0},F)})},onLastListenerRemove(){H.dispose()}});return ee.event}c.debounce=C;function g(O){const P=new Date().getTime();return r(d(O),F=>new Date().getTime()-P)}c.stopwatch=g;function f(O,P=(F,E)=>F===E){let F=!0,E;return o(O,x=>{const H=F||!P(x,E);return F=!1,E=x,H})}c.latch=f;function b(O,P){return[c.filter(O,P),c.filter(O,F=>!P(F))]}c.split=b;function L(O,P=!1,F=[]){let E=F.slice(),x=O(q=>{E?E.push(q):K.fire(q)});const H=()=>{E&&E.forEach(q=>K.fire(q)),E=null},K=new _({onFirstListenerAdd(){x||(x=O(q=>K.fire(q)))},onFirstListenerDidAdd(){E&&(P?setTimeout(H):H())},onLastListenerRemove(){x&&x.dispose(),x=null}});return K.event}c.buffer=L;class N{constructor(P){this.event=P}map(P){return new N(r(this.event,P))}forEach(P){return new N(n(this.event,P))}filter(P){return new N(o(this.event,P))}reduce(P,F){return new N(h(this.event,P,F))}latch(){return new N(f(this.event))}debounce(P,F=100,E=!1,x){return new N(C(this.event,P,F,E,x))}on(P,F,E){return this.event(P,F,E)}once(P,F,E){return d(this.event)(P,F,E)}}function D(O){return new N(O)}c.chain=D;function I(O,P,F=E=>E){const E=(...q)=>K.fire(F(...q)),x=()=>O.on(P,E),H=()=>O.removeListener(P,E),K=new _({onFirstListenerAdd:x,onLastListenerRemove:H});return K.event}c.fromNodeEventEmitter=I;function T(O,P,F=E=>E){const E=(...q)=>K.fire(F(...q)),x=()=>O.addEventListener(P,E),H=()=>O.removeEventListener(P,E),K=new _({onFirstListenerAdd:x,onLastListenerRemove:H});return K.event}c.fromDOMEventEmitter=T;function A(O){const P=new _;let F=!1;return O.then(void 0,()=>null).then(()=>{F?P.fire(void 0):setTimeout(()=>P.fire(void 0),0)}),F=!0,P.event}c.fromPromise=A;function R(O){return new Promise(P=>d(O)(P))}c.toPromise=R})(w=e.Event||(e.Event={}));class p{constructor(d){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${d}_${p._idPool++}`}start(d){this._stopWatch=new y.StopWatch(!0),this._listenerCount=d}stop(){if(this._stopWatch){const d=this._stopWatch.elapsed();this._elapsedOverall+=d,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${d.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}p._idPool=0;let v=-1;class i{constructor(d,r=Math.random().toString(18).slice(2,5)){this.customThreshold=d,this.name=r,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(d){let r=v;if(typeof this.customThreshold=="number"&&(r=this.customThreshold),r<=0||d<r)return;this._stacks||(this._stacks=new Map);const n=new Error().stack.split(`
`).slice(3).join(`
`),o=this._stacks.get(n)||0;if(this._stacks.set(n,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let t,l=0;for(const[h,m]of this._stacks)(!t||l<m)&&(t=h,l=m);console.warn(`[${this.name}] potential listener LEAK detected, having ${d} listeners already. MOST frequent listener (${l}):`),console.warn(t)}return()=>{const t=this._stacks.get(n)||0;this._stacks.set(n,t-1)}}}class _{constructor(d){var r;this._disposed=!1,this._options=d,this._leakageMon=v>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((r=this._options)===null||r===void 0?void 0:r._profName)?new p(this._options._profName):void 0}get event(){return this._event||(this._event=(d,r,n)=>{var o;this._listeners||(this._listeners=new M.LinkedList);const t=this._listeners.isEmpty();t&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const l=this._listeners.push(r?[d,r]:d);t&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,d,r);const h=(o=this._leakageMon)===null||o===void 0?void 0:o.check(this._listeners.size);let m;return m={dispose:()=>{h&&h(),m.dispose=_._noop,this._disposed||(l(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},n instanceof k.DisposableStore?n.add(m):Array.isArray(n)&&n.push(m),m}),this._event}fire(d){var r,n;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new M.LinkedList);for(let o of this._listeners)this._deliveryQueue.push([o,d]);for((r=this._perfMon)===null||r===void 0||r.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[o,t]=this._deliveryQueue.shift();try{typeof o=="function"?o.call(void 0,t):o[0].call(o[1],t)}catch(l){S.onUnexpectedError(l)}}(n=this._perfMon)===null||n===void 0||n.stop()}}dispose(){var d,r,n,o,t;this._disposed||(this._disposed=!0,(d=this._listeners)===null||d===void 0||d.clear(),(r=this._deliveryQueue)===null||r===void 0||r.clear(),(o=(n=this._options)===null||n===void 0?void 0:n.onLastListenerRemove)===null||o===void 0||o.call(n),(t=this._leakageMon)===null||t===void 0||t.dispose())}}e.Emitter=_,_._noop=function(){};class s extends _{constructor(d){super(d);this._isPaused=0,this._eventQueue=new M.LinkedList,this._mergeFn=d==null?void 0:d.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const d=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(d))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(d){this._listeners&&(this._isPaused!==0?this._eventQueue.push(d):super.fire(d))}}e.PauseableEmitter=s;class a{constructor(){this.buffers=[]}wrapEvent(d){return(r,n,o)=>d(t=>{const l=this.buffers[this.buffers.length-1];l?l.push(()=>r.call(n,t)):r.call(n,t)},void 0,o)}bufferEvents(d){const r=[];this.buffers.push(r);const n=d();return this.buffers.pop(),r.forEach(o=>o()),n}}e.EventBufferer=a;class u{constructor(){this.listening=!1,this.inputEvent=w.None,this.inputEventListener=k.Disposable.None,this.emitter=new _({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(d){this.inputEvent=d,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=d(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=u}),define(Q[38],J([0,1,6]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class k{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new S.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let s=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,u=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;return a/u}}k.INSTANCE=new k;function M(){return k.INSTANCE.getZoomLevel()}e.getZoomLevel=M;function y(){return k.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=y;function w(_){return k.INSTANCE.onDidChangeZoomLevel(_)}e.onDidChangeZoomLevel=w;function p(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=p;function v(){return k.INSTANCE.getPixelRatio()}e.getPixelRatio=v;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(Q[153],J([0,1,38,17]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||S.isStandalone?0:navigator.keyboard||S.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}}),define(Q[54],J([0,1,6]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stop=e.stopEvent=e.DomEmitter=e.domEvent=void 0;const k=(p,v,i)=>{const _=a=>s.fire(a),s=new S.Emitter({onFirstListenerAdd:()=>{p.addEventListener(v,_,i)},onLastListenerRemove:()=>{p.removeEventListener(v,_,i)}});return s.event};e.domEvent=k;class M{constructor(v,i,_){const s=a=>this.emitter.fire(a);this.emitter=new S.Emitter({onFirstListenerAdd:()=>v.addEventListener(i,s,_),onLastListenerRemove:()=>v.removeEventListener(i,s,_)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=M;function y(p){return p.preventDefault(),p.stopPropagation(),p}e.stopEvent=y;function w(p){return S.Event.map(p,y)}e.stop=w}),define(Q[55],J([0,1,38,40,17]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let y=new Array(230),w=new Array(112);(function(){for(let c=0;c<w.length;c++)w[c]=-1;function u(c,d){y[c]=d,w[d]=c}u(3,7),u(8,1),u(9,2),u(13,3),u(16,4),u(17,5),u(18,6),u(19,7),u(20,8),u(27,9),u(32,10),u(33,11),u(34,12),u(35,13),u(36,14),u(37,15),u(38,16),u(39,17),u(40,18),u(45,19),u(46,20),u(48,21),u(49,22),u(50,23),u(51,24),u(52,25),u(53,26),u(54,27),u(55,28),u(56,29),u(57,30),u(65,31),u(66,32),u(67,33),u(68,34),u(69,35),u(70,36),u(71,37),u(72,38),u(73,39),u(74,40),u(75,41),u(76,42),u(77,43),u(78,44),u(79,45),u(80,46),u(81,47),u(82,48),u(83,49),u(84,50),u(85,51),u(86,52),u(87,53),u(88,54),u(89,55),u(90,56),u(93,58),u(96,93),u(97,94),u(98,95),u(99,96),u(100,97),u(101,98),u(102,99),u(103,100),u(104,101),u(105,102),u(106,103),u(107,104),u(108,105),u(109,106),u(110,107),u(111,108),u(112,59),u(113,60),u(114,61),u(115,62),u(116,63),u(117,64),u(118,65),u(119,66),u(120,67),u(121,68),u(122,69),u(123,70),u(124,71),u(125,72),u(126,73),u(127,74),u(128,75),u(129,76),u(130,77),u(144,78),u(145,79),u(186,80),u(187,81),u(188,82),u(189,83),u(190,84),u(191,85),u(192,86),u(193,110),u(194,111),u(219,87),u(220,88),u(221,89),u(222,90),u(223,91),u(226,92),u(229,109),S.isFirefox?(u(59,80),u(107,81),u(109,83),M.isMacintosh&&u(224,57)):S.isWebKit&&(u(91,57),M.isMacintosh?u(93,57):u(92,57))})();function p(u){if(u.charCode){let c=String.fromCharCode(u.charCode).toUpperCase();return k.KeyCodeUtils.fromString(c)}return y[u.keyCode]||0}const v=M.isMacintosh?256:2048,i=512,_=1024,s=M.isMacintosh?2048:256;class a{constructor(c){this._standardKeyboardEventBrand=!0;let d=c;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.keyCode=p(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(c){return this._asKeybinding===c}_computeKeybinding(){let c=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode);let d=0;return this.ctrlKey&&(d|=v),this.altKey&&(d|=i),this.shiftKey&&(d|=_),this.metaKey&&(d|=s),d|=c,d}_computeRuntimeKeybinding(){let c=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,c)}}e.StandardKeyboardEvent=a}),define(Q[56],J([0,1,38,195,17]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class y{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=y;class w{constructor(v,i=0,_=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=_,this.deltaX=i,v){let s=v,a=v;if(typeof s.wheelDeltaY!="undefined")this.deltaY=s.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(v.type==="wheel"){const u=v;u.deltaMode===u.DOM_DELTA_LINE?S.isFirefox&&!M.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof s.wheelDeltaX!="undefined")S.isSafari&&M.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const u=v;u.deltaMode===u.DOM_DELTA_LINE?S.isFirefox&&!M.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=w}),define(Q[23],J([0,1,6]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(p,v){const i=setTimeout(p.bind(v),0);return{dispose(){clearTimeout(i)}}});var M;(function(p){function v(i){return i===p.None||i===p.Cancelled||i instanceof y?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}p.isCancellationToken=v,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:S.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(M=e.CancellationToken||(e.CancellationToken={}));class y{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new S.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class w{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new y),this._token}cancel(){this._token?this._token instanceof y&&this._token.cancel():this._token=M.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof y&&this._token.dispose():this._token=M.None}}e.CancellationTokenSource=w});var Ie=this&&this.__awaiter||function($,e,S,k){function M(y){return y instanceof S?y:new S(function(w){w(y)})}return new(S||(S=Promise))(function(y,w){function p(_){try{i(k.next(_))}catch(s){w(s)}}function v(_){try{i(k.throw(_))}catch(s){w(s)}}function i(_){_.done?y(_.value):M(_.value).then(p,v)}i((k=k.apply($,e||[])).next())})};define(Q[15],J([0,1,23,12,2]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function y(t){return!!t&&typeof t.then=="function"}e.isThenable=y;function w(t){const l=new S.CancellationTokenSource,h=t(l.token),m=new Promise((C,g)=>{l.token.onCancellationRequested(()=>{g(k.canceled())}),Promise.resolve(h).then(f=>{l.dispose(),C(f)},f=>{l.dispose(),g(f)})});return new class{cancel(){l.cancel()}then(C,g){return m.then(C,g)}catch(C){return this.then(void 0,C)}finally(C){return m.finally(C)}}}e.createCancelablePromise=w;function p(t,l,h){return Promise.race([t,new Promise(m=>l.onCancellationRequested(()=>m(h)))])}e.raceCancellation=p;class v{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(l){if(this.activePromise){if(this.queuedPromiseFactory=l,!this.queuedPromise){const h=()=>{this.queuedPromise=null;const m=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,m};this.queuedPromise=new Promise(m=>{this.activePromise.then(h,h).then(m)})}return new Promise((h,m)=>{this.queuedPromise.then(h,m)})}return this.activePromise=l(),new Promise((h,m)=>{this.activePromise.then(C=>{this.activePromise=null,h(C)},C=>{this.activePromise=null,m(C)})})}}e.Throttler=v;class i{constructor(l){this.defaultDelay=l,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(l,h=this.defaultDelay){return this.task=l,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((m,C)=>{this.doResolve=m,this.doReject=C}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const m=this.task;return this.task=null,m()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},h),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(k.canceled()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}e.Delayer=i;class _{constructor(l){this.delayer=new i(l),this.throttler=new v}trigger(l,h){return this.delayer.trigger(()=>this.throttler.queue(l),h)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=_;function s(t,l){return l?new Promise((h,m)=>{const C=setTimeout(h,t);l.onCancellationRequested(()=>{clearTimeout(C),m(k.canceled())})}):w(h=>s(t,h))}e.timeout=s;function a(t,l=0){const h=setTimeout(t,l);return M.toDisposable(()=>clearTimeout(h))}e.disposableTimeout=a;function u(t,l=m=>!!m,h=null){let m=0;const C=t.length,g=()=>{if(m>=C)return Promise.resolve(h);const f=t[m++];return Promise.resolve(f()).then(L=>l(L)?Promise.resolve(L):g())};return g()}e.first=u;class c{constructor(l,h){this._token=-1,typeof l=="function"&&typeof h=="number"&&this.setIfNotSet(l,h)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(l,h){this.cancel(),this._token=setTimeout(()=>{this._token=-1,l()},h)}setIfNotSet(l,h){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,l()},h))}}e.TimeoutTimer=c;class d{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(l,h){this.cancel(),this._token=setInterval(()=>{l()},h)}}e.IntervalTimer=d;class r{constructor(l,h){this.timeoutToken=-1,this.runner=l,this.timeout=h,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(l=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,l)}get delay(){return this.timeout}set delay(l){this.timeout=l}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=r,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=l=>{const h=setTimeout(()=>l(t));let m=!1;return{dispose(){m||(m=!0,clearTimeout(h))}}}}else e.runWhenIdle=(t,l)=>{const h=requestIdleCallback(t,typeof l=="number"?{timeout:l}:void 0);let m=!1;return{dispose(){m||(m=!0,cancelIdleCallback(h))}}}}();class n{constructor(l){this._didRun=!1,this._executor=()=>{try{this._value=l()}catch(h){this._error=h}finally{this._didRun=!0}},this._handle=e.runWhenIdle(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=n;var o;(function(t){function l(g){return Ie(this,void 0,void 0,function*(){return typeof Promise.allSettled=="function"?h(g):m(g)})}t.allSettled=l;function h(g){return Ie(this,void 0,void 0,function*(){return Promise.allSettled(g)})}function m(g){return Ie(this,void 0,void 0,function*(){return Promise.all(g.map(f=>f.then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))})}function C(g){return Ie(this,void 0,void 0,function*(){let f;const b=yield Promise.all(g.map(L=>L.then(N=>N,N=>{f||(f=N)})));if(typeof f!="undefined")throw f;return b})}t.settled=C})(o=e.Promises||(e.Promises={}))}),define(Q[288],J([0,1,15,2]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class M extends k.Disposable{constructor(w,p,v){super();this._visibility=w,this._visibleClassName=p,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new S.TimeoutTimer)}applyVisibilitySetting(w){return this._visibility===2?!1:this._visibility===3?!0:w}setShouldBeVisible(w){const p=this.applyVisibilitySetting(w);this._shouldBeVisible!==p&&(this._shouldBeVisible=p,this.ensureVisibility())}setIsNeeded(w){this._isNeeded!==w&&(this._isNeeded=w,this.ensureVisibility())}setDomNode(w){this._domNode=w,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(w){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(w?" fade":"")))}}e.ScrollbarVisibilityController=M}),define(Q[27],J([0,1,6]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class k{constructor(){this._icons=new Map,this._onDidRegister=new S.Emitter}add(_){const s=this._icons.get(_.id);s?_.description?s.description=_.description:console.error(`Duplicate registration of codicon ${_.id}`):(this._icons.set(_.id,_),this._onDidRegister.fire(_))}get(_){return this._icons.get(_)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const M=new k;e.iconRegistry=M;function y(i,_){return new p(i,_)}e.registerCodicon=y;function w(i){return i?i.replace(/\$\((.*?)\)/g,(_,s)=>` ${s} `).trim():""}e.getCodiconAriaLabel=w;class p{constructor(_,s,a){this.id=_,this.definition=s,this.description=a,M.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=p;var v;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const _=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function s(c){if(c instanceof p)return["codicon","codicon-"+c.id];const d=_.exec(c.id);if(!d)return s(p.error);let[,r,n]=d;const o=["codicon","codicon-"+r];return n&&o.push("codicon-modifier-"+n.substr(1)),o}i.asClassNameArray=s;function a(c){return s(c).join(" ")}i.asClassName=a;function u(c){return"."+s(c).join(".")}i.asCSSSelector=u})(v=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eb0a"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(p=e.Codicon||(e.Codicon={}))}),define(Q[199],J([0,1,27]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=S.registerCodicon("tree-item-expanded",S.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=S.registerCodicon("tree-filter-on-type-on",S.Codicon.listFilter),e.treeFilterOnTypeOffIcon=S.registerCodicon("tree-filter-on-type-off",S.Codicon.listSelection),e.treeFilterClearIcon=S.registerCodicon("tree-filter-clear",S.Codicon.close),e.treeItemLoadingIcon=S.registerCodicon("tree-item-loading",S.Codicon.loading)}),define(Q[289],J([0,1,15]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new S.IdleValue(()=>{const p=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:p,collatorIsNumeric:p.resolvedOptions().numeric}});function M(p,v,i=!1){const _=p||"",s=v||"",a=k.value.collator.compare(_,s);return k.value.collatorIsNumeric&&a===0&&_!==s?_<s?-1:1:a}e.compareFileNames=M;function y(p,v,i){const _=p.toLowerCase(),s=v.toLowerCase(),a=w(p,v,i);if(a)return a;const u=_.endsWith(i),c=s.endsWith(i);if(u!==c)return u?-1:1;const d=M(_,s);return d!==0?d:_.localeCompare(s)}e.compareAnything=y;function w(p,v,i){const _=p.toLowerCase(),s=v.toLowerCase(),a=_.startsWith(i),u=s.startsWith(i);if(a!==u)return a?-1:1;if(a&&u){if(_.length<s.length)return-1;if(_.length>s.length)return 1}return 0}e.compareByPrefix=w}),define(Q[125],J([0,1,6,2]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class M{constructor(u,c,d,r,n,o){u=u|0,c=c|0,d=d|0,r=r|0,n=n|0,o=o|0,this.rawScrollLeft=d,this.rawScrollTop=o,u<0&&(u=0),d+u>c&&(d=c-u),d<0&&(d=0),r<0&&(r=0),o+r>n&&(o=n-r),o<0&&(o=0),this.width=u,this.scrollWidth=c,this.scrollLeft=d,this.height=r,this.scrollHeight=n,this.scrollTop=o}equals(u){return this.rawScrollLeft===u.rawScrollLeft&&this.rawScrollTop===u.rawScrollTop&&this.width===u.width&&this.scrollWidth===u.scrollWidth&&this.scrollLeft===u.scrollLeft&&this.height===u.height&&this.scrollHeight===u.scrollHeight&&this.scrollTop===u.scrollTop}withScrollDimensions(u,c){return new M(typeof u.width!="undefined"?u.width:this.width,typeof u.scrollWidth!="undefined"?u.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof u.height!="undefined"?u.height:this.height,typeof u.scrollHeight!="undefined"?u.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(u){return new M(this.width,this.scrollWidth,typeof u.scrollLeft!="undefined"?u.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof u.scrollTop!="undefined"?u.scrollTop:this.rawScrollTop)}createScrollEvent(u,c){const d=this.width!==u.width,r=this.scrollWidth!==u.scrollWidth,n=this.scrollLeft!==u.scrollLeft,o=this.height!==u.height,t=this.scrollHeight!==u.scrollHeight,l=this.scrollTop!==u.scrollTop;return{inSmoothScrolling:c,oldWidth:u.width,oldScrollWidth:u.scrollWidth,oldScrollLeft:u.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:u.height,oldScrollHeight:u.scrollHeight,oldScrollTop:u.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:r,scrollLeftChanged:n,heightChanged:o,scrollHeightChanged:t,scrollTopChanged:l}}}e.ScrollState=M;class y extends k.Disposable{constructor(u,c){super();this._onScroll=this._register(new S.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=u,this._scheduleAtNextAnimationFrame=c,this._state=new M(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(u){this._smoothScrollDuration=u}validateScrollPosition(u){return this._state.withScrollPosition(u)}getScrollDimensions(){return this._state}setScrollDimensions(u,c){const d=this._state.withScrollDimensions(u,c);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(u){const c=this._state.withScrollPosition(u);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(u,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(u);if(this._smoothScrolling){u={scrollLeft:typeof u.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:u.scrollLeft,scrollTop:typeof u.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:u.scrollTop};const d=this._state.withScrollPosition(u);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let r;c?r=new i(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const d=this._state.withScrollPosition(u);this._smoothScrolling=i.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const u=this._smoothScrolling.tick(),c=this._state.withScrollPosition(u);if(this._setState(c,!0),!!this._smoothScrolling){if(u.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(u,c){const d=this._state;d.equals(u)||(this._state=u,this._onScroll.fire(this._state.createScrollEvent(d,c)))}}e.Scrollable=y;class w{constructor(u,c,d){this.scrollLeft=u,this.scrollTop=c,this.isDone=d}}e.SmoothScrollingUpdate=w;function p(a,u){const c=u-a;return function(d){return a+c*s(d)}}function v(a,u,c){return function(d){return d<c?a(d/c):u((d-c)/(1-c))}}class i{constructor(u,c,d,r){this.from=u,this.to=c,this.duration=r,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(u,c,d){if(Math.abs(u-c)>2.5*d){let n,o;return u<c?(n=u+.75*d,o=c-.75*d):(n=u-.75*d,o=c+.75*d),v(p(u,n),p(o,c),.33)}return p(u,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(u){this.to=u.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(u){const c=(u-this.startTime)/this.duration;if(c<1){const d=this.scrollLeft(c),r=this.scrollTop(c);return new w(d,r,!1)}return new w(this.to.scrollLeft,this.to.scrollTop,!0)}combine(u,c,d){return i.start(u,c,d)}static start(u,c,d){d=d+10;const r=Date.now()-10;return new i(u,c,r,d)}}e.SmoothScrollingOperation=i;function _(a){return Math.pow(a,3)}function s(a){return 1-_(1-a)}}),define(Q[8],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function S(j){return!j||typeof j!="string"?!0:j.trim().length===0}e.isFalsyOrWhitespace=S;const k=/{(\d+)}/g;function M(j,...ne){return ne.length===0?j:j.replace(k,function(Z,oe){const fe=parseInt(oe,10);return isNaN(fe)||fe<0||fe>=ne.length?Z:ne[fe]})}e.format=M;function y(j){return j.replace(/[<>&]/g,function(ne){switch(ne){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ne}})}e.escape=y;function w(j){return j.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=w;function p(j,ne=" "){const Z=v(j,ne);return i(Z,ne)}e.trim=p;function v(j,ne){if(!j||!ne)return j;const Z=ne.length;if(Z===0||j.length===0)return j;let oe=0;for(;j.indexOf(ne,oe)===oe;)oe=oe+Z;return j.substring(oe)}e.ltrim=v;function i(j,ne){if(!j||!ne)return j;const Z=ne.length,oe=j.length;if(Z===0||oe===0)return j;let fe=oe,_e=-1;for(;_e=j.lastIndexOf(ne,fe-1),!(_e===-1||_e+Z!==fe);){if(_e===0)return"";fe=_e}return j.substring(0,fe)}e.rtrim=i;function _(j){return j.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=_;function s(j){return j.replace(/\*/g,"")}e.stripWildcards=s;function a(j,ne,Z={}){if(!j)throw new Error("Cannot create regex from empty string");ne||(j=w(j)),Z.wholeWord&&(/\B/.test(j.charAt(0))||(j="\\b"+j),/\B/.test(j.charAt(j.length-1))||(j=j+"\\b"));let oe="";return Z.global&&(oe+="g"),Z.matchCase||(oe+="i"),Z.multiline&&(oe+="m"),Z.unicode&&(oe+="u"),new RegExp(j,oe)}e.createRegExp=a;function u(j){return j.source==="^"||j.source==="^$"||j.source==="$"||j.source==="^\\s*$"?!1:!!(j.exec("")&&j.lastIndex===0)}e.regExpLeadsToEndlessLoop=u;function c(j){return(j.global?"g":"")+(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")}e.regExpFlags=c;function d(j){return j.split(/\r\n|\r|\n/)}e.splitLines=d;function r(j){for(let ne=0,Z=j.length;ne<Z;ne++){const oe=j.charCodeAt(ne);if(oe!==32&&oe!==9)return ne}return-1}e.firstNonWhitespaceIndex=r;function n(j,ne=0,Z=j.length){for(let oe=ne;oe<Z;oe++){const fe=j.charCodeAt(oe);if(fe!==32&&fe!==9)return j.substring(ne,oe)}return j.substring(ne,Z)}e.getLeadingWhitespace=n;function o(j,ne=j.length-1){for(let Z=ne;Z>=0;Z--){const oe=j.charCodeAt(Z);if(oe!==32&&oe!==9)return Z}return-1}e.lastNonWhitespaceIndex=o;function t(j,ne){return j<ne?-1:j>ne?1:0}e.compare=t;function l(j,ne,Z=0,oe=j.length,fe=0,_e=ne.length){for(;Z<oe&&fe<_e;Z++,fe++){let Ee=j.charCodeAt(Z),Re=ne.charCodeAt(fe);if(Ee<Re)return-1;if(Ee>Re)return 1}const be=oe-Z,Le=_e-fe;return be<Le?-1:be>Le?1:0}e.compareSubstring=l;function h(j,ne){return m(j,ne,0,j.length,0,ne.length)}e.compareIgnoreCase=h;function m(j,ne,Z=0,oe=j.length,fe=0,_e=ne.length){for(;Z<oe&&fe<_e;Z++,fe++){let Ee=j.charCodeAt(Z),Re=ne.charCodeAt(fe);if(Ee===Re)continue;const De=Ee-Re;if(!(De===32&&g(Re))&&!(De===-32&&g(Ee)))return C(Ee)&&C(Re)?De:l(j.toLowerCase(),ne.toLowerCase(),Z,oe,fe,_e)}const be=oe-Z,Le=_e-fe;return be<Le?-1:be>Le?1:0}e.compareSubstringIgnoreCase=m;function C(j){return j>=97&&j<=122}e.isLowerAsciiLetter=C;function g(j){return j>=65&&j<=90}e.isUpperAsciiLetter=g;function f(j){return C(j)||g(j)}function b(j,ne){return j.length===ne.length&&L(j,ne)}e.equalsIgnoreCase=b;function L(j,ne,Z=j.length){for(let oe=0;oe<Z;oe++){const fe=j.charCodeAt(oe),_e=ne.charCodeAt(oe);if(fe!==_e){if(f(fe)&&f(_e)){const be=Math.abs(fe-_e);if(be!==0&&be!==32)return!1}else if(String.fromCharCode(fe).toLowerCase()!==String.fromCharCode(_e).toLowerCase())return!1}}return!0}function N(j,ne){const Z=ne.length;return ne.length>j.length?!1:L(j,ne,Z)}e.startsWithIgnoreCase=N;function D(j,ne){let Z,oe=Math.min(j.length,ne.length);for(Z=0;Z<oe;Z++)if(j.charCodeAt(Z)!==ne.charCodeAt(Z))return Z;return oe}e.commonPrefixLength=D;function I(j,ne){let Z,oe=Math.min(j.length,ne.length);const fe=j.length-1,_e=ne.length-1;for(Z=0;Z<oe;Z++)if(j.charCodeAt(fe-Z)!==ne.charCodeAt(_e-Z))return Z;return oe}e.commonSuffixLength=I;function T(j){return 55296<=j&&j<=56319}e.isHighSurrogate=T;function A(j){return 56320<=j&&j<=57343}e.isLowSurrogate=A;function R(j,ne){return(j-55296<<10)+(ne-56320)+65536}e.computeCodePoint=R;function O(j,ne,Z){const oe=j.charCodeAt(Z);if(T(oe)&&Z+1<ne){const fe=j.charCodeAt(Z+1);if(A(fe))return R(oe,fe)}return oe}e.getNextCodePoint=O;function P(j,ne){const Z=j.charCodeAt(ne-1);if(A(Z)&&ne>1){const oe=j.charCodeAt(ne-2);if(T(oe))return R(oe,Z)}return Z}function F(j,ne){const Z=te.getInstance(),oe=ne,fe=j.length,_e=O(j,fe,ne);ne+=_e>=65536?2:1;let be=Z.getGraphemeBreakType(_e);for(;ne<fe;){const Le=O(j,fe,ne),Ee=Z.getGraphemeBreakType(Le);if(X(be,Ee))break;ne+=Le>=65536?2:1,be=Ee}return ne-oe}e.nextCharLength=F;function E(j,ne){const Z=te.getInstance(),oe=ne,fe=P(j,ne);ne-=fe>=65536?2:1;let _e=Z.getGraphemeBreakType(fe);for(;ne>0;){const be=P(j,ne),Le=Z.getGraphemeBreakType(be);if(X(Le,_e))break;ne-=be>=65536?2:1,_e=Le}return oe-ne}e.prevCharLength=E;function x(j){const ne=j.byteLength,Z=[];let oe=0;for(;oe<ne;){const fe=j[oe];let _e;if(fe>=240&&oe+3<ne?_e=(j[oe++]&7)<<18>>>0|(j[oe++]&63)<<12>>>0|(j[oe++]&63)<<6>>>0|(j[oe++]&63)<<0>>>0:fe>=224&&oe+2<ne?_e=(j[oe++]&15)<<12>>>0|(j[oe++]&63)<<6>>>0|(j[oe++]&63)<<0>>>0:fe>=192&&oe+1<ne?_e=(j[oe++]&31)<<6>>>0|(j[oe++]&63)<<0>>>0:_e=j[oe++],_e>=0&&_e<=55295||_e>=57344&&_e<=65535)Z.push(String.fromCharCode(_e));else if(_e>=65536&&_e<=1114111){const be=_e-65536,Le=55296+((be&1047552)>>>10),Ee=56320+((be&1023)>>>0);Z.push(String.fromCharCode(Le)),Z.push(String.fromCharCode(Ee))}else Z.push(String.fromCharCode(65533))}return Z.join("")}e.decodeUTF8=x;const H=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function K(j){return H.test(j)}e.containsRTL=K;const q=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function G(j){return q.test(j)}e.containsEmoji=G;const ee=/^[\t\n\r\x20-\x7E]*$/;function ie(j){return ee.test(j)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ae(j){return e.UNUSUAL_LINE_TERMINATORS.test(j)}e.containsUnusualLineTerminators=ae;function de(j){for(let ne=0,Z=j.length;ne<Z;ne++)if(Y(j.charCodeAt(ne)))return!0;return!1}e.containsFullWidthCharacter=de;function Y(j){return j=+j,j>=11904&&j<=55215||j>=63744&&j<=64255||j>=65281&&j<=65374}e.isFullWidthCharacter=Y;function B(j){return j>=127462&&j<=127487||j===8986||j===8987||j===9200||j===9203||j>=9728&&j<=10175||j===11088||j===11093||j>=127744&&j<=128591||j>=128640&&j<=128764||j>=128992&&j<=129003||j>=129280&&j<=129535||j>=129648&&j<=129750}e.isEmojiImprecise=B,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function W(j){return!!(j&&j.length>0&&j.charCodeAt(0)===65279)}e.startsWithUTF8BOM=W;function V(j,ne=!1){return j?(ne&&(j=j.replace(/\\./g,"")),j.toLowerCase()!==j):!1}e.containsUppercaseCharacter=V;function z(j){const ne=90-65+1;return j=j%(2*ne),j<ne?String.fromCharCode(97+j):String.fromCharCode(65+j-ne)}e.singleLetterHash=z;function U(j){return te.getInstance().getGraphemeBreakType(j)}e.getGraphemeBreakType=U;function X(j,ne){return j===0?ne!==5&&ne!==7:j===2&&ne===3?!1:j===4||j===2||j===3||ne===4||ne===2||ne===3?!0:!(j===8&&(ne===8||ne===9||ne===11||ne===12)||(j===11||j===9)&&(ne===9||ne===10)||(j===12||j===10)&&ne===10||ne===5||ne===13||ne===7||j===1||j===13&&ne===14||j===6&&ne===6)}e.breakBetweenGraphemeBreakType=X;class te{constructor(){this._data=se()}static getInstance(){return te._INSTANCE||(te._INSTANCE=new te),te._INSTANCE}getGraphemeBreakType(ne){if(ne<32)return ne===10?3:ne===13?2:4;if(ne<127)return 0;const Z=this._data,oe=Z.length/3;let fe=1;for(;fe<=oe;)if(ne<Z[3*fe])fe=2*fe;else if(ne>Z[3*fe+1])fe=2*fe+1;else return Z[3*fe+2];return 0}}te._INSTANCE=null;function se(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function le(j,ne){if(j===0)return 0;const Z=ue(j,ne);if(Z!==void 0)return Z;const oe=P(ne,j);return j-=re(oe),j}e.getLeftDeleteOffset=le;function ue(j,ne){let Z=P(ne,j);for(j-=re(Z);ce(Z)||Z===65039||Z===8419;){if(j===0)return;Z=P(ne,j),j-=re(Z)}if(!!B(Z)){if(j>=0){const oe=P(ne,j);oe===8205&&(j-=re(oe))}return j}}function re(j){return j>=65536?2:1}function ce(j){return 127995<=j&&j<=127999}}),define(Q[102],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer!="undefined",M=typeof TextDecoder!="undefined";let y;class w{constructor(c){this.buffer=c,this.byteLength=this.buffer.byteLength}static wrap(c){return k&&!Buffer.isBuffer(c)&&(c=Buffer.from(c.buffer,c.byteOffset,c.byteLength)),new w(c)}toString(){return k?this.buffer.toString():M?(y||(y=new TextDecoder),y.decode(this.buffer)):S.decodeUTF8(this.buffer)}}e.VSBuffer=w;function p(u,c){return u[c+0]<<0>>>0|u[c+1]<<8>>>0}e.readUInt16LE=p;function v(u,c,d){u[d+0]=c&255,c=c>>>8,u[d+1]=c&255}e.writeUInt16LE=v;function i(u,c){return u[c]*Math.pow(2,24)+u[c+1]*Math.pow(2,16)+u[c+2]*Math.pow(2,8)+u[c+3]}e.readUInt32BE=i;function _(u,c,d){u[d+3]=c,c=c>>>8,u[d+2]=c,c=c>>>8,u[d+1]=c,c=c>>>8,u[d]=c}e.writeUInt32BE=_;function s(u,c){return u[c]}e.readUInt8=s;function a(u,c,d){u[d]=c}e.writeUInt8=a}),define(Q[154],J([0,1,17,8,73]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toPosixPath=e.toSlashes=void 0;function y(s){return s.replace(/[\\/]/g,M.posix.sep)}e.toSlashes=y;function w(s){return s.indexOf("/")===-1&&(s=y(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}e.toPosixPath=w;function p(s,a,u,c=M.sep){if(s===a)return!0;if(!s||!a||a.length>s.length)return!1;if(u){if(!k.startsWithIgnoreCase(s,a))return!1;if(a.length===s.length)return!0;let r=a.length;return a.charAt(a.length-1)===c&&r--,s.charAt(r)===c}return a.charAt(a.length-1)!==c&&(a+=c),s.indexOf(a)===0}e.isEqualOrParent=p;function v(s){return s>=65&&s<=90||s>=97&&s<=122}e.isWindowsDriveLetter=v;function i(s){const a=M.normalize(s);return S.isWindows?s.length>3?!1:_(a)&&(s.length===2||a.charCodeAt(2)===92):a===M.posix.sep}e.isRootOrDriveLetter=i;function _(s){return S.isWindows?v(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}e.hasDriveLetter=_}),define(Q[91],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function k(d){return M(d,0)}e.hash=k;function M(d,r){switch(typeof d){case"object":return d===null?y(349,r):Array.isArray(d)?v(d,r):i(d,r);case"string":return p(d,r);case"boolean":return w(d,r);case"number":return y(d,r);case"undefined":return y(937,r);default:return y(617,r)}}e.doHash=M;function y(d,r){return(r<<5)-r+d|0}function w(d,r){return y(d?433:863,r)}function p(d,r){r=y(149417,r);for(let n=0,o=d.length;n<o;n++)r=y(d.charCodeAt(n),r);return r}e.stringHash=p;function v(d,r){return r=y(104579,r),d.reduce((n,o)=>M(o,n),r)}function i(d,r){return r=y(181387,r),Object.keys(d).sort().reduce((n,o)=>(n=p(o,n),M(d[o],n)),r)}function _(d,r,n=32){const o=n-r,t=~((1<<o)-1);return(d<<r|(t&d)>>>o)>>>0}function s(d,r=0,n=d.byteLength,o=0){for(let t=0;t<n;t++)d[r+t]=o}function a(d,r,n="0"){for(;d.length<r;)d=n+d;return d}function u(d,r=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(n=>n.toString(16).padStart(2,"0")).join(""):a((d>>>0).toString(16),r/4)}e.toHexString=u;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const n=r.length;if(n===0)return;const o=this._buff;let t=this._buffLen,l=this._leftoverHighSurrogate,h,m;for(l!==0?(h=l,m=-1,l=0):(h=r.charCodeAt(0),m=0);;){let C=h;if(S.isHighSurrogate(h))if(m+1<n){const g=r.charCodeAt(m+1);S.isLowSurrogate(g)?(m++,C=S.computeCodePoint(h,g)):C=65533}else{l=h;break}else S.isLowSurrogate(h)&&(C=65533);if(t=this._push(o,t,C),m++,m<n)h=r.charCodeAt(m);else break}this._buffLen=t,this._leftoverHighSurrogate=l}_push(r,n,o){return o<128?r[n++]=o:o<2048?(r[n++]=192|(o&1984)>>>6,r[n++]=128|(o&63)>>>0):o<65536?(r[n++]=224|(o&61440)>>>12,r[n++]=128|(o&4032)>>>6,r[n++]=128|(o&63)>>>0):(r[n++]=240|(o&1835008)>>>18,r[n++]=128|(o&258048)>>>12,r[n++]=128|(o&4032)>>>6,r[n++]=128|(o&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),u(this._h0)+u(this._h1)+u(this._h2)+u(this._h3)+u(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=c._bigBlock32,n=this._buffDV;for(let b=0;b<64;b+=4)r.setUint32(b,n.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)r.setUint32(b,_(r.getUint32(b-12,!1)^r.getUint32(b-32,!1)^r.getUint32(b-56,!1)^r.getUint32(b-64,!1),1),!1);let o=this._h0,t=this._h1,l=this._h2,h=this._h3,m=this._h4,C,g,f;for(let b=0;b<80;b++)b<20?(C=t&l|~t&h,g=1518500249):b<40?(C=t^l^h,g=1859775393):b<60?(C=t&l|t&h|l&h,g=2400959708):(C=t^l^h,g=3395469782),f=_(o,5)+C+m+g+r.getUint32(b*4,!1)&4294967295,m=h,h=l,l=_(t,30),t=o,o=f;this._h0=this._h0+o&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+m&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(Q[155],J([0,1,283,91]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class M{constructor(s){this.source=s}getElements(){const s=this.source,a=new Int32Array(s.length);for(let u=0,c=s.length;u<c;u++)a[u]=s.charCodeAt(u);return a}}e.StringDiffSequence=M;function y(_,s,a){return new i(new M(_),new M(s)).ComputeDiff(a).changes}e.stringDiff=y;class w{static Assert(s,a){if(!s)throw new Error(a)}}e.Debug=w;class p{static Copy(s,a,u,c,d){for(let r=0;r<d;r++)u[c+r]=s[a+r]}static Copy2(s,a,u,c,d){for(let r=0;r<d;r++)u[c+r]=s[a+r]}}e.MyArray=p;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new S.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,a){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(s,a){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(s,a,u=null){this.ContinueProcessingPredicate=u;const[c,d,r]=i._getElements(s),[n,o,t]=i._getElements(a);this._hasStrings=r&&t,this._originalStringElements=c,this._originalElementsOrHash=d,this._modifiedStringElements=n,this._modifiedElementsOrHash=o,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const a=s.getElements();if(i._isStringArray(a)){const u=new Int32Array(a.length);for(let c=0,d=a.length;c<d;c++)u[c]=k.stringHash(a[c],0);return[a,u,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(s,a){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[a]:!0}OriginalElementsAreEqual(s,a){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(s,a){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[a]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,a,u,c,d){const r=[!1];let n=this.ComputeDiffRecursive(s,a,u,c,r);return d&&(n=this.PrettifyChanges(n)),{quitEarly:r[0],changes:n}}ComputeDiffRecursive(s,a,u,c,d){for(d[0]=!1;s<=a&&u<=c&&this.ElementsAreEqual(s,u);)s++,u++;for(;a>=s&&c>=u&&this.ElementsAreEqual(a,c);)a--,c--;if(s>a||u>c){let h;return u<=c?(w.Assert(s===a+1,"originalStart should only be one more than originalEnd"),h=[new S.DiffChange(s,0,u,c-u+1)]):s<=a?(w.Assert(u===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[new S.DiffChange(s,a-s+1,u,0)]):(w.Assert(s===a+1,"originalStart should only be one more than originalEnd"),w.Assert(u===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const r=[0],n=[0],o=this.ComputeRecursionPoint(s,a,u,c,r,n,d),t=r[0],l=n[0];if(o!==null)return o;if(!d[0]){const h=this.ComputeDiffRecursive(s,t,u,l,d);let m=[];return d[0]?m=[new S.DiffChange(t+1,a-(t+1)+1,l+1,c-(l+1)+1)]:m=this.ComputeDiffRecursive(t+1,a,l+1,c,d),this.ConcatenateChanges(h,m)}return[new S.DiffChange(s,a-s+1,u,c-u+1)]}WALKTRACE(s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N){let D=null,I=null,T=new v,A=a,R=u,O=C[0]-b[0]-c,P=-1073741824,F=this.m_forwardHistory.length-1;do{const E=O+s;E===A||E<R&&t[E-1]<t[E+1]?(h=t[E+1],g=h-O-c,h<P&&T.MarkNextChange(),P=h,T.AddModifiedElement(h+1,g),O=E+1-s):(h=t[E-1]+1,g=h-O-c,h<P&&T.MarkNextChange(),P=h-1,T.AddOriginalElement(h,g+1),O=E-1-s),F>=0&&(t=this.m_forwardHistory[F],s=t[0],A=1,R=t.length-1)}while(--F>=-1);if(D=T.getReverseChanges(),N[0]){let E=C[0]+1,x=b[0]+1;if(D!==null&&D.length>0){const H=D[D.length-1];E=Math.max(E,H.getOriginalEnd()),x=Math.max(x,H.getModifiedEnd())}I=[new S.DiffChange(E,m-E+1,x,f-x+1)]}else{T=new v,A=r,R=n,O=C[0]-b[0]-o,P=1073741824,F=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const E=O+d;E===A||E<R&&l[E-1]>=l[E+1]?(h=l[E+1]-1,g=h-O-o,h>P&&T.MarkNextChange(),P=h+1,T.AddOriginalElement(h+1,g+1),O=E+1-d):(h=l[E-1],g=h-O-o,h>P&&T.MarkNextChange(),P=h,T.AddModifiedElement(h+1,g+1),O=E-1-d),F>=0&&(l=this.m_reverseHistory[F],d=l[0],A=1,R=l.length-1)}while(--F>=-1);I=T.getChanges()}return this.ConcatenateChanges(D,I)}ComputeRecursionPoint(s,a,u,c,d,r,n){let o=0,t=0,l=0,h=0,m=0,C=0;s--,u--,d[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=a-s+(c-u),f=g+1,b=new Int32Array(f),L=new Int32Array(f),N=c-u,D=a-s,I=s-u,T=a-c,R=(D-N)%2==0;b[N]=s,L[D]=a,n[0]=!1;for(let O=1;O<=g/2+1;O++){let P=0,F=0;l=this.ClipDiagonalBound(N-O,O,N,f),h=this.ClipDiagonalBound(N+O,O,N,f);for(let x=l;x<=h;x+=2){x===l||x<h&&b[x-1]<b[x+1]?o=b[x+1]:o=b[x-1]+1,t=o-(x-N)-I;const H=o;for(;o<a&&t<c&&this.ElementsAreEqual(o+1,t+1);)o++,t++;if(b[x]=o,o+t>P+F&&(P=o,F=t),!R&&Math.abs(x-D)<=O-1&&o>=L[x])return d[0]=o,r[0]=t,H<=L[x]&&1447>0&&O<=1447+1?this.WALKTRACE(N,l,h,I,D,m,C,T,b,L,o,a,d,t,c,r,R,n):null}const E=(P-s+(F-u)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,E))return n[0]=!0,d[0]=P,r[0]=F,E>0&&1447>0&&O<=1447+1?this.WALKTRACE(N,l,h,I,D,m,C,T,b,L,o,a,d,t,c,r,R,n):(s++,u++,[new S.DiffChange(s,a-s+1,u,c-u+1)]);m=this.ClipDiagonalBound(D-O,O,D,f),C=this.ClipDiagonalBound(D+O,O,D,f);for(let x=m;x<=C;x+=2){x===m||x<C&&L[x-1]>=L[x+1]?o=L[x+1]-1:o=L[x-1],t=o-(x-D)-T;const H=o;for(;o>s&&t>u&&this.ElementsAreEqual(o,t);)o--,t--;if(L[x]=o,R&&Math.abs(x-N)<=O&&o<=b[x])return d[0]=o,r[0]=t,H>=b[x]&&1447>0&&O<=1447+1?this.WALKTRACE(N,l,h,I,D,m,C,T,b,L,o,a,d,t,c,r,R,n):null}if(O<=1447){let x=new Int32Array(h-l+2);x[0]=N-l+1,p.Copy2(b,l,x,1,h-l+1),this.m_forwardHistory.push(x),x=new Int32Array(C-m+2),x[0]=D-m+1,p.Copy2(L,m,x,1,C-m+1),this.m_reverseHistory.push(x)}}return this.WALKTRACE(N,l,h,I,D,m,C,T,b,L,o,a,d,t,c,r,R,n)}PrettifyChanges(s){for(let a=0;a<s.length;a++){const u=s[a],c=a<s.length-1?s[a+1].originalStart:this._originalElementsOrHash.length,d=a<s.length-1?s[a+1].modifiedStart:this._modifiedElementsOrHash.length,r=u.originalLength>0,n=u.modifiedLength>0;for(;u.originalStart+u.originalLength<c&&u.modifiedStart+u.modifiedLength<d&&(!r||this.OriginalElementsAreEqual(u.originalStart,u.originalStart+u.originalLength))&&(!n||this.ModifiedElementsAreEqual(u.modifiedStart,u.modifiedStart+u.modifiedLength));)u.originalStart++,u.modifiedStart++;let o=[null];if(a<s.length-1&&this.ChangesOverlap(s[a],s[a+1],o)){s[a]=o[0],s.splice(a+1,1),a--;continue}}for(let a=s.length-1;a>=0;a--){const u=s[a];let c=0,d=0;if(a>0){const h=s[a-1];c=h.originalStart+h.originalLength,d=h.modifiedStart+h.modifiedLength}const r=u.originalLength>0,n=u.modifiedLength>0;let o=0,t=this._boundaryScore(u.originalStart,u.originalLength,u.modifiedStart,u.modifiedLength);for(let h=1;;h++){const m=u.originalStart-h,C=u.modifiedStart-h;if(m<c||C<d||r&&!this.OriginalElementsAreEqual(m,m+u.originalLength)||n&&!this.ModifiedElementsAreEqual(C,C+u.modifiedLength))break;const f=(m===c&&C===d?5:0)+this._boundaryScore(m,u.originalLength,C,u.modifiedLength);f>t&&(t=f,o=h)}u.originalStart-=o,u.modifiedStart-=o;const l=[null];if(a>0&&this.ChangesOverlap(s[a-1],s[a],l)){s[a-1]=l[0],s.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,u=s.length;a<u;a++){const c=s[a-1],d=s[a],r=d.originalStart-c.originalStart-c.originalLength,n=c.originalStart,o=d.originalStart+d.originalLength,t=o-n,l=c.modifiedStart,h=d.modifiedStart+d.modifiedLength,m=h-l;if(r<5&&t<20&&m<20){const C=this._findBetterContiguousSequence(n,t,l,m,r);if(C){const[g,f]=C;(g!==c.originalStart+c.originalLength||f!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=g-c.originalStart,c.modifiedLength=f-c.modifiedStart,d.originalStart=g+r,d.modifiedStart=f+r,d.originalLength=o-d.originalStart,d.modifiedLength=h-d.modifiedStart)}}}return s}_findBetterContiguousSequence(s,a,u,c,d){if(a<d||c<d)return null;const r=s+a-d+1,n=u+c-d+1;let o=0,t=0,l=0;for(let h=s;h<r;h++)for(let m=u;m<n;m++){const C=this._contiguousSequenceScore(h,m,d);C>0&&C>o&&(o=C,t=h,l=m)}return o>0?[t,l]:null}_contiguousSequenceScore(s,a,u){let c=0;for(let d=0;d<u;d++){if(!this.ElementsAreEqual(s+d,a+d))return 0;c+=this._originalStringElements[s+d].length}return c}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,a){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(a>0){const u=s+a;if(this._OriginalIsBoundary(u-1)||this._OriginalIsBoundary(u))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,a){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(a>0){const u=s+a;if(this._ModifiedIsBoundary(u-1)||this._ModifiedIsBoundary(u))return!0}return!1}_boundaryScore(s,a,u,c){const d=this._OriginalRegionIsBoundary(s,a)?1:0,r=this._ModifiedRegionIsBoundary(u,c)?1:0;return d+r}ConcatenateChanges(s,a){let u=[];if(s.length===0||a.length===0)return a.length>0?a:s;if(this.ChangesOverlap(s[s.length-1],a[0],u)){const c=new Array(s.length+a.length-1);return p.Copy(s,0,c,0,s.length-1),c[s.length-1]=u[0],p.Copy(a,1,c,s.length,a.length-1),c}else{const c=new Array(s.length+a.length);return p.Copy(s,0,c,0,s.length),p.Copy(a,0,c,s.length,a.length),c}}ChangesOverlap(s,a,u){if(w.Assert(s.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),w.Assert(s.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=a.originalStart||s.modifiedStart+s.modifiedLength>=a.modifiedStart){const c=s.originalStart;let d=s.originalLength;const r=s.modifiedStart;let n=s.modifiedLength;return s.originalStart+s.originalLength>=a.originalStart&&(d=a.originalStart+a.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=a.modifiedStart&&(n=a.modifiedStart+a.modifiedLength-s.modifiedStart),u[0]=new S.DiffChange(c,d,r,n),!0}else return u[0]=null,!1}ClipDiagonalBound(s,a,u,c){if(s>=0&&s<c)return s;const d=u,r=c-u-1,n=a%2==0;if(s<0){const o=d%2==0;return n===o?0:1}else{const o=r%2==0;return n===o?c-1:c-2}}}e.LcsDiff=i}),define(Q[156],J([0,1,100,19,155,6,53]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function p(s){return typeof s=="object"&&"visibility"in s&&"data"in s}e.isFilterResult=p;function v(s){switch(s){case!0:return 1;case!1:return 0;default:return s}}e.getVisibleState=v;function i(s){return typeof s.collapsible=="boolean"}class _{constructor(a,u,c,d={}){this.user=a,this.list=u,this.rootRef=[],this.eventBufferer=new y.EventBufferer,this._onDidChangeCollapseState=new y.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new y.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new y.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(a,u,c=w.Iterable.empty(),d={}){if(a.length===0)throw new S.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,a,u,c,d):this.spliceSimple(a,u,c,d)}spliceSmart(a,u,c,d,r,n){var o;d===void 0&&(d=w.Iterable.empty()),n===void 0&&(n=(o=r.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:t}=this.getParentNodeWithListIndex(u),l=[...d],h=u[u.length-1],m=new M.LcsDiff({getElements:()=>t.children.map(L=>a.getId(L.element).toString())},{getElements:()=>[...t.children.slice(0,h),...l,...t.children.slice(h+c)].map(L=>a.getId(L.element).toString())}).ComputeDiff(!1);if(m.quitEarly)return this.spliceSimple(u,c,l,r);const C=u.slice(0,-1),g=(L,N,D)=>{if(n>0)for(let I=0;I<D;I++)L--,N--,this.spliceSmart(a,[...C,L,0],Number.MAX_SAFE_INTEGER,l[N].children,r,n-1)};let f=Math.min(t.children.length,h+c),b=l.length;for(const L of m.changes.sort((N,D)=>D.originalStart-N.originalStart))g(f,b,f-(L.originalStart+L.originalLength)),f=L.originalStart,b=L.modifiedStart-h,this.spliceSimple([...C,f],L.originalLength,w.Iterable.slice(l,b,b+L.modifiedLength),r);g(f,b,f)}spliceSimple(a,u,c=w.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:r}){const{parentNode:n,listIndex:o,revealed:t,visible:l}=this.getParentNodeWithListIndex(a),h=[],m=w.Iterable.map(c,R=>this.createTreeNode(R,n,n.visible?1:0,t,h,d)),C=a[a.length-1],g=n.children.length>0;let f=0;for(let R=C;R>=0&&R<n.children.length;R--){const O=n.children[R];if(O.visible){f=O.visibleChildIndex;break}}const b=[];let L=0,N=0;for(const R of m)b.push(R),N+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=f+L++);const D=n.children.splice(C,u,...b);let I=0;for(const R of D)R.visible&&I++;if(I!==0)for(let R=C+b.length;R<n.children.length;R++){const O=n.children[R];O.visible&&(O.visibleChildIndex-=I)}if(n.visibleChildrenCount+=L-I,t&&l){const R=D.reduce((O,P)=>O+(P.visible?P.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,N-R),this.list.splice(o,R,h)}if(D.length>0&&r){const R=O=>{r(O),O.children.forEach(R)};D.forEach(R)}const T=n.children.length>0;g!==T&&this.setCollapsible(a.slice(0,-1),T),this._onDidSplice.fire({insertedNodes:b,deletedNodes:D});let A=n;for(;A;){if(A.visibility===2){this.refilter();break}A=A.parent}}rerender(a){if(a.length===0)throw new S.TreeError(this.user,"Invalid tree location");const{node:u,listIndex:c,revealed:d}=this.getTreeNodeWithListIndex(a);u.visible&&d&&this.list.splice(c,1,[u])}has(a){return this.hasTreeNode(a)}getListIndex(a){const{listIndex:u,visible:c,revealed:d}=this.getTreeNodeWithListIndex(a);return c&&d?u:-1}getListRenderCount(a){return this.getTreeNode(a).renderNodeCount}isCollapsible(a){return this.getTreeNode(a).collapsible}setCollapsible(a,u){const c=this.getTreeNode(a);typeof u=="undefined"&&(u=!c.collapsible);const d={collapsible:u};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,d))}isCollapsed(a){return this.getTreeNode(a).collapsed}setCollapsed(a,u,c){const d=this.getTreeNode(a);typeof u=="undefined"&&(u=!d.collapsed);const r={collapsed:u,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,r))}_setCollapseState(a,u){const{node:c,listIndex:d,revealed:r}=this.getTreeNodeWithListIndex(a),n=this._setListNodeCollapseState(c,d,r,u);if(c!==this.root&&this.autoExpandSingleChildren&&n&&!i(u)&&c.collapsible&&!c.collapsed&&!u.recursive){let o=-1;for(let t=0;t<c.children.length;t++)if(c.children[t].visible)if(o>-1){o=-1;break}else o=t;o>-1&&this._setCollapseState([...a,o],u)}return n}_setListNodeCollapseState(a,u,c,d){const r=this._setNodeCollapseState(a,d,!1);if(!c||!a.visible||!r)return r;const n=a.renderNodeCount,o=this.updateNodeAfterCollapseChange(a),t=n-(u===-1?0:1);return this.list.splice(u+1,t,o.slice(1)),r}_setNodeCollapseState(a,u,c){let d;if(a===this.root?d=!1:(i(u)?(d=a.collapsible!==u.collapsible,a.collapsible=u.collapsible):a.collapsible?(d=a.collapsed!==u.collapsed,a.collapsed=u.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:a,deep:c})),!i(u)&&u.recursive)for(const r of a.children)d=this._setNodeCollapseState(r,u,!0)||d;return d}expandTo(a){this.eventBufferer.bufferEvents(()=>{let u=this.getTreeNode(a);for(;u.parent;)u=u.parent,a=a.slice(0,a.length-1),u.collapsed&&this._setCollapseState(a,{collapsed:!1,recursive:!1})})}refilter(){const a=this.root.renderNodeCount,u=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,a,u)}createTreeNode(a,u,c,d,r,n){const o={parent:u,element:a.element,children:[],depth:u.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible=="boolean"?a.collapsible:typeof a.collapsed!="undefined",collapsed:typeof a.collapsed=="undefined"?this.collapseByDefault:a.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(o,c);o.visibility=t,d&&r.push(o);const l=a.children||w.Iterable.empty(),h=d&&t!==0&&!o.collapsed,m=w.Iterable.map(l,f=>this.createTreeNode(f,o,t,h,r,n));let C=0,g=1;for(const f of m)o.children.push(f),g+=f.renderNodeCount,f.visible&&(f.visibleChildIndex=C++);return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=C,o.visible=t===2?C>0:t===1,o.visible?o.collapsed||(o.renderNodeCount=g):(o.renderNodeCount=0,d&&r.pop()),n&&n(o),o}updateNodeAfterCollapseChange(a){const u=a.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(a,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-u),c}_updateNodeAfterCollapseChange(a,u){if(a.visible===!1)return 0;if(u.push(a),a.renderNodeCount=1,!a.collapsed)for(const c of a.children)a.renderNodeCount+=this._updateNodeAfterCollapseChange(c,u);return this._onDidChangeRenderNodeCount.fire(a),a.renderNodeCount}updateNodeAfterFilterChange(a){const u=a.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(a,a.visible?1:0,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-u),c}_updateNodeAfterFilterChange(a,u,c,d=!0){let r;if(a!==this.root){if(r=this._filterNode(a,u),r===0)return a.visible=!1,a.renderNodeCount=0,!1;d&&c.push(a)}const n=c.length;a.renderNodeCount=a===this.root?0:1;let o=!1;if(!a.collapsed||r!==0){let t=0;for(const l of a.children)o=this._updateNodeAfterFilterChange(l,r,c,d&&!a.collapsed)||o,l.visible&&(l.visibleChildIndex=t++);a.visibleChildrenCount=t}else a.visibleChildrenCount=0;return a!==this.root&&(a.visible=r===2?o:r===1),a.visible?a.collapsed||(a.renderNodeCount+=c.length-n):(a.renderNodeCount=0,d&&c.pop()),this._onDidChangeRenderNodeCount.fire(a),a.visible}_updateAncestorsRenderNodeCount(a,u){if(u!==0)for(;a;)a.renderNodeCount+=u,this._onDidChangeRenderNodeCount.fire(a),a=a.parent}_filterNode(a,u){const c=this.filter?this.filter.filter(a.element,u):1;return typeof c=="boolean"?(a.filterData=void 0,c?1:0):p(c)?(a.filterData=c.data,v(c.visibility)):(a.filterData=void 0,v(c))}hasTreeNode(a,u=this.root){if(!a||a.length===0)return!0;const[c,...d]=a;return c<0||c>u.children.length?!1:this.hasTreeNode(d,u.children[c])}getTreeNode(a,u=this.root){if(!a||a.length===0)return u;const[c,...d]=a;if(c<0||c>u.children.length)throw new S.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,u.children[c])}getTreeNodeWithListIndex(a){if(a.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:u,listIndex:c,revealed:d,visible:r}=this.getParentNodeWithListIndex(a),n=a[a.length-1];if(n<0||n>u.children.length)throw new S.TreeError(this.user,"Invalid tree location");const o=u.children[n];return{node:o,listIndex:c,revealed:d,visible:r&&o.visible}}getParentNodeWithListIndex(a,u=this.root,c=0,d=!0,r=!0){const[n,...o]=a;if(n<0||n>u.children.length)throw new S.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)c+=u.children[t].renderNodeCount;return d=d&&!u.collapsed,r=r&&u.visible,o.length===0?{parentNode:u,listIndex:c,revealed:d,visible:r}:this.getParentNodeWithListIndex(o,u.children[n],c+1,d,r)}getNode(a=[]){return this.getTreeNode(a)}getNodeLocation(a){const u=[];let c=a;for(;c.parent;)u.push(c.parent.children.indexOf(c)),c=c.parent;return u.reverse()}getParentNodeLocation(a){if(a.length!==0)return a.length===1?[]:k.tail2(a)[0]}}e.IndexTreeModel=_}),define(Q[157],J([0,1,53,156,100]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class y{constructor(p,v,i={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new k.IndexTreeModel(p,v,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(_,s){return i.sorter.compare(_.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(p,v=S.Iterable.empty(),i={}){const _=this.getElementLocation(p);this._setChildren(_,this.preserveCollapseState(v),i)}_setChildren(p,v=S.Iterable.empty(),i){const _=new Set,s=new Set,a=c=>{var d;if(c.element===null)return;const r=c;if(_.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();s.add(n),this.nodesByIdentity.set(n,r)}(d=i.onDidCreateNode)===null||d===void 0||d.call(i,r)},u=c=>{var d;if(c.element===null)return;const r=c;if(_.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();s.has(n)||this.nodesByIdentity.delete(n)}(d=i.onDidDeleteNode)===null||d===void 0||d.call(i,r)};this.model.splice([...p,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},i),{onDidCreateNode:a,onDidDeleteNode:u}))}preserveCollapseState(p=S.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),S.Iterable.map(p,v=>{let i=this.nodes.get(v.element);if(!i&&this.identityProvider){const a=this.identityProvider.getId(v.element).toString();i=this.nodesByIdentity.get(a)}if(!i)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const _=typeof v.collapsible=="boolean"?v.collapsible:i.collapsible,s=typeof v.collapsed!="undefined"?v.collapsed:i.collapsed;return Object.assign(Object.assign({},v),{collapsible:_,collapsed:s,children:this.preserveCollapseState(v.children)})})}rerender(p){const v=this.getElementLocation(p);this.model.rerender(v)}has(p){return this.nodes.has(p)}getListIndex(p){const v=this.getElementLocation(p);return this.model.getListIndex(v)}getListRenderCount(p){const v=this.getElementLocation(p);return this.model.getListRenderCount(v)}isCollapsible(p){const v=this.getElementLocation(p);return this.model.isCollapsible(v)}setCollapsible(p,v){const i=this.getElementLocation(p);return this.model.setCollapsible(i,v)}isCollapsed(p){const v=this.getElementLocation(p);return this.model.isCollapsed(v)}setCollapsed(p,v,i){const _=this.getElementLocation(p);return this.model.setCollapsed(_,v,i)}expandTo(p){const v=this.getElementLocation(p);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(p);if(!v)throw new M.TreeError(this.user,`Tree element not found: ${p}`);return v}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new M.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(p);if(!v)throw new M.TreeError(this.user,`Tree element not found: ${p}`);const i=this.model.getNodeLocation(v),_=this.model.getParentNodeLocation(i);return this.model.getNode(_).element}getElementLocation(p){if(p===null)return[];const v=this.nodes.get(p);if(!v)throw new M.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=y}),define(Q[290],J([0,1,53,6,100,157]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function w(o){const t=[o.element],l=o.incompressible||!1;return{element:{elements:t,incompressible:l},children:S.Iterable.map(S.Iterable.from(o.children),w),collapsible:o.collapsible,collapsed:o.collapsed}}function p(o){const t=[o.element],l=o.incompressible||!1;let h,m;for(;[m,h]=S.Iterable.consume(S.Iterable.from(o.children),2),!(m.length!==1||m[0].incompressible);)o=m[0],t.push(o.element);return{element:{elements:t,incompressible:l},children:S.Iterable.map(S.Iterable.concat(m,h),p),collapsible:o.collapsible,collapsed:o.collapsed}}e.compress=p;function v(o,t=0){let l;return t<o.element.elements.length-1?l=[v(o,t+1)]:l=S.Iterable.map(S.Iterable.from(o.children),h=>v(h,0)),t===0&&o.element.incompressible?{element:o.element.elements[t],children:l,incompressible:!0,collapsible:o.collapsible,collapsed:o.collapsed}:{element:o.element.elements[t],children:l,collapsible:o.collapsible,collapsed:o.collapsed}}function i(o){return v(o,0)}e.decompress=i;function _(o,t,l){return o.element===t?Object.assign(Object.assign({},o),{children:l}):Object.assign(Object.assign({},o),{children:S.Iterable.map(S.Iterable.from(o.children),h=>_(h,t,l))})}const s=o=>({getId(t){return t.elements.map(l=>o.getId(l).toString()).join("\0")}});class a{constructor(t,l,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(t,l,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,l=S.Iterable.empty(),h){const m=h.diffIdentityProvider&&s(h.diffIdentityProvider);if(t===null){const T=S.Iterable.map(l,this.enabled?p:w);this._setChildren(null,T,{diffIdentityProvider:m,diffDepth:Infinity});return}const C=this.nodes.get(t);if(!C)throw new Error("Unknown compressed tree node");const g=this.model.getNode(C),f=this.model.getParentNodeLocation(C),b=this.model.getNode(f),L=i(g),N=_(L,t,l),D=(this.enabled?p:w)(N),I=b.children.map(T=>T===g?D:T);this._setChildren(b.element,I,{diffIdentityProvider:m,diffDepth:g.depth-b.depth})}setCompressionEnabled(t){if(t===this.enabled)return;this.enabled=t;const h=this.model.getNode().children,m=S.Iterable.map(h,i),C=S.Iterable.map(m,t?p:w);this._setChildren(null,C,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(t,l,h){const m=new Set,C=f=>{for(const b of f.element.elements)m.add(b),this.nodes.set(b,f.element)},g=f=>{for(const b of f.element.elements)m.has(b)||this.nodes.delete(b)};this.model.setChildren(t,l,Object.assign(Object.assign({},h),{onDidCreateNode:C,onDidDeleteNode:g}))}has(t){return this.nodes.has(t)}getListIndex(t){const l=this.getCompressedNode(t);return this.model.getListIndex(l)}getListRenderCount(t){const l=this.getCompressedNode(t);return this.model.getListRenderCount(l)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const l=this.getCompressedNode(t);return this.model.getNode(l)}getNodeLocation(t){const l=this.model.getNodeLocation(t);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(t){const l=this.getCompressedNode(t),h=this.model.getParentNodeLocation(l);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const l=this.getCompressedNode(t);return this.model.isCollapsible(l)}setCollapsible(t,l){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,l)}isCollapsed(t){const l=this.getCompressedNode(t);return this.model.isCollapsed(l)}setCollapsed(t,l,h){const m=this.getCompressedNode(t);return this.model.setCollapsed(m,l,h)}expandTo(t){const l=this.getCompressedNode(t);this.model.expandTo(l)}rerender(t){const l=this.getCompressedNode(t);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const l=this.nodes.get(t);if(!l)throw new M.TreeError(this.user,`Tree element not found: ${t}`);return l}}e.CompressedObjectTreeModel=a;const u=o=>o[o.length-1];e.DefaultElementMapper=u;class c{constructor(t,l){this.unwrapper=t,this.node=l}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new c(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(o,t){return{splice(l,h,m){t.splice(l,h,m.map(C=>o.map(C)))},updateElementHeight(l,h){t.updateElementHeight(l,h)}}}function r(o,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(l){return t.identityProvider.getId(o(l))}},sorter:t.sorter&&{compare(l,h){return t.sorter.compare(l.elements[0],h.elements[0])}},filter:t.filter&&{filter(l,h){return t.filter.filter(o(l),h)}}})}class n{constructor(t,l,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const m=C=>this.elementMapper(C.elements);this.nodeMapper=new M.WeakMapper(C=>new c(m,C)),this.model=new a(t,d(this.nodeMapper,l),r(m,h))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:l})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:l.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:l})=>({node:this.nodeMapper.map(t),deep:l}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,l=S.Iterable.empty(),h={}){this.model.setChildren(t,l,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,l){return this.model.setCollapsible(t,l)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,l,h){return this.model.setCollapsed(t,l,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(Q[291],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(w,p){if(w&&w[0]!==""){const v=M(w,p,"-"),i=M(w,p,"_");return v&&!i?y(w,p,"-"):!v&&i?y(w,p,"_"):w[0].toUpperCase()===w[0]?p.toUpperCase():w[0].toLowerCase()===w[0]?p.toLowerCase():S.containsUppercaseCharacter(w[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):w[0][0].toUpperCase()!==w[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}e.buildReplaceStringWithCasePreserved=k;function M(w,p,v){return w[0].indexOf(v)!==-1&&p.indexOf(v)!==-1&&w[0].split(v).length===p.split(v).length}function y(w,p,v){const i=p.split(v),_=w[0].split(v);let s="";return i.forEach((a,u)=>{s+=k([_[u]],a)+v}),s.slice(0,-1)}}),define(Q[74],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(M){M[M.Ignore=0]="Ignore",M[M.Info=1]="Info",M[M.Warning=2]="Warning",M[M.Error=3]="Error"})(k||(k={})),function(M){const y="error",w="warning",p="warn",v="info",i="ignore";function _(a){return a?S.equalsIgnoreCase(y,a)?M.Error:S.equalsIgnoreCase(w,a)||S.equalsIgnoreCase(p,a)?M.Warning:S.equalsIgnoreCase(v,a)?M.Info:M.Ignore:M.Ignore}M.fromValue=_;function s(a){switch(a){case M.Error:return y;case M.Warning:return w;case M.Info:return v;default:return i}}M.toString=s}(k||(k={})),e.default=k}),define(Q[20],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function S(t){return Array.isArray(t)}e.isArray=S;function k(t){return typeof t=="string"}e.isString=k;function M(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}e.isObject=M;function y(t){return typeof t=="number"&&!isNaN(t)}e.isNumber=y;function w(t){return t===!0||t===!1}e.isBoolean=w;function p(t){return typeof t=="undefined"}e.isUndefined=p;function v(t){return p(t)||t===null}e.isUndefinedOrNull=v;function i(t,l){if(!t)throw new Error(l?`Unexpected type, expected '${l}'`:"Unexpected type")}e.assertType=i;function _(t){if(v(t))throw new Error("Assertion Failed: argument is undefined or null");return t}e.assertIsDefined=_;function s(t){return typeof t=="function"}e.isFunction=s;function a(t,l){const h=Math.min(t.length,l.length);for(let m=0;m<h;m++)u(t[m],l[m])}e.validateConstraints=a;function u(t,l){if(k(l)){if(typeof t!==l)throw new Error(`argument does not match constraint: typeof ${l}`)}else if(s(l)){try{if(t instanceof l)return}catch(h){}if(!v(t)&&t.constructor===l||l.length===1&&l.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=u;function c(t){let l=[],h=Object.getPrototypeOf(t);for(;Object.prototype!==h;)l=l.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return l}e.getAllPropertyNames=c;function d(t){const l=[];for(const h of c(t))typeof t[h]=="function"&&l.push(h);return l}e.getAllMethodNames=d;function r(t,l){const h=C=>function(){const g=Array.prototype.slice.call(arguments,0);return l(C,g)};let m={};for(const C of t)m[C]=h(C);return m}e.createProxyObject=r;function n(t){return t===null?void 0:t}e.withNullAsUndefined=n;function o(t){throw new Error("Unreachable")}e.assertNever=o}),define(Q[41],J([0,1,20]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(s){if(!s||typeof s!="object"||s instanceof RegExp)return s;const a=Array.isArray(s)?[]:{};return Object.keys(s).forEach(u=>{s[u]&&typeof s[u]=="object"?a[u]=k(s[u]):a[u]=s[u]}),a}e.deepClone=k;function M(s){if(!s||typeof s!="object")return s;const a=[s];for(;a.length>0;){const u=a.shift();Object.freeze(u);for(const c in u)if(y.call(u,c)){const d=u[c];typeof d=="object"&&!Object.isFrozen(d)&&a.push(d)}}return s}e.deepFreeze=M;const y=Object.prototype.hasOwnProperty;function w(s,a){return p(s,a,new Set)}e.cloneAndChange=w;function p(s,a,u){if(S.isUndefinedOrNull(s))return s;const c=a(s);if(typeof c!="undefined")return c;if(S.isArray(s)){const d=[];for(const r of s)d.push(p(r,a,u));return d}if(S.isObject(s)){if(u.has(s))throw new Error("Cannot clone recursive data-structure");u.add(s);const d={};for(let r in s)y.call(s,r)&&(d[r]=p(s[r],a,u));return u.delete(s),d}return s}function v(s,a,u=!0){return S.isObject(s)?(S.isObject(a)&&Object.keys(a).forEach(c=>{c in s?u&&(S.isObject(s[c])&&S.isObject(a[c])?v(s[c],a[c],u):s[c]=a[c]):s[c]=a[c]}),s):a}e.mixin=v;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object"||Array.isArray(s)!==Array.isArray(a))return!1;let u,c;if(Array.isArray(s)){if(s.length!==a.length)return!1;for(u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}else{const d=[];for(c in s)d.push(c);d.sort();const r=[];for(c in a)r.push(c);if(r.sort(),!i(d,r))return!1;for(u=0;u<d.length;u++)if(!i(s[d[u]],a[d[u]]))return!1}return!0}e.equals=i;function _(s,a,u){const c=a(s);return typeof c=="undefined"?u:c}e.getOrDefault=_}),define(Q[126],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function S(M){return M<0?0:M>255?255:M|0}e.toUint8=S;function k(M){return M<0?0:M>4294967295?4294967295:M|0}e.toUint32=k}),define(Q[24],J([0,1,17,73]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const M=/^\w[\w\d+.-]*$/,y=/^\//,w=/^\/\//;function p(g,f){if(!g.scheme&&f)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!M.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!y.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(w.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(g,f){return!g&&!f?"file":g}function i(g,f){switch(g){case"https":case"http":case"file":f?f[0]!==s&&(f=s+f):f=s;break}return f}const _="",s="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{constructor(f,b,L,N,D,I=!1){typeof f=="object"?(this.scheme=f.scheme||_,this.authority=f.authority||_,this.path=f.path||_,this.query=f.query||_,this.fragment=f.fragment||_):(this.scheme=v(f,I),this.authority=b||_,this.path=i(this.scheme,L||_),this.query=N||_,this.fragment=D||_,p(this,I))}static isUri(f){return f instanceof u?!0:f?typeof f.authority=="string"&&typeof f.fragment=="string"&&typeof f.path=="string"&&typeof f.query=="string"&&typeof f.scheme=="string"&&typeof f.fsPath=="string"&&typeof f.with=="function"&&typeof f.toString=="function":!1}get fsPath(){return t(this,!1)}with(f){if(!f)return this;let{scheme:b,authority:L,path:N,query:D,fragment:I}=f;return b===void 0?b=this.scheme:b===null&&(b=_),L===void 0?L=this.authority:L===null&&(L=_),N===void 0?N=this.path:N===null&&(N=_),D===void 0?D=this.query:D===null&&(D=_),I===void 0?I=this.fragment:I===null&&(I=_),b===this.scheme&&L===this.authority&&N===this.path&&D===this.query&&I===this.fragment?this:new d(b,L,N,D,I)}static parse(f,b=!1){const L=a.exec(f);return L?new d(L[2]||_,C(L[4]||_),C(L[5]||_),C(L[7]||_),C(L[9]||_),b):new d(_,_,_,_,_)}static file(f){let b=_;if(S.isWindows&&(f=f.replace(/\\/g,s)),f[0]===s&&f[1]===s){const L=f.indexOf(s,2);L===-1?(b=f.substring(2),f=s):(b=f.substring(2,L),f=f.substring(L)||s)}return new d("file",b,f,_,_)}static from(f){const b=new d(f.scheme,f.authority,f.path,f.query,f.fragment);return p(b,!0),b}static joinPath(f,...b){if(!f.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return S.isWindows&&f.scheme==="file"?L=u.file(k.win32.join(t(f,!0),...b)).path:L=k.posix.join(f.path,...b),f.with({path:L})}toString(f=!1){return l(this,f)}toJSON(){return this}static revive(f){if(f){if(f instanceof u)return f;{const b=new d(f);return b._formatted=f.external,b._fsPath=f._sep===c?f.fsPath:null,b}}else return f}}e.URI=u;const c=S.isWindows?1:void 0;class d extends u{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(f=!1){return f?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const f={$mid:1};return this._fsPath&&(f.fsPath=this._fsPath,f._sep=c),this._formatted&&(f.external=this._formatted),this.path&&(f.path=this.path),this.scheme&&(f.scheme=this.scheme),this.authority&&(f.authority=this.authority),this.query&&(f.query=this.query),this.fragment&&(f.fragment=this.fragment),f}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(g,f){let b,L=-1;for(let N=0;N<g.length;N++){const D=g.charCodeAt(N);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||f&&D===47)L!==-1&&(b+=encodeURIComponent(g.substring(L,N)),L=-1),b!==void 0&&(b+=g.charAt(N));else{b===void 0&&(b=g.substr(0,N));const I=r[D];I!==void 0?(L!==-1&&(b+=encodeURIComponent(g.substring(L,N)),L=-1),b+=I):L===-1&&(L=N)}}return L!==-1&&(b+=encodeURIComponent(g.substring(L))),b!==void 0?b:g}function o(g){let f;for(let b=0;b<g.length;b++){const L=g.charCodeAt(b);L===35||L===63?(f===void 0&&(f=g.substr(0,b)),f+=r[L]):f!==void 0&&(f+=g[b])}return f!==void 0?f:g}function t(g,f){let b;return g.authority&&g.path.length>1&&g.scheme==="file"?b=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?f?b=g.path.substr(1):b=g.path[1].toLowerCase()+g.path.substr(2):b=g.path,S.isWindows&&(b=b.replace(/\//g,"\\")),b}e.uriToFsPath=t;function l(g,f){const b=f?o:n;let L="",{scheme:N,authority:D,path:I,query:T,fragment:A}=g;if(N&&(L+=N,L+=":"),(D||N==="file")&&(L+=s,L+=s),D){let R=D.indexOf("@");if(R!==-1){const O=D.substr(0,R);D=D.substr(R+1),R=O.indexOf(":"),R===-1?L+=b(O,!1):(L+=b(O.substr(0,R),!1),L+=":",L+=b(O.substr(R+1),!1)),L+="@"}D=D.toLowerCase(),R=D.indexOf(":"),R===-1?L+=b(D,!1):(L+=b(D.substr(0,R),!1),L+=D.substr(R))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const R=I.charCodeAt(1);R>=65&&R<=90&&(I=`/${String.fromCharCode(R+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const R=I.charCodeAt(0);R>=65&&R<=90&&(I=`${String.fromCharCode(R+32)}:${I.substr(2)}`)}L+=b(I,!0)}return T&&(L+="?",L+=b(T,!1)),A&&(L+="#",L+=f?A:n(A,!1)),L}function h(g){try{return decodeURIComponent(g)}catch(f){return g.length>3?g.substr(0,3)+h(g.substr(3)):g}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(g){return g.match(m)?g.replace(m,f=>h(f)):g}}),define(Q[50],J([0,1,24,8]),function($,e,S,k){"use strict";var M,y;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class w{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const n=r.charCodeAt(0),o=this._value.charCodeAt(this._pos);return n-o}value(){return this._value[this._pos]}}e.StringIterator=w;class p{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?k.compareSubstring(r,this._value,0,r.length,this._from,this._to):k.compareSubstringIgnoreCase(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=p;class v{constructor(r=!0,n=!0){this._splitOnBackslash=r,this._caseSensitive=n}reset(r){return this._value=r.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?k.compareSubstring(r,this._value,0,r.length,this._from,this._to):k.compareSubstringIgnoreCase(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=v;class i{constructor(r){this._ignorePathCasing=r,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new v(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return k.compareIgnoreCase(r,this._value.scheme);if(this._states[this._stateIdx]===2)return k.compareIgnoreCase(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return k.compare(r,this._value.query);if(this._states[this._stateIdx]===5)return k.compare(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class _{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class s{constructor(r){this._iter=r}static forUris(r=()=>!1){return new s(new i(r))}static forStrings(){return new s(new w)}static forConfigKeys(){return new s(new p)}clear(){this._root=void 0}set(r,n){const o=this._iter.reset(r);let t;for(this._root||(this._root=new _,this._root.segment=o.value()),t=this._root;;){const h=o.cmp(t.segment);if(h>0)t.left||(t.left=new _,t.left.segment=o.value()),t=t.left;else if(h<0)t.right||(t.right=new _,t.right.segment=o.value()),t=t.right;else if(o.hasNext())o.next(),t.mid||(t.mid=new _,t.mid.segment=o.value()),t=t.mid;else break}const l=t.value;return t.value=n,t.key=r,l}get(r){var n;return(n=this._getNode(r))===null||n===void 0?void 0:n.value}_getNode(r){const n=this._iter.reset(r);let o=this._root;for(;o;){const t=n.cmp(o.segment);if(t>0)o=o.left;else if(t<0)o=o.right;else if(n.hasNext())n.next(),o=o.mid;else break}return o}has(r){const n=this._getNode(r);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,n){const o=this._iter.reset(r),t=[];let l=this._root;for(;l;){const h=o.cmp(l.segment);if(h>0)t.push([1,l]),l=l.left;else if(h<0)t.push([-1,l]),l=l.right;else if(o.hasNext())o.next(),t.push([0,l]),l=l.mid;else{for(n?(l.left=void 0,l.mid=void 0,l.right=void 0):l.value=void 0;t.length>0&&l.isEmpty();){let[m,C]=t.pop();switch(m){case 1:C.left=void 0;break;case 0:C.mid=void 0;break;case-1:C.right=void 0;break}l=C}break}}}findSubstr(r){const n=this._iter.reset(r);let o=this._root,t;for(;o;){const l=n.cmp(o.segment);if(l>0)o=o.left;else if(l<0)o=o.right;else if(n.hasNext())n.next(),t=o.value||t,o=o.mid;else break}return o&&o.value||t}findSuperstr(r){const n=this._iter.reset(r);let o=this._root;for(;o;){const t=n.cmp(o.segment);if(t>0)o=o.left;else if(t<0)o=o.right;else if(n.hasNext())n.next(),o=o.mid;else return o.mid?this._entries(o.mid):void 0}}forEach(r){for(const[n,o]of this)r(o,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r,n=0){if(n>5e3){console.log("potential CYCLE detected",new Error().stack);return}r&&(yield*this._entries(r.left,n++),r.value&&(yield[r.key,r.value]),yield*this._entries(r.mid,n++),yield*this._entries(r.right,n++))}}e.TernarySearchTree=s;class a{constructor(r,n){this[M]="ResourceMap",r instanceof a?(this.map=new Map(r.map),this.toKey=n??a.defaultToKey):(this.map=new Map,this.toKey=r??a.defaultToKey)}set(r,n){return this.map.set(this.toKey(r),n),this}get(r){return this.map.get(this.toKey(r))}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,n){typeof n!="undefined"&&(r=r.bind(n));for(let[o,t]of this.map)r(t,S.URI.parse(o),this)}values(){return this.map.values()}*keys(){for(let r of this.map.keys())yield S.URI.parse(r)}*entries(){for(let r of this.map.entries())yield[S.URI.parse(r[0]),r[1]]}*[(M=Symbol.toStringTag,Symbol.iterator)](){for(let r of this.map)yield[S.URI.parse(r[0]),r[1]]}}e.ResourceMap=a,a.defaultToKey=d=>d.toString();class u{constructor(){this[y]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,n=0){const o=this._map.get(r);if(!!o)return n!==0&&this.touch(o,n),o.value}set(r,n,o=0){let t=this._map.get(r);if(t)t.value=n,o!==0&&this.touch(t,o);else{switch(t={key:r,value:n,next:void 0,previous:void 0},o){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(r,t),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const n=this._map.get(r);if(!!n)return this._map.delete(r),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}forEach(r,n){const o=this._state;let t=this._head;for(;t;){if(n?r.bind(n)(t.value,t.key,this):r(t.value,t.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const r=this,n=this._state;let o=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const l={value:o.key,done:!1};return o=o.next,l}else return{value:void 0,done:!0}}};return t}values(){const r=this,n=this._state;let o=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const l={value:o.value,done:!1};return o=o.next,l}else return{value:void 0,done:!0}}};return t}entries(){const r=this,n=this._state;let o=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const l={value:[o.key,o.value],done:!1};return o=o.next,l}else return{value:void 0,done:!0}}};return t}[(y=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(r>=this.size)return;if(r===0){this.clear();return}let n=this._head,o=this.size;for(;n&&o>r;)this._map.delete(n.key),n=n.next,o--;this._head=n,this._size=o,n&&(n.previous=void 0),this._state++}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const n=r.next,o=r.previous;if(!n||!o)throw new Error("Invalid list");n.previous=o,o.next=n}r.next=void 0,r.previous=void 0,this._state++}touch(r,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(r===this._head)return;const o=r.next,t=r.previous;r===this._tail?(t.next=void 0,this._tail=t):(o.previous=t,t.next=o),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(n===2){if(r===this._tail)return;const o=r.next,t=r.previous;r===this._head?(o.previous=void 0,this._head=o):(o.previous=t,t.next=o),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((n,o)=>{r.push([o,n])}),r}fromJSON(r){this.clear();for(const[n,o]of r)this.set(n,o)}}e.LinkedMap=u;class c extends u{constructor(r,n=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,n=2){return super.get(r,n)}peek(r){return super.get(r,0)}set(r,n){return super.set(r,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(Q[67],J([0,1,50,8]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function M(...le){return function(ue,re){for(let ce=0,j=le.length;ce<j;ce++){const ne=le[ce](ue,re);if(ne)return ne}return null}}e.or=M,e.matchesPrefix=y.bind(void 0,!0);function y(le,ue,re){if(!re||re.length<ue.length)return null;let ce;return le?ce=k.startsWithIgnoreCase(re,ue):ce=re.indexOf(ue)===0,ce?ue.length>0?[{start:0,end:ue.length}]:[]:null}function w(le,ue){const re=ue.toLowerCase().indexOf(le.toLowerCase());return re===-1?null:[{start:re,end:re+le.length}]}e.matchesContiguousSubString=w;function p(le,ue){return v(le.toLowerCase(),ue.toLowerCase(),0,0)}e.matchesSubString=p;function v(le,ue,re,ce){if(re===le.length)return[];if(ce===ue.length)return null;if(le[re]===ue[ce]){let j=null;return(j=v(le,ue,re+1,ce+1))?n({start:ce,end:ce+1},j):null}return v(le,ue,re,ce+1)}function i(le){return 97<=le&&le<=122}function _(le){return 65<=le&&le<=90}e.isUpper=_;function s(le){return 48<=le&&le<=57}function a(le){return le===32||le===9||le===10||le===13}const u=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(le=>u.add(le.charCodeAt(0)));function c(le){return a(le)||u.has(le)}function d(le,ue){return le===ue||c(le)&&c(ue)}function r(le){return i(le)||_(le)||s(le)}function n(le,ue){return ue.length===0?ue=[le]:le.end===ue[0].start?ue[0].start=le.start:ue.unshift(le),ue}function o(le,ue){for(let re=ue;re<le.length;re++){const ce=le.charCodeAt(re);if(_(ce)||s(ce)||re>0&&!r(le.charCodeAt(re-1)))return re}return le.length}function t(le,ue,re,ce){if(re===le.length)return[];if(ce===ue.length)return null;if(le[re]!==ue[ce].toLowerCase())return null;{let j=null,ne=ce+1;for(j=t(le,ue,re+1,ce+1);!j&&(ne=o(ue,ne))<ue.length;)j=t(le,ue,re+1,ne),ne++;return j===null?null:n({start:ce,end:ce+1},j)}}function l(le){let ue=0,re=0,ce=0,j=0,ne=0;for(let be=0;be<le.length;be++)ne=le.charCodeAt(be),_(ne)&&ue++,i(ne)&&re++,r(ne)&&ce++,s(ne)&&j++;const Z=ue/le.length,oe=re/le.length,fe=ce/le.length,_e=j/le.length;return{upperPercent:Z,lowerPercent:oe,alphaPercent:fe,numericPercent:_e}}function h(le){const{upperPercent:ue,lowerPercent:re}=le;return re===0&&ue>.6}function m(le){const{upperPercent:ue,lowerPercent:re,alphaPercent:ce,numericPercent:j}=le;return re>.2&&ue<.8&&ce>.6&&j<.2}function C(le){let ue=0,re=0,ce=0,j=0;for(let ne=0;ne<le.length;ne++)ce=le.charCodeAt(ne),_(ce)&&ue++,i(ce)&&re++,a(ce)&&j++;return(ue===0||re===0)&&j===0?le.length<=30:ue<=5}function g(le,ue){if(!ue||(ue=ue.trim(),ue.length===0)||!C(le)||ue.length>60)return null;const re=l(ue);if(!m(re)){if(!h(re))return null;ue=ue.toLowerCase()}let ce=null,j=0;for(le=le.toLowerCase();j<ue.length&&(ce=t(le,ue,0,j))===null;)j=o(ue,j+1);return ce}e.matchesCamelCase=g;function f(le,ue,re=!1){if(!ue||ue.length===0)return null;let ce=null,j=0;for(le=le.toLowerCase(),ue=ue.toLowerCase();j<ue.length&&(ce=b(le,ue,0,j,re))===null;)j=L(ue,j+1);return ce}e.matchesWords=f;function b(le,ue,re,ce,j){if(re===le.length)return[];if(ce===ue.length)return null;if(d(le.charCodeAt(re),ue.charCodeAt(ce))){let ne=null,Z=ce+1;if(ne=b(le,ue,re+1,ce+1,j),!j)for(;!ne&&(Z=L(ue,Z))<ue.length;)ne=b(le,ue,re+1,Z,j),Z++;return ne===null?null:n({start:ce,end:ce+1},ne)}else return null}function L(le,ue){for(let re=ue;re<le.length;re++)if(c(le.charCodeAt(re))||re>0&&c(le.charCodeAt(re-1)))return re;return le.length}const N=M(e.matchesPrefix,g,w),D=M(e.matchesPrefix,g,p),I=new S.LRUCache(1e4);function T(le,ue,re=!1){if(typeof le!="string"||typeof ue!="string")return null;let ce=I.get(le);ce||(ce=new RegExp(k.convertSimple2RegExpPattern(le),"i"),I.set(le,ce));const j=ce.exec(ue);return j?[{start:j.index,end:j.index+j[0].length}]:re?D(le,ue):N(le,ue)}e.matchesFuzzy=T;function A(le,ue,re,ce,j,ne){const Z=Math.min(13,le.length);for(;re<Z;re++){const oe=V(le,ue,re,ce,j,ne,!1);if(oe)return oe}return[0,ne]}e.anyScore=A;function R(le){if(typeof le=="undefined")return[];const ue=[],re=le[1];for(let ce=le.length-1;ce>1;ce--){const j=le[ce]+re,ne=ue[ue.length-1];ne&&ne.end===j?ne.end=j+1:ue.push({start:j,end:j+1})}return ue}e.createMatches=R;const O=128;function P(){const le=[],ue=[];for(let re=0;re<=O;re++)ue[re]=0;for(let re=0;re<=O;re++)le.push(ue.slice(0));return le}function F(le){const ue=[];for(let re=0;re<=le;re++)ue[re]=0;return ue}const E=F(2*O),x=F(2*O),H=P(),K=P(),q=P(),G=!1;function ee(le,ue,re,ce,j){function ne(oe,fe,_e=" "){for(;oe.length<fe;)oe=_e+oe;return oe}let Z=` |   |${ce.split("").map(oe=>ne(oe,3)).join("|")}
`;for(let oe=0;oe<=re;oe++)oe===0?Z+=" |":Z+=`${ue[oe-1]}|`,Z+=le[oe].slice(0,j+1).map(fe=>ne(fe.toString(),3)).join("|")+`
`;return Z}function ie(le,ue,re,ce){le=le.substr(ue),re=re.substr(ce),console.log(ee(K,le,le.length,re,re.length)),console.log(ee(q,le,le.length,re,re.length)),console.log(ee(H,le,le.length,re,re.length))}function ae(le,ue){if(ue<0||ue>=le.length)return!1;const re=le.codePointAt(ue);switch(re){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(re)}}function de(le,ue){if(ue<0||ue>=le.length)return!1;switch(le.charCodeAt(ue)){case 32:case 9:return!0;default:return!1}}function Y(le,ue,re){return ue[le]!==re[le]}function B(le,ue,re,ce,j,ne,Z=!1){for(;ue<re&&j<ne;)le[ue]===ce[j]&&(Z&&(E[ue]=j),ue+=1),j+=1;return ue===re}e.isPatternInWord=B;var W;(function(le){le.Default=[-100,0];function ue(re){return!re||re.length===2&&re[0]===-100&&re[1]===0}le.isDefault=ue})(W=e.FuzzyScore||(e.FuzzyScore={}));function V(le,ue,re,ce,j,ne,Z){const oe=le.length>O?O:le.length,fe=ce.length>O?O:ce.length;if(re>=oe||ne>=fe||oe-re>fe-ne||!B(ue,re,oe,j,ne,fe,!0))return;z(oe,fe,re,ne,ue,j);let _e=1,be=1,Le=re,Ee=ne;const Re=[!1];for(_e=1,Le=re;Le<oe;_e++,Le++){const ye=E[Le],me=x[Le],Ce=Le+1<oe?x[Le+1]:fe;for(be=ye-ne+1,Ee=ye;Ee<Ce;be++,Ee++){let he=Number.MIN_SAFE_INTEGER,ge=!1;Ee<=me&&(he=U(le,ue,Le,re,ce,j,Ee,fe,ne,H[_e-1][be-1]===0,Re));let ve=0;he!==Number.MAX_SAFE_INTEGER&&(ge=!0,ve=he+K[_e-1][be-1]);const ke=Ee>ye,Ne=ke?K[_e][be-1]+(H[_e][be-1]>0?-5:0):0,Ae=Ee>ye+1&&H[_e][be-1]>0,Pe=Ae?K[_e][be-2]+(H[_e][be-2]>0?-5:0):0;if(Ae&&(!ke||Pe>=Ne)&&(!ge||Pe>=ve))K[_e][be]=Pe,q[_e][be]=3,H[_e][be]=0;else if(ke&&(!ge||Ne>=ve))K[_e][be]=Ne,q[_e][be]=2,H[_e][be]=0;else if(ge)K[_e][be]=ve,q[_e][be]=1,H[_e][be]=H[_e-1][be-1]+1;else throw new Error("not possible")}}if(G&&ie(le,re,ce,ne),!Re[0]&&!Z)return;_e--,be--;const De=[K[_e][be],ne];let Te=0,we=0;for(;_e>=1;){let ye=be;do{const me=q[_e][ye];if(me===3)ye=ye-2;else if(me===2)ye=ye-1;else break}while(ye>=1);Te>1&&ue[re+_e-1]===j[ne+be-1]&&!Y(ye+ne-1,ce,j)&&Te+1>H[_e][ye]&&(ye=be),ye===be?Te++:Te=1,we||(we=ye),_e--,be=ye-1,De.push(be)}fe===oe&&(De[0]+=2);const Se=we-oe;return De[0]-=Se,De}e.fuzzyScore=V;function z(le,ue,re,ce,j,ne){let Z=le-1,oe=ue-1;for(;Z>=re&&oe>=ce;)j[Z]===ne[oe]&&(x[Z]=oe,Z--),oe--}function U(le,ue,re,ce,j,ne,Z,oe,fe,_e,be){if(ue[re]!==ne[Z])return Number.MIN_SAFE_INTEGER;let Le=1,Ee=!1;return Z===re-ce?Le=le[re]===j[Z]?7:5:Y(Z,j,ne)&&(Z===0||!Y(Z-1,j,ne))?(Le=le[re]===j[Z]?7:5,Ee=!0):ae(ne,Z)&&(Z===0||!ae(ne,Z-1))?Le=5:(ae(ne,Z-1)||de(ne,Z-1))&&(Le=5,Ee=!0),Le>1&&re===ce&&(be[0]=!0),Ee||(Ee=Y(Z,j,ne)||ae(ne,Z-1)||de(ne,Z-1)),re===ce?Z>fe&&(Le-=Ee?3:5):_e?Le+=Ee?2:0:Le+=Ee?0:1,Z+1===oe&&(Le-=Ee?3:5),Le}function X(le,ue,re,ce,j,ne,Z){return te(le,ue,re,ce,j,ne,!0,Z)}e.fuzzyScoreGracefulAggressive=X;function te(le,ue,re,ce,j,ne,Z,oe){let fe=V(le,ue,re,ce,j,ne,oe);if(fe&&!Z)return fe;if(le.length>=3){const _e=Math.min(7,le.length-1);for(let be=re+1;be<_e;be++){const Le=se(le,be);if(Le){const Ee=V(Le,Le.toLowerCase(),re,ce,j,ne,oe);Ee&&(Ee[0]-=3,(!fe||Ee[0]>fe[0])&&(fe=Ee))}}}return fe}function se(le,ue){if(ue+1>=le.length)return;const re=le[ue],ce=le[ue+1];if(re!==ce)return le.slice(0,ue)+ce+re+le.slice(ue+2)}}),define(Q[292],J([0,1,67,73,17,8]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const w=[void 0,[]];function p(r,n,o=0,t=0){const l=n;return l.values&&l.values.length>1?v(r,l.values,o,t):i(r,n,o,t)}e.scoreFuzzy2=p;function v(r,n,o,t){let l=0;const h=[];for(const m of n){const[C,g]=i(r,m,o,t);if(typeof C!="number")return w;l+=C,h.push(...g)}return[l,_(h)]}function i(r,n,o,t){const l=S.fuzzyScore(n.original,n.originalLowercase,o,r,r.toLowerCase(),t,!0);return l?[l[0],S.createMatches(l)]:w}function _(r){const n=r.sort((l,h)=>l.start-h.start),o=[];let t;for(const l of n)!t||!s(t,l)?(t=l,o.push(l)):(t.start=Math.min(t.start,l.start),t.end=Math.max(t.end,l.end));return o}function s(r,n){return!(r.end<n.start||n.end<r.start)}const a=" ";function u(r){typeof r!="string"&&(r="");const n=r.toLowerCase(),{pathNormalized:o,normalized:t,normalizedLowercase:l}=c(r),h=o.indexOf(k.sep)>=0;let m;const C=r.split(a);if(C.length>1)for(const g of C){const{pathNormalized:f,normalized:b,normalizedLowercase:L}=c(g);b&&(m||(m=[]),m.push({original:g,originalLowercase:g.toLowerCase(),pathNormalized:f,normalized:b,normalizedLowercase:L}))}return{original:r,originalLowercase:n,pathNormalized:o,normalized:t,normalizedLowercase:l,values:m,containsPathSeparator:h}}e.prepareQuery=u;function c(r){let n;M.isWindows?n=r.replace(/\//g,k.sep):n=r.replace(/\\/g,k.sep);const o=y.stripWildcards(n).replace(/\s/g,"");return{pathNormalized:n,normalized:o,normalizedLowercase:o.toLowerCase()}}function d(r){return Array.isArray(r)?u(r.map(n=>n.original).join(a)):u(r.original)}e.pieceToQuery=d}),define(Q[200],J([0,1,8,154,73,50,15]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const p="**",v="/",i="[/\\\\]",_="[^/\\\\]",s=/\//g;function a(E){switch(E){case 0:return"";case 1:return`${_}*?`;default:return`(?:${i}|${_}+${i}|${i}${_}+)*?`}}function u(E,x){if(!E)return[];const H=[];let K=!1,q=!1,G="";for(const ee of E){switch(ee){case x:if(!K&&!q){H.push(G),G="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":q=!0;break;case"]":q=!1;break}G+=ee}return G&&H.push(G),H}e.splitGlobAware=u;function c(E){if(!E)return"";let x="";const H=u(E,v);if(H.every(K=>K===p))x=".*";else{let K=!1;H.forEach((q,G)=>{if(q===p){K||(x+=a(2),K=!0);return}let ee=!1,ie="",ae=!1,de="";for(const Y of q){if(Y!=="}"&&ee){ie+=Y;continue}if(ae&&(Y!=="]"||!de)){let B;Y==="-"?B=Y:(Y==="^"||Y==="!")&&!de?B="^":Y===v?B="":B=S.escapeRegExpCharacters(Y),de+=B;continue}switch(Y){case"{":ee=!0;continue;case"[":ae=!0;continue;case"}":x+=`(?:${u(ie,",").map(V=>c(V)).join("|")})`,ee=!1,ie="";break;case"]":x+="["+de+"]",ae=!1,de="";break;case"?":x+=_;continue;case"*":x+=a(1);continue;default:x+=S.escapeRegExpCharacters(Y)}}G<H.length-1&&(H[G+1]!==p||G+2<H.length)&&(x+=i),K=!1})}return x}const d=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,o=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new y.LRUCache(1e4),m=function(){return!1},C=function(){return null};function g(E,x){if(!E)return C;let H;typeof E!="string"?H=E.pattern:H=E,H=H.trim();const K=`${H}_${!!x.trimForExclusions}`;let q=h.get(K);if(q)return f(q,E);let G;if(d.test(H)){const ee=H.substr(4);q=function(ie,ae){return typeof ie=="string"&&ie.endsWith(ee)?H:null}}else(G=r.exec(b(H,x)))?q=L(G[1],H):(x.trimForExclusions?o:n).test(H)?q=N(H,x):(G=t.exec(b(H,x)))?q=D(G[1].substr(1),H,!0):(G=l.exec(b(H,x)))?q=D(G[1],H,!1):q=I(H);return h.set(K,q),f(q,E)}function f(E,x){return typeof x=="string"?E:function(H,K){return k.isEqualOrParent(H,x.base)?E(M.relative(x.base,H),K):null}}function b(E,x){return x.trimForExclusions&&E.endsWith("/**")?E.substr(0,E.length-2):E}function L(E,x){const H=`/${E}`,K=`\\${E}`,q=function(ee,ie){return typeof ee!="string"?null:ie?ie===E?x:null:ee===E||ee.endsWith(H)||ee.endsWith(K)?x:null},G=[E];return q.basenames=G,q.patterns=[x],q.allBasenames=G,q}function N(E,x){const H=F(E.slice(1,-1).split(",").map(ie=>g(ie,x)).filter(ie=>ie!==C),E),K=H.length;if(!K)return C;if(K===1)return H[0];const q=function(ie,ae){for(let de=0,Y=H.length;de<Y;de++)if(H[de](ie,ae))return E;return null},G=H.find(ie=>!!ie.allBasenames);G&&(q.allBasenames=G.allBasenames);const ee=H.reduce((ie,ae)=>ae.allPaths?ie.concat(ae.allPaths):ie,[]);return ee.length&&(q.allPaths=ee),q}function D(E,x,H){const K=M.sep===M.posix.sep,q=K?E:E.replace(s,M.sep),G=M.sep+q,ee=M.posix.sep+E,ie=H?function(ae,de){return typeof ae=="string"&&(ae===q||ae.endsWith(G)||!K&&(ae===E||ae.endsWith(ee)))?x:null}:function(ae,de){return typeof ae=="string"&&(ae===q||!K&&ae===E)?x:null};return ie.allPaths=[(H?"*/":"./")+E],ie}function I(E){try{const x=new RegExp(`^${c(E)}$`);return function(H){return x.lastIndex=0,typeof H=="string"&&x.test(H)?E:null}}catch(x){return C}}function T(E,x,H){return!E||typeof x!="string"?!1:A(E)(x,void 0,H)}e.match=T;function A(E,x={}){if(!E)return m;if(typeof E=="string"||R(E)){const H=g(E,x);if(H===C)return m;const K=function(q,G){return!!H(q,G)};return H.allBasenames&&(K.allBasenames=H.allBasenames),H.allPaths&&(K.allPaths=H.allPaths),K}return O(E,x)}e.parse=A;function R(E){const x=E;return x&&typeof x.base=="string"&&typeof x.pattern=="string"}e.isRelativePattern=R;function O(E,x){const H=F(Object.getOwnPropertyNames(E).map(ie=>P(ie,E[ie],x)).filter(ie=>ie!==C)),K=H.length;if(!K)return C;if(!H.some(ie=>!!ie.requiresSiblings)){if(K===1)return H[0];const ie=function(Y,B){for(let W=0,V=H.length;W<V;W++){const z=H[W](Y,B);if(z)return z}return null},ae=H.find(Y=>!!Y.allBasenames);ae&&(ie.allBasenames=ae.allBasenames);const de=H.reduce((Y,B)=>B.allPaths?Y.concat(B.allPaths):Y,[]);return de.length&&(ie.allPaths=de),ie}const q=function(ie,ae,de){let Y;for(let B=0,W=H.length;B<W;B++){const V=H[B];V.requiresSiblings&&de&&(ae||(ae=M.basename(ie)),Y||(Y=ae.substr(0,ae.length-M.extname(ie).length)));const z=V(ie,ae,Y,de);if(z)return z}return null},G=H.find(ie=>!!ie.allBasenames);G&&(q.allBasenames=G.allBasenames);const ee=H.reduce((ie,ae)=>ae.allPaths?ie.concat(ae.allPaths):ie,[]);return ee.length&&(q.allPaths=ee),q}function P(E,x,H){if(x===!1)return C;const K=g(E,H);if(K===C)return C;if(typeof x=="boolean")return K;if(x){const q=x.when;if(typeof q=="string"){const G=(ee,ie,ae,de)=>{if(!de||!K(ee,ie))return null;const Y=q.replace("$(basename)",ae),B=de(Y);return w.isThenable(B)?B.then(W=>W?E:null):B?E:null};return G.requiresSiblings=!0,G}}return K}function F(E,x){const H=E.filter(ie=>!!ie.basenames);if(H.length<2)return E;const K=H.reduce((ie,ae)=>{const de=ae.basenames;return de?ie.concat(de):ie},[]);let q;if(x){q=[];for(let ie=0,ae=K.length;ie<ae;ie++)q.push(x)}else q=H.reduce((ie,ae)=>{const de=ae.patterns;return de?ie.concat(de):ie},[]);const G=function(ie,ae){if(typeof ie!="string")return null;if(!ae){let Y;for(Y=ie.length;Y>0;Y--){const B=ie.charCodeAt(Y-1);if(B===47||B===92)break}ae=ie.substr(Y)}const de=K.indexOf(ae);return de!==-1?q[de]:null};G.basenames=K,G.patterns=q,G.allBasenames=K;const ee=E.filter(ie=>!ie.basenames);return ee.push(G),ee}}),define(Q[103],J([0,1,27,67,8]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const y=new RegExp(`\\$\\(${S.CSSIcon.iconNameExpression}(?:${S.CSSIcon.iconModifierExpression})?\\)`,"g"),w=new RegExp(`(\\\\)?${y.source}`,"g");function p(d){return d.replace(w,(r,n)=>n?r:`\\${r}`)}e.escapeIcons=p;const v=new RegExp(`\\\\${y.source}`,"g");function i(d){return d.replace(v,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=i;const _=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function s(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(_,(r,n,o,t)=>o?r:n||t||"")}e.stripIcons=s;function a(d){const r=d.indexOf(e.iconStartMarker);return r===-1?{text:d}:u(d,r)}e.parseLabelWithIcons=a;function u(d,r){const n=[];let o="";function t(L){if(L){o+=L;for(const N of L)n.push(m)}}let l=-1,h="",m=0,C,g,f=r;const b=d.length;for(t(d.substr(0,r));f<b;)C=d[f],g=d[f+1],C===e.iconStartMarker[0]&&g===e.iconStartMarker[1]?(l=f,t(h),h=e.iconStartMarker,f++):C===")"&&l!==-1?(m+=f-l+1,l=-1,h=""):l!==-1?/^[a-z0-9\-]$/i.test(C)?h+=C:(t(h),l=-1,h=""):t(C),f++;return t(h),{text:o,iconOffsets:n}}function c(d,r,n=!1){const{text:o,iconOffsets:t}=r;if(!t||t.length===0)return k.matchesFuzzy(d,o,n);const l=M.ltrim(o," "),h=o.length-l.length,m=k.matchesFuzzy(d,l,n);if(m)for(const C of m){const g=t[C.start+h]+h;C.start+=g,C.end+=g}return m}e.matchesFuzzyIconAware=c}),define(Q[82],J([0,1,103,12]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class M{constructor(s="",a=!1){var u,c;if(this.value=s,typeof this.value!="string")throw k.illegalArgument("value");typeof a=="boolean"?(this.isTrusted=a,this.supportThemeIcons=!1):(this.isTrusted=(u=a.isTrusted)!==null&&u!==void 0?u:void 0,this.supportThemeIcons=(c=a.supportThemeIcons)!==null&&c!==void 0?c:!1)}appendText(s,a=0){return this.value+=p(this.supportThemeIcons?S.escapeIcons(s):s).replace(/([ \t]+)/g,(u,c)=>"&nbsp;".repeat(c.length)).replace(/^>/gm,"\\>").replace(/\n/g,a===1?`\\
`:`

`),this}appendMarkdown(s){return this.value+=s,this}appendCodeblock(s,a){return this.value+="\n```",this.value+=s,this.value+=`
`,this.value+=a,this.value+="\n```\n",this}}e.MarkdownString=M;function y(_){return w(_)?!_.value:Array.isArray(_)?_.every(y):!0}e.isEmptyMarkdownString=y;function w(_){return _ instanceof M?!0:_&&typeof _=="object"?typeof _.value=="string"&&(typeof _.isTrusted=="boolean"||_.isTrusted===void 0)&&(typeof _.supportThemeIcons=="boolean"||_.supportThemeIcons===void 0):!1}e.isMarkdownString=w;function p(_){return _.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function v(_){return _&&_.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=v;function i(_){const s=[],a=_.split("|").map(c=>c.trim());_=a[0];const u=a[1];if(u){const c=/height=(\d+)/.exec(u),d=/width=(\d+)/.exec(u),r=c?c[1]:"",n=d?d[1]:"",o=isFinite(parseInt(n)),t=isFinite(parseInt(r));o&&s.push(`width="${n}"`),t&&s.push(`height="${r}"`)}return{href:_,dimensions:s}}e.parseHrefAndDimensions=i}),define(Q[201],J([0,1,102,24]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function M(w){let p=JSON.parse(w);return p=y(p),p}e.parse=M;function y(w,p=0){if(!w||p>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags)}if(w instanceof S.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let v=0;v<w.length;++v)w[v]=y(w[v],p+1);else for(const v in w)Object.hasOwnProperty.call(w,v)&&(w[v]=y(w[v],p+1))}return w}e.revive=y}),define(Q[44],J([0,1,24,17]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var M;(function(p){p.inMemory="inmemory",p.vscode="vscode",p.internal="private",p.walkThrough="walkThrough",p.walkThroughSnippet="walkThroughSnippet",p.http="http",p.https="https",p.file="file",p.mailto="mailto",p.untitled="untitled",p.data="data",p.command="command",p.vscodeRemote="vscode-remote",p.vscodeRemoteResource="vscode-remote-resource",p.userData="vscode-userdata",p.vscodeCustomEditor="vscode-custom-editor",p.vscodeNotebook="vscode-notebook",p.vscodeNotebookCell="vscode-notebook-cell",p.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",p.vscodeNotebookCellOutput="vscode-notebook-cell-output",p.vscodeSettings="vscode-settings",p.vscodeWorkspaceTrust="vscode-workspace-trust",p.vscodeTerminal="vscode-terminal",p.webviewPanel="webview-panel",p.vscodeWebview="vscode-webview",p.extension="extension",p.vscodeFileResource="vscode-file",p.tmp="tmp"})(M=e.Schemas||(e.Schemas={}));class y{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const i=v.authority;let _=this._hosts[i];_&&_.indexOf(":")!==-1&&(_=`[${_}]`);const s=this._ports[i],a=this._connectionTokens[i];let u=`path=${encodeURIComponent(v.path)}`;return typeof a=="string"&&(u+=`&tkn=${encodeURIComponent(a)}`),S.URI.from({scheme:k.isWeb?this._preferredWebSchema:M.vscodeRemoteResource,authority:`${_}:${s}`,path:"/vscode-remote-resource",query:u})}}e.RemoteAuthorities=new y;class w{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(v,i,_){const s=this.toUri(v,i);return s.scheme===M.vscodeRemote?e.RemoteAuthorities.rewrite(s):k.isNative&&(_||k.isPreferringBrowserCodeLoad)&&s.scheme===M.file?s.with({scheme:M.vscodeFileResource,authority:s.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):s}toUri(v,i){return S.URI.isUri(v)?v:S.URI.parse(i.toUrl(v))}}e.FileAccess=new w}),define(Q[7],J([0,1,38,54,55,56,15,12,6,2,17,44,153]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function u(he){for(;he.firstChild;)he.firstChild.remove()}e.clearNode=u;function c(he){var ge;return(ge=he==null?void 0:he.isConnected)!==null&&ge!==void 0?ge:!1}e.isInDOM=c;class d{constructor(ge,ve,ke,Ne){this._node=ge,this._type=ve,this._handler=ke,this._options=Ne||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(he,ge,ve,ke){return new d(he,ge,ve,ke)}e.addDisposableListener=r;function n(he){return function(ge){return he(new y.StandardMouseEvent(ge))}}function o(he){return function(ge){return he(new M.StandardKeyboardEvent(ge))}}let t=function(ge,ve,ke,Ne){let Ae=ke;return ve==="click"||ve==="mousedown"?Ae=n(ke):(ve==="keydown"||ve==="keypress"||ve==="keyup")&&(Ae=o(ke)),r(ge,ve,Ae,Ne)};e.addStandardDisposableListener=t;let l=function(ge,ve,ke){let Ne=n(ve);return h(ge,Ne,ke)};e.addStandardDisposableGenericMouseDownListner=l;function h(he,ge,ve){return r(he,_.isIOS&&a.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,ge,ve)}e.addDisposableGenericMouseDownListner=h;function m(he,ge,ve){return r(he,_.isIOS&&a.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,ge,ve)}e.addDisposableGenericMouseUpListner=m;function C(he,ge){return r(he,"mouseout",ve=>{let ke=ve.relatedTarget;for(;ke&&ke!==he;)ke=ke.parentNode;ke!==he&&ge(ve)})}e.addDisposableNonBubblingMouseOutListener=C;function g(he,ge){return r(he,"pointerout",ve=>{let ke=ve.relatedTarget;for(;ke&&ke!==he;)ke=ke.parentNode;ke!==he&&ge(ve)})}e.addDisposableNonBubblingPointerOutListener=g;let f=null;function b(he){if(!f){const ge=ve=>setTimeout(()=>ve(new Date().getTime()),0);f=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ge}return f.call(self,he)}class L{constructor(ge,ve=0){this._runner=ge,this.priority=ve,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ge){p.onUnexpectedError(ge)}}static sort(ge,ve){return ve.priority-ge.priority}}(function(){let he=[],ge=null,ve=!1,ke=!1,Ne=()=>{for(ve=!1,ge=he,he=[],ke=!0;ge.length>0;)ge.sort(L.sort),ge.shift().execute();ke=!1};e.scheduleAtNextAnimationFrame=(Ae,Pe=0)=>{let Fe=new L(Ae,Pe);return he.push(Fe),ve||(ve=!0,b(Ne)),Fe},e.runAtThisOrScheduleAtNextAnimationFrame=(Ae,Pe)=>{if(ke){let Fe=new L(Ae,Pe);return ge.push(Fe),Fe}else return e.scheduleAtNextAnimationFrame(Ae,Pe)}})();const N=8,D=function(he,ge){return ge};class I extends i.Disposable{constructor(ge,ve,ke,Ne=D,Ae=N){super();let Pe=null,Fe=0,Oe=this._register(new w.TimeoutTimer),xe=()=>{Fe=new Date().getTime(),ke(Pe),Pe=null};this._register(r(ge,ve,We=>{Pe=Ne(Pe,We);let ze=new Date().getTime()-Fe;ze>=Ae?(Oe.cancel(),xe()):Oe.setIfNotSet(xe,Ae-ze)}))}}function T(he,ge,ve,ke,Ne){return new I(he,ge,ve,ke,Ne)}e.addDisposableThrottledListener=T;function A(he){return document.defaultView.getComputedStyle(he,null)}e.getComputedStyle=A;function R(he){if(he!==document.body)return new P(he.clientWidth,he.clientHeight);if(_.isIOS&&window.visualViewport)return new P(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new P(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new P(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new P(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=R;class O{static convertToPixels(ge,ve){return parseFloat(ve)||0}static getDimension(ge,ve,ke){let Ne=A(ge),Ae="0";return Ne&&(Ne.getPropertyValue?Ae=Ne.getPropertyValue(ve):Ae=Ne.getAttribute(ke)),O.convertToPixels(ge,Ae)}static getBorderLeftWidth(ge){return O.getDimension(ge,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ge){return O.getDimension(ge,"border-right-width","borderRightWidth")}static getBorderTopWidth(ge){return O.getDimension(ge,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ge){return O.getDimension(ge,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ge){return O.getDimension(ge,"padding-left","paddingLeft")}static getPaddingRight(ge){return O.getDimension(ge,"padding-right","paddingRight")}static getPaddingTop(ge){return O.getDimension(ge,"padding-top","paddingTop")}static getPaddingBottom(ge){return O.getDimension(ge,"padding-bottom","paddingBottom")}static getMarginLeft(ge){return O.getDimension(ge,"margin-left","marginLeft")}static getMarginTop(ge){return O.getDimension(ge,"margin-top","marginTop")}static getMarginRight(ge){return O.getDimension(ge,"margin-right","marginRight")}static getMarginBottom(ge){return O.getDimension(ge,"margin-bottom","marginBottom")}}class P{constructor(ge,ve){this.width=ge,this.height=ve}with(ge=this.width,ve=this.height){return ge!==this.width||ve!==this.height?new P(ge,ve):this}static is(ge){return typeof ge=="object"&&typeof ge.height=="number"&&typeof ge.width=="number"}static lift(ge){return ge instanceof P?ge:new P(ge.width,ge.height)}static equals(ge,ve){return ge===ve?!0:!ge||!ve?!1:ge.width===ve.width&&ge.height===ve.height}}e.Dimension=P;function F(he){let ge=he.offsetParent,ve=he.offsetTop,ke=he.offsetLeft;for(;(he=he.parentNode)!==null&&he!==document.body&&he!==document.documentElement;){ve-=he.scrollTop;const Ne=de(he)?null:A(he);Ne&&(ke-=Ne.direction!=="rtl"?he.scrollLeft:-he.scrollLeft),he===ge&&(ke+=O.getBorderLeftWidth(he),ve+=O.getBorderTopWidth(he),ve+=he.offsetTop,ke+=he.offsetLeft,ge=he.offsetParent)}return{left:ke,top:ve}}e.getTopLeftOffset=F;function E(he,ge,ve){typeof ge=="number"&&(he.style.width=`${ge}px`),typeof ve=="number"&&(he.style.height=`${ve}px`)}e.size=E;function x(he){let ge=he.getBoundingClientRect();return{left:ge.left+e.StandardWindow.scrollX,top:ge.top+e.StandardWindow.scrollY,width:ge.width,height:ge.height}}e.getDomNodePagePosition=x,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function H(he){let ge=O.getMarginLeft(he)+O.getMarginRight(he);return he.offsetWidth+ge}e.getTotalWidth=H;function K(he){let ge=O.getBorderLeftWidth(he)+O.getBorderRightWidth(he),ve=O.getPaddingLeft(he)+O.getPaddingRight(he);return he.offsetWidth-ge-ve}e.getContentWidth=K;function q(he){let ge=O.getBorderTopWidth(he)+O.getBorderBottomWidth(he),ve=O.getPaddingTop(he)+O.getPaddingBottom(he);return he.offsetHeight-ge-ve}e.getContentHeight=q;function G(he){let ge=O.getMarginTop(he)+O.getMarginBottom(he);return he.offsetHeight+ge}e.getTotalHeight=G;function ee(he,ge){for(;he;){if(he===ge)return!0;he=he.parentNode}return!1}e.isAncestor=ee;function ie(he,ge,ve){for(;he&&he.nodeType===he.ELEMENT_NODE;){if(he.classList.contains(ge))return he;if(ve){if(typeof ve=="string"){if(he.classList.contains(ve))return null}else if(he===ve)return null}he=he.parentNode}return null}e.findParentWithClass=ie;function ae(he,ge,ve){return!!ie(he,ge,ve)}e.hasParentWithClass=ae;function de(he){return he&&!!he.host&&!!he.mode}e.isShadowRoot=de;function Y(he){return!!B(he)}e.isInShadowDOM=Y;function B(he){for(;he.parentNode;){if(he===document.body)return null;he=he.parentNode}return de(he)?he:null}e.getShadowRoot=B;function W(){let he=document.activeElement;for(;he==null?void 0:he.shadowRoot;)he=he.shadowRoot.activeElement;return he}e.getActiveElement=W;function V(he=document.getElementsByTagName("head")[0]){let ge=document.createElement("style");return ge.type="text/css",ge.media="screen",he.appendChild(ge),ge}e.createStyleSheet=V;let z=null;function U(){return z||(z=V()),z}function X(he){var ge,ve;return((ge=he==null?void 0:he.sheet)===null||ge===void 0?void 0:ge.rules)?he.sheet.rules:((ve=he==null?void 0:he.sheet)===null||ve===void 0?void 0:ve.cssRules)?he.sheet.cssRules:[]}function te(he,ge,ve=U()){!ve||!ge||ve.sheet.insertRule(he+"{"+ge+"}",0)}e.createCSSRule=te;function se(he,ge=U()){if(!ge)return;let ve=X(ge),ke=[];for(let Ne=0;Ne<ve.length;Ne++)ve[Ne].selectorText.indexOf(he)!==-1&&ke.push(Ne);for(let Ne=ke.length-1;Ne>=0;Ne--)ge.sheet.deleteRule(ke[Ne])}e.removeCSSRulesContainingSelector=se;function le(he){return typeof HTMLElement=="object"?he instanceof HTMLElement:he&&typeof he=="object"&&he.nodeType===1&&typeof he.nodeName=="string"}e.isHTMLElement=le,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:S.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:S.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:S.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(he,ge){he.preventDefault?he.preventDefault():he.returnValue=!1,ge&&(he.stopPropagation?he.stopPropagation():he.cancelBubble=!0)}};function ue(he){let ge=[];for(let ve=0;he&&he.nodeType===he.ELEMENT_NODE;ve++)ge[ve]=he.scrollTop,he=he.parentNode;return ge}e.saveParentsScrollTop=ue;function re(he,ge){for(let ve=0;he&&he.nodeType===he.ELEMENT_NODE;ve++)he.scrollTop!==ge[ve]&&(he.scrollTop=ge[ve]),he=he.parentNode}e.restoreParentsScrollTop=re;class ce extends i.Disposable{constructor(ge){super();this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event;let ve=ee(document.activeElement,ge),ke=!1;const Ne=()=>{ke=!1,ve||(ve=!0,this._onDidFocus.fire())},Ae=()=>{ve&&(ke=!0,window.setTimeout(()=>{ke&&(ke=!1,ve=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ee(document.activeElement,ge)!==ve&&(ve?Ae():Ne())},this._register(k.domEvent(ge,e.EventType.FOCUS,!0)(Ne)),this._register(k.domEvent(ge,e.EventType.BLUR,!0)(Ae))}}function j(he){return new ce(he)}e.trackFocus=j;function ne(he,...ge){if(he.append(...ge),ge.length===1&&typeof ge[0]!="string")return ge[0]}e.append=ne;function Z(he,...ge){he.innerText="",ne(he,...ge)}e.reset=Z;const oe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var fe;(function(he){he.HTML="http://www.w3.org/1999/xhtml",he.SVG="http://www.w3.org/2000/svg"})(fe=e.Namespace||(e.Namespace={}));function _e(he,ge,ve,...ke){let Ne=oe.exec(ge);if(!Ne)throw new Error("Bad use of emmet");ve=Object.assign({},ve||{});let Ae=Ne[1]||"div",Pe;return he!==fe.HTML?Pe=document.createElementNS(he,Ae):Pe=document.createElement(Ae),Ne[3]&&(Pe.id=Ne[3]),Ne[4]&&(Pe.className=Ne[4].replace(/\./g," ").trim()),Object.keys(ve).forEach(Fe=>{const Oe=ve[Fe];typeof Oe!="undefined"&&(/^on\w+$/.test(Fe)?Pe[Fe]=Oe:Fe==="selected"?Oe&&Pe.setAttribute(Fe,"true"):Pe.setAttribute(Fe,Oe))}),Pe.append(...ke),Pe}function be(he,ge,...ve){return _e(fe.HTML,he,ge,...ve)}e.$=be,be.SVG=function(he,ge,...ve){return _e(fe.SVG,he,ge,...ve)};function Le(...he){for(let ge of he)ge.style.display="",ge.removeAttribute("aria-hidden")}e.show=Le;function Ee(...he){for(let ge of he)ge.style.display="none",ge.setAttribute("aria-hidden","true")}e.hide=Ee;function Re(he){return Array.prototype.slice.call(document.getElementsByTagName(he),0)}e.getElementsByTagName=Re;function De(he){const ge=window.devicePixelRatio*he;return Math.max(1,Math.floor(ge))/window.devicePixelRatio}e.computeScreenAwareSize=De;function Te(he){window.open(he,"_blank","noopener")}e.windowOpenNoOpener=Te;function we(he){const ge=()=>{he(),ve=e.scheduleAtNextAnimationFrame(ge)};let ve=e.scheduleAtNextAnimationFrame(ge);return i.toDisposable(()=>ve.dispose())}e.animate=we,s.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Se(he){return he?`url('${s.FileAccess.asBrowserUri(he).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Se;function ye(he){return`'${he.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;class me extends v.Emitter{constructor(){super();this._subscriptions=new i.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(k.domEvent(window,"keydown",!0)(ge=>{if(ge.defaultPrevented)return;const ve=new M.StandardKeyboardEvent(ge);if(!(ve.keyCode===6&&ge.repeat)){if(ge.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ge.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ge.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ge.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ve.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ge.altKey,this._keyStatus.ctrlKey=ge.ctrlKey,this._keyStatus.metaKey=ge.metaKey,this._keyStatus.shiftKey=ge.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ge,this.fire(this._keyStatus))}})),this._subscriptions.add(k.domEvent(window,"keyup",!0)(ge=>{ge.defaultPrevented||(!ge.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ge.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ge.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ge.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ge.altKey,this._keyStatus.ctrlKey=ge.ctrlKey,this._keyStatus.metaKey=ge.metaKey,this._keyStatus.shiftKey=ge.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ge,this.fire(this._keyStatus)))})),this._subscriptions.add(k.domEvent(document.body,"mousedown",!0)(ge=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add(k.domEvent(document.body,"mouseup",!0)(ge=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add(k.domEvent(document.body,"mousemove",!0)(ge=>{ge.buttons&&(this._keyStatus.lastKeyPressed=void 0)})),this._subscriptions.add(k.domEvent(window,"blur")(ge=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return me.instance||(me.instance=new me),me.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=me;function Ce(he,ge){const ve=window.matchMedia(he);typeof ve.addEventListener=="function"?ve.addEventListener("change",ge):ve.addListener(ge)}e.addMatchMediaChangeListener=Ce}),define(Q[158],J([0,1,7]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(s,a={}){const u=y(a);return u.textContent=s,u}e.renderText=k;function M(s,a={}){const u=y(a);return p(u,v(s,!!a.renderCodeSegements),a.actionHandler,a.renderCodeSegements),u}e.renderFormattedText=M;function y(s){const a=s.inline?"span":"div",u=document.createElement(a);return s.className&&(u.className=s.className),u}e.createElement=y;class w{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function p(s,a,u,c){let d;if(a.type===2)d=document.createTextNode(a.content||"");else if(a.type===3)d=document.createElement("b");else if(a.type===4)d=document.createElement("i");else if(a.type===7&&c)d=document.createElement("code");else if(a.type===5&&u){const r=document.createElement("a");r.href="#",u.disposeables.add(S.addStandardDisposableListener(r,"click",n=>{u.callback(String(a.index),n)})),d=r}else a.type===8?d=document.createElement("br"):a.type===1&&(d=s);d&&s!==d&&s.appendChild(d),d&&Array.isArray(a.children)&&a.children.forEach(r=>{p(d,r,u,c)})}function v(s,a){const u={type:1,children:[]};let c=0,d=u;const r=[],n=new w(s);for(;!n.eos();){let o=n.next();const t=o==="\\"&&_(n.peek(),a)!==0;if(t&&(o=n.next()),!t&&i(o,a)&&o===n.peek()){n.advance(),d.type===2&&(d=r.pop());const l=_(o,a);if(d.type===l||d.type===5&&l===6)d=r.pop();else{const h={type:l,children:[]};l===5&&(h.index=c,c++),d.children.push(h),r.push(d),d=h}}else if(o===`
`)d.type===2&&(d=r.pop()),d.children.push({type:8});else if(d.type!==2){const l={type:2,content:o};d.children.push(l),r.push(d),d=l}else d.content+=o}return d.type===2&&(d=r.pop()),r.length,u}function i(s,a){return _(s,a)!==0}function _(s,a){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}}),define(Q[92],J([0,1,7,195,56,2,17]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function p(i,_){let s=new M.StandardMouseEvent(_);return s.preventDefault(),{leftButton:s.leftButton,buttons:s.buttons,posx:s.posx,posy:s.posy}}e.standardMouseMoveMerger=p;class v{constructor(){this._hooks=new y.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(_,s){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const a=this._onStopCallback;this._onStopCallback=null,_&&a&&a(s)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(_,s,a,u,c){if(this.isMonitoring())return;this._mouseMoveEventMerger=a,this._mouseMoveCallback=u,this._onStopCallback=c;const d=k.IframeUtils.getSameOriginWindowChain(),r=w.isIOS?"pointermove":"mousemove",n="mouseup",o=d.map(l=>l.window.document),t=S.getShadowRoot(_);t&&o.unshift(t);for(const l of o)this._hooks.add(S.addDisposableThrottledListener(l,r,h=>{if(h.buttons!==s){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,m)=>this._mouseMoveEventMerger(h,m))),this._hooks.add(S.addDisposableListener(l,n,h=>this.stopMonitoring(!0)));if(k.IframeUtils.hasDifferentOriginAncestor()){let l=d[d.length-1];this._hooks.add(S.addDisposableListener(l.window.document,"mouseout",h=>{new M.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(S.addDisposableListener(l.window.document,"mouseover",h=>{new M.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(S.addDisposableListener(l.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=v});var Me=this&&this.__decorate||function($,e,S,k){var M=arguments.length,y=M<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,S):k,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate($,e,S,k);else for(var p=$.length-1;p>=0;p--)(w=$[p])&&(y=(M<3?w(y):M>3?w(e,S,y):w(e,S))||y);return M>3&&y&&Object.defineProperty(e,S,y),y};define(Q[61],J([0,1,19,2,7,89]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var w;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(w=e.EventType||(e.EventType={}));class p extends k.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(M.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(M.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(M.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.targets.push(i),{dispose:()=>{p.INSTANCE.targets=p.INSTANCE.targets.filter(_=>_!==i)}}):k.Disposable.None}static ignoreTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.ignoreTargets.push(i),{dispose:()=>{p.INSTANCE.ignoreTargets=p.INSTANCE.ignoreTargets.filter(_=>_!==i)}}):k.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,a=i.targetTouches.length;s<a;s++){let u=i.targetTouches.item(s);this.activeTouches[u.identifier]={id:u.identifier,initialTarget:u.target,initialTimeStamp:_,initialPageX:u.pageX,initialPageY:u.pageY,rollingTimestamps:[_],rollingPageX:[u.pageX],rollingPageY:[u.pageY]};let c=this.newGestureEvent(w.Start,u.target);c.pageX=u.pageX,c.pageY=u.pageY,this.dispatchEvent(c)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let _=Date.now(),s=Object.keys(this.activeTouches).length;for(let a=0,u=i.changedTouches.length;a<u;a++){let c=i.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let d=this.activeTouches[c.identifier],r=Date.now()-d.initialTimeStamp;if(r<p.HOLD_DELAY&&Math.abs(d.initialPageX-S.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-S.tail(d.rollingPageY))<30){let n=this.newGestureEvent(w.Tap,d.initialTarget);n.pageX=S.tail(d.rollingPageX),n.pageY=S.tail(d.rollingPageY),this.dispatchEvent(n)}else if(r>=p.HOLD_DELAY&&Math.abs(d.initialPageX-S.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-S.tail(d.rollingPageY))<30){let n=this.newGestureEvent(w.Contextmenu,d.initialTarget);n.pageX=S.tail(d.rollingPageX),n.pageY=S.tail(d.rollingPageY),this.dispatchEvent(n)}else if(s===1){let n=S.tail(d.rollingPageX),o=S.tail(d.rollingPageY),t=S.tail(d.rollingTimestamps)-d.rollingTimestamps[0],l=n-d.rollingPageX[0],h=o-d.rollingPageY[0];const m=this.targets.filter(C=>d.initialTarget instanceof Node&&C.contains(d.initialTarget));this.inertia(m,_,Math.abs(l)/t,l>0?1:-1,n,Math.abs(h)/t,h>0?1:-1,o)}this.dispatchEvent(this.newGestureEvent(w.End,d.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,_){let s=document.createEvent("CustomEvent");return s.initEvent(i,!1,!0),s.initialTarget=_,s.tapCount=0,s}dispatchEvent(i){if(i.type===w.Tap){const _=new Date().getTime();let s=0;_-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=_,i.tapCount=s}else(i.type===w.Change||i.type===w.Contextmenu)&&(this._lastSetTapCountTime=0);for(let _=0;_<this.ignoreTargets.length;_++)if(i.initialTarget instanceof Node&&this.ignoreTargets[_].contains(i.initialTarget))return;this.targets.forEach(_=>{i.initialTarget instanceof Node&&_.contains(i.initialTarget)&&(_.dispatchEvent(i),this.dispatched=!0)})}inertia(i,_,s,a,u,c,d,r){this.handle=M.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),o=n-_,t=0,l=0,h=!0;s+=p.SCROLL_FRICTION*o,c+=p.SCROLL_FRICTION*o,s>0&&(h=!1,t=a*s*o),c>0&&(h=!1,l=d*c*o);let m=this.newGestureEvent(w.Change);m.translationX=t,m.translationY=l,i.forEach(C=>C.dispatchEvent(m)),h||this.inertia(i,n,s,a,u+t,c,d,r+l)})}onTouchMove(i){let _=Date.now();for(let s=0,a=i.changedTouches.length;s<a;s++){let u=i.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("end of an UNKNOWN touch",u);continue}let c=this.activeTouches[u.identifier],d=this.newGestureEvent(w.Change,c.initialTarget);d.translationX=u.pageX-S.tail(c.rollingPageX),d.translationY=u.pageY-S.tail(c.rollingPageY),d.pageX=u.pageX,d.pageY=u.pageY,this.dispatchEvent(d),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(u.pageX),c.rollingPageY.push(u.pageY),c.rollingTimestamps.push(_)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,Me([y.memoize],p,"isTouchDevice",null),e.Gesture=p}),define(Q[104],J([0,1,7,27]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const M=new RegExp(`(\\\\)?\\$\\((${k.CSSIcon.iconNameExpression}(?:${k.CSSIcon.iconModifierExpression})?)\\)`,"g");function y(p){const v=new Array;let i,_=0,s=0;for(;(i=M.exec(p))!==null;){s=i.index||0,v.push(p.substring(_,s)),_=(i.index||0)+i[0].length;const[,a,u]=i;v.push(a?`$(${u})`:w({id:u}))}return _<p.length&&v.push(p.substring(_)),v}e.renderLabelWithIcons=y;function w(p){const v=S.$("span");return v.classList.add(...k.CSSIcon.asClassNameArray(p)),v}e.renderIcon=w}),define(Q[159],J([0,1,41,7,104]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class y{constructor(p,v){this.supportIcons=v,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",p.appendChild(this.domNode)}get element(){return this.domNode}set(p,v=[],i="",_){p||(p=""),_&&(p=y.escapeNewLines(p,v)),!(this.didEverRender&&this.text===p&&this.title===i&&S.equals(this.highlights,v))&&(this.text=p,this.title=i,this.highlights=v,this.render())}render(){const p=[];let v=0;for(const i of this.highlights){if(i.end===i.start)continue;if(v<i.start){const a=this.text.substring(v,i.start);p.push(k.$("span",void 0,...this.supportIcons?M.renderLabelWithIcons(a):[a])),v=i.end}const _=this.text.substring(i.start,i.end),s=k.$("span.highlight",void 0,...this.supportIcons?M.renderLabelWithIcons(_):[_]);i.extraClasses&&s.classList.add(i.extraClasses),p.push(s),v=i.end}if(v<this.text.length){const i=this.text.substring(v);p.push(k.$("span",void 0,...this.supportIcons?M.renderLabelWithIcons(i):[i]))}k.reset(this.domNode,...p),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(p,v){let i=0,_=0;return p.replace(/\r\n|\r|\n/g,(s,a)=>{_=s===`\r
`?-1:0,a+=i;for(const u of v)u.end<=a||(u.start>=a&&(u.start+=_),u.end>=a&&(u.end+=_));return i+=_,"\u23CE"})}}e.HighlightedLabel=y}),define(Q[293],J([0,1,7]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(y){try{y.parentElement&&y.parentElement.removeChild(y)}catch(w){}}class M{constructor(w){this.renderers=w,this.cache=new Map}alloc(w){let p=this.getTemplateCache(w).pop();if(!p){const v=S.$(".monaco-list-row"),_=this.getRenderer(w).renderTemplate(v);p={domNode:v,templateId:w,templateData:_}}return p}release(w){!w||this.releaseRow(w)}releaseRow(w){const{domNode:p,templateId:v}=w;p&&(p.classList.remove("scrolling"),k(p)),this.getTemplateCache(v).push(w)}getTemplateCache(w){let p=this.cache.get(w);return p||(p=[],this.cache.set(w,p)),p}dispose(){this.cache.forEach((w,p)=>{for(const v of w)this.getRenderer(p).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(w){const p=this.renderers.get(w);if(!p)throw new Error(`No renderer found for ${w}`);return p}}e.RowCache=M}),define(Q[51],J([0,1,7,55,56,2,61]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends y.Disposable{onclick(i,_){this._register(S.addDisposableListener(i,S.EventType.CLICK,s=>_(new M.StandardMouseEvent(s))))}onmousedown(i,_){this._register(S.addDisposableListener(i,S.EventType.MOUSE_DOWN,s=>_(new M.StandardMouseEvent(s))))}onmouseover(i,_){this._register(S.addDisposableListener(i,S.EventType.MOUSE_OVER,s=>_(new M.StandardMouseEvent(s))))}onnonbubblingmouseout(i,_){this._register(S.addDisposableNonBubblingMouseOutListener(i,s=>_(new M.StandardMouseEvent(s))))}onkeydown(i,_){this._register(S.addDisposableListener(i,S.EventType.KEY_DOWN,s=>_(new k.StandardKeyboardEvent(s))))}onkeyup(i,_){this._register(S.addDisposableListener(i,S.EventType.KEY_UP,s=>_(new k.StandardKeyboardEvent(s))))}oninput(i,_){this._register(S.addDisposableListener(i,S.EventType.INPUT,_))}onblur(i,_){this._register(S.addDisposableListener(i,S.EventType.BLUR,_))}onfocus(i,_){this._register(S.addDisposableListener(i,S.EventType.FOCUS,_))}ignoreGesture(i){w.Gesture.ignoreTarget(i)}}e.Widget=p}),define(Q[160],J([0,1,92,51,15]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class y extends k.Widget{constructor(p){super();this._onActivate=p.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=p.bgWidth+"px",this.bgDomNode.style.height=p.bgHeight+"px",typeof p.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof p.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof p.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof p.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=p.className,this.domNode.classList.add(...p.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof p.top!="undefined"&&(this.domNode.style.top=p.top+"px"),typeof p.left!="undefined"&&(this.domNode.style.left=p.left+"px"),typeof p.bottom!="undefined"&&(this.domNode.style.bottom=p.bottom+"px"),typeof p.right!="undefined"&&(this.domNode.style.right=p.right+"px"),this._mouseMoveMonitor=this._register(new S.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,v=>this._arrowMouseDown(v)),this.onmousedown(this.domNode,v=>this._arrowMouseDown(v)),this._mousedownRepeatTimer=this._register(new M.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new M.TimeoutTimer)}_arrowMouseDown(p){const v=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(v,200),this._mouseMoveMonitor.startMonitoring(p.target,p.buttons,S.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),p.preventDefault()}}e.ScrollbarArrow=y}),define(Q[202],J([0,1,7,30,92,160,288,51,17]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class _ extends p.Widget{constructor(a){super();this._lazyRender=a.lazyRender,this._host=a.host,this._scrollable=a.scrollable,this._scrollByPage=a.scrollByPage,this._scrollbarState=a.scrollbarState,this._visibilityController=this._register(new w.ScrollbarVisibilityController(a.visibility,"visible scrollbar "+a.extraScrollbarClassName,"invisible scrollbar "+a.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new M.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=k.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,u=>this._domNodeMouseDown(u))}_createArrow(a){const u=this._register(new y.ScrollbarArrow(a));this.domNode.domNode.appendChild(u.bgDomNode),this.domNode.domNode.appendChild(u.domNode)}_createSlider(a,u,c,d){this.slider=k.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(a),this.slider.setLeft(u),typeof c=="number"&&this.slider.setWidth(c),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(a){return this._scrollbarState.setVisibleSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(a){return this._scrollbarState.setScrollSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(a){return this._scrollbarState.setScrollPosition(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(a){a.target===this.domNode.domNode&&this._onMouseDown(a)}delegateMouseDown(a){const u=this.domNode.domNode.getClientRects()[0].top,c=u+this._scrollbarState.getSliderPosition(),d=u+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(a);c<=r&&r<=d?a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{})):this._onMouseDown(a)}_onMouseDown(a){let u,c;if(a.target===this.domNode.domNode&&typeof a.browserEvent.offsetX=="number"&&typeof a.browserEvent.offsetY=="number")u=a.browserEvent.offsetX,c=a.browserEvent.offsetY;else{const r=S.getDomNodePagePosition(this.domNode.domNode);u=a.posx-r.left,c=a.posy-r.top}const d=this._mouseDownRelativePosition(u,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{}))}_sliderMouseDown(a,u){const c=this._sliderMousePosition(a),d=this._sliderOrthogonalMousePosition(a),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(a.target,a.buttons,M.standardMouseMoveMerger,n=>{const o=this._sliderOrthogonalMousePosition(n),t=Math.abs(o-d);if(v.isWindows&&t>i){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const h=this._sliderMousePosition(n)-c;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),u()}),this._host.onDragStart()}_setDesiredScrollPositionNow(a){const u={};this.writeScrollPosition(u,a),this._scrollable.setScrollPositionNow(u)}updateScrollbarSize(a){this._updateScrollbarSize(a),this._scrollbarState.setScrollbarSize(a),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=_}),define(Q[294],J([0,1,56,202,160,196,27]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const p=w.registerCodicon("scrollbar-button-left",w.Codicon.triangleLeft),v=w.registerCodicon("scrollbar-button-right",w.Codicon.triangleRight);class i extends k.AbstractScrollbar{constructor(s,a,u){const c=s.getScrollDimensions(),d=s.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:u,scrollbarState:new y.ScrollbarState(a.horizontalHasArrows?a.arrowSize:0,a.horizontal===2?0:a.horizontalScrollbarSize,a.vertical===2?0:a.verticalScrollbarSize,c.width,c.scrollWidth,d.scrollLeft),visibility:a.horizontal,extraScrollbarClassName:"horizontal",scrollable:s,scrollByPage:a.scrollByPage});if(a.horizontalHasArrows){const r=(a.arrowSize-M.ARROW_IMG_SIZE)/2,n=(a.horizontalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:n,left:r,bottom:void 0,right:void 0,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new S.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:v,top:n,left:void 0,bottom:void 0,right:r,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new S.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((a.horizontalScrollbarSize-a.horizontalSliderSize)/2),0,void 0,a.horizontalSliderSize)}_updateSlider(s,a){this.slider.setWidth(s),this.slider.setLeft(a)}_renderDomNode(s,a){this.domNode.setWidth(s),this.domNode.setHeight(a),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(s){return this._shouldRender=this._onElementScrollSize(s.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(s.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(s.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(s,a){return s}_sliderMousePosition(s){return s.posx}_sliderOrthogonalMousePosition(s){return s.posy}_updateScrollbarSize(s){this.slider.setHeight(s)}writeScrollPosition(s,a){s.scrollLeft=a}}e.HorizontalScrollbar=i}),define(Q[295],J([0,1,56,202,160,196,27]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const p=w.registerCodicon("scrollbar-button-up",w.Codicon.triangleUp),v=w.registerCodicon("scrollbar-button-down",w.Codicon.triangleDown);class i extends k.AbstractScrollbar{constructor(s,a,u){const c=s.getScrollDimensions(),d=s.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:u,scrollbarState:new y.ScrollbarState(a.verticalHasArrows?a.arrowSize:0,a.vertical===2?0:a.verticalScrollbarSize,0,c.height,c.scrollHeight,d.scrollTop),visibility:a.vertical,extraScrollbarClassName:"vertical",scrollable:s,scrollByPage:a.scrollByPage});if(a.verticalHasArrows){const r=(a.arrowSize-M.ARROW_IMG_SIZE)/2,n=(a.verticalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:r,left:n,bottom:void 0,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new S.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:v,top:void 0,left:n,bottom:r,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new S.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((a.verticalScrollbarSize-a.verticalSliderSize)/2),a.verticalSliderSize,void 0)}_updateSlider(s,a){this.slider.setHeight(s),this.slider.setTop(a)}_renderDomNode(s,a){this.domNode.setWidth(a),this.domNode.setHeight(s),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(s){return this._shouldRender=this._onElementScrollSize(s.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(s.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(s.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(s,a){return a}_sliderMousePosition(s){return s.posy}_sliderOrthogonalMousePosition(s){return s.posx}_updateScrollbarSize(s){this.slider.setWidth(s)}writeScrollPosition(s,a){s.scrollTop=a}}e.VerticalScrollbar=i}),define(Q[45],J([0,1,154,73,24,8,44]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(_){return M.uriToFsPath(_,!0)}e.originalFSPath=p;class v{constructor(s){this._ignorePathCasing=s}compare(s,a,u=!1){return s===a?0:y.compare(this.getComparisonKey(s,u),this.getComparisonKey(a,u))}isEqual(s,a,u=!1){return s===a?!0:!s||!a?!1:this.getComparisonKey(s,u)===this.getComparisonKey(a,u)}getComparisonKey(s,a=!1){return s.with({path:this._ignorePathCasing(s)?s.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(s,...a){return M.URI.joinPath(s,...a)}basenameOrAuthority(s){return e.basename(s)||s.authority}basename(s){return k.posix.basename(s.path)}dirname(s){if(s.path.length===0)return s;let a;return s.scheme===w.Schemas.file?a=M.URI.file(k.dirname(p(s))).path:(a=k.posix.dirname(s.path),s.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),a="/")),s.with({path:a})}normalizePath(s){if(!s.path.length)return s;let a;return s.scheme===w.Schemas.file?a=M.URI.file(k.normalize(p(s))).path:a=k.posix.normalize(s.path),s.with({path:a})}resolvePath(s,a){if(s.scheme===w.Schemas.file){const u=M.URI.file(k.resolve(p(s),a));return s.with({authority:u.authority,path:u.path})}return a=S.toPosixPath(a),s.with({path:k.posix.resolve(s.path,a)})}}e.ExtUri=v,e.extUri=new v(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(_){_.META_DATA_LABEL="label",_.META_DATA_DESCRIPTION="description",_.META_DATA_SIZE="size",_.META_DATA_MIME="mime";function s(a){const u=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(r=>{const[n,o]=r.split(":");n&&o&&u.set(n,o)});const d=a.path.substring(0,a.path.indexOf(";"));return d&&u.set(_.META_DATA_MIME,d),u}_.parseMetaData=s})(i=e.DataUri||(e.DataUri={}))}),define(Q[296],J([0,1,7,158,12,82,123,698,699,201,41,8,24,44,103,45,56,104,6,54]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(l=window.trustedTypes)===null||l===void 0?void 0:l.createPolicy("insane",{createHTML(f,b){return v.insane(f,b)}});function m(f,b={},L={}){var N;const D=k.createElement(b),I=function(E){let x;try{x=i.parse(decodeURIComponent(E))}catch(H){}return x?(x=_.cloneAndChange(x,H=>{if(f.uris&&f.uris[H])return a.URI.revive(f.uris[H])}),encodeURIComponent(JSON.stringify(x))):E},T=function(E,x){const H=f.uris&&f.uris[E];if(!H)return E;let K=a.URI.revive(H);return a.URI.parse(E).toString()===K.toString()?E:x?u.FileAccess.asBrowserUri(K).toString(!0):(K.query&&(K=K.with({query:I(K.query)})),K.toString())};let A;const R=new Promise(E=>A=E),O=new p.Renderer;O.image=(E,x,H)=>{let K=[],q=[];if(E){({href:E,dimensions:K}=y.parseHrefAndDimensions(E)),E=T(E,!0);try{const G=a.URI.parse(E);b.baseUrl&&G.scheme===u.Schemas.file&&(E=d.resolvePath(b.baseUrl,E).toString())}catch(G){}q.push(`src="${E}"`)}return H&&q.push(`alt="${H}"`),x&&q.push(`title="${x}"`),K.length&&(q=q.concat(K)),"<img "+q.join(" ")+">"},O.link=(E,x,H)=>(E===H&&(H=y.removeMarkdownEscapes(H)),E=T(E,!1),b.baseUrl&&(/^\w[\w\d+.-]*:/.test(E)||(E=d.resolvePath(b.baseUrl,E).toString())),x=y.removeMarkdownEscapes(x),E=y.removeMarkdownEscapes(E),!E||E.match(/^data:|javascript:/i)||E.match(/^command:/i)&&!f.isTrusted||E.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?H:(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${E}" title="${x||E}">${H}</a>`)),O.paragraph=E=>(f.supportThemeIcons&&(E=n.renderLabelWithIcons(E).map(H=>typeof H=="string"?H:H.outerHTML).join("")),`<p>${E}</p>`),b.codeBlockRenderer&&(O.code=(E,x)=>{const H=b.codeBlockRenderer(x,E),K=w.defaultGenerator.nextId(),q=Promise.all([H,R]).then(G=>{const ee=D.querySelector(`div[data-code="${K}"]`);ee&&S.reset(ee,G[0])}).catch(G=>{});return b.asyncRenderCallback&&q.then(b.asyncRenderCallback),`<div class="code" data-code="${K}">${s.escape(E)}</div>`}),b.actionHandler&&b.actionHandler.disposeables.add(o.Event.any(t.domEvent(D,"click"),t.domEvent(D,"auxclick"))(E=>{const x=new r.StandardMouseEvent(E);if(!x.leftButton&&!x.middleButton)return;let H=x.target;if(!(H.tagName!=="A"&&(H=H.parentElement,!H||H.tagName!=="A")))try{const K=H.dataset.href;K&&b.actionHandler.callback(K,x)}catch(K){M.onUnexpectedError(K)}finally{x.preventDefault()}})),L.sanitizer=E=>(f.isTrusted?E.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?E:"",L.sanitize=!0,L.silent=!0,L.renderer=O;let P=(N=f.value)!==null&&N!==void 0?N:"";P.length>1e5&&(P=`${P.substr(0,1e5)}\u2026`),f.supportThemeIcons&&(P=c.markdownEscapeEscapedIcons(P));const F=p.parse(P,L);if(D.innerHTML=C(f,F),A(),b.asyncRenderCallback)for(const E of D.getElementsByTagName("img")){const x=S.addDisposableListener(E,"load",()=>{x.dispose(),b.asyncRenderCallback()})}return D}e.renderMarkdown=m;function C(f,b){var L;const N=g(f);return(L=h==null?void 0:h.createHTML(b,N))!==null&&L!==void 0?L:v.insane(b,N)}function g(f){const b=[u.Schemas.http,u.Schemas.https,u.Schemas.mailto,u.Schemas.data,u.Schemas.file,u.Schemas.vscodeRemote,u.Schemas.vscodeRemoteResource];return f.isTrusted&&b.push(u.Schemas.command),{allowedSchemes:b,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(L){return L.tag==="span"&&f.isTrusted?L.attrs.style&&Object.keys(L.attrs).length===1?!!L.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):L.attrs.class?!!L.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(Q[161],J([0,1,24,44,17,45,154]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function p(i){if(!i)return;typeof i=="string"&&(i=S.URI.file(i));const _=y.basename(i)||(i.scheme===k.Schemas.file?i.fsPath:i.path);return M.isWindows&&w.isRootOrDriveLetter(_)?v(_):_}e.getBaseLabel=p;function v(i){return w.hasDriveLetter(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=v}),define(Q[297],J([0,1,73,8,200,44,45]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.MIME_UNKNOWN=e.MIME_TEXT=void 0,e.MIME_TEXT="text/plain",e.MIME_UNKNOWN="application/unknown";let p=[],v=[],i=[];function _(d,r=!1){const n=s(d);p.push(n),n.userConfigured?i.push(n):v.push(n),r&&!n.userConfigured&&p.forEach(o=>{o.mime===n.mime||o.userConfigured||(n.extension&&o.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&o.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&o.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&o.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))})}e.registerTextMime=_;function s(d){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:d.userConfigured,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?d.filepattern.toLowerCase():void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(S.posix.sep)>=0:!1}}function a(d,r){let n;if(d)switch(d.scheme){case y.Schemas.file:n=d.fsPath;break;case y.Schemas.data:n=w.DataUri.parseMetaData(d).get(w.DataUri.META_DATA_LABEL);break;default:n=d.path}if(!n)return[e.MIME_UNKNOWN];n=n.toLowerCase();const o=S.basename(n),t=u(n,o,i);if(t)return[t,e.MIME_TEXT];const l=u(n,o,v);if(l)return[l,e.MIME_TEXT];if(r){const h=c(r);if(h)return[h,e.MIME_TEXT]}return[e.MIME_UNKNOWN]}e.guessMimeTypes=a;function u(d,r,n){let o=null,t=null,l=null;for(let h=n.length-1;h>=0;h--){const m=n[h];if(r===m.filenameLowercase){o=m;break}if(m.filepattern&&(!t||m.filepattern.length>t.filepattern.length)){const C=m.filepatternOnPath?d:r;M.match(m.filepatternLowercase,C)&&(t=m)}m.extension&&(!l||m.extension.length>l.extension.length)&&r.endsWith(m.extensionLowercase)&&(l=m)}return o?o.mime:t?t.mime:l?l.mime:null}function c(d){if(k.startsWithUTF8BOM(d)&&(d=d.substr(1)),d.length>0)for(let r=p.length-1;r>=0;r--){const n=p[r];if(!n.firstline)continue;const o=d.match(n.firstline);if(o&&o.length>0)return n.mime}return null}}),define(Q[298],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const S=new Uint8Array(16),k=[];for(let w=0;w<256;w++)k.push(w.toString(16).padStart(2,"0"));let M;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?M=crypto.getRandomValues.bind(crypto):M=function(w){for(let p=0;p<w.length;p++)w[p]=Math.floor(Math.random()*256);return w};function y(){M(S),S[6]=S[6]&15|64,S[8]=S[8]&63|128;let w=0,p="";return p+=k[S[w++]],p+=k[S[w++]],p+=k[S[w++]],p+=k[S[w++]],p+="-",p+=k[S[w++]],p+=k[S[w++]],p+="-",p+=k[S[w++]],p+=k[S[w++]],p+="-",p+=k[S[w++]],p+=k[S[w++]],p+="-",p+=k[S[w++]],p+=k[S[w++]],p+=k[S[w++]],p+=k[S[w++]],p+=k[S[w++]],p+=k[S[w++]],p}e.generateUuid=y}),define(Q[203],J([0,1,12,2,17,20]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const w="$initialize";let p=!1;function v(u){!M.isWeb||(p||(p=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(u.message))}e.logOnceWebWorkerWarning=v;class i{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(c){this._workerId=c}sendMessage(c,d){let r=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[r]={resolve:n,reject:o},this._send({vsWorker:this._workerId,req:r,method:c,args:d})})}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){if(c.seq){let o=c;if(!this._pendingReplies[o.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[o.seq];if(delete this._pendingReplies[o.seq],o.err){let l=o.err;o.err.$isError&&(l=new Error,l.name=o.err.name,l.message=o.err.message,l.stack=o.err.stack),t.reject(l);return}t.resolve(o.res);return}let d=c,r=d.req;this._handler.handleMessage(d.method,d.args).then(o=>{this._send({vsWorker:this._workerId,seq:r,res:o,err:void 0})},o=>{o.detail instanceof Error&&(o.detail=S.transformErrorForSerialization(o.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:S.transformErrorForSerialization(o)})})}_send(c){let d=[];if(c.req){const r=c;for(let n=0;n<r.args.length;n++)r.args[n]instanceof ArrayBuffer&&d.push(r.args[n])}else{const r=c;r.res instanceof ArrayBuffer&&d.push(r.res)}this._handler.sendMessage(c,d)}}class _ extends k.Disposable{constructor(c,d,r){super();let n=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{n&&n(h)})),this._protocol=new i({sendMessage:(h,m)=>{this._worker.postMessage(h,m)},handleMessage:(h,m)=>{if(typeof r[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(r[h].apply(r,m))}catch(C){return Promise.reject(C)}}}),this._protocol.setWorkerId(this._worker.getId());let o=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?o=self.require.getConfig():typeof self.requirejs!="undefined"&&(o=self.requirejs.s.contexts._.config);const t=y.getAllMethodNames(r);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(o)),d,t]);const l=(h,m)=>this._request(h,m);this._lazyProxy=new Promise((h,m)=>{n=m,this._onModuleLoaded.then(C=>{h(y.createProxyObject(C,l))},C=>{m(C),this._onError("Worker failed to load "+d,C)})})}getProxyObject(){return this._lazyProxy}_request(c,d){return new Promise((r,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,d).then(r,n)},n)})}_onError(c,d){console.error(c),console.info(d)}}e.SimpleWorkerClient=_;class s{constructor(c,d){this._requestHandlerFactory=d,this._requestHandler=null,this._protocol=new i({sendMessage:(r,n)=>{c(r,n)},handleMessage:(r,n)=>this._handleMessage(r,n)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,d){if(c===w)return this.initialize(d[0],d[1],d[2],d[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,d))}catch(r){return Promise.reject(r)}}initialize(c,d,r,n){this._protocol.setWorkerId(c);const o=(l,h)=>this._protocol.sendMessage(l,h),t=y.createProxyObject(n,o);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(y.getAllMethodNames(this._requestHandler))):(d&&(typeof d.baseUrl!="undefined"&&delete d.baseUrl,typeof d.paths!="undefined"&&typeof d.paths.vs!="undefined"&&delete d.paths.vs,typeof d.trustedTypesPolicy!==void 0&&delete d.trustedTypesPolicy,d.catchError=!0,self.require.config(d)),new Promise((l,h)=>{self.require([r],m=>{if(this._requestHandler=m.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}l(y.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=s;function a(u){return new s(u,null)}e.create=a}),define(Q[204],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var S;(function(M){M[M.Blur=1]="Blur",M[M.Gesture=2]="Gesture",M[M.Other=3]="Other"})(S=e.QuickInputHideReason||(e.QuickInputHideReason={}));var k;(function(M){M[M.NONE=0]="NONE",M[M.FIRST=1]="FIRST",M[M.SECOND=2]="SECOND",M[M.LAST=3]="LAST"})(k=e.ItemActivation||(e.ItemActivation={}))}),define(Q[299],J([0,1,2,6,15,20]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var w;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(w||(w={}));class p extends S.Disposable{constructor(_,s=Object.create(null)){super();this.database=_,this.options=s,this._onDidChangeStorage=this._register(new k.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=new M.ThrottledDelayer(p.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(_=>this.onDidChangeItemsExternal(_)))}onDidChangeItemsExternal(_){var s,a;(s=_.changed)===null||s===void 0||s.forEach((u,c)=>this.accept(c,u)),(a=_.deleted)===null||a===void 0||a.forEach(u=>this.accept(u,void 0))}accept(_,s){if(this.state===w.Closed)return;let a=!1;y.isUndefinedOrNull(s)?a=this.cache.delete(_):this.cache.get(_)!==s&&(this.cache.set(_,s),a=!0),a&&this._onDidChangeStorage.fire(_)}get(_,s){const a=this.cache.get(_);return y.isUndefinedOrNull(a)?s:a}getBoolean(_,s){const a=this.get(_);return y.isUndefinedOrNull(a)?s:a==="true"}getNumber(_,s){const a=this.get(_);return y.isUndefinedOrNull(a)?s:parseInt(a,10)}set(_,s){return Ie(this,void 0,void 0,function*(){if(this.state===w.Closed)return;if(y.isUndefinedOrNull(s))return this.delete(_);const a=String(s);if(this.cache.get(_)!==a)return this.cache.set(_,a),this.pendingInserts.set(_,a),this.pendingDeletes.delete(_),this._onDidChangeStorage.fire(_),this.flushDelayer.trigger(()=>this.flushPending())})}delete(_){return Ie(this,void 0,void 0,function*(){if(!(this.state===w.Closed||!this.cache.delete(_)))return this.pendingDeletes.has(_)||this.pendingDeletes.add(_),this.pendingInserts.delete(_),this._onDidChangeStorage.fire(_),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Ie(this,void 0,void 0,function*(){if(!this.hasPending)return;const _={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(_).finally(()=>{var s;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(s=this.whenFlushedCallbacks.pop())===null||s===void 0||s()})})}dispose(){this.flushDelayer.cancel(),this.flushDelayer.dispose(),super.dispose()}}e.Storage=p,p.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(_){return Ie(this,void 0,void 0,function*(){_.insert&&_.insert.forEach((s,a)=>this.items.set(a,s)),_.delete&&_.delete.forEach(s=>this.items.delete(s))})}}e.InMemoryStorageDatabase=v}),define(Q[300],J([0,1,17,203]),function($,e,S,k){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const y=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("defaultWorkerFactory",{createScriptURL:s=>s});function w(s,a){if(S.globals.MonacoEnvironment){if(typeof S.globals.MonacoEnvironment.getWorker=="function")return S.globals.MonacoEnvironment.getWorker(s,a);if(typeof S.globals.MonacoEnvironment.getWorkerUrl=="function"){const u=S.globals.MonacoEnvironment.getWorkerUrl(s,a);return new Worker(y?y.createScriptURL(u):u,{name:a})}}if(typeof $=="function"){const u=$.toUrl("./"+s),c=p(u,a);return new Worker(y?y.createScriptURL(c):c,{name:a})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function p(s,a){if(/^((http:)|(https:)|(file:))/.test(s)&&s.substring(0,self.origin.length)!==self.origin){const u="vs/base/worker/defaultWorkerFactory.js",c=$.toUrl(u).slice(0,-u.length),d=`/*${a}*/self.MonacoEnvironment={baseUrl: '${c}'};importScripts('${s}');/*${a}*/`,r=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(r)}return s+"#"+a}e.getWorkerBootstrapUrl=p;function v(s){return typeof s.then=="function"}class i{constructor(a,u,c,d,r){this.id=u;const n=w("workerMain.js",c);v(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(a,[]),this.worker.then(o=>{o.onmessage=function(t){d(t.data)},o.onmessageerror=r,typeof o.addEventListener=="function"&&o.addEventListener("error",r)})}getId(){return this.id}postMessage(a,u){this.worker&&this.worker.then(c=>c.postMessage(a,u))}dispose(){this.worker&&this.worker.then(a=>a.terminate()),this.worker=null}}class _{constructor(a){this._label=a,this._webWorkerFailedBeforeError=!1}create(a,u,c){let d=++_.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(a,d,this._label||"anonymous"+d,u,r=>{k.logOnceWebWorkerWarning(r),this._webWorkerFailedBeforeError=r,c(r)})}}e.DefaultWorkerFactory=_,_.LAST_WORKER_ID=0}),define(Q[205],J([10]),{}),define(Q[301],J([10]),{}),define(Q[42],J([0,1,17,7,301]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const M=2e4;let y,w,p,v,i;function _(c){y=document.createElement("div"),y.className="monaco-aria-container";const d=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),y.appendChild(n),n};w=d(),p=d();const r=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),y.appendChild(n),n};v=r(),i=r(),c.appendChild(y)}e.setARIAContainer=_;function s(c){!y||(w.textContent!==c?(k.clearNode(p),u(w,c)):(k.clearNode(w),u(p,c)))}e.alert=s;function a(c){!y||(S.isMacintosh?s(c):v.textContent!==c?(k.clearNode(i),u(v,c)):(k.clearNode(v),u(i,c)))}e.status=a;function u(c,d){k.clearNode(c),d.length>M&&(d=d.substr(0,M)),c.textContent=d,c.style.visibility="hidden",c.style.visibility="visible"}}),define(Q[302],J([10]),{}),define(Q[303],J([0,1,55,29,41,6,2,61,104,7,302]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const _={buttonBackground:k.Color.fromHex("#0E639C"),buttonHoverBackground:k.Color.fromHex("#006BB3"),buttonForeground:k.Color.white};class s extends w.Disposable{constructor(u,c){super();this._onDidClick=this._register(new y.Emitter),this.options=c||Object.create(null),M.mixin(this.options,_,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),u.appendChild(this._element),this._register(p.Gesture.addTarget(this._element)),[i.EventType.CLICK,p.EventType.Tap].forEach(d=>{this._register(i.addDisposableListener(this._element,d,r=>{if(!this.enabled){i.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register(i.addDisposableListener(this._element,i.EventType.KEY_DOWN,d=>{const r=new S.StandardKeyboardEvent(d);let n=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(d),n=!0):r.equals(9)&&(this._element.blur(),n=!0),n&&i.EventHelper.stop(r,!0)})),this._register(i.addDisposableListener(this._element,i.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(i.addDisposableListener(this._element,i.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register(i.trackFocus(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let u;this.options.secondary?u=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:u=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,u&&(this._element.style.backgroundColor=u)}style(u){this.buttonForeground=u.buttonForeground,this.buttonBackground=u.buttonBackground,this.buttonHoverBackground=u.buttonHoverBackground,this.buttonSecondaryForeground=u.buttonSecondaryForeground,this.buttonSecondaryBackground=u.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=u.buttonSecondaryHoverBackground,this.buttonBorder=u.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let u,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",u=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",u=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=u,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(u){this._element.classList.add("monaco-text-button"),this.options.supportIcons?i.reset(this._element,...v.renderLabelWithIcons(u)):this._element.textContent=u,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=u)}set enabled(u){u?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=s}),define(Q[304],J([10]),{}),define(Q[162],J([0,1,51,29,6,27,304]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const w={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class p extends S.Widget{constructor(i){super();this._onChange=this._register(new M.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new M.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},w),i),this._checked=this._opts.isChecked;const _=["monaco-custom-checkbox"];this._opts.icon&&_.push(...y.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&_.push(...this._opts.actionClassName.split(" ")),this._checked&&_.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(..._),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,s=>{if(s.keyCode===10||s.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=p}),define(Q[305],J([10]),{}),define(Q[306],J([10]),{}),define(Q[127],J([0,1,27,305,306]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function k(M){let y=M.definition;for(;y instanceof S.Codicon;)y=y.definition;return`.codicon-${M.id}:before { content: '${y.fontCharacter}'; }`}e.formatRule=k}),define(Q[307],J([10]),{}),define(Q[206],J([0,1,7,17,2,124,153,307]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var p;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(p=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(s,a,u){const c=u.mode===p.ALIGN?u.offset:u.offset+u.size,d=u.mode===p.ALIGN?u.offset+u.size:u.offset;return u.position===0?a<=s-c?c:a<=d?d-a:Math.max(s-a,0):a<=d?d-a:a<=s-c?c:0}e.layout=v;class i extends M.Disposable{constructor(a,u){super();this.container=null,this.delegate=null,this.toDisposeOnClean=M.Disposable.None,this.toDisposeOnSetContainer=M.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=S.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,S.hide(this.view),this.setContainer(a,u),this._register(M.toDisposable(()=>this.setContainer(null,1)))}setContainer(a,u){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),a){if(this.container=a,this.useFixedPosition=u!==1,this.useShadowDOM=u===3,this.useShadowDOM){this.shadowRootHostElement=S.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=_,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(S.$("slot"))}else this.container.appendChild(this.view);const d=new M.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(r=>{d.add(S.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(r=>{d.add(S.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(a){this.isVisible()&&this.hide(),S.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",S.show(this.view),this.toDisposeOnClean=a.render(this.view)||M.Disposable.None,this.delegate=a,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(k.isIOS&&w.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let a=this.delegate.getAnchor(),u;if(S.isHTMLElement(a)){let m=S.getDomNodePagePosition(a);u={top:m.top,left:m.left,width:m.width,height:m.height}}else u={top:a.y,left:a.x,width:a.width||1,height:a.height||2};const c=S.getTotalWidth(this.view),d=S.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,o=this.delegate.anchorAxisAlignment||0;let t,l;if(o===0){const m={offset:u.top-window.pageYOffset,size:u.height,position:r===0?0:1},C={offset:u.left,size:u.width,position:n===0?0:1,mode:p.ALIGN};t=v(window.innerHeight,d,m)+window.pageYOffset,y.Range.intersects({start:t,end:t+d},{start:m.offset,end:m.offset+m.size})&&(C.mode=p.AVOID),l=v(window.innerWidth,c,C)}else{const m={offset:u.left,size:u.width,position:n===0?0:1},C={offset:u.top,size:u.height,position:r===0?0:1,mode:p.ALIGN};l=v(window.innerWidth,c,m),y.Range.intersects({start:l,end:l+c},{start:m.offset,end:m.offset+m.size})&&(C.mode=p.AVOID),t=v(window.innerHeight,d,C)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=S.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?S.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?S.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(a){const u=this.delegate;this.delegate=null,(u==null?void 0:u.onHide)&&u.onHide(a),this.toDisposeOnClean.dispose(),S.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(a,u){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(a,document.activeElement):u&&!S.isAncestor(a.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let _=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(Q[308],J([10]),{}),define(Q[207],J([0,1,7,8,29,41,308]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const w={badgeBackground:M.Color.fromHex("#4D4D4D"),badgeForeground:M.Color.fromHex("#FFFFFF")};class p{constructor(i,_){this.count=0,this.options=_||Object.create(null),y.mixin(this.options,w,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=S.append(i,S.$(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=k.format(this.countFormat,this.count),this.element.title=k.format(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",_=this.badgeForeground?this.badgeForeground.toString():"",s=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=_,this.element.style.borderWidth=s?"1px":"",this.element.style.borderStyle=s?"solid":"",this.element.style.borderColor=s}}}e.CountBadge=p}),define(Q[208],J([10]),{}),define(Q[209],J([10]),{}),define(Q[309],J([10]),{}),define(Q[310],J([10]),{}),define(Q[311],J([10]),{}),define(Q[312],J([10]),{}),define(Q[210],J([10]),{}),define(Q[313],J([10]),{}),define(Q[128],J([0,1,313]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(Q[314],J([10]),{}),define(Q[315],J([0,1,2,29,41,7,15,314]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const p="done",v="active",i="infinite",_="discrete",s={progressBarBackground:k.Color.fromHex("#0E70C0")};class a extends S.Disposable{constructor(c,d){super();this.options=d||Object.create(null),M.mixin(this.options,s,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new w.RunOnceScheduler(()=>y.show(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,i,_),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(p),this.element.classList.contains(i)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(_,p),this.element.classList.add(v,i),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=a}),define(Q[316],J([10]),{}),define(Q[105],J([0,1,2,17,61,6,7,54,15,89,316]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let _=!1;var s;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(s=e.OrthogonalEdge||(e.OrthogonalEdge={}));let a=4;const u=new y.Emitter;let c=300;const d=new y.Emitter;class r{constructor(){this.disposables=new S.DisposableStore}get onPointerMove(){return this.disposables.add(new p.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new p.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Me([i.memoize],r.prototype,"onPointerMove",null),Me([i.memoize],r.prototype,"onPointerUp",null);class n{constructor(h){this.el=h,this.disposables=new S.DisposableStore}get onPointerMove(){return this.disposables.add(new p.DomEmitter(this.el,M.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new p.DomEmitter(this.el,M.EventType.End)).event}dispose(){this.disposables.dispose()}}Me([i.memoize],n.prototype,"onPointerMove",null),Me([i.memoize],n.prototype,"onPointerUp",null);class o{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Me([i.memoize],o.prototype,"onPointerMove",null),Me([i.memoize],o.prototype,"onPointerUp",null);class t extends S.Disposable{constructor(h,m,C){super();this.hoverDelay=c,this.hoverDelayer=this._register(new v.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new y.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new y.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new y.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new y.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new S.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new S.DisposableStore),this.orthogonalEndSashDisposables=this._register(new S.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new S.DisposableStore),this.el=w.append(h,w.$(".monaco-sash")),C.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${C.orthogonalEdge}`),k.isMacintosh&&this.el.classList.add("mac");const g=this._register(new p.DomEmitter(this.el,"mousedown")).event;this._register(g(T=>this.onPointerStart(T,new r),this));const f=this._register(new p.DomEmitter(this.el,"dblclick")).event;this._register(f(this.onPointerDoublePress,this));const b=this._register(new p.DomEmitter(this.el,"mouseenter")).event;this._register(b(()=>t.onMouseEnter(this)));const L=this._register(new p.DomEmitter(this.el,"mouseleave")).event;this._register(L(()=>t.onMouseLeave(this))),this._register(M.Gesture.addTarget(this.el));const N=y.Event.map(this._register(new p.DomEmitter(this.el,M.EventType.Start)).event,T=>{var A;return Object.assign(Object.assign({},T),{target:(A=T.initialTarget)!==null&&A!==void 0?A:null})});this._register(N(T=>this.onPointerStart(T,new n(this.el)),this));const D=this._register(new p.DomEmitter(this.el,M.EventType.Tap)).event,I=y.Event.map(y.Event.filter(y.Event.debounce(D,(T,A)=>{var R;return{event:A,count:((R=T==null?void 0:T.count)!==null&&R!==void 0?R:0)+1}},250),({count:T})=>T===2),({event:T})=>{var A;return Object.assign(Object.assign({},T),{target:(A=T.initialTarget)!==null&&A!==void 0?A:null})});this._register(I(this.onPointerDoublePress,this)),typeof C.size=="number"?(this.size=C.size,C.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=a,this._register(u.event(T=>{this.size=T,this.layout()}))),this._register(d.event(T=>this.hoverDelay=T)),this.hidden=!1,this.layoutProvider=m,this.orthogonalStartSash=C.orthogonalStartSash,this.orthogonalEndSash=C.orthogonalEndSash,this.orientation=C.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",_),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const m=C=>{this.orthogonalStartDragHandleDisposables.clear(),C!==0&&(this._orthogonalStartDragHandle=w.append(this.el,w.$(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(S.toDisposable(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new p.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new p.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(m,this)),m(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const m=C=>{this.orthogonalEndDragHandleDisposables.clear(),C!==0&&(this._orthogonalEndDragHandle=w.append(this.el,w.$(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(S.toDisposable(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new p.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new p.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(m,this)),m(h.state)}this._orthogonalEndSash=h}onPointerStart(h,m){w.EventHelper.stop(h);let C=!1;if(!h.__orthogonalSashEvent){const O=this.getOrthogonalSash(h);O&&(C=!0,h.__orthogonalSashEvent=!0,O.onPointerStart(h,new o(m)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new o(m))),!this.state)return;const g=[...w.getElementsByTagName("iframe"),...w.getElementsByTagName("webview")];for(const O of g)O.style.pointerEvents="none";const f=h.pageX,b=h.pageY,L=h.altKey,N={startX:f,currentX:f,startY:b,currentY:b,altKey:L};this.el.classList.add("active"),this._onDidStart.fire(N);const D=w.createStyleSheet(this.el),I=()=>{let O="";C?O="all-scroll":this.orientation===1?this.state===1?O="s-resize":this.state===2?O="n-resize":O=k.isMacintosh?"row-resize":"ns-resize":this.state===1?O="e-resize":this.state===2?O="w-resize":O=k.isMacintosh?"col-resize":"ew-resize",D.textContent=`* { cursor: ${O} !important; }`},T=new S.DisposableStore;I(),C||this.onDidEnablementChange(I,null,T);const A=O=>{w.EventHelper.stop(O,!1);const P={startX:f,currentX:O.pageX,startY:b,currentY:O.pageY,altKey:L};this._onDidChange.fire(P)},R=O=>{w.EventHelper.stop(O,!1),this.el.removeChild(D),this.el.classList.remove("active"),this._onDidEnd.fire(),T.dispose();for(const P of g)P.style.pointerEvents="auto"};m.onPointerMove(A,null,T),m.onPointerUp(R,null,T),T.add(m)}onPointerDoublePress(h){const m=this.getOrthogonalSash(h);m&&m._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,m=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!m&&h.linkedSash&&t.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,m=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!m&&h.linkedSash&&t.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){t.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=t}),define(Q[317],J([10]),{}),define(Q[62],J([0,1,7,30,56,294,295,51,15,6,2,17,125,38,317]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,d=50,r=!0;class n{constructor(f,b,L){this.timestamp=f,this.deltaX=b,this.deltaY=L,this.score=0}}class o{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let f=1,b=0,L=1,N=this._rear;do{const D=N===this._front?f:Math.pow(2,-L);if(f-=D,b+=this._memory[N].score*D,N===this._front)break;N=(this._capacity+N-1)%this._capacity,L++}while(!0);return b<=.5}accept(f,b,L){const N=new n(f,b,L);N.score=this._computeScore(N),this._front===-1&&this._rear===-1?(this._memory[0]=N,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=N)}_computeScore(f){if(Math.abs(f.deltaX)>0&&Math.abs(f.deltaY)>0)return 1;let b=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(f.deltaX)||!this._isAlmostInt(f.deltaY))&&(b+=.25),Math.min(Math.max(b,0),1)}_isAlmostInt(f){return Math.abs(Math.round(f)-f)<.01}}e.MouseWheelClassifier=o,o.INSTANCE=new o;class t extends p.Widget{constructor(f,b,L){super();this._onScroll=this._register(new i.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new i.Emitter),f.style.overflow="hidden",this._options=C(b),this._scrollable=L,this._register(this._scrollable.onScroll(D=>{this._onWillScroll.fire(D),this._onDidScroll(D),this._onScroll.fire(D)}));const N={onMouseWheel:D=>this._onMouseWheel(D),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new w.VerticalScrollbar(this._scrollable,this._options,N)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,N)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(f),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=k.createFastDomNode(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=k.createFastDomNode(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=k.createFastDomNode(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,D=>this._onMouseOver(D)),this.onnonbubblingmouseout(this._listenOnDomNode,D=>this._onMouseOut(D)),this._hideTimeout=this._register(new v.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=_.dispose(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(f){this._verticalScrollbar.delegateMouseDown(f)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(f){this._scrollable.setScrollDimensions(f,!1)}updateClassName(f){this._options.className=f,s.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(f){typeof f.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=f.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof f.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=f.mouseWheelScrollSensitivity),typeof f.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=f.fastScrollSensitivity),typeof f.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=f.scrollPredominantAxis),typeof f.horizontalScrollbarSize!="undefined"&&this._horizontalScrollbar.updateScrollbarSize(f.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(f){if(this._mouseWheelToDispose.length>0!==f&&(this._mouseWheelToDispose=_.dispose(this._mouseWheelToDispose),f)){const L=N=>{this._onMouseWheel(new M.StandardWheelEvent(N))};this._mouseWheelToDispose.push(S.addDisposableListener(this._listenOnDomNode,S.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(f){const b=o.INSTANCE;if(r){const D=window.devicePixelRatio/u.getZoomFactor();s.isWindows||s.isLinux?b.accept(Date.now(),f.deltaX/D,f.deltaY/D):b.accept(Date.now(),f.deltaX,f.deltaY)}let L=!1;if(f.deltaY||f.deltaX){let D=f.deltaY*this._options.mouseWheelScrollSensitivity,I=f.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(D)>=Math.abs(I)?I=0:D=0),this._options.flipAxes&&([D,I]=[I,D]);const T=!s.isMacintosh&&f.browserEvent&&f.browserEvent.shiftKey;(this._options.scrollYToX||T)&&!I&&(I=D,D=0),f.browserEvent&&f.browserEvent.altKey&&(I=I*this._options.fastScrollSensitivity,D=D*this._options.fastScrollSensitivity);const A=this._scrollable.getFutureScrollPosition();let R={};if(D){const O=A.scrollTop-d*D;this._verticalScrollbar.writeScrollPosition(R,O)}if(I){const O=A.scrollLeft-d*I;this._horizontalScrollbar.writeScrollPosition(R,O)}R=this._scrollable.validateScrollPosition(R),(A.scrollLeft!==R.scrollLeft||A.scrollTop!==R.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&b.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(R):this._scrollable.setScrollPositionNow(R),L=!0)}let N=L;!N&&this._options.alwaysConsumeMouseWheel&&(N=!0),!N&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(N=!0),N&&(f.preventDefault(),f.stopPropagation())}_onDidScroll(f){this._shouldRender=this._horizontalScrollbar.onDidScroll(f)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(f)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const f=this._scrollable.getCurrentScrollPosition(),b=f.scrollTop>0,L=f.scrollLeft>0,N=L?" left":"",D=b?" top":"",I=L||b?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${N}`),this._topShadowDomNode.setClassName(`shadow${D}`),this._topLeftShadowDomNode.setClassName(`shadow${I}${D}${N}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(f){this._mouseIsOver=!1,this._hide()}_onMouseOver(f){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=t;class l extends t{constructor(f,b){b=b||{},b.mouseWheelSmoothScroll=!1;const L=new a.Scrollable(0,N=>S.scheduleAtNextAnimationFrame(N));super(f,b,L);this._register(L)}setScrollPosition(f){this._scrollable.setScrollPositionNow(f)}}e.ScrollableElement=l;class h extends t{constructor(f,b,L){super(f,b,L)}setScrollPosition(f){f.reuseAnimation?this._scrollable.setScrollPositionSmooth(f,f.reuseAnimation):this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class m extends l{constructor(f,b){super(f,b);this._element=f,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=m;function C(g){const f={lazyRender:typeof g.lazyRender!="undefined"?g.lazyRender:!1,className:typeof g.className!="undefined"?g.className:"",useShadows:typeof g.useShadows!="undefined"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel!="undefined"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes!="undefined"?g.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof g.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?g.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel!="undefined"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX!="undefined"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity!="undefined"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity!="undefined"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis!="undefined"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll!="undefined"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize!="undefined"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode!="undefined"?g.listenOnDomNode:null,horizontal:typeof g.horizontal!="undefined"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize!="undefined"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows!="undefined"?g.horizontalHasArrows:!1,vertical:typeof g.vertical!="undefined"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize!="undefined"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows!="undefined"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage!="undefined"?g.scrollByPage:!1};return f.horizontalSliderSize=typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:f.horizontalScrollbarSize,f.verticalSliderSize=typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:f.verticalScrollbarSize,s.isMacintosh&&(f.className+=" mac"),f}}),define(Q[318],J([0,1,7,2,62,309]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderHoverAction=e.HoverWidget=void 0;const y=S.$;class w extends k.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new M.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=w;function p(v,i,_){const s=S.append(v,y("div.action-container")),a=S.append(s,y("a.action"));a.setAttribute("href","#"),a.setAttribute("role","button"),i.iconClass&&S.append(a,y(`span.icon.${i.iconClass}`));const u=S.append(a,y("span"));return u.textContent=_?`${i.label} (${_})`:i.label,S.addDisposableListener(s,S.EventType.CLICK,c=>{c.stopPropagation(),c.preventDefault(),i.run(s)})}e.renderHoverAction=p}),define(Q[163],J([0,1,41,2,61,6,54,62,125,287,293,89,124,19,151,15,38,7]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const o={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(f){return[f]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class l{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class h{constructor(){this.types=[],this.files=[]}update(b){if(b.types&&this.types.splice(0,this.types.length,...b.types),b.files){this.files.splice(0,this.files.length);for(let L=0;L<b.files.length;L++){const N=b.files.item(L);N&&(N.size||N.type)&&this.files.push(N)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function m(f,b){return Array.isArray(f)&&Array.isArray(b)?u.equals(f,b):f===b}class C{constructor(b){(b==null?void 0:b.getSetSize)?this.getSetSize=b.getSetSize.bind(b):this.getSetSize=(L,N,D)=>D,(b==null?void 0:b.getPosInSet)?this.getPosInSet=b.getPosInSet.bind(b):this.getPosInSet=(L,N)=>N+1,(b==null?void 0:b.getRole)?this.getRole=b.getRole.bind(b):this.getRole=L=>"listitem",(b==null?void 0:b.isChecked)?this.isChecked=b.isChecked.bind(b):this.isChecked=L=>{}}}class g{constructor(b,L,N,D=o){if(this.virtualDelegate=L,this.domId=`list_id_${++g.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new d.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=k.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=k.Disposable.None,this.onDragLeaveTimeout=k.Disposable.None,this.disposables=new k.DisposableStore,this._onDidChangeContentHeight=new y.Emitter,this._horizontalScrolling=!1,D.horizontalScrolling&&D.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new i.RangeMap;for(const T of N)this.renderers.set(T.templateId,T);this.cache=this.disposables.add(new _.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof D.mouseSupport=="boolean"?D.mouseSupport:!0),this._horizontalScrolling=S.getOrDefault(D,T=>T.horizontalScrolling,o.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof D.additionalScrollHeight=="undefined"?0:D.additionalScrollHeight,this.accessibilityProvider=new C(D.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",S.getOrDefault(D,T=>T.transformOptimization,o.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(M.Gesture.addTarget(this.rowsContainer)),this.scrollable=new v.Scrollable(S.getOrDefault(D,T=>T.smoothScrolling,!1)?125:0,T=>n.scheduleAtNextAnimationFrame(T)),this.scrollableElement=this.disposables.add(new p.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:S.getOrDefault(D,T=>T.alwaysConsumeMouseWheel,o.alwaysConsumeMouseWheel),horizontal:1,vertical:S.getOrDefault(D,T=>T.verticalScrollMode,o.verticalScrollMode),useShadows:S.getOrDefault(D,T=>T.useShadows,o.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),b.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),w.domEvent(this.rowsContainer,M.EventType.Change)(T=>this.onTouchChange(T),this,this.disposables),w.domEvent(this.scrollableElement.getDomNode(),"scroll")(T=>T.target.scrollTop=0,null,this.disposables),y.Event.map(w.domEvent(this.domNode,"dragover"),T=>this.toDragEvent(T))(this.onDragOver,this,this.disposables),y.Event.map(w.domEvent(this.domNode,"drop"),T=>this.toDragEvent(T))(this.onDrop,this,this.disposables),w.domEvent(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),w.domEvent(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=S.getOrDefault(D,T=>T.setRowLineHeight,o.setRowLineHeight),this.setRowHeight=S.getOrDefault(D,T=>T.setRowHeight,o.setRowHeight),this.supportDynamicHeights=S.getOrDefault(D,T=>T.supportDynamicHeights,o.supportDynamicHeights),this.dnd=S.getOrDefault(D,T=>T.dnd,o.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(b){if(b!==this._horizontalScrolling){if(b&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=b,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:n.getContentWidth(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(b){b.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=b.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),b.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(b.smoothScrolling?125:0),b.horizontalScrolling!==void 0&&(this.horizontalScrolling=b.horizontalScrolling)}splice(b,L,N=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(b,L,N)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(b,L,N=[]){const D=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I={start:b,end:b+L},T=a.Range.intersect(D,I),A=new Map;for(let Y=T.start;Y<T.end;Y++){const B=this.items[Y];if(B.dragStartDisposable.dispose(),B.row){let W=A.get(B.templateId);W||(W=[],A.set(B.templateId,W));const V=this.renderers.get(B.templateId);V&&V.disposeElement&&V.disposeElement(B.element,Y,B.row.templateData,B.size),W.push(B.row)}B.row=null}const R={start:b+L,end:this.items.length},O=a.Range.intersect(R,D),P=a.Range.relativeComplement(R,D),F=N.map(Y=>({id:String(this.itemId++),element:Y,templateId:this.virtualDelegate.getTemplateId(Y),size:this.virtualDelegate.getHeight(Y),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Y),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:k.Disposable.None}));let E;b===0&&L>=this.items.length?(this.rangeMap=new i.RangeMap,this.rangeMap.splice(0,0,F),E=this.items,this.items=F):(this.rangeMap.splice(b,L,F),E=this.items.splice(b,L,...F));const x=N.length-L,H=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),K=i.shift(O,x),q=a.Range.intersect(H,K);for(let Y=q.start;Y<q.end;Y++)this.updateItemInDOM(this.items[Y],Y);const G=a.Range.relativeComplement(K,H);for(const Y of G)for(let B=Y.start;B<Y.end;B++)this.removeItemFromDOM(B);const ee=P.map(Y=>i.shift(Y,x)),ae=[{start:b,end:b+N.length},...ee].map(Y=>a.Range.intersect(H,Y)),de=this.getNextToLastElement(ae);for(const Y of ae)for(let B=Y.start;B<Y.end;B++){const W=this.items[B],V=A.get(W.templateId),z=V==null?void 0:V.pop();this.insertItemInDOM(B,de,z)}for(const Y of A.values())for(const B of Y)this.cache.release(B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),E.map(Y=>Y.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=n.scheduleAtNextAnimationFrame(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let b=0;for(const L of this.items)typeof L.width!="undefined"&&(b=Math.max(b,L.width));this.scrollWidth=b,this.scrollableElement.setScrollDimensions({scrollWidth:b===0?0:b+10})}rerender(){if(!!this.supportDynamicHeights){for(const b of this.items)b.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(b){return this.items[b].element}domElement(b){const L=this.items[b].row;return L&&L.domNode}elementHeight(b){return this.items[b].size}elementTop(b){return this.rangeMap.positionAt(b)}indexAt(b){return this.rangeMap.indexAt(b)}indexAfter(b){return this.rangeMap.indexAfter(b)}layout(b,L){let N={height:typeof b=="number"?b:n.getContentHeight(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,N.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(N),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:n.getContentWidth(this.domNode)})}render(b,L,N,D,I,T=!1){const A=this.getRenderRange(L,N),R=a.Range.relativeComplement(A,b),O=a.Range.relativeComplement(b,A),P=this.getNextToLastElement(R);if(T){const F=a.Range.intersect(b,A);for(let E=F.start;E<F.end;E++)this.updateItemInDOM(this.items[E],E)}for(const F of R)for(let E=F.start;E<F.end;E++)this.insertItemInDOM(E,P);for(const F of O)for(let E=F.start;E<F.end;E++)this.removeItemFromDOM(E);D!==void 0&&(this.rowsContainer.style.left=`-${D}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width=`${Math.max(I,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=N}insertItemInDOM(b,L,N){const D=this.items[b];D.row||(D.row=N??this.cache.alloc(D.templateId));const I=this.accessibilityProvider.getRole(D.element)||"listitem";D.row.domNode.setAttribute("role",I);const T=this.accessibilityProvider.isChecked(D.element);typeof T!="undefined"&&D.row.domNode.setAttribute("aria-checked",String(!!T)),D.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(D.row.domNode,L):this.rowsContainer.appendChild(D.row.domNode)),this.updateItemInDOM(D,b);const A=this.renderers.get(D.templateId);if(!A)throw new Error(`No renderer found for template id ${D.templateId}`);A&&A.renderElement(D.element,b,D.row.templateData,D.size);const R=this.dnd.getDragURI(D.element);if(D.dragStartDisposable.dispose(),D.row.domNode.draggable=!!R,R){const O=w.domEvent(D.row.domNode,"dragstart");D.dragStartDisposable=O(P=>this.onDragStart(D.element,R,P))}this.horizontalScrolling&&(this.measureItemWidth(D),this.eventuallyUpdateScrollWidth())}measureItemWidth(b){if(!b.row||!b.row.domNode)return;b.row.domNode.style.width=r.isFirefox?"-moz-fit-content":"fit-content",b.width=n.getContentWidth(b.row.domNode);const L=window.getComputedStyle(b.row.domNode);L.paddingLeft&&(b.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(b.width+=parseFloat(L.paddingRight)),b.row.domNode.style.width=""}updateItemInDOM(b,L){b.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(b.row.domNode.style.height=`${b.size}px`),this.setRowLineHeight&&(b.row.domNode.style.lineHeight=`${b.size}px`),b.row.domNode.setAttribute("data-index",`${L}`),b.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),b.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(b.element,L,this.length))),b.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(b.element,L))),b.row.domNode.setAttribute("id",this.getElementDomId(L)),b.row.domNode.classList.toggle("drop-target",b.dropTarget)}removeItemFromDOM(b){const L=this.items[b];if(L.dragStartDisposable.dispose(),L.row){const N=this.renderers.get(L.templateId);N&&N.disposeElement&&N.disposeElement(L.element,b,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(b,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:b,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(b){this.setScrollTop(b)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return y.Event.map(w.domEvent(this.domNode,"click"),b=>this.toMouseEvent(b))}get onMouseDblClick(){return y.Event.map(w.domEvent(this.domNode,"dblclick"),b=>this.toMouseEvent(b))}get onMouseMiddleClick(){return y.Event.filter(y.Event.map(w.domEvent(this.domNode,"auxclick"),b=>this.toMouseEvent(b)),b=>b.browserEvent.button===1)}get onMouseDown(){return y.Event.map(w.domEvent(this.domNode,"mousedown"),b=>this.toMouseEvent(b))}get onContextMenu(){return y.Event.any(y.Event.map(w.domEvent(this.domNode,"contextmenu"),b=>this.toMouseEvent(b)),y.Event.map(w.domEvent(this.domNode,M.EventType.Contextmenu),b=>this.toGestureEvent(b)))}get onTouchStart(){return y.Event.map(w.domEvent(this.domNode,"touchstart"),b=>this.toTouchEvent(b))}get onTap(){return y.Event.map(w.domEvent(this.rowsContainer,M.EventType.Tap),b=>this.toGestureEvent(b))}toMouseEvent(b){const L=this.getItemIndexFromEventTarget(b.target||null),N=typeof L=="undefined"?void 0:this.items[L],D=N&&N.element;return{browserEvent:b,index:L,element:D}}toTouchEvent(b){const L=this.getItemIndexFromEventTarget(b.target||null),N=typeof L=="undefined"?void 0:this.items[L],D=N&&N.element;return{browserEvent:b,index:L,element:D}}toGestureEvent(b){const L=this.getItemIndexFromEventTarget(b.initialTarget||null),N=typeof L=="undefined"?void 0:this.items[L],D=N&&N.element;return{browserEvent:b,index:L,element:D}}toDragEvent(b){const L=this.getItemIndexFromEventTarget(b.target||null),N=typeof L=="undefined"?void 0:this.items[L],D=N&&N.element;return{browserEvent:b,index:L,element:D}}onScroll(b){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,b.scrollTop,b.height,b.scrollLeft,b.scrollWidth),this.supportDynamicHeights&&this._rerender(b.scrollTop,b.height,b.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",b),L}}onTouchChange(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY}onDragStart(b,L,N){if(!N.dataTransfer)return;const D=this.dnd.getDragElements(b);if(N.dataTransfer.effectAllowed="copyMove",N.dataTransfer.setData(c.DataTransfers.RESOURCES,JSON.stringify([L])),N.dataTransfer.setDragImage){let I;this.dnd.getDragLabel&&(I=this.dnd.getDragLabel(D,N)),typeof I=="undefined"&&(I=String(D.length));const T=n.$(".monaco-drag-image");T.textContent=I,document.body.appendChild(T),N.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>document.body.removeChild(T),0)}this.currentDragData=new t(D),c.StaticDND.CurrentDragAndDropData=new l(D),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,N)}onDragOver(b){if(b.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),c.StaticDND.CurrentDragAndDropData&&c.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(b.browserEvent),!b.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(c.StaticDND.CurrentDragAndDropData)this.currentDragData=c.StaticDND.CurrentDragAndDropData;else{if(!b.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const L=this.dnd.onDragOver(this.currentDragData,b.element,b.index,b.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;b.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let N;if(typeof L!="boolean"&&L.feedback?N=L.feedback:typeof b.index=="undefined"?N=[-1]:N=[b.index],N=u.distinct(N).filter(D=>D>=-1&&D<this.length).sort((D,I)=>D-I),N=N[0]===-1?[-1]:N,m(this.currentDragFeedback,N))return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=k.toDisposable(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const D of N){const I=this.items[D];I.dropTarget=!0,I.row&&I.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=k.toDisposable(()=>{for(const D of N){const I=this.items[D];I.dropTarget=!1,I.row&&I.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=d.disposableTimeout(()=>this.clearDragOverFeedback(),100)}onDrop(b){if(!this.canDrop)return;const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,!(!L||!b.browserEvent.dataTransfer)&&(b.browserEvent.preventDefault(),L.update(b.browserEvent.dataTransfer),this.dnd.drop(L,b.element,b.index,b.browserEvent))}onDragEnd(b){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(b)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=k.Disposable.None}setupDragAndDropScrollTopAnimation(b){if(!this.dragOverAnimationDisposable){const L=n.getTopLeftOffset(this.domNode).top;this.dragOverAnimationDisposable=n.animate(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=d.disposableTimeout(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=b.pageY}animateDragAndDropScrollTop(b){if(this.dragOverMouseY===void 0)return;const L=this.dragOverMouseY-b,N=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>N&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-N))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(b){const L=this.scrollableElement.getDomNode();let N=b;for(;N instanceof HTMLElement&&N!==this.rowsContainer&&L.contains(N);){const D=N.getAttribute("data-index");if(D){const I=Number(D);if(!isNaN(I))return I}N=N.parentElement}}getRenderRange(b,L){return{start:this.rangeMap.indexAt(b),end:this.rangeMap.indexAfter(b+L-1)}}_rerender(b,L,N){const D=this.getRenderRange(b,L);let I,T;b===this.elementTop(D.start)?(I=D.start,T=0):D.end-D.start>1&&(I=D.start+1,T=this.elementTop(I)-b);let A=0;for(;;){const R=this.getRenderRange(b,L);let O=!1;for(let P=R.start;P<R.end;P++){const F=this.probeDynamicHeight(P);F!==0&&this.rangeMap.splice(P,1,[this.items[P]]),A+=F,O=O||F!==0}if(!O){A!==0&&this.eventuallyUpdateScrollDimensions();const P=a.Range.relativeComplement(D,R);for(const E of P)for(let x=E.start;x<E.end;x++)this.items[x].row&&this.removeItemFromDOM(x);const F=a.Range.relativeComplement(R,D);for(const E of F)for(let x=E.start;x<E.end;x++){const H=x+1,K=H<this.items.length?this.items[H].row:null,q=K?K.domNode:null;this.insertItemInDOM(x,q)}for(let E=R.start;E<R.end;E++)this.items[E].row&&this.updateItemInDOM(this.items[E],E);if(typeof I=="number"){const E=this.scrollable.getFutureScrollPosition().scrollTop-b,x=this.elementTop(I)-T+E;this.setScrollTop(x,N)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(b){const L=this.items[b];if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const N=L.size;if(!this.setRowHeight&&L.row){let T=L.row.domNode.offsetHeight;return L.size=T,L.lastDynamicHeightWidth=this.renderWidth,T-N}const D=this.cache.alloc(L.templateId);D.domNode.style.height="",this.rowsContainer.appendChild(D.domNode);const I=this.renderers.get(L.templateId);return I&&(I.renderElement(L.element,b,D.templateData,void 0),I.disposeElement&&I.disposeElement(L.element,b,D.templateData,void 0)),L.size=D.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(D.domNode),this.cache.release(D),L.size-N}getNextToLastElement(b){const L=b[b.length-1];if(!L)return null;const N=this.items[L.end];return!N||!N.row?null:N.row.domNode}getElementDomId(b){return`${this.domId}_${b}`}dispose(){if(this.items){for(const b of this.items)if(b.row){const L=this.renderers.get(b.row.templateId);L&&(L.disposeElement&&L.disposeElement(b.element,-1,b.row.templateData,void 0),L.disposeTemplate(b.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),k.dispose(this.disposables)}}g.InstanceCount=0,Me([s.memoize],g.prototype,"onMouseClick",null),Me([s.memoize],g.prototype,"onMouseDblClick",null),Me([s.memoize],g.prototype,"onMouseMiddleClick",null),Me([s.memoize],g.prototype,"onMouseDown",null),Me([s.memoize],g.prototype,"onContextMenu",null),Me([s.memoize],g.prototype,"onTouchStart",null),Me([s.memoize],g.prototype,"onTap",null),e.ListView=g}),define(Q[106],J([0,1,2,20,19,89,17,61,55,6,54,281,163,29,41,282,101,67,42,7,15,210]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(B){this.trait=B,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(B){return B}renderElement(B,W,V){const z=this.renderedElements.findIndex(U=>U.templateData===V);if(z>=0){const U=this.renderedElements[z];this.trait.unrender(V),U.index=W}else{const U={index:W,templateData:V};this.renderedElements.push(U)}this.trait.renderIndex(W,V)}splice(B,W,V){const z=[];for(const U of this.renderedElements)U.index<B?z.push(U):U.index>=B+W&&z.push({index:U.index+V-W,templateData:U.templateData});this.renderedElements=z}renderIndexes(B){for(const{index:W,templateData:V}of this.renderedElements)B.indexOf(W)>-1&&this.trait.renderIndex(W,V)}disposeTemplate(B){const W=this.renderedElements.findIndex(V=>V.templateData===B);W<0||this.renderedElements.splice(W,1)}}class m{constructor(B){this._trait=B,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(B,W,V){const z=V.length-W,U=B+W,X=[...this.sortedIndexes.filter(te=>te<B),...V.map((te,se)=>te?se+B:-1).filter(te=>te!==-1),...this.sortedIndexes.filter(te=>te>=U).map(te=>te+z)];this.renderer.splice(B,W,V.length),this._set(X,X)}renderIndex(B,W){W.classList.toggle(this._trait,this.contains(B))}unrender(B){B.classList.remove(this._trait)}set(B,W){return this._set(B,[...B].sort(G),W)}_set(B,W,V){const z=this.indexes,U=this.sortedIndexes;this.indexes=B,this.sortedIndexes=W;const X=K(U,B);return this.renderer.renderIndexes(X),this._onChange.fire({indexes:B,browserEvent:V}),z}get(){return this.indexes}contains(B){return M.binarySearch(this.sortedIndexes,B,G)>=0}dispose(){S.dispose(this._onChange)}}Me([y.memoize],m.prototype,"renderer",null);class C extends m{constructor(B){super("selected");this.setAriaSelected=B}renderIndex(B,W){super.renderIndex(B,W),this.setAriaSelected&&(this.contains(B)?W.setAttribute("aria-selected","true"):W.setAttribute("aria-selected","false"))}}class g{constructor(B,W,V){this.trait=B,this.view=W,this.identityProvider=V}splice(B,W,V){if(!this.identityProvider)return this.trait.splice(B,W,V.map(()=>!1));const z=this.trait.get().map(X=>this.identityProvider.getId(this.view.element(X)).toString()),U=V.map(X=>z.indexOf(this.identityProvider.getId(X).toString())>-1);this.trait.splice(B,W,U)}}function f(Y){return Y.tagName==="INPUT"||Y.tagName==="TEXTAREA"}e.isInputElement=f;function b(Y){return Y.classList.contains("monaco-editor")?!0:Y.classList.contains("monaco-list")||!Y.parentElement?!1:b(Y.parentElement)}e.isMonacoEditor=b;class L{constructor(B,W,V){this.list=B,this.view=W,this.disposables=new S.DisposableStore;const z=V.multipleSelectionSupport!==!1,U=i.Event.chain(_.domEvent(W.domNode,"keydown")).filter(X=>!f(X.target)).map(X=>new v.StandardKeyboardEvent(X));U.filter(X=>X.keyCode===3).on(this.onEnter,this,this.disposables),U.filter(X=>X.keyCode===16).on(this.onUpArrow,this,this.disposables),U.filter(X=>X.keyCode===18).on(this.onDownArrow,this,this.disposables),U.filter(X=>X.keyCode===11).on(this.onPageUpArrow,this,this.disposables),U.filter(X=>X.keyCode===12).on(this.onPageDownArrow,this,this.disposables),U.filter(X=>X.keyCode===9).on(this.onEscape,this,this.disposables),z&&U.filter(X=>(w.isMacintosh?X.metaKey:X.ctrlKey)&&X.keyCode===31).on(this.onCtrlA,this,this.disposables)}onEnter(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(this.list.getFocus(),B.browserEvent)}onUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPrevious(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNext(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPreviousPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNextPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(M.range(this.list.length),B.browserEvent),this.view.domNode.focus()}onEscape(B){this.list.getSelection().length&&(B.preventDefault(),B.stopPropagation(),this.list.setSelection([],B.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose()}}var N;(function(Y){Y[Y.Idle=0]="Idle",Y[Y.Typing=1]="Typing"})(N||(N={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(Y){return Y.ctrlKey||Y.metaKey||Y.altKey?!1:Y.keyCode>=31&&Y.keyCode<=56||Y.keyCode>=21&&Y.keyCode<=30||Y.keyCode>=93&&Y.keyCode<=102||Y.keyCode>=80&&Y.keyCode<=90}};class D{constructor(B,W,V,z){this.list=B,this.view=W,this.keyboardNavigationLabelProvider=V,this.delegate=z,this.enabled=!1,this.state=N.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new S.DisposableStore,this.disposables=new S.DisposableStore,this.updateOptions(B.options)}updateOptions(B){(typeof B.enableKeyboardNavigation=="undefined"?!0:!!B.enableKeyboardNavigation)?this.enable():this.disable(),typeof B.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=B.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const B=i.Event.chain(_.domEvent(this.view.domNode,"keydown")).filter(z=>!f(z.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(z=>new v.StandardKeyboardEvent(z)).filter(z=>this.delegate.mightProducePrintableCharacter(z)).forEach(z=>{z.stopPropagation(),z.preventDefault()}).map(z=>z.browserEvent.key).event,W=i.Event.debounce(B,()=>null,800);i.Event.reduce(i.Event.any(B,W),(z,U)=>U===null?null:(z||"")+U)(this.onInput,this,this.enabledDisposables),W(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var B;const W=this.list.getFocus();if(W.length>0&&W[0]===this.previouslyFocused){const V=(B=this.list.options.accessibilityProvider)===null||B===void 0?void 0:B.getAriaLabel(this.list.element(W[0]));V&&o.alert(V)}this.previouslyFocused=-1}onInput(B){if(!B){this.state=N.Idle,this.triggered=!1;return}const W=this.list.getFocus(),V=W.length>0?W[0]:0,z=this.state===N.Idle?1:0;this.state=N.Typing;for(let U=0;U<this.list.length;U++){const X=(V+U+z)%this.list.length,te=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(X)),se=te&&te.toString();if(typeof se=="undefined"||n.matchesPrefix(B,se)){this.previouslyFocused=V,this.list.setFocus([X]),this.list.reveal(X);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class I{constructor(B,W){this.list=B,this.view=W,this.disposables=new S.DisposableStore,i.Event.chain(_.domEvent(W.domNode,"keydown")).filter(z=>!f(z.target)).map(z=>new v.StandardKeyboardEvent(z)).filter(z=>z.keyCode===2&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey&&!z.altKey).on(this.onTab,this,this.disposables)}onTab(B){if(B.target!==this.view.domNode)return;const W=this.list.getFocus();if(W.length===0)return;const V=this.view.domElement(W[0]);if(!V)return;const z=V.querySelector("[tabIndex]");if(!z||!(z instanceof HTMLElement)||z.tabIndex===-1)return;const U=window.getComputedStyle(z);U.visibility==="hidden"||U.display==="none"||(B.preventDefault(),B.stopPropagation(),z.focus())}dispose(){this.disposables.dispose()}}function T(Y){return w.isMacintosh?Y.browserEvent.metaKey:Y.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=T;function A(Y){return Y.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=A;function R(Y){return Y instanceof MouseEvent&&Y.button===2}const O={isSelectionSingleChangeEvent:T,isSelectionRangeChangeEvent:A};class P{constructor(B){this.list=B,this.disposables=new S.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=B.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=B.options.multipleSelectionController||O),this.mouseSupport=typeof B.options.mouseSupport=="undefined"||!!B.options.mouseSupport,this.mouseSupport&&(B.onMouseDown(this.onMouseDown,this,this.disposables),B.onContextMenu(this.onContextMenu,this,this.disposables),B.onMouseDblClick(this.onDoubleClick,this,this.disposables),B.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(p.Gesture.addTarget(B.getHTMLElement()))),i.Event.any(B.onMouseClick,B.onMouseMiddleClick,B.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(B):w.isMacintosh?B.browserEvent.metaKey:B.browserEvent.ctrlKey}isSelectionRangeChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(B):B.browserEvent.shiftKey}isSelectionChangeEvent(B){return this.isSelectionSingleChangeEvent(B)||this.isSelectionRangeChangeEvent(B)}onMouseDown(B){b(B.browserEvent.target)||document.activeElement!==B.browserEvent.target&&this.list.domFocus()}onContextMenu(B){if(b(B.browserEvent.target))return;const W=typeof B.index=="undefined"?[]:[B.index];this.list.setFocus(W,B.browserEvent)}onViewPointer(B){if(!this.mouseSupport||f(B.browserEvent.target)||b(B.browserEvent.target))return;const W=B.index;if(typeof W=="undefined"){this.list.setFocus([],B.browserEvent),this.list.setSelection([],B.browserEvent),this.list.setAnchor(void 0);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(B))return this.changeSelection(B);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(B))return this.changeSelection(B);this.list.setFocus([W],B.browserEvent),this.list.setAnchor(W),R(B.browserEvent)||this.list.setSelection([W],B.browserEvent),this._onPointer.fire(B)}onDoubleClick(B){if(f(B.browserEvent.target)||b(B.browserEvent.target)||this.multipleSelectionSupport&&this.isSelectionChangeEvent(B))return;const W=this.list.getFocus();this.list.setSelection(W,B.browserEvent)}changeSelection(B){const W=B.index;let V=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(B)){if(typeof V=="undefined"){const ue=this.list.getFocus()[0];V=ue??W,this.list.setAnchor(V)}const z=Math.min(V,W),U=Math.max(V,W),X=M.range(z,U+1),te=this.list.getSelection(),se=H(K(te,[V]),V);if(se.length===0)return;const le=K(X,q(te,se));this.list.setSelection(le,B.browserEvent),this.list.setFocus([W],B.browserEvent)}else if(this.isSelectionSingleChangeEvent(B)){const z=this.list.getSelection(),U=z.filter(X=>X!==W);this.list.setFocus([W]),this.list.setAnchor(W),z.length===U.length?this.list.setSelection([...U,W],B.browserEvent):this.list.setSelection(U,B.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=P;class F{constructor(B,W){this.styleElement=B,this.selectorSuffix=W}style(B){const W=this.selectorSuffix&&`.${this.selectorSuffix}`,V=[];B.listBackground&&(B.listBackground.isOpaque()?V.push(`.monaco-list${W} .monaco-list-rows { background: ${B.listBackground}; }`):w.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),B.listFocusBackground&&(V.push(`.monaco-list${W}:focus .monaco-list-row.focused { background-color: ${B.listFocusBackground}; }`),V.push(`.monaco-list${W}:focus .monaco-list-row.focused:hover { background-color: ${B.listFocusBackground}; }`)),B.listFocusForeground&&V.push(`.monaco-list${W}:focus .monaco-list-row.focused { color: ${B.listFocusForeground}; }`),B.listActiveSelectionBackground&&(V.push(`.monaco-list${W}:focus .monaco-list-row.selected { background-color: ${B.listActiveSelectionBackground}; }`),V.push(`.monaco-list${W}:focus .monaco-list-row.selected:hover { background-color: ${B.listActiveSelectionBackground}; }`)),B.listActiveSelectionForeground&&V.push(`.monaco-list${W}:focus .monaco-list-row.selected { color: ${B.listActiveSelectionForeground}; }`),B.listFocusAndSelectionBackground&&V.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { background-color: ${B.listFocusAndSelectionBackground}; }
			`),B.listFocusAndSelectionForeground&&V.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { color: ${B.listFocusAndSelectionForeground}; }
			`),B.listInactiveFocusForeground&&(V.push(`.monaco-list${W} .monaco-list-row.focused { color:  ${B.listInactiveFocusForeground}; }`),V.push(`.monaco-list${W} .monaco-list-row.focused:hover { color:  ${B.listInactiveFocusForeground}; }`)),B.listInactiveFocusBackground&&(V.push(`.monaco-list${W} .monaco-list-row.focused { background-color:  ${B.listInactiveFocusBackground}; }`),V.push(`.monaco-list${W} .monaco-list-row.focused:hover { background-color:  ${B.listInactiveFocusBackground}; }`)),B.listInactiveSelectionBackground&&(V.push(`.monaco-list${W} .monaco-list-row.selected { background-color:  ${B.listInactiveSelectionBackground}; }`),V.push(`.monaco-list${W} .monaco-list-row.selected:hover { background-color:  ${B.listInactiveSelectionBackground}; }`)),B.listInactiveSelectionForeground&&V.push(`.monaco-list${W} .monaco-list-row.selected { color: ${B.listInactiveSelectionForeground}; }`),B.listHoverBackground&&V.push(`.monaco-list${W}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${B.listHoverBackground}; }`),B.listHoverForeground&&V.push(`.monaco-list${W} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${B.listHoverForeground}; }`),B.listSelectionOutline&&V.push(`.monaco-list${W} .monaco-list-row.selected { outline: 1px dotted ${B.listSelectionOutline}; outline-offset: -1px; }`),B.listFocusOutline&&V.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }
			`),B.listInactiveFocusOutline&&V.push(`.monaco-list${W} .monaco-list-row.focused { outline: 1px dotted ${B.listInactiveFocusOutline}; outline-offset: -1px; }`),B.listHoverOutline&&V.push(`.monaco-list${W} .monaco-list-row:hover { outline: 1px dashed ${B.listHoverOutline}; outline-offset: -1px; }`),B.listDropBackground&&V.push(`
				.monaco-list${W}.drop-target,
				.monaco-list${W} .monaco-list-rows.drop-target,
				.monaco-list${W} .monaco-list-row.drop-target { background-color: ${B.listDropBackground} !important; color: inherit !important; }
			`),B.listFilterWidgetBackground&&V.push(`.monaco-list-type-filter { background-color: ${B.listFilterWidgetBackground} }`),B.listFilterWidgetOutline&&V.push(`.monaco-list-type-filter { border: 1px solid ${B.listFilterWidgetOutline}; }`),B.listFilterWidgetNoMatchesOutline&&V.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${B.listFilterWidgetNoMatchesOutline}; }`),B.listMatchesShadow&&V.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${B.listMatchesShadow}; }`),B.tableColumnsBorder&&V.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${B.tableColumnsBorder};
			}`),this.styleElement.textContent=V.join(`
`)}}e.DefaultStyleController=F;const E={listFocusBackground:u.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:u.Color.fromHex("#0E639C"),listActiveSelectionForeground:u.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:u.Color.fromHex("#094771"),listFocusAndSelectionForeground:u.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:u.Color.fromHex("#3F3F46"),listHoverBackground:u.Color.fromHex("#2A2D2E"),listDropBackground:u.Color.fromHex("#383B3D"),treeIndentGuidesStroke:u.Color.fromHex("#a9a9a9"),tableColumnsBorder:u.Color.fromHex("#cccccc").transparent(.2)},x={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function H(Y,B){const W=Y.indexOf(B);if(W===-1)return[];const V=[];let z=W-1;for(;z>=0&&Y[z]===B-(W-z);)V.push(Y[z--]);for(V.reverse(),z=W;z<Y.length&&Y[z]===B+(z-W);)V.push(Y[z++]);return V}function K(Y,B){const W=[];let V=0,z=0;for(;V<Y.length||z<B.length;)if(V>=Y.length)W.push(B[z++]);else if(z>=B.length)W.push(Y[V++]);else if(Y[V]===B[z]){W.push(Y[V]),V++,z++;continue}else Y[V]<B[z]?W.push(Y[V++]):W.push(B[z++]);return W}function q(Y,B){const W=[];let V=0,z=0;for(;V<Y.length||z<B.length;)if(V>=Y.length)W.push(B[z++]);else if(z>=B.length)W.push(Y[V++]);else if(Y[V]===B[z]){V++,z++;continue}else Y[V]<B[z]?W.push(Y[V++]):z++;return W}const G=(Y,B)=>Y-B;class ee{constructor(B,W){this._templateId=B,this.renderers=W}get templateId(){return this._templateId}renderTemplate(B){return this.renderers.map(W=>W.renderTemplate(B))}renderElement(B,W,V,z){let U=0;for(const X of this.renderers)X.renderElement(B,W,V[U++],z)}disposeElement(B,W,V,z){let U=0;for(const X of this.renderers)X.disposeElement&&X.disposeElement(B,W,V[U],z),U+=1}disposeTemplate(B){let W=0;for(const V of this.renderers)V.disposeTemplate(B[W++])}}class ie{constructor(B){this.accessibilityProvider=B,this.templateId="a18n"}renderTemplate(B){return B}renderElement(B,W,V){const z=this.accessibilityProvider.getAriaLabel(B);z?V.setAttribute("aria-label",z):V.removeAttribute("aria-label");const U=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(B);typeof U=="number"?V.setAttribute("aria-level",`${U}`):V.removeAttribute("aria-level")}disposeTemplate(B){}}class ae{constructor(B,W){this.list=B,this.dnd=W}getDragElements(B){const W=this.list.getSelectedElements();return W.indexOf(B)>-1?W:[B]}getDragURI(B){return this.dnd.getDragURI(B)}getDragLabel(B,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B,W)}onDragStart(B,W){this.dnd.onDragStart&&this.dnd.onDragStart(B,W)}onDragOver(B,W,V,z){return this.dnd.onDragOver(B,W,V,z)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}drop(B,W,V,z){this.dnd.drop(B,W,V,z)}}class de{constructor(B,W,V,z,U=x){var X;this.user=B,this._options=U,this.focus=new m("focused"),this.anchor=new m("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new S.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const te=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(X=this._options.accessibilityProvider)===null||X===void 0?void 0:X.getWidgetRole():"list";this.selection=new C(te!=="listbox"),c.mixin(U,E,!1);const se=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=U.accessibilityProvider,this.accessibilityProvider&&(se.push(new ie(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),z=z.map(ue=>new ee(ue.templateId,[...se,ue]));const le=Object.assign(Object.assign({},U),{dnd:U.dnd&&new ae(this,U.dnd)});if(this.view=new a.ListView(W,V,z,le),this.view.domNode.setAttribute("role",te),U.styleController)this.styleController=U.styleController(this.view.domId);else{const ue=t.createStyleSheet(this.view.domNode);this.styleController=new F(ue,this.view.domId)}if(this.spliceable=new d.CombinedSpliceable([new g(this.focus,this.view,U.identityProvider),new g(this.selection,this.view,U.identityProvider),new g(this.anchor,this.view,U.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=i.Event.map(_.domEvent(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=i.Event.map(_.domEvent(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new I(this,this.view)),typeof U.keyboardSupport!="boolean"||U.keyboardSupport){const ue=new L(this,this.view,U);this.disposables.add(ue)}if(U.keyboardNavigationLabelProvider){const ue=U.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new D(this,this.view,U.keyboardNavigationLabelProvider,ue),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(U),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),U.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),B=>this.toListEvent(B))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),B=>this.toListEvent(B))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let B=!1;const W=i.Event.chain(_.domEvent(this.view.domNode,"keydown")).map(U=>new v.StandardKeyboardEvent(U)).filter(U=>B=U.keyCode===58||U.shiftKey&&U.keyCode===68).map(_.stopEvent).filter(()=>!1).event,V=i.Event.chain(_.domEvent(this.view.domNode,"keyup")).forEach(()=>B=!1).map(U=>new v.StandardKeyboardEvent(U)).filter(U=>U.keyCode===58||U.shiftKey&&U.keyCode===68).map(_.stopEvent).map(({browserEvent:U})=>{const X=this.getFocus(),te=X.length?X[0]:void 0,se=typeof te!="undefined"?this.view.element(te):void 0,le=typeof te!="undefined"?this.view.domElement(te):this.view.domNode;return{index:te,element:se,anchor:le,browserEvent:U}}).event,z=i.Event.chain(this.view.onContextMenu).filter(U=>!B).map(({element:U,index:X,browserEvent:te})=>({element:U,index:X,anchor:{x:te.pageX+1,y:te.pageY},browserEvent:te})).event;return i.Event.any(W,V,z)}get onKeyDown(){return _.domEvent(this.view.domNode,"keydown")}createMouseController(B){return new P(this)}updateOptions(B={}){this._options=Object.assign(Object.assign({},this._options),B),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(B)}get options(){return this._options}splice(B,W,V=[]){if(B<0||B>this.view.length)throw new s.ListError(this.user,`Invalid start index: ${B}`);if(W<0)throw new s.ListError(this.user,`Invalid delete count: ${W}`);W===0&&V.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(B,W,V))}rerender(){this.view.rerender()}element(B){return this.view.element(B)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(B){this.view.setScrollTop(B)}get ariaLabel(){return this._ariaLabel}set ariaLabel(B){this._ariaLabel=B,this.view.domNode.setAttribute("aria-label",B)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(B,W){this.view.layout(B,W)}setSelection(B,W){for(const V of B)if(V<0||V>=this.length)throw new s.ListError(this.user,`Invalid index ${V}`);this.selection.set(B,W)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(B=>this.view.element(B))}setAnchor(B){if(typeof B=="undefined"){this.anchor.set([]);return}if(B<0||B>=this.length)throw new s.ListError(this.user,`Invalid index ${B}`);this.anchor.set([B])}getAnchor(){return M.firstOrDefault(this.anchor.get(),void 0)}setFocus(B,W){for(const V of B)if(V<0||V>=this.length)throw new s.ListError(this.user,`Invalid index ${V}`);this.focus.set(B,W)}focusNext(B=1,W=!1,V,z){if(this.length===0)return;const U=this.focus.get(),X=this.findNextIndex(U.length>0?U[0]+B:0,W,z);X>-1&&this.setFocus([X],V)}focusPrevious(B=1,W=!1,V,z){if(this.length===0)return;const U=this.focus.get(),X=this.findPreviousIndex(U.length>0?U[0]-B:0,W,z);X>-1&&this.setFocus([X],V)}focusNextPage(B,W){return Ie(this,void 0,void 0,function*(){let V=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);V=V===0?0:V-1;const z=this.view.element(V),U=this.getFocusedElements()[0];if(U!==z){const X=this.findPreviousIndex(V,!1,W);X>-1&&U!==this.view.element(X)?this.setFocus([X],B):this.setFocus([V],B)}else{const X=this.view.getScrollTop();this.view.setScrollTop(X+this.view.renderHeight-this.view.elementHeight(V)),this.view.getScrollTop()!==X&&(this.setFocus([]),yield l.timeout(0),yield this.focusNextPage(B,W))}})}focusPreviousPage(B,W){return Ie(this,void 0,void 0,function*(){let V;const z=this.view.getScrollTop();z===0?V=this.view.indexAt(z):V=this.view.indexAfter(z-1);const U=this.view.element(V),X=this.getFocusedElements()[0];if(X!==U){const te=this.findNextIndex(V,!1,W);te>-1&&X!==this.view.element(te)?this.setFocus([te],B):this.setFocus([V],B)}else{const te=z;this.view.setScrollTop(z-this.view.renderHeight),this.view.getScrollTop()!==te&&(this.setFocus([]),yield l.timeout(0),yield this.focusPreviousPage(B,W))}})}focusLast(B,W){if(this.length===0)return;const V=this.findPreviousIndex(this.length-1,!1,W);V>-1&&this.setFocus([V],B)}focusFirst(B,W){this.focusNth(0,B,W)}focusNth(B,W,V){if(this.length===0)return;const z=this.findNextIndex(B,!1,V);z>-1&&this.setFocus([z],W)}findNextIndex(B,W=!1,V){for(let z=0;z<this.length;z++){if(B>=this.length&&!W)return-1;if(B=B%this.length,!V||V(this.element(B)))return B;B++}return-1}findPreviousIndex(B,W=!1,V){for(let z=0;z<this.length;z++){if(B<0&&!W)return-1;if(B=(this.length+B%this.length)%this.length,!V||V(this.element(B)))return B;B--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(B=>this.view.element(B))}reveal(B,W){if(B<0||B>=this.length)throw new s.ListError(this.user,`Invalid index ${B}`);const V=this.view.getScrollTop(),z=this.view.elementTop(B),U=this.view.elementHeight(B);if(k.isNumber(W)){const X=U-this.view.renderHeight;this.view.setScrollTop(X*r.clamp(W,0,1)+z)}else{const X=z+U,te=V+this.view.renderHeight;z<V&&X>=te||(z<V||X>=te&&U>=this.view.renderHeight?this.view.setScrollTop(z):X>=te&&this.view.setScrollTop(X-this.view.renderHeight))}}getRelativeTop(B){if(B<0||B>=this.length)throw new s.ListError(this.user,`Invalid index ${B}`);const W=this.view.getScrollTop(),V=this.view.elementTop(B),z=this.view.elementHeight(B);if(V<W||V+z>W+this.view.renderHeight)return null;const U=z-this.view.renderHeight;return Math.abs((W-V)/U)}getHTMLElement(){return this.view.domNode}style(B){this.styleController.style(B)}toListEvent({indexes:B,browserEvent:W}){return{indexes:B,elements:B.map(V=>this.view.element(V)),browserEvent:W}}_onFocusChange(){const B=this.focus.get();this.view.domNode.classList.toggle("element-focused",B.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var B;const W=this.focus.get();if(W.length>0){let V;((B=this.accessibilityProvider)===null||B===void 0?void 0:B.getActiveDescendantId)&&(V=this.accessibilityProvider.getActiveDescendantId(this.view.element(W[0]))),this.view.domNode.setAttribute("aria-activedescendant",V||this.view.getElementDomId(W[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const B=this.selection.get();this.view.domNode.classList.toggle("selection-none",B.length===0),this.view.domNode.classList.toggle("selection-single",B.length===1),this.view.domNode.classList.toggle("selection-multiple",B.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Me([y.memoize],de.prototype,"onDidChangeFocus",null),Me([y.memoize],de.prototype,"onDidChangeSelection",null),Me([y.memoize],de.prototype,"onContextMenu",null),e.List=de}),define(Q[319],J([0,1,2,19,106,6,23,210]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{constructor(a,u){this.renderer=a,this.modelProvider=u}get templateId(){return this.renderer.templateId}renderTemplate(a){return{data:this.renderer.renderTemplate(a),disposable:S.Disposable.None}}renderElement(a,u,c,d){if(c.disposable&&c.disposable.dispose(),!c.data)return;const r=this.modelProvider();if(r.isResolved(a))return this.renderer.renderElement(r.get(a),a,c.data,d);const n=new w.CancellationTokenSource,o=r.resolve(a,n.token);c.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(a,c.data),o.then(t=>this.renderer.renderElement(t,a,c.data,d))}disposeTemplate(a){a.disposable&&(a.disposable.dispose(),a.disposable=void 0),a.data&&(this.renderer.disposeTemplate(a.data),a.data=void 0)}}class v{constructor(a,u){this.modelProvider=a,this.accessibilityProvider=u}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(a){const u=this.modelProvider();return u.isResolved(a)?this.accessibilityProvider.getAriaLabel(u.get(a)):null}}function i(s,a){return Object.assign(Object.assign({},a),{accessibilityProvider:a.accessibilityProvider&&new v(s,a.accessibilityProvider)})}class _{constructor(a,u,c,d,r={}){const n=()=>this.model,o=d.map(t=>new p(t,n));this.list=new M.List(a,u,c,o,i(n,r))}updateOptions(a){this.list.updateOptions(a)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:a,index:u,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:u,browserEvent:c}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:a,index:u,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:u,browserEvent:c}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:a,indexes:u,browserEvent:c})=>({elements:a.map(d=>this._model.get(d)),indexes:u,browserEvent:c}))}get model(){return this._model}set model(a){this._model=a,this.list.splice(0,this.list.length,k.range(a.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(a=>this.model.get(a))}style(a){this.list.style(a)}dispose(){this.list.dispose()}}e.PagedList=_}),define(Q[320],J([10]),{}),define(Q[211],J([0,1,2,6,20,101,19,105,29,54,7,62,125,320]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const u={separatorBorder:v.Color.transparent};class c{constructor(h,m,C,g){this.container=h,this.view=m,this.disposable=g,this._cachedVisibleSize=void 0,typeof C=="number"?(this._size=C,this._cachedVisibleSize=void 0,h.classList.add("visible")):(this._size=0,this._cachedVisibleSize=C.cachedVisibleSize)}set size(h){this._size=h}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(h,m){h!==this.visible&&(h?(this.size=y.clamp(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof m=="number"?m:this.size,this.size=0),this.container.classList.toggle("visible",h),this.view.setVisible&&this.view.setVisible(h))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(h){this.container.style.pointerEvents=h?"":"none"}layout(h,m){this.layoutContainer(h),this.view.layout(this.size,h,m)}dispose(){return this.disposable.dispose(),this.view}}class d extends c{layoutContainer(h){this.container.style.top=`${h}px`,this.container.style.height=`${this.size}px`}}class r extends c{layoutContainer(h){this.container.style.left=`${h}px`,this.container.style.width=`${this.size}px`}}var n;(function(l){l[l.Idle=0]="Idle",l[l.Busy=1]="Busy"})(n||(n={}));var o;(function(l){l.Distribute={type:"distribute"};function h(C){return{type:"split",index:C}}l.Split=h;function m(C){return{type:"invisible",cachedVisibleSize:C}}l.Invisible=m})(o=e.Sizing||(e.Sizing={}));class t extends S.Disposable{constructor(h,m={}){var C,g;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=n.Idle,this._onDidSashChange=this._register(new k.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new k.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=M.isUndefined(m.orientation)?0:m.orientation,this.inverseAltBehavior=!!m.inverseAltBehavior,this.proportionalLayout=M.isUndefined(m.proportionalLayout)?!0:!!m.proportionalLayout,this.getSashOrthogonalSize=m.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.sashContainer=_.append(this.el,_.$(".sash-container")),this.viewContainer=_.$(".split-view-container"),this.scrollable=new a.Scrollable(125,_.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new s.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(C=m.scrollbarVisibility)!==null&&C!==void 0?C:1:2,horizontal:this.orientation===1?(g=m.scrollbarVisibility)!==null&&g!==void 0?g:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(f=>{this.viewContainer.scrollTop=f.scrollTop,this.viewContainer.scrollLeft=f.scrollLeft})),_.append(this.el,this.scrollableElement.getDomNode()),this.style(m.styles||u),m.descriptor&&(this.size=m.descriptor.size,m.descriptor.views.forEach((f,b)=>{const L=M.isUndefined(f.visible)||f.visible?f.size:{type:"invisible",cachedVisibleSize:f.size},N=f.view;this.doAddView(N,L,b,!0)}),this.contentSize=this.viewItems.reduce((f,b)=>f+b.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){for(const m of this.sashItems)m.sash.orthogonalStartSash=h;this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){for(const m of this.sashItems)m.sash.orthogonalEndSash=h;this._orthogonalEndSash=h}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(h){this._startSnappingEnabled!==h&&(this._startSnappingEnabled=h,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(h){this._endSnappingEnabled!==h&&(this._endSnappingEnabled=h,this.updateSashEnablement())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,m,C=this.viewItems.length,g){this.doAddView(h,m,C,g)}layout(h,m){const C=Math.max(this.size,this.contentSize);if(this.size=h,this.layoutContext=m,this.proportions)for(let g=0;g<this.viewItems.length;g++){const f=this.viewItems[g];f.size=y.clamp(Math.round(this.proportions[g]*h),f.minimumSize,f.maximumSize)}else{const g=w.range(this.viewItems.length),f=g.filter(L=>this.viewItems[L].priority===1),b=g.filter(L=>this.viewItems[L].priority===2);this.resize(this.viewItems.length-1,h-C,void 0,f,b)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(h=>h.size/this.contentSize))}onSashStart({sash:h,start:m,alt:C}){for(const L of this.viewItems)L.enabled=!1;const g=this.sashItems.findIndex(L=>L.sash===h),f=S.combinedDisposable(i.domEvent(document.body,"keydown")(L=>b(this.sashDragState.current,L.altKey)),i.domEvent(document.body,"keyup")(()=>b(this.sashDragState.current,!1))),b=(L,N)=>{const D=this.viewItems.map(O=>O.size);let I=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(N=!N),N)if(g===this.sashItems.length-1){const P=this.viewItems[g];I=(P.minimumSize-P.size)/2,T=(P.maximumSize-P.size)/2}else{const P=this.viewItems[g+1];I=(P.size-P.maximumSize)/2,T=(P.size-P.minimumSize)/2}let A,R;if(!N){const O=w.range(g,-1),P=w.range(g+1,this.viewItems.length),F=O.reduce((ie,ae)=>ie+(this.viewItems[ae].minimumSize-D[ae]),0),E=O.reduce((ie,ae)=>ie+(this.viewItems[ae].viewMaximumSize-D[ae]),0),x=P.length===0?Number.POSITIVE_INFINITY:P.reduce((ie,ae)=>ie+(D[ae]-this.viewItems[ae].minimumSize),0),H=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((ie,ae)=>ie+(D[ae]-this.viewItems[ae].viewMaximumSize),0),K=Math.max(F,H),q=Math.min(x,E),G=this.findFirstSnapIndex(O),ee=this.findFirstSnapIndex(P);if(typeof G=="number"){const ie=this.viewItems[G],ae=Math.floor(ie.viewMinimumSize/2);A={index:G,limitDelta:ie.visible?K-ae:K+ae,size:ie.size}}if(typeof ee=="number"){const ie=this.viewItems[ee],ae=Math.floor(ie.viewMinimumSize/2);R={index:ee,limitDelta:ie.visible?q+ae:q-ae,size:ie.size}}}this.sashDragState={start:L,current:L,index:g,sizes:D,minDelta:I,maxDelta:T,alt:N,snapBefore:A,snapAfter:R,disposable:f}};b(m,C)}onSashChange({current:h}){const{index:m,start:C,sizes:g,alt:f,minDelta:b,maxDelta:L,snapBefore:N,snapAfter:D}=this.sashDragState;this.sashDragState.current=h;const I=h-C,T=this.resize(m,I,g,void 0,void 0,b,L,N,D);if(f){const A=m===this.sashItems.length-1,R=this.viewItems.map(H=>H.size),O=A?m:m+1,P=this.viewItems[O],F=P.size-P.maximumSize,E=P.size-P.minimumSize,x=A?m-1:m+1;this.resize(x,-T,R,void 0,void 0,F,E)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(h){this._onDidSashChange.fire(h),this.sashDragState.disposable.dispose(),this.saveProportions();for(const m of this.viewItems)m.enabled=!0}onViewChange(h,m){const C=this.viewItems.indexOf(h);C<0||C>=this.viewItems.length||(m=typeof m=="number"?m:h.size,m=y.clamp(m,h.minimumSize,h.maximumSize),this.inverseAltBehavior&&C>0?(this.resize(C-1,Math.floor((h.size-m)/2)),this.distributeEmptySpace(),this.layoutViews()):(h.size=m,this.relayout([C],void 0)))}resizeView(h,m){if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,h<0||h>=this.viewItems.length)return;const C=w.range(this.viewItems.length).filter(L=>L!==h),g=[...C.filter(L=>this.viewItems[L].priority===1),h],f=C.filter(L=>this.viewItems[L].priority===2),b=this.viewItems[h];m=Math.round(m),m=y.clamp(m,b.minimumSize,Math.min(b.maximumSize,this.size)),b.size=m,this.relayout(g,f),this.state=n.Idle}distributeViewSizes(){const h=[];let m=0;for(const L of this.viewItems)L.maximumSize-L.minimumSize>0&&(h.push(L),m+=L.size);const C=Math.floor(m/h.length);for(const L of h)L.size=y.clamp(C,L.minimumSize,L.maximumSize);const g=w.range(this.viewItems.length),f=g.filter(L=>this.viewItems[L].priority===1),b=g.filter(L=>this.viewItems[L].priority===2);this.relayout(f,b)}getViewSize(h){return h<0||h>=this.viewItems.length?-1:this.viewItems[h].size}doAddView(h,m,C=this.viewItems.length,g){if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;const f=_.$(".split-view-view");C===this.viewItems.length?this.viewContainer.appendChild(f):this.viewContainer.insertBefore(f,this.viewContainer.children.item(C));const b=h.onDidChange(A=>this.onViewChange(I,A)),L=S.toDisposable(()=>this.viewContainer.removeChild(f)),N=S.combinedDisposable(b,L);let D;typeof m=="number"?D=m:m.type==="split"?D=this.getViewSize(m.index)/2:m.type==="invisible"?D={cachedVisibleSize:m.cachedVisibleSize}:D=h.minimumSize;const I=this.orientation===0?new d(f,h,D,N):new r(f,h,D,N);if(this.viewItems.splice(C,0,I),this.viewItems.length>1){let A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const R=this.orientation===0?new p.Sash(this.sashContainer,{getHorizontalSashTop:ie=>this.getSashPosition(ie),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:1})):new p.Sash(this.sashContainer,{getVerticalSashLeft:ie=>this.getSashPosition(ie),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:0})),O=this.orientation===0?ie=>({sash:R,start:ie.startY,current:ie.currentY,alt:ie.altKey}):ie=>({sash:R,start:ie.startX,current:ie.currentX,alt:ie.altKey}),F=k.Event.map(R.onDidStart,O)(this.onSashStart,this),x=k.Event.map(R.onDidChange,O)(this.onSashChange,this),K=k.Event.map(R.onDidEnd,()=>this.sashItems.findIndex(ie=>ie.sash===R))(this.onSashEnd,this),q=R.onDidReset(()=>{const ie=this.sashItems.findIndex(W=>W.sash===R),ae=w.range(ie,-1),de=w.range(ie+1,this.viewItems.length),Y=this.findFirstSnapIndex(ae),B=this.findFirstSnapIndex(de);typeof Y=="number"&&!this.viewItems[Y].visible||typeof B=="number"&&!this.viewItems[B].visible||this._onDidSashReset.fire(ie)}),G=S.combinedDisposable(F,x,K,q,R),ee={sash:R,disposable:G};this.sashItems.splice(C-1,0,ee)}f.appendChild(h.element);let T;typeof m!="number"&&m.type==="split"&&(T=[m.index]),g||this.relayout([C],T),this.state=n.Idle,!g&&typeof m!="number"&&m.type==="distribute"&&this.distributeViewSizes()}relayout(h,m){const C=this.viewItems.reduce((g,f)=>g+f.size,0);this.resize(this.viewItems.length-1,this.size-C,void 0,h,m),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(h,m,C=this.viewItems.map(I=>I.size),g,f,b=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,N,D){if(h<0||h>=this.viewItems.length)return 0;const I=w.range(h,-1),T=w.range(h+1,this.viewItems.length);if(f)for(const ee of f)w.pushToStart(I,ee),w.pushToStart(T,ee);if(g)for(const ee of g)w.pushToEnd(I,ee),w.pushToEnd(T,ee);const A=I.map(ee=>this.viewItems[ee]),R=I.map(ee=>C[ee]),O=T.map(ee=>this.viewItems[ee]),P=T.map(ee=>C[ee]),F=I.reduce((ee,ie)=>ee+(this.viewItems[ie].minimumSize-C[ie]),0),E=I.reduce((ee,ie)=>ee+(this.viewItems[ie].maximumSize-C[ie]),0),x=T.length===0?Number.POSITIVE_INFINITY:T.reduce((ee,ie)=>ee+(C[ie]-this.viewItems[ie].minimumSize),0),H=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((ee,ie)=>ee+(C[ie]-this.viewItems[ie].maximumSize),0),K=Math.max(F,H,b),q=Math.min(x,E,L);let G=!1;if(N){const ee=this.viewItems[N.index],ie=m>=N.limitDelta;G=ie!==ee.visible,ee.setVisible(ie,N.size)}if(!G&&D){const ee=this.viewItems[D.index],ie=m<D.limitDelta;G=ie!==ee.visible,ee.setVisible(ie,D.size)}if(G)return this.resize(h,m,C,g,f,b,L);m=y.clamp(m,K,q);for(let ee=0,ie=m;ee<A.length;ee++){const ae=A[ee],de=y.clamp(R[ee]+ie,ae.minimumSize,ae.maximumSize);ie-=de-R[ee],ae.size=de}for(let ee=0,ie=m;ee<O.length;ee++){const ae=O[ee],de=y.clamp(P[ee]-ie,ae.minimumSize,ae.maximumSize);ie+=de-P[ee],ae.size=de}return m}distributeEmptySpace(h){const m=this.viewItems.reduce((L,N)=>L+N.size,0);let C=this.size-m;const g=w.range(this.viewItems.length-1,-1),f=g.filter(L=>this.viewItems[L].priority===1),b=g.filter(L=>this.viewItems[L].priority===2);for(const L of b)w.pushToStart(g,L);for(const L of f)w.pushToEnd(g,L);typeof h=="number"&&w.pushToEnd(g,h);for(let L=0;C!==0&&L<g.length;L++){const N=this.viewItems[g[L]],D=y.clamp(N.size+C,N.minimumSize,N.maximumSize);C-=D-N.size,N.size=D}}layoutViews(){this.contentSize=this.viewItems.reduce((m,C)=>m+C.size,0);let h=0;for(const m of this.viewItems)m.layout(h,this.layoutContext),h+=m.size;this.sashItems.forEach(m=>m.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let h=!1;const m=this.viewItems.map(N=>h=N.size-N.minimumSize>0||h);h=!1;const C=this.viewItems.map(N=>h=N.maximumSize-N.size>0||h),g=[...this.viewItems].reverse();h=!1;const f=g.map(N=>h=N.size-N.minimumSize>0||h).reverse();h=!1;const b=g.map(N=>h=N.maximumSize-N.size>0||h).reverse();let L=0;for(let N=0;N<this.sashItems.length;N++){const{sash:D}=this.sashItems[N];L+=this.viewItems[N].size;const T=!(m[N]&&b[N+1]),A=!(C[N]&&f[N+1]);if(T&&A){const R=w.range(N,-1),O=w.range(N+1,this.viewItems.length),P=this.findFirstSnapIndex(R),F=this.findFirstSnapIndex(O),E=typeof P=="number"&&!this.viewItems[P].visible,x=typeof F=="number"&&!this.viewItems[F].visible;E&&f[N]&&(L>0||this.startSnappingEnabled)?D.state=1:x&&m[N]&&(L<this.contentSize||this.endSnappingEnabled)?D.state=2:D.state=0}else T&&!A?D.state=1:!T&&A?D.state=2:D.state=3}}getSashPosition(h){let m=0;for(let C=0;C<this.sashItems.length;C++)if(m+=this.viewItems[C].size,this.sashItems[C].sash===h)return m;return 0}findFirstSnapIndex(h){for(const m of h){const C=this.viewItems[m];if(!!C.visible&&C.snap)return m}for(const m of h){const C=this.viewItems[m];if(C.visible&&C.maximumSize-C.minimumSize>0)return;if(!C.visible&&C.snap)return m}}dispose(){super.dispose(),this.viewItems.forEach(h=>h.dispose()),this.viewItems=[],this.sashItems.forEach(h=>h.disposable.dispose()),this.sashItems=[]}}e.SplitView=t}),define(Q[321],J([10]),{}),define(Q[322],J([0,1,106,7,211,6,321]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class w{constructor(s,a,u){this.columns=s,this.getColumnSize=u,this.templateId=w.TemplateId,this.renderedTemplates=new Set;const c=new Map(a.map(d=>[d.templateId,d]));this.renderers=[];for(const d of s){const r=c.get(d.templateId);if(!r)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(r)}}renderTemplate(s){const a=k.append(s,k.$(".monaco-table-tr")),u=[],c=[];for(let r=0;r<this.columns.length;r++){const n=this.renderers[r],o=k.append(a,k.$(".monaco-table-td",{"data-col-index":r}));o.style.width=`${this.getColumnSize(r)}px`,u.push(o),c.push(n.renderTemplate(o))}const d={container:s,cellContainers:u,cellTemplateData:c};return this.renderedTemplates.add(d),d}renderElement(s,a,u,c){for(let d=0;d<this.columns.length;d++){const n=this.columns[d].project(s);this.renderers[d].renderElement(n,a,u.cellTemplateData[d],c)}}disposeElement(s,a,u,c){for(let d=0;d<this.columns.length;d++){const r=this.renderers[d];if(r.disposeElement){const o=this.columns[d].project(s);r.disposeElement(o,a,u.cellTemplateData[d],c)}}}disposeTemplate(s){for(let a=0;a<this.columns.length;a++)this.renderers[a].disposeTemplate(s.cellTemplateData[a]);k.clearNode(s.container),this.renderedTemplates.delete(s)}layoutColumn(s,a){for(const{cellContainers:u}of this.renderedTemplates)u[s].style.width=`${a}px`}}w.TemplateId="row";function p(_){return{getHeight(s){return _.getHeight(s)},getTemplateId(){return w.TemplateId}}}class v{constructor(s,a){this.column=s,this.index=a,this._onDidLayout=new y.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=k.$(".monaco-table-th",{"data-col-index":a,title:s.tooltip},s.label)}get minimumSize(){var s;return(s=this.column.minimumWidth)!==null&&s!==void 0?s:120}get maximumSize(){var s;return(s=this.column.maximumWidth)!==null&&s!==void 0?s:Number.POSITIVE_INFINITY}get onDidChange(){var s;return(s=this.column.onDidChangeWidthConstraints)!==null&&s!==void 0?s:y.Event.None}layout(s){this._onDidLayout.fire([this.index,s])}}class i{constructor(s,a,u,c,d,r){this.virtualDelegate=u,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=k.append(a,k.$(`.monaco-table.${this.domId}`));const n=c.map((l,h)=>new v(l,h)),o={size:n.reduce((l,h)=>l+h.column.weight,0),views:n.map(l=>({size:l.column.weight,view:l}))};this.splitview=new M.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:o}),this.splitview.el.style.height=`${u.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${u.headerRowHeight}px`;const t=new w(c,d,l=>this.splitview.getViewSize(l));this.list=new S.List(s,this.domNode,p(u),[t],r),this.columnLayoutDisposable=y.Event.any(...n.map(l=>l.onDidLayout))(([l,h])=>t.layoutColumn(l,h)),this.styleElement=k.createStyleSheet(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(s){this.list.updateOptions(s)}splice(s,a,u=[]){this.list.splice(s,a,u)}getHTMLElement(){return this.domNode}style(s){const a=[];a.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=a.join(`
`),this.list.style(s)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(Q[323],J([10]),{}),define(Q[129],J([10]),{}),define(Q[212],J([0,1,7,123,129]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const M={},y=new k.IdGenerator("quick-input-button-icon-");function w(p){if(!p)return;let v;const i=p.dark.toString();return M[i]?v=M[i]:(v=y.nextId(),S.createCSSRule(`.${v}`,`background-image: ${S.asCSSUrl(p.light||p.dark)}`),S.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${S.asCSSUrl(p.dark)}`),M[i]=v),v}e.getIconClass=w}),define(Q[324],J([10]),{}),define(Q[325],J([10]),{}),define(Q[326],J([10]),{}),define(Q[327],J([10]),{}),define(Q[328],J([10]),{}),define(Q[329],J([10]),{}),define(Q[330],J([10]),{}),define(Q[331],J([10]),{}),define(Q[332],J([10]),{}),define(Q[333],J([10]),{}),define(Q[334],J([10]),{}),define(Q[335],J([10]),{}),define(Q[336],J([10]),{}),define(Q[337],J([10]),{}),define(Q[338],J([10]),{}),define(Q[339],J([10]),{}),define(Q[340],J([10]),{}),define(Q[341],J([10]),{}),define(Q[342],J([10]),{}),define(Q[343],J([10]),{}),define(Q[344],J([10]),{}),define(Q[345],J([10]),{}),define(Q[346],J([10]),{}),define(Q[347],J([10]),{}),define(Q[348],J([10]),{}),define(Q[349],J([10]),{}),define(Q[350],J([10]),{}),define(Q[351],J([10]),{}),define(Q[352],J([10]),{}),define(Q[353],J([10]),{}),define(Q[354],J([10]),{}),define(Q[355],J([10]),{}),define(Q[356],J([10]),{}),define(Q[357],J([10]),{}),define(Q[358],J([10]),{}),define(Q[359],J([10]),{}),define(Q[360],J([10]),{}),define(Q[361],J([10]),{}),define(Q[362],J([10]),{}),define(Q[363],J([10]),{}),define(Q[364],J([10]),{}),define(Q[365],J([10]),{}),define(Q[366],J([10]),{}),define(Q[367],J([10]),{}),define(Q[368],J([10]),{}),define(Q[369],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class S{constructor(w,p){this.chr=w,this.type=p,this.width=0}fulfill(w){this.width=w}}e.CharWidthRequest=S;class k{constructor(w,p){this._bareFontInfo=w,this._requests=p,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const w=document.createElement("div");w.style.position="absolute",w.style.top="-50000px",w.style.width="50000px";const p=document.createElement("div");p.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),p.style.fontWeight=this._bareFontInfo.fontWeight,p.style.fontSize=this._bareFontInfo.fontSize+"px",p.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,p.style.lineHeight=this._bareFontInfo.lineHeight+"px",p.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",w.appendChild(p);const v=document.createElement("div");v.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),v.style.fontWeight="bold",v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",w.appendChild(v);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",w.appendChild(i);const _=[];for(const s of this._requests){let a;s.type===0&&(a=p),s.type===2&&(a=v),s.type===1&&(a=i),a.appendChild(document.createElement("br"));const u=document.createElement("span");k._render(u,s),a.appendChild(u),_.push(u)}this._container=w,this._testElements=_}static _render(w,p){if(p.chr===" "){let v="\xA0";for(let i=0;i<8;i++)v+=v;w.innerText=v}else{let v=p.chr;for(let i=0;i<8;i++)v+=v;w.textContent=v}}_readFromDomElements(){for(let w=0,p=this._requests.length;w<p;w++){const v=this._requests[w],i=this._testElements[w];v.fulfill(i.offsetWidth/256)}}}function M(y,w){new k(y,w).read()}e.readCharWidths=M}),define(Q[213],J([0,1,2]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends S.Disposable{constructor(y,w,p){super();this.referenceDomElement=y,this.changeCallback=p,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(y=>{y&&y[0]&&y[0].contentRect?this.observe({width:y[0].contentRect.width,height:y[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(y){this.measureReferenceDomElement(!0,y)}measureReferenceDomElement(y,w){let p=0,v=0;w?(p=w.width,v=w.height):this.referenceDomElement&&(p=this.referenceDomElement.clientWidth,v=this.referenceDomElement.clientHeight),p=Math.max(5,p),v=Math.max(5,v),(this.width!==p||this.height!==v)&&(this.width=p,this.height=v,y&&this.changeCallback())}}e.ElementSizeObserver=k}),define(Q[164],J([0,1,7,92,56,2]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class w{constructor(d,r){this.x=d,this.y=r}toClientCoordinates(){return new p(this.x-S.StandardWindow.scrollX,this.y-S.StandardWindow.scrollY)}}e.PageCoordinates=w;class p{constructor(d,r){this.clientX=d,this.clientY=r}toPageCoordinates(){return new w(this.clientX+S.StandardWindow.scrollX,this.clientY+S.StandardWindow.scrollY)}}e.ClientCoordinates=p;class v{constructor(d,r,n,o){this.x=d,this.y=r,this.width=n,this.height=o}}e.EditorPagePosition=v;function i(c){const d=S.getDomNodePagePosition(c);return new v(d.left,d.top,d.width,d.height)}e.createEditorPagePosition=i;class _ extends M.StandardMouseEvent{constructor(d,r){super(d);this.pos=new w(this.posx,this.posy),this.editorPos=i(r)}}e.EditorMouseEvent=_;class s{constructor(d){this._editorViewDomNode=d}_create(d){return new _(d,this._editorViewDomNode)}onContextMenu(d,r){return S.addDisposableListener(d,"contextmenu",n=>{r(this._create(n))})}onMouseUp(d,r){return S.addDisposableListener(d,"mouseup",n=>{r(this._create(n))})}onMouseDown(d,r){return S.addDisposableListener(d,"mousedown",n=>{r(this._create(n))})}onMouseLeave(d,r){return S.addDisposableNonBubblingMouseOutListener(d,n=>{r(this._create(n))})}onMouseMoveThrottled(d,r,n,o){const t=(l,h)=>n(l,this._create(h));return S.addDisposableThrottledListener(d,"mousemove",r,t,o)}}e.EditorMouseEventFactory=s;class a{constructor(d){this._editorViewDomNode=d}_create(d){return new _(d,this._editorViewDomNode)}onPointerUp(d,r){return S.addDisposableListener(d,"pointerup",n=>{r(this._create(n))})}onPointerDown(d,r){return S.addDisposableListener(d,"pointerdown",n=>{r(this._create(n))})}onPointerLeave(d,r){return S.addDisposableNonBubblingPointerOutListener(d,n=>{r(this._create(n))})}onPointerMoveThrottled(d,r,n,o){const t=(l,h)=>n(l,this._create(h));return S.addDisposableThrottledListener(d,"pointermove",r,t,o)}}e.EditorPointerEventFactory=a;class u extends y.Disposable{constructor(d){super();this._editorViewDomNode=d,this._globalMouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(d,r,n,o,t){this._keydownListener=S.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const l=(h,m)=>n(h,new _(m,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(d,r,l,o,h=>{this._keydownListener.dispose(),t(h)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=u}),define(Q[370],J([0,1,6,2]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class M extends k.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new S.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new S.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new S.Emitter),this._onDiffEditorRemove=this._register(new S.Emitter),this._onDecorationTypeRegistered=this._register(new S.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(w){this._codeEditors[w.getId()]=w,this._onCodeEditorAdd.fire(w)}removeCodeEditor(w){delete this._codeEditors[w.getId()]&&this._onCodeEditorRemove.fire(w)}listCodeEditors(){return Object.keys(this._codeEditors).map(w=>this._codeEditors[w])}addDiffEditor(w){this._diffEditors[w.getId()]=w,this._onDiffEditorAdd.fire(w)}removeDiffEditor(w){delete this._diffEditors[w.getId()]&&this._onDiffEditorRemove.fire(w)}listDiffEditors(){return Object.keys(this._diffEditors).map(w=>this._diffEditors[w])}getFocusedCodeEditor(){let w=null;const p=this.listCodeEditors();for(const v of p){if(v.hasTextFocus())return v;v.hasWidgetFocus()&&(w=v)}return w}setModelProperty(w,p,v){const i=w.toString();let _;this._modelProperties.has(i)?_=this._modelProperties.get(i):(_=new Map,this._modelProperties.set(i,_)),_.set(p,v)}getModelProperty(w,p){const v=w.toString();if(this._modelProperties.has(v))return this._modelProperties.get(v).get(p)}}e.AbstractCodeEditorService=M}),define(Q[214],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let M=32;M<=126;M++)k.push(M);return k.push(65533),k})();const S=(k,M)=>(k-=32,k<0||k>96?M<=2?(k+96)%96:96-1:k);e.getCharIndex=S}),define(Q[371],J([0,1,214,126]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class M{constructor(w,p){this.scale=p,this.charDataNormal=M.soften(w,12/15),this.charDataLight=M.soften(w,50/60)}static soften(w,p){let v=new Uint8ClampedArray(w.length);for(let i=0,_=w.length;i<_;i++)v[i]=k.toUint8(w[i]*p);return v}renderChar(w,p,v,i,_,s,a,u,c){const d=1*this.scale,r=2*this.scale,n=c?1:r;if(p+d>w.width||v+n>w.height){console.warn("bad render request outside image data");return}const o=u?this.charDataLight:this.charDataNormal,t=S.getCharIndex(i,a),l=w.width*4,h=s.r,m=s.g,C=s.b,g=_.r-h,f=_.g-m,b=_.b-C,L=w.data;let N=t*d*r,D=v*l+p*4;for(let I=0;I<n;I++){let T=D;for(let A=0;A<d;A++){const R=o[N++]/255;L[T++]=h+g*R,L[T++]=m+f*R,L[T++]=C+b*R,T++}D+=l}}blockRenderChar(w,p,v,i,_,s,a){const u=1*this.scale,c=2*this.scale,d=a?1:c;if(p+u>w.width||v+d>w.height){console.warn("bad render request outside image data");return}const r=w.width*4,n=.5,o=_.r,t=_.g,l=_.b,h=i.r-o,m=i.g-t,C=i.b-l,g=o+h*n,f=t+m*n,b=l+C*n,L=w.data;let N=v*r+p*4;for(let D=0;D<d;D++){let I=N;for(let T=0;T<u;T++)L[I++]=g,L[I++]=f,L[I++]=b,I++;N+=r}}}e.MinimapCharRenderer=M}),define(Q[372],J([0,1,90]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},M=y=>{const w=new Uint8ClampedArray(y.length/2);for(let p=0;p<y.length;p+=2)w[p>>1]=k[y[p]]<<4|k[y[p+1]]&15;return w};e.prebakedMiniMaps={1:S.once(()=>M("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:S.once(()=>M("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(Q[373],J([0,1,371,214,372,126]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class w{static create(v,i){if(this.lastCreated&&v===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let _;return M.prebakedMiniMaps[v]?_=new S.MinimapCharRenderer(M.prebakedMiniMaps[v](),v):_=w.createFromSampleData(w.createSampleData(i).data,v),this.lastFontFamily=i,this.lastCreated=_,_}static createSampleData(v){const i=document.createElement("canvas"),_=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",_.fillStyle="#ffffff",_.font=`bold ${16}px ${v}`,_.textBaseline="middle";let s=0;for(const a of k.allCharCodes)_.fillText(String.fromCharCode(a),s,16/2),s+=10;return _.getImageData(0,0,96*10,16)}static createFromSampleData(v,i){const _=16*10*4*96;if(v.length!==_)throw new Error("Unexpected source in MinimapCharRenderer");let s=w._downsample(v,i);return new S.MinimapCharRenderer(s,i)}static _downsampleChar(v,i,_,s,a){const u=1*a,c=2*a;let d=s,r=0;for(let n=0;n<c;n++){const o=n/c*16,t=(n+1)/c*16;for(let l=0;l<u;l++){const h=l/u*10,m=(l+1)/u*10;let C=0,g=0;for(let b=o;b<t;b++){const L=i+Math.floor(b)*3840,N=1-(b-Math.floor(b));for(let D=h;D<m;D++){const I=1-(D-Math.floor(D)),T=L+Math.floor(D)*4,A=I*N;g+=A,C+=v[T]*v[T+3]/255*A}}const f=C/g;r=Math.max(r,f),_[d++]=y.toUint8(f)}}return r}static _downsample(v,i){const _=2*i*1*i,s=_*96,a=new Uint8ClampedArray(s);let u=0,c=0,d=0;for(let r=0;r<96;r++)d=Math.max(d,this._downsampleChar(v,c,a,u,i)),u+=_,c+=10*4;if(d>0){const r=255/d;for(let n=0;n<s;n++)a[n]*=r}return a}}e.MinimapCharRendererFactory=w}),define(Q[130],J([0,1,6]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new S.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(Q[165],J([0,1,17,130]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const M=S.isMacintosh?1.5:1.35,y=8;class w{constructor(i){this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,_,s,a){const u=i.get(39),c=i.get(43),d=i.get(42),r=i.get(41),n=i.get(56),o=i.get(53);return w._create(u,c,d,r,n,o,_,s,a)}static _create(i,_,s,a,u,c,d,r,n){u===0?u=Math.round(M*s):u<y&&(u=y);const o=1+(n?0:k.EditorZoom.getZoomLevel()*.1);return s*=o,u*=o,new w({zoomLevel:d,pixelRatio:r,fontFamily:i,fontWeight:_,fontSize:s,fontFeatureSettings:a,lineHeight:u,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=w,e.SERIALIZED_FONT_INFO_VERSION=1;class p extends w{constructor(i,_){super(i);this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=_,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=p}),define(Q[93],J([0,1,126]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(w){let p=S.toUint8(w);this._defaultValue=p,this._asciiMap=k._createAsciiMap(p),this._map=new Map}static _createAsciiMap(w){let p=new Uint8Array(256);for(let v=0;v<256;v++)p[v]=w;return p}set(w,p){let v=S.toUint8(p);w>=0&&w<256?this._asciiMap[w]=v:this._map.set(w,v)}get(w){return w>=0&&w<256?this._asciiMap[w]:this._map.get(w)||this._defaultValue}}e.CharacterClassifier=k;class M{constructor(){this._actual=new k(0)}add(w){this._actual.set(w,1)}has(w){return this._actual.get(w)===1}}e.CharacterSet=M}),define(Q[107],J([0,1,93]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends S.CharacterClassifier{constructor(w){super(0);for(let p=0,v=w.length;p<v;p++)this.set(w.charCodeAt(p),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function M(y){let w={};return p=>(w.hasOwnProperty(p)||(w[p]=y(p)),w[p])}e.getMapForWordSeparators=M(y=>new k(y))}),define(Q[13],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class S{constructor(M,y){this.lineNumber=M,this.column=y}with(M=this.lineNumber,y=this.column){return M===this.lineNumber&&y===this.column?this:new S(M,y)}delta(M=0,y=0){return this.with(this.lineNumber+M,this.column+y)}equals(M){return S.equals(this,M)}static equals(M,y){return!M&&!y?!0:!!M&&!!y&&M.lineNumber===y.lineNumber&&M.column===y.column}isBefore(M){return S.isBefore(this,M)}static isBefore(M,y){return M.lineNumber<y.lineNumber?!0:y.lineNumber<M.lineNumber?!1:M.column<y.column}isBeforeOrEqual(M){return S.isBeforeOrEqual(this,M)}static isBeforeOrEqual(M,y){return M.lineNumber<y.lineNumber?!0:y.lineNumber<M.lineNumber?!1:M.column<=y.column}static compare(M,y){let w=M.lineNumber|0,p=y.lineNumber|0;if(w===p){let v=M.column|0,i=y.column|0;return v-i}return w-p}clone(){return new S(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(M){return new S(M.lineNumber,M.column)}static isIPosition(M){return M&&typeof M.lineNumber=="number"&&typeof M.column=="number"}}e.Position=S}),define(Q[3],J([0,1,13]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(y,w,p,v){y>p||y===p&&w>v?(this.startLineNumber=p,this.startColumn=v,this.endLineNumber=y,this.endColumn=w):(this.startLineNumber=y,this.startColumn=w,this.endLineNumber=p,this.endColumn=v)}isEmpty(){return k.isEmpty(this)}static isEmpty(y){return y.startLineNumber===y.endLineNumber&&y.startColumn===y.endColumn}containsPosition(y){return k.containsPosition(this,y)}static containsPosition(y,w){return!(w.lineNumber<y.startLineNumber||w.lineNumber>y.endLineNumber||w.lineNumber===y.startLineNumber&&w.column<y.startColumn||w.lineNumber===y.endLineNumber&&w.column>y.endColumn)}containsRange(y){return k.containsRange(this,y)}static containsRange(y,w){return!(w.startLineNumber<y.startLineNumber||w.endLineNumber<y.startLineNumber||w.startLineNumber>y.endLineNumber||w.endLineNumber>y.endLineNumber||w.startLineNumber===y.startLineNumber&&w.startColumn<y.startColumn||w.endLineNumber===y.endLineNumber&&w.endColumn>y.endColumn)}strictContainsRange(y){return k.strictContainsRange(this,y)}static strictContainsRange(y,w){return!(w.startLineNumber<y.startLineNumber||w.endLineNumber<y.startLineNumber||w.startLineNumber>y.endLineNumber||w.endLineNumber>y.endLineNumber||w.startLineNumber===y.startLineNumber&&w.startColumn<=y.startColumn||w.endLineNumber===y.endLineNumber&&w.endColumn>=y.endColumn)}plusRange(y){return k.plusRange(this,y)}static plusRange(y,w){let p,v,i,_;return w.startLineNumber<y.startLineNumber?(p=w.startLineNumber,v=w.startColumn):w.startLineNumber===y.startLineNumber?(p=w.startLineNumber,v=Math.min(w.startColumn,y.startColumn)):(p=y.startLineNumber,v=y.startColumn),w.endLineNumber>y.endLineNumber?(i=w.endLineNumber,_=w.endColumn):w.endLineNumber===y.endLineNumber?(i=w.endLineNumber,_=Math.max(w.endColumn,y.endColumn)):(i=y.endLineNumber,_=y.endColumn),new k(p,v,i,_)}intersectRanges(y){return k.intersectRanges(this,y)}static intersectRanges(y,w){let p=y.startLineNumber,v=y.startColumn,i=y.endLineNumber,_=y.endColumn,s=w.startLineNumber,a=w.startColumn,u=w.endLineNumber,c=w.endColumn;return p<s?(p=s,v=a):p===s&&(v=Math.max(v,a)),i>u?(i=u,_=c):i===u&&(_=Math.min(_,c)),p>i||p===i&&v>_?null:new k(p,v,i,_)}equalsRange(y){return k.equalsRange(this,y)}static equalsRange(y,w){return!!y&&!!w&&y.startLineNumber===w.startLineNumber&&y.startColumn===w.startColumn&&y.endLineNumber===w.endLineNumber&&y.endColumn===w.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(y){return new S.Position(y.endLineNumber,y.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(y){return new S.Position(y.startLineNumber,y.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(y,w){return new k(this.startLineNumber,this.startColumn,y,w)}setStartPosition(y,w){return new k(y,w,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(y){return new k(y.startLineNumber,y.startColumn,y.startLineNumber,y.startColumn)}static fromPositions(y,w=y){return new k(y.lineNumber,y.column,w.lineNumber,w.column)}static lift(y){return y?new k(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):null}static isIRange(y){return y&&typeof y.startLineNumber=="number"&&typeof y.startColumn=="number"&&typeof y.endLineNumber=="number"&&typeof y.endColumn=="number"}static areIntersectingOrTouching(y,w){return!(y.endLineNumber<w.startLineNumber||y.endLineNumber===w.startLineNumber&&y.endColumn<w.startColumn||w.endLineNumber<y.startLineNumber||w.endLineNumber===y.startLineNumber&&w.endColumn<y.startColumn)}static areIntersecting(y,w){return!(y.endLineNumber<w.startLineNumber||y.endLineNumber===w.startLineNumber&&y.endColumn<=w.startColumn||w.endLineNumber<y.startLineNumber||w.endLineNumber===y.startLineNumber&&w.endColumn<=y.startColumn)}static compareRangesUsingStarts(y,w){if(y&&w){const i=y.startLineNumber|0,_=w.startLineNumber|0;if(i===_){const s=y.startColumn|0,a=w.startColumn|0;if(s===a){const u=y.endLineNumber|0,c=w.endLineNumber|0;if(u===c){const d=y.endColumn|0,r=w.endColumn|0;return d-r}return u-c}return s-a}return i-_}return(y?1:0)-(w?1:0)}static compareRangesUsingEnds(y,w){return y.endLineNumber===w.endLineNumber?y.endColumn===w.endColumn?y.startLineNumber===w.startLineNumber?y.startColumn-w.startColumn:y.startLineNumber-w.startLineNumber:y.endColumn-w.endColumn:y.endLineNumber-w.endLineNumber}static spansMultipleLines(y){return y.endLineNumber>y.startLineNumber}}e.Range=k}),define(Q[215],J([0,1,8,13,3]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class y{constructor(v,i,_,s,a){this.value=v,this.selectionStart=i,this.selectionEnd=_,this.selectionStartPosition=s,this.selectionEndPosition=a}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(v){return new y(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new y(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,i,_){e._debugComposition&&console.log("writeToTextArea "+v+": "+this.toString()),i.setValue(v,this.value),_&&i.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const s=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,s,-1)}if(v>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,s,1)}const i=this.value.substring(this.selectionStart,v);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const _=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,-1)}_finishDeduceEditorPosition(v,i,_){let s=0,a=-1;for(;(a=i.indexOf(`
`,a+1))!==-1;)s++;return[v,_*i.length,s]}static selectedText(v){return new y(v,0,v.length,null,null)}static deduceInput(v,i,_){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+v.toString()),console.log("CURRENT STATE: "+i.toString()));let s=v.value,a=v.selectionStart,u=v.selectionEnd,c=i.value,d=i.selectionStart,r=i.selectionEnd;const n=s.substring(u),o=c.substring(r),t=S.commonSuffixLength(n,o);c=c.substring(0,c.length-t),s=s.substring(0,s.length-t);const l=s.substring(0,a),h=c.substring(0,d),m=S.commonPrefixLength(l,h);if(c=c.substring(m),s=s.substring(m),d-=m,a-=m,r-=m,u-=m,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+s+">, selectionStart: "+a+", selectionEnd: "+u),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+d+", selectionEnd: "+r)),_&&d===r&&s.length>0){let g=null;if(d===c.length?c.startsWith(s)&&(g=c.substring(s.length)):c.endsWith(s)&&(g=c.substring(0,c.length-s.length)),g!==null&&g.length>0&&(/\uFE0F/.test(g)||S.containsEmoji(g)))return{text:g,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(d===r){if(s===c&&a===0&&u===s.length&&d===c.length&&c.indexOf(`
`)===-1&&S.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const g=l.length-m;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(l.length-m)+" chars"),{text:c,replacePrevCharCnt:g,replaceNextCharCnt:0,positionDelta:0}}const C=u-a;return{text:c,replacePrevCharCnt:C,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,i){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+v.toString()),console.log("CURRENT STATE: "+i.toString())),v.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-v.selectionEnd};const _=Math.min(S.commonPrefixLength(v.value,i.value),v.selectionEnd),s=Math.min(S.commonSuffixLength(v.value,i.value),v.value.length-v.selectionEnd),a=v.value.substring(_,v.value.length-s),u=i.value.substring(_,i.value.length-s),c=v.selectionStart-_,d=v.selectionEnd-_,r=i.selectionStart-_,n=i.selectionEnd-_;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+a+">, selectionStart: "+c+", selectionEnd: "+d),console.log("AFTER DIFFING CURRENT STATE: <"+u+">, selectionStart: "+r+", selectionEnd: "+n)),{text:u,replacePrevCharCnt:d,replaceNextCharCnt:a.length-d,positionDelta:n-u.length}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,null);class w{static _getPageOfLine(v,i){return Math.floor((v-1)/i)}static _getRangeForPage(v,i){const _=v*i,s=_+1,a=_+i;return new M.Range(s,1,a+1,1)}static fromEditorSelection(v,i,_,s,a){const u=w._getPageOfLine(_.startLineNumber,s),c=w._getRangeForPage(u,s),d=w._getPageOfLine(_.endLineNumber,s),r=w._getRangeForPage(d,s),n=c.intersectRanges(new M.Range(1,1,_.startLineNumber,_.startColumn));let o=i.getValueInRange(n,1);const t=i.getLineCount(),l=i.getLineMaxColumn(t),h=r.intersectRanges(new M.Range(_.endLineNumber,_.endColumn,t,l));let m=i.getValueInRange(h,1),C;if(u===d||u+1===d)C=i.getValueInRange(_,1);else{const g=c.intersectRanges(_),f=r.intersectRanges(_);C=i.getValueInRange(g,1)+String.fromCharCode(8230)+i.getValueInRange(f,1)}if(a){const g=500;o.length>g&&(o=o.substring(o.length-g,o.length)),m.length>g&&(m=m.substring(0,g)),C.length>2*g&&(C=C.substring(0,g)+String.fromCharCode(8230)+C.substring(C.length-g,C.length))}return new y(o+C+m,o.length,o.length+C.length,new k.Position(_.startLineNumber,_.startColumn),new k.Position(_.endLineNumber,_.endColumn))}}e.PagedScreenReaderStrategy=w}),define(Q[216],J([0,1,197,6,2,41,3]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const p={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends M.Disposable{constructor(_,s={}){super();this._onDidUpdate=this._register(new k.Emitter),this._editor=_,this._options=y.mixin(s,p,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(a=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(a=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(_){this.ranges=[],_&&_.forEach(s=>{!this._options.ignoreCharChanges&&s.charChanges?s.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new w.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new w.Range(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber,1)})}),this.ranges.sort((s,a)=>s.range.getStartPosition().isBeforeOrEqual(a.range.getStartPosition())?-1:a.range.getStartPosition().isBeforeOrEqual(s.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(_){let s=!1,a=this._editor.getPosition();if(!a){this.nextIdx=0;return}for(let u=0,c=this.ranges.length;u<c&&!s;u++){let d=this.ranges[u].range;a.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=u+(_?0:-1),s=!0)}s||(this.nextIdx=_?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(_,s){if(S.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(_):_?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let u=a.range.getStartPosition();this._editor.setPosition(u),this._editor.revealPositionInCenter(u,s)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(_=0){this._move(!0,_)}previous(_=0){this._move(!1,_)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(Q[57],J([0,1,3]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(y,w){return{range:new S.Range(y.lineNumber,y.column,y.lineNumber,y.column),text:w,forceMoveMarkers:!0}}static delete(y){return{range:y,text:null}}static replace(y,w){return{range:y,text:w}}static replaceMove(y,w){return{range:y,text:w,forceMoveMarkers:!0}}}e.EditOperation=k}),define(Q[374],J([0,1,8,57,3]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class y{constructor(v,i){this._selection=v,this._cursors=i,this._selectionId=null}getEditOperations(v,i){let _=w(v,this._cursors);for(let s=0,a=_.length;s<a;s++){let u=_[s];i.addEditOperation(u.range,u.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(v,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=y;function w(p,v){v.sort((u,c)=>u.lineNumber===c.lineNumber?u.column-c.column:u.lineNumber-c.lineNumber);for(let u=v.length-2;u>=0;u--)v[u].lineNumber===v[u+1].lineNumber&&v.splice(u,1);let i=[],_=0,s=0,a=v.length;for(let u=1,c=p.getLineCount();u<=c;u++){let d=p.getLineContent(u),r=d.length+1,n=0;if(s<a&&v[s].lineNumber===u&&(n=v[s].column,s++,n===r)||d.length===0)continue;let o=S.lastNonWhitespaceIndex(d),t=0;if(o===-1)t=1;else if(o!==d.length-1)t=o+2;else continue;t=Math.max(n,t),i[_++]=k.EditOperation.delete(new M.Range(u,t,u,r))}return i}e.trimTrailingWhitespace=w}),define(Q[217],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class S{constructor(M,y,w,p){this.r=S._clamp(M),this.g=S._clamp(y),this.b=S._clamp(w),this.a=S._clamp(p)}equals(M){return this.r===M.r&&this.g===M.g&&this.b===M.b&&this.a===M.a}static _clamp(M){return M<0?0:M>255?255:M|0}}e.RGBA8=S,S.Empty=new S(0,0,0,0)}),define(Q[21],J([0,1,13,3]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class M extends k.Range{constructor(w,p,v,i){super(w,p,v,i);this.selectionStartLineNumber=w,this.selectionStartColumn=p,this.positionLineNumber=v,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(w){return M.selectionsEqual(this,w)}static selectionsEqual(w,p){return w.selectionStartLineNumber===p.selectionStartLineNumber&&w.selectionStartColumn===p.selectionStartColumn&&w.positionLineNumber===p.positionLineNumber&&w.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(w,p){return this.getDirection()===0?new M(this.startLineNumber,this.startColumn,w,p):new M(w,p,this.startLineNumber,this.startColumn)}getPosition(){return new S.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(w,p){return this.getDirection()===0?new M(w,p,this.endLineNumber,this.endColumn):new M(this.endLineNumber,this.endColumn,w,p)}static fromPositions(w,p=w){return new M(w.lineNumber,w.column,p.lineNumber,p.column)}static liftSelection(w){return new M(w.selectionStartLineNumber,w.selectionStartColumn,w.positionLineNumber,w.positionColumn)}static selectionsArrEqual(w,p){if(w&&!p||!w&&p)return!1;if(!w&&!p)return!0;if(w.length!==p.length)return!1;for(let v=0,i=w.length;v<i;v++)if(!this.selectionsEqual(w[v],p[v]))return!1;return!0}static isISelection(w){return w&&typeof w.selectionStartLineNumber=="number"&&typeof w.selectionStartColumn=="number"&&typeof w.positionLineNumber=="number"&&typeof w.positionColumn=="number"}static createWithDirection(w,p,v,i,_){return _===0?new M(w,p,v,i):new M(v,i,w,p)}}e.Selection=M}),define(Q[166],J([0,1,38,7,15,6,2,17,8,215,13,21]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var a;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(a=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class u{constructor(){this._lastState=null}set(o,t){this._lastState={lastCopiedValue:o,data:t}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=u,u.INSTANCE=new u;class c extends w.Disposable{constructor(o,t){super();this.textArea=t,this._onFocus=this._register(new y.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new y.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new y.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new y.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new y.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new y.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new y.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new y.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new y.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new y.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=o,this._textArea=this._register(new r(t)),this._asyncTriggerCut=this._register(new M.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new M.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=i.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let l=null;this._register(k.addStandardDisposableListener(t.domNode,"keydown",g=>{(g.keyCode===109||this._isDoingComposition&&g.keyCode===1)&&g.stopPropagation(),g.equals(9)&&g.preventDefault(),l=g,this._onKeyDown.fire(g)})),this._register(k.addStandardDisposableListener(t.domNode,"keyup",g=>{this._onKeyUp.fire(g)})),this._register(k.addDisposableListener(t.domNode,"compositionstart",g=>{if(i._debugComposition&&console.log("[compositionstart]",g),!this._isDoingComposition){if(this._isDoingComposition=!0,p.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===g.data&&(l&&l.equals(109)&&(l.code==="ArrowRight"||l.code==="ArrowLeft")||S.isFirefox)){i._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",g),this._textAreaState=new i.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new _.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(S.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",i.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const h=g=>{const f=this._textAreaState,b=i.TextAreaState.readFromTextArea(this._textArea);return[b,i.TextAreaState.deduceInput(f,b,g)]},m=()=>{const g=this._textAreaState,f=i.TextAreaState.readFromTextArea(this._textArea);return[f,i.TextAreaState.deduceAndroidCompositionInput(g,f)]},C=g=>{const f=this._textAreaState,b=i.TextAreaState.selectedText(g),L={text:b.value,replacePrevCharCnt:f.selectionEnd-f.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[b,L]};this._register(k.addDisposableListener(t.domNode,"compositionupdate",g=>{if(i._debugComposition&&console.log("[compositionupdate]",g),S.isAndroid){const[L,N]=m();this._textAreaState=L,this._onType.fire(N),this._onCompositionUpdate.fire(g);return}const[f,b]=C(g.data||"");this._textAreaState=f,this._onType.fire(b),this._onCompositionUpdate.fire(g)})),this._register(k.addDisposableListener(t.domNode,"compositionend",g=>{if(i._debugComposition&&console.log("[compositionend]",g),!this._isDoingComposition)return;if(this._isDoingComposition=!1,S.isAndroid){const[L,N]=m();this._textAreaState=L,this._onType.fire(N),this._onCompositionEnd.fire();return}const[f,b]=C(g.data||"");this._textAreaState=f,this._onType.fire(b),(S.isChrome||S.isFirefox)&&(this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(k.addDisposableListener(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[g,f]=h(p.isMacintosh);f.replacePrevCharCnt===0&&f.text.length===1&&v.isHighSurrogate(f.text.charCodeAt(0))||(this._textAreaState=g,this._nextCommand===0?(f.text!==""||f.replacePrevCharCnt!==0)&&this._onType.fire(f):((f.text!==""||f.replacePrevCharCnt!==0)&&this._firePaste(f.text,null),this._nextCommand=0))})),this._register(k.addDisposableListener(t.domNode,"cut",g=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(g),this._asyncTriggerCut.schedule()})),this._register(k.addDisposableListener(t.domNode,"copy",g=>{this._ensureClipboardGetsEditorSelection(g)})),this._register(k.addDisposableListener(t.domNode,"paste",g=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),d.canUseTextData(g)){const[f,b]=d.getTextData(g);f!==""&&this._firePaste(f,b)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",i.TextAreaState.EMPTY),this._nextCommand=1})),this._register(k.addDisposableListener(t.domNode,"focus",()=>{const g=this._hasFocus;this._setHasFocus(!0),S.isSafari&&!g&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(k.addDisposableListener(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(k.addDisposableListener(t.domNode,a.Tap,()=>{S.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return k.addDisposableListener(document,"selectionchange",t=>{if(!this._hasFocus||this._isDoingComposition||!S.isChrome)return;const l=Date.now(),h=l-o;if(o=l,h<5)return;const m=l-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),m<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const C=this._textArea.getValue();if(this._textAreaState.value!==C)return;const g=this._textArea.getSelectionStart(),f=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===f)return;const b=this._textAreaState.deduceEditorPosition(g),L=this._host.deduceModelPosition(b[0],b[1],b[2]),N=this._textAreaState.deduceEditorPosition(f),D=this._host.deduceModelPosition(N[0],N[1],N[2]),I=new s.Selection(L.lineNumber,L.column,D.lineNumber,D.column);this._onSelectionChangeRequest.fire(I)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const o=k.getShadowRoot(this.textArea.domNode);o?this._setHasFocus(o.activeElement===this.textArea.domNode):k.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(o){this._isDoingComposition||this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(o){const t=this._host.getDataToCopy(d.canUseTextData(o)),l={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(u.INSTANCE.set(S.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,l),!d.canUseTextData(o)){this._setAndWriteTextAreaState("copy or cut",i.TextAreaState.selectedText(t.text));return}d.setTextData(o,t.text,t.html,l)}_firePaste(o,t){t||(t=u.INSTANCE.get(o)),this._onPaste.fire({text:o,metadata:t})}}e.TextAreaInput=c;class d{static canUseTextData(o){return!!(o.clipboardData||window.clipboardData)}static getTextData(o){if(o.clipboardData){o.preventDefault();const t=o.clipboardData.getData("text/plain");let l=null;const h=o.clipboardData.getData("vscode-editor-data");if(typeof h=="string")try{l=JSON.parse(h),l.version!==1&&(l=null)}catch(m){}return[t,l]}if(window.clipboardData)return o.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(o,t,l,h){if(o.clipboardData){o.clipboardData.setData("text/plain",t),typeof l=="string"&&o.clipboardData.setData("text/html",l),o.clipboardData.setData("vscode-editor-data",JSON.stringify(h)),o.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),o.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class r extends w.Disposable{constructor(o){super();this._actual=o,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(o,t){const l=this._actual.domNode;l.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),l.value=t)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(o,t,l){const h=this._actual.domNode;let m=null;const C=k.getShadowRoot(h);C?m=C.activeElement:m=document.activeElement;const g=m===h,f=h.selectionStart,b=h.selectionEnd;if(g&&f===t&&b===l){S.isFirefox&&window.parent!==window&&h.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),h.setSelectionRange(t,l),S.isFirefox&&window.parent!==window&&h.focus();return}try{const L=k.saveParentsScrollTop(h);this.setIgnoreSelectionChangeTime("setSelectionRange"),h.focus(),h.setSelectionRange(t,l),k.restoreParentsScrollTop(h,L)}catch(L){}}}}),define(Q[94],J([0,1,21]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(i,_,s=!1){this._range=i,this._text=_,this.insertsAutoWhitespace=s}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){let a=_.getInverseEditOperations()[0].range;return new S.Selection(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommand=k;class M{constructor(i,_){this._range=i,this._text=_}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){const a=_.getInverseEditOperations()[0].range;return new S.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommandThatSelectsText=M;class y{constructor(i,_,s=!1){this._range=i,this._text=_,this.insertsAutoWhitespace=s}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){let a=_.getInverseEditOperations()[0].range;return new S.Selection(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn)}}e.ReplaceCommandWithoutChangingPosition=y;class w{constructor(i,_,s,a,u=!1){this._range=i,this._text=_,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=u}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,_){let a=_.getInverseEditOperations()[0].range;return new S.Selection(a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset,a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=w;class p{constructor(i,_,s,a=!1){this._range=i,this._text=_,this._initialSelection=s,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(i,_){_.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=_.trackSelection(this._initialSelection)}computeCursorState(i,_){return _.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(Q[375],J([0,1,3,21]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class M{constructor(w,p,v){this._range=w,this._charBeforeSelection=p,this._charAfterSelection=v}getEditOperations(w,p){p.addTrackedEditOperation(new S.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),p.addTrackedEditOperation(new S.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(w,p){let v=p.getInverseEditOperations(),i=v[0].range,_=v[1].range;return new k.Selection(i.endLineNumber,i.endColumn,_.endLineNumber,_.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=M}),define(Q[83],J([0,1,8,17,102]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let y;function w(){return y||(y=new TextDecoder("UTF-16LE")),y}let p;function v(){return p||(p=new TextDecoder("UTF-16BE")),p}let i;function _(){return i||(i=k.isLittleEndian()?w():v()),i}e.getPlatformTextDecoder=_,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new u(d),e.decodeUTF16LE=s):(e.createStringBuilder=d=>new c,e.decodeUTF16LE=a);function s(d,r,n){const o=new Uint16Array(d.buffer,r,n);return n>0&&(o[0]===65279||o[0]===65534)?a(d,r,n):w().decode(o)}function a(d,r,n){let o=[],t=0;for(let l=0;l<n;l++){const h=M.readUInt16LE(d,r);r+=2,o[t++]=String.fromCharCode(h)}return o.join("")}class u{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return _().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}write1(r){const n=this._capacity-this._bufferLength;n<=1&&(n===0||S.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCII(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIIString(r){const n=r.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let o=0;o<n;o++)this._buffer[this._bufferLength++]=r.charCodeAt(o)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCII(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCIIString(r){this._pieces[this._piecesLen++]=r}}}),define(Q[167],J([0,1,30,83]),function($,e,S,k){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,_){this._lines=_,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const _=i-this._rendLineNumberStart;if(_<0||_>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[_]}onLinesDeleted(i,_){if(this.getCount()===0)return null;const s=this.getStartLineNumber(),a=this.getEndLineNumber();if(_<s){const r=_-i+1;return this._rendLineNumberStart-=r,null}if(i>a)return null;let u=0,c=0;for(let r=s;r<=a;r++){const n=r-this._rendLineNumberStart;i<=r&&r<=_&&(c===0?(u=n,c=1):c++)}if(i<s){let r=0;_<s?r=_-i+1:r=s-i,this._rendLineNumberStart-=r}return this._lines.splice(u,c)}onLinesChanged(i,_){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),a=this.getEndLineNumber();let u=!1;for(let c=i;c<=_;c++)c>=s&&c<=a&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),u=!0);return u}onLinesInserted(i,_){if(this.getCount()===0)return null;const s=_-i+1,a=this.getStartLineNumber(),u=this.getEndLineNumber();if(i<=a)return this._rendLineNumberStart+=s,null;if(i>u)return null;if(s+i>u)return this._lines.splice(i-this._rendLineNumberStart,u-i+1);const c=[];for(let t=0;t<s;t++)c[t]=this._createLine();const d=i-this._rendLineNumberStart,r=this._lines.slice(0,d),n=this._lines.slice(d,this._lines.length-s),o=this._lines.slice(this._lines.length-s,this._lines.length);return this._lines=r.concat(c).concat(n),o}onTokensChanged(i){if(this.getCount()===0)return!1;const _=this.getStartLineNumber(),s=this.getEndLineNumber();let a=!1;for(let u=0,c=i.length;u<c;u++){const d=i[u];if(d.toLineNumber<_||d.fromLineNumber>s)continue;const r=Math.max(_,d.fromLineNumber),n=Math.min(s,d.toLineNumber);for(let o=r;o<=n;o++){const t=o-this._rendLineNumberStart;this._lines[t].onTokensChanged(),a=!0}}return a}}e.RenderedLinesCollection=y;class w{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const i=S.createFastDomNode(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(128)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const _=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(_)for(let s=0,a=_.length;s<a;s++){const u=_[s].getDomNode();u&&this.domNode.domNode.removeChild(u)}return!0}onLinesInserted(i){const _=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(_)for(let s=0,a=_.length;s<a;s++){const u=_[s].getDomNode();u&&this.domNode.domNode.removeChild(u)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const _=this._linesCollection._get(),s=new p(this.domNode.domNode,this._host,i),a={rendLineNumberStart:_.rendLineNumberStart,lines:_.lines,linesLength:_.lines.length},u=s.render(a,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(u.rendLineNumberStart,u.lines)}}e.VisibleLinesCollection=w;class p{constructor(i,_,s){this.domNode=i,this.host=_,this.viewportData=s}render(i,_,s,a){const u={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(u.rendLineNumberStart+u.linesLength-1<_||s<u.rendLineNumberStart){u.rendLineNumberStart=_,u.linesLength=s-_+1,u.lines=[];for(let c=_;c<=s;c++)u.lines[c-_]=this.host.createVisibleLine();return this._finishRendering(u,!0,a),u}if(this._renderUntouchedLines(u,Math.max(_-u.rendLineNumberStart,0),Math.min(s-u.rendLineNumberStart,u.linesLength-1),a,_),u.rendLineNumberStart>_){const c=_,d=Math.min(s,u.rendLineNumberStart-1);c<=d&&(this._insertLinesBefore(u,c,d,a,_),u.linesLength+=d-c+1)}else if(u.rendLineNumberStart<_){const c=Math.min(u.linesLength,_-u.rendLineNumberStart);c>0&&(this._removeLinesBefore(u,c),u.linesLength-=c)}if(u.rendLineNumberStart=_,u.rendLineNumberStart+u.linesLength-1<s){const c=u.rendLineNumberStart+u.linesLength,d=s;c<=d&&(this._insertLinesAfter(u,c,d,a,_),u.linesLength+=d-c+1)}else if(u.rendLineNumberStart+u.linesLength-1>s){const c=Math.max(0,s-u.rendLineNumberStart+1),r=u.linesLength-1-c+1;r>0&&(this._removeLinesAfter(u,r),u.linesLength-=r)}return this._finishRendering(u,!1,a),u}_renderUntouchedLines(i,_,s,a,u){const c=i.rendLineNumberStart,d=i.lines;for(let r=_;r<=s;r++){const n=c+r;d[r].layoutLine(n,a[n-u])}}_insertLinesBefore(i,_,s,a,u){const c=[];let d=0;for(let r=_;r<=s;r++)c[d++]=this.host.createVisibleLine();i.lines=c.concat(i.lines)}_removeLinesBefore(i,_){for(let s=0;s<_;s++){const a=i.lines[s].getDomNode();a&&this.domNode.removeChild(a)}i.lines.splice(0,_)}_insertLinesAfter(i,_,s,a,u){const c=[];let d=0;for(let r=_;r<=s;r++)c[d++]=this.host.createVisibleLine();i.lines=i.lines.concat(c)}_removeLinesAfter(i,_){const s=i.linesLength-_;for(let a=0;a<_;a++){const u=i.lines[s+a].getDomNode();u&&this.domNode.removeChild(u)}i.lines.splice(s,_)}_finishRenderingNewLines(i,_,s,a){p._ttPolicy&&(s=p._ttPolicy.createHTML(s));const u=this.domNode.lastChild;_||!u?this.domNode.innerHTML=s:u.insertAdjacentHTML("afterend",s);let c=this.domNode.lastChild;for(let d=i.linesLength-1;d>=0;d--){const r=i.lines[d];a[d]&&(r.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(i,_,s){const a=document.createElement("div");p._ttPolicy&&(_=p._ttPolicy.createHTML(_)),a.innerHTML=_;for(let u=0;u<i.linesLength;u++){const c=i.lines[u];if(s[u]){const d=a.firstChild,r=c.getDomNode();r.parentNode.replaceChild(d,r),c.setDomNode(d)}}}_finishRendering(i,_,s){const a=p._sb,u=i.linesLength,c=i.lines,d=i.rendLineNumberStart,r=[];{a.reset();let n=!1;for(let o=0;o<u;o++){const t=c[o];r[o]=!1,!(t.getDomNode()||!t.renderLine(o+d,s[o],this.viewportData,a))&&(r[o]=!0,n=!0)}n&&this._finishRenderingNewLines(i,_,a.build(),r)}{a.reset();let n=!1;const o=[];for(let t=0;t<u;t++){const l=c[t];o[t]=!1,!(r[t]||!l.renderLine(t+d,s[t],this.viewportData,a))&&(o[t]=!0,n=!0)}n&&this._finishRenderingInvalidLines(i,a.build(),o)}}}p._ttPolicy=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("editorViewLayer",{createHTML:v=>v}),p._sb=k.createStringBuilder(1e5)}),define(Q[131],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class S{constructor(w,p,v){this.offset=w|0,this.type=p,this.language=v}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=S;class k{constructor(w,p){this.tokens=w,this.endState=p}}e.TokenizationResult=k;class M{constructor(w,p){this.tokens=w,this.endState=p}}e.TokenizationResult2=M}),define(Q[376],J([0,1,155,8]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const M=3;function y(d,r,n,o){return new S.LcsDiff(d,r,n).ComputeDiff(o)}class w{constructor(r){const n=[],o=[];for(let t=0,l=r.length;t<l;t++)n[t]=a(r[t],1),o[t]=u(r[t],1);this.lines=r,this._startColumns=n,this._endColumns=o}getElements(){const r=[];for(let n=0,o=this.lines.length;n<o;n++)r[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return r}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,n,o){const t=[],l=[],h=[];let m=0;for(let C=n;C<=o;C++){const g=this.lines[C],f=r?this._startColumns[C]:1,b=r?this._endColumns[C]:g.length+1;for(let L=f;L<b;L++)t[m]=g.charCodeAt(L-1),l[m]=C+1,h[m]=L,m++}return new p(t,l,h)}}class p{constructor(r,n,o){this._charCodes=r,this._lineNumbers=n,this._columns=o}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class v{constructor(r,n,o,t,l,h,m,C){this.originalStartLineNumber=r,this.originalStartColumn=n,this.originalEndLineNumber=o,this.originalEndColumn=t,this.modifiedStartLineNumber=l,this.modifiedStartColumn=h,this.modifiedEndLineNumber=m,this.modifiedEndColumn=C}static createFromDiffChange(r,n,o){let t,l,h,m,C,g,f,b;return r.originalLength===0?(t=0,l=0,h=0,m=0):(t=n.getStartLineNumber(r.originalStart),l=n.getStartColumn(r.originalStart),h=n.getEndLineNumber(r.originalStart+r.originalLength-1),m=n.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(C=0,g=0,f=0,b=0):(C=o.getStartLineNumber(r.modifiedStart),g=o.getStartColumn(r.modifiedStart),f=o.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),b=o.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new v(t,l,h,m,C,g,f,b)}}function i(d){if(d.length<=1)return d;const r=[d[0]];let n=r[0];for(let o=1,t=d.length;o<t;o++){const l=d[o],h=l.originalStart-(n.originalStart+n.originalLength),m=l.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(h,m)<M?(n.originalLength=l.originalStart+l.originalLength-n.originalStart,n.modifiedLength=l.modifiedStart+l.modifiedLength-n.modifiedStart):(r.push(l),n=l)}return r}class _{constructor(r,n,o,t,l){this.originalStartLineNumber=r,this.originalEndLineNumber=n,this.modifiedStartLineNumber=o,this.modifiedEndLineNumber=t,this.charChanges=l}static createFromDiffResult(r,n,o,t,l,h,m){let C,g,f,b,L;if(n.originalLength===0?(C=o.getStartLineNumber(n.originalStart)-1,g=0):(C=o.getStartLineNumber(n.originalStart),g=o.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(f=t.getStartLineNumber(n.modifiedStart)-1,b=0):(f=t.getStartLineNumber(n.modifiedStart),b=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),h&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&l()){const N=o.createCharSequence(r,n.originalStart,n.originalStart+n.originalLength-1),D=t.createCharSequence(r,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let I=y(N,D,l,!0).changes;m&&(I=i(I)),L=[];for(let T=0,A=I.length;T<A;T++)L.push(v.createFromDiffChange(I[T],N,D))}return new _(C,g,f,b,L)}}class s{constructor(r,n,o){this.shouldComputeCharChanges=o.shouldComputeCharChanges,this.shouldPostProcessCharChanges=o.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=o.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=o.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=n,this.original=new w(r),this.modified=new w(n),this.continueLineDiff=c(o.maxComputationTime),this.continueCharDiff=c(o.maxComputationTime===0?0:Math.min(o.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=y(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=r.changes,o=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let C=0,g=n.length;C<g;C++)m.push(_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[C],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:o,changes:m}}const t=[];let l=0,h=0;for(let m=-1,C=n.length;m<C;m++){const g=m+1<C?n[m+1]:null,f=g?g.originalStart:this.originalLines.length,b=g?g.modifiedStart:this.modifiedLines.length;for(;l<f&&h<b;){const L=this.originalLines[l],N=this.modifiedLines[h];if(L!==N){{let D=a(L,1),I=a(N,1);for(;D>1&&I>1;){const T=L.charCodeAt(D-2),A=N.charCodeAt(I-2);if(T!==A)break;D--,I--}(D>1||I>1)&&this._pushTrimWhitespaceCharChange(t,l+1,1,D,h+1,1,I)}{let D=u(L,1),I=u(N,1);const T=L.length+1,A=N.length+1;for(;D<T&&I<A;){const R=L.charCodeAt(D-1),O=L.charCodeAt(I-1);if(R!==O)break;D++,I++}(D<T||I<A)&&this._pushTrimWhitespaceCharChange(t,l+1,D,T,h+1,I,A)}}l++,h++}g&&(t.push(_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),l+=g.originalLength,h+=g.modifiedLength)}return{quitEarly:o,changes:t}}_pushTrimWhitespaceCharChange(r,n,o,t,l,h,m){if(this._mergeTrimWhitespaceCharChange(r,n,o,t,l,h,m))return;let C;this.shouldComputeCharChanges&&(C=[new v(n,o,n,t,l,h,l,m)]),r.push(new _(n,n,l,l,C))}_mergeTrimWhitespaceCharChange(r,n,o,t,l,h,m){const C=r.length;if(C===0)return!1;const g=r[C-1];return g.originalEndLineNumber===0||g.modifiedEndLineNumber===0?!1:g.originalEndLineNumber+1===n&&g.modifiedEndLineNumber+1===l?(g.originalEndLineNumber=n,g.modifiedEndLineNumber=l,this.shouldComputeCharChanges&&g.charChanges&&g.charChanges.push(new v(n,o,n,t,l,h,l,m)),!0):!1}}e.DiffComputer=s;function a(d,r){const n=k.firstNonWhitespaceIndex(d);return n===-1?r:n+1}function u(d,r){const n=k.lastNonWhitespaceIndex(d);return n===-1?r:n+2}function c(d){if(d===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<d}}),define(Q[218],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class S{constructor(M,y,w,p,v,i){this.id=M,this.label=y,this.alias=w,this._precondition=p,this._run=v,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=S}),define(Q[108],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function S(k){return k&&typeof k.id=="string"}e.isThemeColor=S,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(Q[109],J([0,1,108]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(w){return w&&typeof w.getEditorType=="function"?w.getEditorType()===S.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function M(w){return w&&typeof w.getEditorType=="function"?w.getEditorType()===S.EditorType.IDiffEditor:!1}e.isDiffEditor=M;function y(w){return k(w)?w:M(w)?w.getModifiedEditor():null}e.getCodeEditor=y}),define(Q[52],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var S;(function(v){v[v.Left=1]="Left",v[v.Center=2]="Center",v[v.Right=4]="Right",v[v.Full=7]="Full"})(S=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(v){v[v.Inline=1]="Inline",v[v.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));class M{constructor(i){this.tabSize=Math.max(1,i.tabSize|0),this.indentSize=i.tabSize|0,this.insertSpaces=Boolean(i.insertSpaces),this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=Boolean(i.trimAutoWhitespace)}equals(i){return this.tabSize===i.tabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}e.TextModelResolvedOptions=M;class y{constructor(i,_){this.range=i,this.matches=_}}e.FindMatch=y;class w{constructor(i,_,s,a,u,c){this.identifier=i,this.range=_,this.text=s,this.forceMoveMarkers=a,this.isAutoWhitespaceEdit=u,this._isTracked=c}}e.ValidAnnotatedEditOperation=w;class p{constructor(i,_,s){this.reverseEdits=i,this.changes=_,this.trimAutoWhitespaceLineNumbers=s}}e.ApplyEditsResult=p}),define(Q[377],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class S{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(y,w,p,v,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let _;for(_=0;_<w&&_<v;_++){let n=y.charCodeAt(_),o=p.charCodeAt(_);if(n!==o)break}let s=0,a=0;for(let n=_;n<w;n++)y.charCodeAt(n)===32?s++:a++;let u=0,c=0;for(let n=_;n<v;n++)p.charCodeAt(n)===32?u++:c++;if(s>0&&a>0||u>0&&c>0)return;let d=Math.abs(a-c),r=Math.abs(s-u);if(d===0){i.spacesDiff=r,r>0&&0<=u-1&&u-1<y.length&&u<p.length&&p.charCodeAt(u)!==32&&y.charCodeAt(u-1)===32&&y.charCodeAt(y.length-1)===44&&(i.looksLikeAlignment=!0);return}if(r%d==0){i.spacesDiff=r/d;return}}function M(y,w,p){const v=Math.min(y.getLineCount(),1e4);let i=0,_=0,s="",a=0;const u=[2,4,6,8,3,5,7],c=8;let d=[0,0,0,0,0,0,0,0,0],r=new S;for(let t=1;t<=v;t++){let l=y.getLineLength(t),h=y.getLineContent(t);const m=l<=65536;let C=!1,g=0,f=0,b=0;for(let N=0,D=l;N<D;N++){let I=m?h.charCodeAt(N):y.getLineCharCode(t,N);if(I===9)b++;else if(I===32)f++;else{C=!0,g=N;break}}if(!C||(b>0?i++:f>1&&_++,k(s,a,h,g,r),r.looksLikeAlignment&&!(p&&w===r.spacesDiff)))continue;let L=r.spacesDiff;L<=c&&d[L]++,s=h,a=g}let n=p;i!==_&&(n=i<_);let o=w;if(n){let t=n?0:.1*v;u.forEach(l=>{let h=d[l];h>t&&(t=h,o=l)}),o===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(o=2)}return{insertSpaces:n,tabSize:o}}e.guessIndentation=M}),define(Q[378],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeIsInOverviewRuler=e.getNodeColor=void 0;function S(F){return(F.metadata&1)>>>0}e.getNodeColor=S;function k(F,E){F.metadata=F.metadata&254|E<<0}function M(F){return(F.metadata&2)>>>1==1}function y(F,E){F.metadata=F.metadata&253|(E?1:0)<<1}function w(F){return(F.metadata&4)>>>2==1}function p(F,E){F.metadata=F.metadata&251|(E?1:0)<<2}function v(F){return(F.metadata&8)>>>3==1}e.getNodeIsInOverviewRuler=v;function i(F,E){F.metadata=F.metadata&247|(E?1:0)<<3}function _(F){return(F.metadata&48)>>>4}function s(F,E){F.metadata=F.metadata&207|E<<4}function a(F){return(F.metadata&64)>>>6==1}function u(F,E){F.metadata=F.metadata&191|(E?1:0)<<6}class c{constructor(E,x,H){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=x,this.end=H,this.delta=0,this.maxEnd=H,this.id=E,this.ownerId=0,this.options=null,p(this,!1),s(this,1),i(this,!1),u(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=H,this.range=null,y(this,!1)}reset(E,x,H,K){this.start=x,this.end=H,this.maxEnd=H,this.cachedVersionId=E,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=H,this.range=K}setOptions(E){this.options=E;let x=this.options.className;p(this,x==="squiggly-error"||x==="squiggly-warning"||x==="squiggly-info"),s(this,this.options.stickiness),i(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),u(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(E,x,H){this.cachedVersionId!==H&&(this.range=null),this.cachedVersionId=H,this.cachedAbsoluteStart=E,this.cachedAbsoluteEnd=x}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=c,e.SENTINEL=new c(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class d{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(E,x,H,K,q){return this.root===e.SENTINEL?[]:g(this,E,x,H,K,q)}search(E,x,H){return this.root===e.SENTINEL?[]:C(this,E,x,H)}collectNodesFromOwner(E){return h(this,E)}collectNodesPostOrder(){return m(this)}insert(E){f(this,E),this._normalizeDeltaIfNecessary()}delete(E){L(this,E),this._normalizeDeltaIfNecessary()}resolveNode(E,x){const H=E;let K=0;for(;E!==this.root;)E===E.parent.right&&(K+=E.parent.delta),E=E.parent;const q=H.start+K,G=H.end+K;H.setCachedOffsets(q,G,x)}acceptReplace(E,x,H,K){const q=t(this,E,E+x);for(let G=0,ee=q.length;G<ee;G++){const ie=q[G];L(this,ie)}this._normalizeDeltaIfNecessary(),l(this,E,E+x,H),this._normalizeDeltaIfNecessary();for(let G=0,ee=q.length;G<ee;G++){const ie=q[G];ie.start=ie.cachedAbsoluteStart,ie.end=ie.cachedAbsoluteEnd,o(ie,E,E+x,H,K),ie.maxEnd=ie.end,f(this,ie)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,r(this))}}e.IntervalTree=d;function r(F){let E=F.root,x=0;for(;E!==e.SENTINEL;){if(E.left!==e.SENTINEL&&!M(E.left)){E=E.left;continue}if(E.right!==e.SENTINEL&&!M(E.right)){x+=E.delta,E=E.right;continue}E.start=x+E.start,E.end=x+E.end,E.delta=0,R(E),y(E,!0),y(E.left,!1),y(E.right,!1),E===E.parent.right&&(x-=E.parent.delta),E=E.parent}y(F.root,!1)}function n(F,E,x,H){return F<x?!0:F>x||H===1?!1:H===2?!0:E}function o(F,E,x,H,K){const q=_(F),G=q===0||q===2,ee=q===1||q===2,ie=x-E,ae=H,de=Math.min(ie,ae),Y=F.start;let B=!1;const W=F.end;let V=!1;E<=Y&&W<=x&&a(F)&&(F.start=E,B=!0,F.end=E,V=!0);{const U=K?1:ie>0?2:0;!B&&n(Y,G,E,U)&&(B=!0),!V&&n(W,ee,E,U)&&(V=!0)}if(de>0&&!K){const U=ie>ae?2:0;!B&&n(Y,G,E+de,U)&&(B=!0),!V&&n(W,ee,E+de,U)&&(V=!0)}{const U=K?1:0;!B&&n(Y,G,x,U)&&(F.start=E+ae,B=!0),!V&&n(W,ee,x,U)&&(F.end=E+ae,V=!0)}const z=ae-ie;B||(F.start=Math.max(0,Y+z)),V||(F.end=Math.max(0,W+z)),F.start>F.end&&(F.end=F.start)}e.nodeAcceptEdit=o;function t(F,E,x){let H=F.root,K=0,q=0,G=0,ee=0,ie=[],ae=0;for(;H!==e.SENTINEL;){if(M(H)){y(H.left,!1),y(H.right,!1),H===H.parent.right&&(K-=H.parent.delta),H=H.parent;continue}if(!M(H.left)){if(q=K+H.maxEnd,q<E){y(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(G=K+H.start,G>x){y(H,!0);continue}if(ee=K+H.end,ee>=E&&(H.setCachedOffsets(G,ee,0),ie[ae++]=H),y(H,!0),H.right!==e.SENTINEL&&!M(H.right)){K+=H.delta,H=H.right;continue}}return y(F.root,!1),ie}function l(F,E,x,H){let K=F.root,q=0,G=0,ee=0;const ie=H-(x-E);for(;K!==e.SENTINEL;){if(M(K)){y(K.left,!1),y(K.right,!1),K===K.parent.right&&(q-=K.parent.delta),R(K),K=K.parent;continue}if(!M(K.left)){if(G=q+K.maxEnd,G<E){y(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(ee=q+K.start,ee>x){K.start+=ie,K.end+=ie,K.delta+=ie,(K.delta<-1073741824||K.delta>1073741824)&&(F.requestNormalizeDelta=!0),y(K,!0);continue}if(y(K,!0),K.right!==e.SENTINEL&&!M(K.right)){q+=K.delta,K=K.right;continue}}y(F.root,!1)}function h(F,E){let x=F.root,H=[],K=0;for(;x!==e.SENTINEL;){if(M(x)){y(x.left,!1),y(x.right,!1),x=x.parent;continue}if(x.left!==e.SENTINEL&&!M(x.left)){x=x.left;continue}if(x.ownerId===E&&(H[K++]=x),y(x,!0),x.right!==e.SENTINEL&&!M(x.right)){x=x.right;continue}}return y(F.root,!1),H}function m(F){let E=F.root,x=[],H=0;for(;E!==e.SENTINEL;){if(M(E)){y(E.left,!1),y(E.right,!1),E=E.parent;continue}if(E.left!==e.SENTINEL&&!M(E.left)){E=E.left;continue}if(E.right!==e.SENTINEL&&!M(E.right)){E=E.right;continue}x[H++]=E,y(E,!0)}return y(F.root,!1),x}function C(F,E,x,H){let K=F.root,q=0,G=0,ee=0,ie=[],ae=0;for(;K!==e.SENTINEL;){if(M(K)){y(K.left,!1),y(K.right,!1),K===K.parent.right&&(q-=K.parent.delta),K=K.parent;continue}if(K.left!==e.SENTINEL&&!M(K.left)){K=K.left;continue}G=q+K.start,ee=q+K.end,K.setCachedOffsets(G,ee,H);let de=!0;if(E&&K.ownerId&&K.ownerId!==E&&(de=!1),x&&w(K)&&(de=!1),de&&(ie[ae++]=K),y(K,!0),K.right!==e.SENTINEL&&!M(K.right)){q+=K.delta,K=K.right;continue}}return y(F.root,!1),ie}function g(F,E,x,H,K,q){let G=F.root,ee=0,ie=0,ae=0,de=0,Y=[],B=0;for(;G!==e.SENTINEL;){if(M(G)){y(G.left,!1),y(G.right,!1),G===G.parent.right&&(ee-=G.parent.delta),G=G.parent;continue}if(!M(G.left)){if(ie=ee+G.maxEnd,ie<E){y(G,!0);continue}if(G.left!==e.SENTINEL){G=G.left;continue}}if(ae=ee+G.start,ae>x){y(G,!0);continue}if(de=ee+G.end,de>=E){G.setCachedOffsets(ae,de,q);let W=!0;H&&G.ownerId&&G.ownerId!==H&&(W=!1),K&&w(G)&&(W=!1),W&&(Y[B++]=G)}if(y(G,!0),G.right!==e.SENTINEL&&!M(G.right)){ee+=G.delta,G=G.right;continue}}return y(F.root,!1),Y}function f(F,E){if(F.root===e.SENTINEL)return E.parent=e.SENTINEL,E.left=e.SENTINEL,E.right=e.SENTINEL,k(E,0),F.root=E,F.root;b(F,E),O(E.parent);let x=E;for(;x!==F.root&&S(x.parent)===1;)if(x.parent===x.parent.parent.left){const H=x.parent.parent.right;S(H)===1?(k(x.parent,0),k(H,0),k(x.parent.parent,1),x=x.parent.parent):(x===x.parent.right&&(x=x.parent,I(F,x)),k(x.parent,0),k(x.parent.parent,1),T(F,x.parent.parent))}else{const H=x.parent.parent.left;S(H)===1?(k(x.parent,0),k(H,0),k(x.parent.parent,1),x=x.parent.parent):(x===x.parent.left&&(x=x.parent,T(F,x)),k(x.parent,0),k(x.parent.parent,1),I(F,x.parent.parent))}return k(F.root,0),E}function b(F,E){let x=0,H=F.root;const K=E.start,q=E.end;for(;;)if(P(K,q,H.start+x,H.end+x)<0)if(H.left===e.SENTINEL){E.start-=x,E.end-=x,E.maxEnd-=x,H.left=E;break}else H=H.left;else if(H.right===e.SENTINEL){E.start-=x+H.delta,E.end-=x+H.delta,E.maxEnd-=x+H.delta,H.right=E;break}else x+=H.delta,H=H.right;E.parent=H,E.left=e.SENTINEL,E.right=e.SENTINEL,k(E,1)}function L(F,E){let x,H;if(E.left===e.SENTINEL?(x=E.right,H=E,x.delta+=E.delta,(x.delta<-1073741824||x.delta>1073741824)&&(F.requestNormalizeDelta=!0),x.start+=E.delta,x.end+=E.delta):E.right===e.SENTINEL?(x=E.left,H=E):(H=N(E.right),x=H.right,x.start+=H.delta,x.end+=H.delta,x.delta+=H.delta,(x.delta<-1073741824||x.delta>1073741824)&&(F.requestNormalizeDelta=!0),H.start+=E.delta,H.end+=E.delta,H.delta=E.delta,(H.delta<-1073741824||H.delta>1073741824)&&(F.requestNormalizeDelta=!0)),H===F.root){F.root=x,k(x,0),E.detach(),D(),R(x),F.root.parent=e.SENTINEL;return}let K=S(H)===1;if(H===H.parent.left?H.parent.left=x:H.parent.right=x,H===E?x.parent=H.parent:(H.parent===E?x.parent=H:x.parent=H.parent,H.left=E.left,H.right=E.right,H.parent=E.parent,k(H,S(E)),E===F.root?F.root=H:E===E.parent.left?E.parent.left=H:E.parent.right=H,H.left!==e.SENTINEL&&(H.left.parent=H),H.right!==e.SENTINEL&&(H.right.parent=H)),E.detach(),K){O(x.parent),H!==E&&(O(H),O(H.parent)),D();return}O(x),O(x.parent),H!==E&&(O(H),O(H.parent));let q;for(;x!==F.root&&S(x)===0;)x===x.parent.left?(q=x.parent.right,S(q)===1&&(k(q,0),k(x.parent,1),I(F,x.parent),q=x.parent.right),S(q.left)===0&&S(q.right)===0?(k(q,1),x=x.parent):(S(q.right)===0&&(k(q.left,0),k(q,1),T(F,q),q=x.parent.right),k(q,S(x.parent)),k(x.parent,0),k(q.right,0),I(F,x.parent),x=F.root)):(q=x.parent.left,S(q)===1&&(k(q,0),k(x.parent,1),T(F,x.parent),q=x.parent.left),S(q.left)===0&&S(q.right)===0?(k(q,1),x=x.parent):(S(q.left)===0&&(k(q.right,0),k(q,1),I(F,q),q=x.parent.left),k(q,S(x.parent)),k(x.parent,0),k(q.left,0),T(F,x.parent),x=F.root));k(x,0),D()}function N(F){for(;F.left!==e.SENTINEL;)F=F.left;return F}function D(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function I(F,E){const x=E.right;x.delta+=E.delta,(x.delta<-1073741824||x.delta>1073741824)&&(F.requestNormalizeDelta=!0),x.start+=E.delta,x.end+=E.delta,E.right=x.left,x.left!==e.SENTINEL&&(x.left.parent=E),x.parent=E.parent,E.parent===e.SENTINEL?F.root=x:E===E.parent.left?E.parent.left=x:E.parent.right=x,x.left=E,E.parent=x,R(E),R(x)}function T(F,E){const x=E.left;E.delta-=x.delta,(E.delta<-1073741824||E.delta>1073741824)&&(F.requestNormalizeDelta=!0),E.start-=x.delta,E.end-=x.delta,E.left=x.right,x.right!==e.SENTINEL&&(x.right.parent=E),x.parent=E.parent,E.parent===e.SENTINEL?F.root=x:E===E.parent.right?E.parent.right=x:E.parent.left=x,x.right=E,E.parent=x,R(E),R(x)}function A(F){let E=F.end;if(F.left!==e.SENTINEL){const x=F.left.maxEnd;x>E&&(E=x)}if(F.right!==e.SENTINEL){const x=F.right.maxEnd+F.delta;x>E&&(E=x)}return E}function R(F){F.maxEnd=A(F)}e.recomputeMaxEnd=R;function O(F){for(;F!==e.SENTINEL;){const E=A(F);if(F.maxEnd===E)return;F.maxEnd=E,F=F.parent}}function P(F,E,x,H){return F===x?E-H:F-x}e.intervalCompare=P}),define(Q[379],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class S{constructor(d,r){this.piece=d,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return M(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=S,e.SENTINEL=new S(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=k;function M(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=M;function y(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+y(c.right)}e.calculateSize=y;function w(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+w(c.right)}e.calculateLF=w;function p(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=p;function v(c,d){let r=d.right;r.size_left+=d.size_left+(d.piece?d.piece.length:0),r.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=d),r.parent=d.parent,d.parent===e.SENTINEL?c.root=r:d.parent.left===d?d.parent.left=r:d.parent.right=r,r.left=d,d.parent=r}e.leftRotate=v;function i(c,d){let r=d.left;d.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=d),r.parent=d.parent,d.size_left-=r.size_left+(r.piece?r.piece.length:0),d.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),d.parent===e.SENTINEL?c.root=r:d===d.parent.right?d.parent.right=r:d.parent.left=r,r.right=d,d.parent=r}e.rightRotate=i;function _(c,d){let r,n;if(d.left===e.SENTINEL?(n=d,r=n.right):d.right===e.SENTINEL?(n=d,r=n.left):(n=k(d.right),r=n.right),n===c.root){c.root=r,r.color=0,d.detach(),p(),c.root.parent=e.SENTINEL;return}let o=n.color===1;if(n===n.parent.left?n.parent.left=r:n.parent.right=r,n===d?(r.parent=n.parent,u(c,r)):(n.parent===d?r.parent=n:r.parent=n.parent,u(c,r),n.left=d.left,n.right=d.right,n.parent=d.parent,n.color=d.color,d===c.root?c.root=n:d===d.parent.left?d.parent.left=n:d.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=d.size_left,n.lf_left=d.lf_left,u(c,n)),d.detach(),r.parent.left===r){let l=y(r),h=w(r);if(l!==r.parent.size_left||h!==r.parent.lf_left){let m=l-r.parent.size_left,C=h-r.parent.lf_left;r.parent.size_left=l,r.parent.lf_left=h,a(c,r.parent,m,C)}}if(u(c,r.parent),o){p();return}let t;for(;r!==c.root&&r.color===0;)r===r.parent.left?(t=r.parent.right,t.color===1&&(t.color=0,r.parent.color=1,v(c,r.parent),t=r.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(c,t),t=r.parent.right),t.color=r.parent.color,r.parent.color=0,t.right.color=0,v(c,r.parent),r=c.root)):(t=r.parent.left,t.color===1&&(t.color=0,r.parent.color=1,i(c,r.parent),t=r.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.left.color===0&&(t.right.color=0,t.color=1,v(c,t),t=r.parent.left),t.color=r.parent.color,r.parent.color=0,t.left.color=0,i(c,r.parent),r=c.root));r.color=0,p()}e.rbDelete=_;function s(c,d){for(u(c,d);d!==c.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const r=d.parent.parent.right;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,v(c,d)),d.parent.color=0,d.parent.parent.color=1,i(c,d.parent.parent))}else{const r=d.parent.parent.left;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,i(c,d)),d.parent.color=0,d.parent.parent.color=1,v(c,d.parent.parent))}c.root.color=0}e.fixInsert=s;function a(c,d,r,n){for(;d!==c.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}e.updateTreeMetadata=a;function u(c,d){let r=0,n=0;if(d!==c.root){if(r===0){for(;d!==c.root&&d===d.parent.right;)d=d.parent;if(d===c.root)return;d=d.parent,r=y(d.left)-d.size_left,n=w(d.left)-d.lf_left,d.size_left+=r,d.lf_left+=n}for(;d!==c.root&&(r!==0||n!==0);)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}}e.recomputeTreeMetadata=u}),define(Q[219],J([0,1,102,83]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function M(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class y{constructor(i,_,s,a){this.oldPosition=i,this.oldText=_,this.newPosition=s,this.newText=a}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${M(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${M(this.oldText)}")`:`(replace@${this.oldPosition} "${M(this.oldText)}" with "${M(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,_,s){const a=_.length;S.writeUInt32BE(i,a,s),s+=4;for(let u=0;u<a;u++)S.writeUInt16LE(i,_.charCodeAt(u),s),s+=2;return s}static _readString(i,_){const s=S.readUInt32BE(i,_);return _+=4,k.decodeUTF16LE(i,_,s)}writeSize(){return 4+4+y._writeStringSize(this.oldText)+y._writeStringSize(this.newText)}write(i,_){return S.writeUInt32BE(i,this.oldPosition,_),_+=4,S.writeUInt32BE(i,this.newPosition,_),_+=4,_=y._writeString(i,this.oldText,_),_=y._writeString(i,this.newText,_),_}static read(i,_,s){const a=S.readUInt32BE(i,_);_+=4;const u=S.readUInt32BE(i,_);_+=4;const c=y._readString(i,_);_+=y._writeStringSize(c);const d=y._readString(i,_);return _+=y._writeStringSize(d),s.push(new y(a,c,u,d)),_}}e.TextChange=y;function w(v,i){return v===null||v.length===0?i:new p(v,i).compress()}e.compressConsecutiveTextChanges=w;class p{constructor(i,_){this._prevEdits=i,this._currEdits=_,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,_=0,s=this._getPrev(i),a=this._getCurr(_);for(;i<this._prevLen||_<this._currLen;){if(s===null){this._acceptCurr(a),a=this._getCurr(++_);continue}if(a===null){this._acceptPrev(s),s=this._getPrev(++i);continue}if(a.oldEnd<=s.newPosition){this._acceptCurr(a),a=this._getCurr(++_);continue}if(s.newEnd<=a.oldPosition){this._acceptPrev(s),s=this._getPrev(++i);continue}if(a.oldPosition<s.newPosition){const[n,o]=p._splitCurr(a,s.newPosition-a.oldPosition);this._acceptCurr(n),a=o;continue}if(s.newPosition<a.oldPosition){const[n,o]=p._splitPrev(s,a.oldPosition-s.newPosition);this._acceptPrev(n),s=o;continue}let d,r;if(a.oldEnd===s.newEnd)d=s,r=a,s=this._getPrev(++i),a=this._getCurr(++_);else if(a.oldEnd<s.newEnd){const[n,o]=p._splitPrev(s,a.oldLength);d=n,r=a,s=o,a=this._getCurr(++_)}else{const[n,o]=p._splitCurr(a,s.newLength);d=s,r=n,s=this._getPrev(++i),a=o}this._result[this._resultLen++]=new y(d.oldPosition,d.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const u=p._merge(this._result);return p._removeNoOps(u)}_acceptCurr(i){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,_){return new y(_.oldPosition-i,_.oldText,_.newPosition,_.newText)}static _rebasePrev(i,_){return new y(_.oldPosition,_.oldText,_.newPosition+i,_.newText)}static _splitPrev(i,_){const s=i.newText.substr(0,_),a=i.newText.substr(_);return[new y(i.oldPosition,i.oldText,i.newPosition,s),new y(i.oldEnd,"",i.newPosition+_,a)]}static _splitCurr(i,_){const s=i.oldText.substr(0,_),a=i.oldText.substr(_);return[new y(i.oldPosition,s,i.newPosition,i.newText),new y(i.oldPosition+_,a,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let _=[],s=0,a=i[0];for(let u=1;u<i.length;u++){const c=i[u];a.oldEnd===c.oldPosition?a=new y(a.oldPosition,a.oldText+c.oldText,a.newPosition,a.newText+c.newText):(_[s++]=a,a=c)}return _[s++]=a,_}static _removeNoOps(i){if(i.length===0)return i;let _=[],s=0;for(let a=0;a<i.length;a++){const u=i[a];u.oldText!==u.newText&&(_[s++]=u)}return _}}}),define(Q[380],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.ModelRawFlush=void 0;class S{constructor(){this.changeType=1}}e.ModelRawFlush=S;class k{constructor(_,s){this.changeType=2,this.lineNumber=_,this.detail=s}}e.ModelRawLineChanged=k;class M{constructor(_,s){this.changeType=3,this.fromLineNumber=_,this.toLineNumber=s}}e.ModelRawLinesDeleted=M;class y{constructor(_,s,a){this.changeType=4,this.fromLineNumber=_,this.toLineNumber=s,this.detail=a}}e.ModelRawLinesInserted=y;class w{constructor(){this.changeType=5}}e.ModelRawEOLChanged=w;class p{constructor(_,s,a,u){this.changes=_,this.versionId=s,this.isUndoing=a,this.isRedoing=u,this.resultingSelection=null}containsEvent(_){for(let s=0,a=this.changes.length;s<a;s++)if(this.changes[s].changeType===_)return!0;return!1}static merge(_,s){const a=[].concat(_.changes).concat(s.changes),u=s.versionId,c=_.isUndoing||s.isUndoing,d=_.isRedoing||s.isRedoing;return new p(a,u,c,d)}}e.ModelRawContentChangedEvent=p;class v{constructor(_,s){this.rawContentChangedEvent=_,this.contentChangedEvent=s}merge(_){const s=p.merge(this.rawContentChangedEvent,_.rawContentChangedEvent),a=v._mergeChangeEvents(this.contentChangedEvent,_.contentChangedEvent);return new v(s,a)}static _mergeChangeEvents(_,s){const a=[].concat(_.changes).concat(s.changes),u=s.eol,c=s.versionId,d=_.isUndoing||s.isUndoing,r=_.isRedoing||s.isRedoing,n=_.isFlush||s.isFlush;return{changes:a,eol:u,versionId:c,isUndoing:d,isRedoing:r,isFlush:n}}}e.InternalModelContentChangeEvent=v}),define(Q[168],J([0,1,8,107,13,3,52]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const p=999;class v{constructor(t,l,h,m){this.searchString=t,this.isRegex=l,this.matchCase=h,this.wordSeparators=m}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let l=null;try{l=S.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(m){return null}if(!l)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new _(l,this.wordSeparators?k.getMapForWordSeparators(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=v;function i(o){if(!o||o.length===0)return!1;for(let t=0,l=o.length;t<l;t++)if(o.charCodeAt(t)===92){if(t++,t>=l)break;const m=o.charCodeAt(t);if(m===110||m===114||m===87||m===119)return!0}return!1}e.isMultilineRegexSource=i;class _{constructor(t,l,h){this.regex=t,this.wordSeparators=l,this.simpleSearch=h}}e.SearchData=_;function s(o,t,l){if(!l)return new w.FindMatch(o,null);let h=[];for(let m=0,C=t.length;m<C;m++)h[m]=t[m];return new w.FindMatch(o,h)}e.createFindMatch=s;class a{constructor(t){let l=[],h=0;for(let m=0,C=t.length;m<C;m++)t.charCodeAt(m)===10&&(l[h++]=m);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(t){const l=this._lineFeedsOffsets;let h=0,m=l.length-1;if(m===-1||t<=l[0])return 0;for(;h<m;){const C=h+((m-h)/2>>0);l[C]>=t?m=C-1:l[C+1]>=t?(h=C,m=C):h=C+1}return h+1}}class u{static findMatches(t,l,h,m,C){const g=l.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(t,h,new n(g.wordSeparators,g.regex),m,C):this._doFindMatchesLineByLine(t,h,g,m,C):[]}static _getMultilineMatchRange(t,l,h,m,C,g){let f,b=0;m?(b=m.findLineFeedCountBeforeOffset(C),f=l+C+b):f=l+C;let L;if(m){let T=m.findLineFeedCountBeforeOffset(C+g.length)-b;L=f+g.length+T}else L=f+g.length;const N=t.getPositionAt(f),D=t.getPositionAt(L);return new y.Range(N.lineNumber,N.column,D.lineNumber,D.column)}static _doFindMatchesMultiline(t,l,h,m,C){const g=t.getOffsetAt(l.getStartPosition()),f=t.getValueInRange(l,1),b=t.getEOL()===`\r
`?new a(f):null,L=[];let N=0,D;for(h.reset(0);D=h.next(f);)if(L[N++]=s(this._getMultilineMatchRange(t,g,f,b,D.index,D[0]),D,m),N>=C)return L;return L}static _doFindMatchesLineByLine(t,l,h,m,C){const g=[];let f=0;if(l.startLineNumber===l.endLineNumber){const L=t.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return f=this._findMatchesInLine(h,L,l.startLineNumber,l.startColumn-1,f,g,m,C),g}const b=t.getLineContent(l.startLineNumber).substring(l.startColumn-1);f=this._findMatchesInLine(h,b,l.startLineNumber,l.startColumn-1,f,g,m,C);for(let L=l.startLineNumber+1;L<l.endLineNumber&&f<C;L++)f=this._findMatchesInLine(h,t.getLineContent(L),L,0,f,g,m,C);if(f<C){const L=t.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);f=this._findMatchesInLine(h,L,l.endLineNumber,0,f,g,m,C)}return g}static _findMatchesInLine(t,l,h,m,C,g,f,b){const L=t.wordSeparators;if(!f&&t.simpleSearch){const I=t.simpleSearch,T=I.length,A=l.length;let R=-T;for(;(R=l.indexOf(I,R+T))!==-1;)if((!L||r(L,l,A,R,T))&&(g[C++]=new w.FindMatch(new y.Range(h,R+1+m,h,R+1+T+m),null),C>=b))return C;return C}const N=new n(t.wordSeparators,t.regex);let D;N.reset(0);do if(D=N.next(l),D&&(g[C++]=s(new y.Range(h,D.index+1+m,h,D.index+1+D[0].length+m),D,f),C>=b))return C;while(D);return C}static findNextMatch(t,l,h,m){const C=l.parseSearchRequest();if(!C)return null;const g=new n(C.wordSeparators,C.regex);return C.regex.multiline?this._doFindNextMatchMultiline(t,h,g,m):this._doFindNextMatchLineByLine(t,h,g,m)}static _doFindNextMatchMultiline(t,l,h,m){const C=new M.Position(l.lineNumber,1),g=t.getOffsetAt(C),f=t.getLineCount(),b=t.getValueInRange(new y.Range(C.lineNumber,C.column,f,t.getLineMaxColumn(f)),1),L=t.getEOL()===`\r
`?new a(b):null;h.reset(l.column-1);let N=h.next(b);return N?s(this._getMultilineMatchRange(t,g,b,L,N.index,N[0]),N,m):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(t,new M.Position(1,1),h,m):null}static _doFindNextMatchLineByLine(t,l,h,m){const C=t.getLineCount(),g=l.lineNumber,f=t.getLineContent(g),b=this._findFirstMatchInLine(h,f,g,l.column,m);if(b)return b;for(let L=1;L<=C;L++){const N=(g+L-1)%C,D=t.getLineContent(N+1),I=this._findFirstMatchInLine(h,D,N+1,1,m);if(I)return I}return null}static _findFirstMatchInLine(t,l,h,m,C){t.reset(m-1);const g=t.next(l);return g?s(new y.Range(h,g.index+1,h,g.index+1+g[0].length),g,C):null}static findPreviousMatch(t,l,h,m){const C=l.parseSearchRequest();if(!C)return null;const g=new n(C.wordSeparators,C.regex);return C.regex.multiline?this._doFindPreviousMatchMultiline(t,h,g,m):this._doFindPreviousMatchLineByLine(t,h,g,m)}static _doFindPreviousMatchMultiline(t,l,h,m){const C=this._doFindMatchesMultiline(t,new y.Range(1,1,l.lineNumber,l.column),h,m,10*p);if(C.length>0)return C[C.length-1];const g=t.getLineCount();return l.lineNumber!==g||l.column!==t.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(t,new M.Position(g,t.getLineMaxColumn(g)),h,m):null}static _doFindPreviousMatchLineByLine(t,l,h,m){const C=t.getLineCount(),g=l.lineNumber,f=t.getLineContent(g).substring(0,l.column-1),b=this._findLastMatchInLine(h,f,g,m);if(b)return b;for(let L=1;L<=C;L++){const N=(C+g-L-1)%C,D=t.getLineContent(N+1),I=this._findLastMatchInLine(h,D,N+1,m);if(I)return I}return null}static _findLastMatchInLine(t,l,h,m){let C=null,g;for(t.reset(0);g=t.next(l);)C=s(new y.Range(h,g.index+1,h,g.index+1+g[0].length),g,m);return C}}e.TextModelSearch=u;function c(o,t,l,h,m){if(h===0)return!0;const C=t.charCodeAt(h-1);if(o.get(C)!==0||C===13||C===10)return!0;if(m>0){const g=t.charCodeAt(h);if(o.get(g)!==0)return!0}return!1}function d(o,t,l,h,m){if(h+m===l)return!0;const C=t.charCodeAt(h+m);if(o.get(C)!==0||C===13||C===10)return!0;if(m>0){const g=t.charCodeAt(h+m-1);if(o.get(g)!==0)return!0}return!1}function r(o,t,l,h,m){return c(o,t,l,h,m)&&d(o,t,l,h,m)}e.isValidMatch=r;class n{constructor(t,l){this._wordSeparators=t,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const l=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(h=this._searchRegex.exec(t),!h))return null;const m=h.index,C=h[0].length;if(m===this._prevMatchStartIndex&&C===this._prevMatchLength){if(C===0){S.getNextCodePoint(t,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=m,this._prevMatchLength=C,!this._wordSeparators||r(this._wordSeparators,t,l,m,C))return h}while(h);return null}}e.Searcher=n}),define(Q[220],J([0,1,13,3,52,379,168]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function p(r){let n;return r[r.length-1]<65536?n=new Uint16Array(r.length):n=new Uint32Array(r.length),n.set(r,0),n}e.createUintArray=p;class v{constructor(n,o,t,l,h){this.lineStarts=n,this.cr=o,this.lf=t,this.crlf=l,this.isBasicASCII=h}}e.LineStarts=v;function i(r,n=!0){let o=[0],t=1;for(let l=0,h=r.length;l<h;l++){const m=r.charCodeAt(l);m===13?l+1<h&&r.charCodeAt(l+1)===10?(o[t++]=l+2,l++):o[t++]=l+1:m===10&&(o[t++]=l+1)}return n?p(o):o}e.createLineStartsFast=i;function _(r,n){r.length=0,r[0]=0;let o=1,t=0,l=0,h=0,m=!0;for(let g=0,f=n.length;g<f;g++){const b=n.charCodeAt(g);b===13?g+1<f&&n.charCodeAt(g+1)===10?(h++,r[o++]=g+2,g++):(t++,r[o++]=g+1):b===10?(l++,r[o++]=g+1):m&&b!==9&&(b<32||b>126)&&(m=!1)}const C=new v(p(r),t,l,h,m);return r.length=0,C}e.createLineStarts=_;class s{constructor(n,o,t,l,h){this.bufferIndex=n,this.start=o,this.end=t,this.lineFeedCnt=l,this.length=h}}e.Piece=s;class a{constructor(n,o){this.buffer=n,this.lineStarts=o}}e.StringBuffer=a;class u{constructor(n,o){this._pieces=[],this._tree=n,this._BOM=o,this._index=0,n.root!==y.SENTINEL&&n.iterate(n.root,t=>(t!==y.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(n){this._limit=n,this._cache=[]}get(n){for(let o=this._cache.length-1;o>=0;o--){let t=this._cache[o];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let o=this._cache.length-1;o>=0;o--){let t=this._cache[o];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let o=!1,t=this._cache;for(let l=0;l<t.length;l++){let h=t[l];if(h.node.parent===null||h.nodeStartOffset>=n){t[l]=null,o=!0;continue}}if(o){let l=[];for(const h of t)h!==null&&l.push(h);this._cache=l}}}class d{constructor(n,o,t){this.create(n,o,t)}create(n,o,t){this._buffers=[new a("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=y.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=o,this._EOLLength=o.length,this._EOLNormalized=t;let l=null;for(let h=0,m=n.length;h<m;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=i(n[h].buffer));let C=new s(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this._buffers.push(n[h]),l=this.rbInsertRight(l,C)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let o=e.AverageBufferSize,t=o-Math.floor(o/3),l=t*2,h="",m=0,C=[];if(this.iterate(this.root,g=>{let f=this.getNodeContent(g),b=f.length;if(m<=t||m+b<l)return h+=f,m+=b,!0;let L=h.replace(/\r\n|\r|\n/g,n);return C.push(new a(L,i(L))),h=f,m=b,!0}),m>0){let g=h.replace(/\r\n|\r|\n/g,n);C.push(new a(g,i(g)))}this.create(C,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new u(this,n)}getOffsetAt(n,o){let t=0,l=this.root;for(;l!==y.SENTINEL;)if(l.left!==y.SENTINEL&&l.lf_left+1>=n)l=l.left;else{if(l.lf_left+l.piece.lineFeedCnt+1>=n)return t+=l.size_left,t+=this.getAccumulatedValue(l,n-l.lf_left-2)+o-1;n-=l.lf_left+l.piece.lineFeedCnt,t+=l.size_left+l.piece.length,l=l.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let o=this.root,t=0,l=n;for(;o!==y.SENTINEL;)if(o.size_left!==0&&o.size_left>=n)o=o.left;else if(o.size_left+o.piece.length>=n){let h=this.getIndexOf(o,n-o.size_left);if(t+=o.lf_left+h.index,h.index===0){let m=this.getOffsetAt(t+1,1),C=l-m;return new S.Position(t+1,C+1)}return new S.Position(t+1,h.remainder+1)}else if(n-=o.size_left+o.piece.length,t+=o.lf_left+o.piece.lineFeedCnt,o.right===y.SENTINEL){let h=this.getOffsetAt(t+1,1),m=l-n-h;return new S.Position(t+1,m+1)}else o=o.right;return new S.Position(1,1)}getValueInRange(n,o){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),l=this.nodeAt2(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,l);return o?o!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,o):o===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,o):h}getValueInRange2(n,o){if(n.node===o.node){let C=n.node,g=this._buffers[C.piece.bufferIndex].buffer,f=this.offsetInBuffer(C.piece.bufferIndex,C.piece.start);return g.substring(f+n.remainder,f+o.remainder)}let t=n.node,l=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),m=l.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==y.SENTINEL;){let C=this._buffers[t.piece.bufferIndex].buffer,g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===o.node){m+=C.substring(g,g+o.remainder);break}else m+=C.substr(g,t.piece.length);t=t.next()}return m}getLinesContent(){let n=[],o=0,t="",l=!1;return this.iterate(this.root,h=>{if(h===y.SENTINEL)return!0;const m=h.piece;let C=m.length;if(C===0)return!0;const g=this._buffers[m.bufferIndex].buffer,f=this._buffers[m.bufferIndex].lineStarts,b=m.start.line,L=m.end.line;let N=f[b]+m.start.column;if(l&&(g.charCodeAt(N)===10&&(N++,C--),n[o++]=t,t="",l=!1,C===0))return!0;if(b===L)return!this._EOLNormalized&&g.charCodeAt(N+C-1)===13?(l=!0,t+=g.substr(N,C-1)):t+=g.substr(N,C),!0;t+=this._EOLNormalized?g.substring(N,Math.max(N,f[b+1]-this._EOLLength)):g.substring(N,f[b+1]).replace(/(\r\n|\r|\n)$/,""),n[o++]=t;for(let D=b+1;D<L;D++)t=this._EOLNormalized?g.substring(f[D],f[D+1]-this._EOLLength):g.substring(f[D],f[D+1]).replace(/(\r\n|\r|\n)$/,""),n[o++]=t;return!this._EOLNormalized&&g.charCodeAt(f[L]+m.end.column-1)===13?(l=!0,m.end.column===0?o--:t=g.substr(f[L],m.end.column-1)):t=g.substr(f[L],m.end.column),!0}),l&&(n[o++]=t,t=""),n[o++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let o=n.node.next();if(!o)return 0;let t=this._buffers[o.piece.bufferIndex],l=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return t.buffer.charCodeAt(l)}else{let o=this._buffers[n.node.piece.bufferIndex],l=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return o.buffer.charCodeAt(l)}}getLineCharCode(n,o){let t=this.nodeAt2(n,o+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let o=this.getOffsetAt(n,1);return this.getLength()-o}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,o,t,l,h,m,C,g,f,b,L){let N=this._buffers[n.piece.bufferIndex],D=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),I=this.offsetInBuffer(n.piece.bufferIndex,h),T=this.offsetInBuffer(n.piece.bufferIndex,m),A,R={line:0,column:0},O,P;o._wordSeparators?(O=N.buffer.substring(I,T),P=F=>F+I,o.reset(0)):(O=N.buffer,P=F=>F,o.reset(I));do if(A=o.next(O),A){if(P(A.index)>=T)return b;this.positionInBuffer(n,P(A.index)-D,R);let F=this.getLineFeedCnt(n.piece.bufferIndex,h,R),E=R.line===h.line?R.column-h.column+l:R.column+1,x=E+A[0].length;if(L[b++]=w.createFindMatch(new k.Range(t+F,E,t+F,x),A,g),P(A.index)+A[0].length>=T||b>=f)return b}while(A);return b}findMatchesLineByLine(n,o,t,l){const h=[];let m=0;const C=new w.Searcher(o.wordSeparators,o.regex);let g=this.nodeAt2(n.startLineNumber,n.startColumn);if(g===null)return[];let f=this.nodeAt2(n.endLineNumber,n.endColumn);if(f===null)return[];let b=this.positionInBuffer(g.node,g.remainder),L=this.positionInBuffer(f.node,f.remainder);if(g.node===f.node)return this.findMatchesInNode(g.node,C,n.startLineNumber,n.startColumn,b,L,o,t,l,m,h),h;let N=n.startLineNumber,D=g.node;for(;D!==f.node;){let T=this.getLineFeedCnt(D.piece.bufferIndex,b,D.piece.end);if(T>=1){let R=this._buffers[D.piece.bufferIndex].lineStarts,O=this.offsetInBuffer(D.piece.bufferIndex,D.piece.start),P=R[b.line+T],F=N===n.startLineNumber?n.startColumn:1;if(m=this.findMatchesInNode(D,C,N,F,b,this.positionInBuffer(D,P-O),o,t,l,m,h),m>=l)return h;N+=T}let A=N===n.startLineNumber?n.startColumn-1:0;if(N===n.endLineNumber){const R=this.getLineContent(N).substring(A,n.endColumn-1);return m=this._findMatchesInLine(o,C,R,n.endLineNumber,A,m,h,t,l),h}if(m=this._findMatchesInLine(o,C,this.getLineContent(N).substr(A),N,A,m,h,t,l),m>=l)return h;N++,g=this.nodeAt2(N,1),D=g.node,b=this.positionInBuffer(g.node,g.remainder)}if(N===n.endLineNumber){let T=N===n.startLineNumber?n.startColumn-1:0;const A=this.getLineContent(N).substring(T,n.endColumn-1);return m=this._findMatchesInLine(o,C,A,n.endLineNumber,T,m,h,t,l),h}let I=N===n.startLineNumber?n.startColumn:1;return m=this.findMatchesInNode(f.node,C,N,I,b,L,o,t,l,m,h),h}_findMatchesInLine(n,o,t,l,h,m,C,g,f){const b=n.wordSeparators;if(!g&&n.simpleSearch){const N=n.simpleSearch,D=N.length,I=t.length;let T=-D;for(;(T=t.indexOf(N,T+D))!==-1;)if((!b||w.isValidMatch(b,t,I,T,D))&&(C[m++]=new M.FindMatch(new k.Range(l,T+1+h,l,T+1+D+h),null),m>=f))return m;return m}let L;o.reset(0);do if(L=o.next(t),L&&(C[m++]=w.createFindMatch(new k.Range(l,L.index+1+h,l,L.index+1+L[0].length+h),L,g),m>=f))return m;while(L);return m}insert(n,o,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==y.SENTINEL){let{node:l,remainder:h,nodeStartOffset:m}=this.nodeAt(n),C=l.piece,g=C.bufferIndex,f=this.positionInBuffer(l,h);if(l.piece.bufferIndex===0&&C.end.line===this._lastChangeBufferPos.line&&C.end.column===this._lastChangeBufferPos.column&&m+C.length===n&&o.length<e.AverageBufferSize){this.appendToNode(l,o),this.computeBufferMetadata();return}if(m===n)this.insertContentToNodeLeft(o,l),this._searchCache.validate(n);else if(m+l.piece.length>n){let b=[],L=new s(C.bufferIndex,f,C.end,this.getLineFeedCnt(C.bufferIndex,f,C.end),this.offsetInBuffer(g,C.end)-this.offsetInBuffer(g,f));if(this.shouldCheckCRLF()&&this.endWithCR(o)&&this.nodeCharCodeAt(l,h)===10){let T={line:L.start.line+1,column:0};L=new s(L.bufferIndex,T,L.end,this.getLineFeedCnt(L.bufferIndex,T,L.end),L.length-1),o+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(o))if(this.nodeCharCodeAt(l,h-1)===13){let T=this.positionInBuffer(l,h-1);this.deleteNodeTail(l,T),o="\r"+o,l.piece.length===0&&b.push(l)}else this.deleteNodeTail(l,f);else this.deleteNodeTail(l,f);let N=this.createNewPieces(o);L.length>0&&this.rbInsertRight(l,L);let D=l;for(let I=0;I<N.length;I++)D=this.rbInsertRight(D,N[I]);this.deleteNodes(b)}else this.insertContentToNodeRight(o,l)}else{let l=this.createNewPieces(o),h=this.rbInsertLeft(null,l[0]);for(let m=1;m<l.length;m++)h=this.rbInsertRight(h,l[m])}this.computeBufferMetadata()}delete(n,o){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",o<=0||this.root===y.SENTINEL)return;let t=this.nodeAt(n),l=this.nodeAt(n+o),h=t.node,m=l.node;if(h===m){let N=this.positionInBuffer(h,t.remainder),D=this.positionInBuffer(h,l.remainder);if(t.nodeStartOffset===n){if(o===h.piece.length){let I=h.next();y.rbDelete(this,h),this.validateCRLFWithPrevNode(I),this.computeBufferMetadata();return}this.deleteNodeHead(h,D),this._searchCache.validate(n),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===n+o){this.deleteNodeTail(h,N),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,N,D),this.computeBufferMetadata();return}let C=[],g=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,g),this._searchCache.validate(n),h.piece.length===0&&C.push(h);let f=this.positionInBuffer(m,l.remainder);this.deleteNodeHead(m,f),m.piece.length===0&&C.push(m);let b=h.next();for(let N=b;N!==y.SENTINEL&&N!==m;N=N.next())C.push(N);let L=h.piece.length===0?h.prev():h;this.deleteNodes(C),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}insertContentToNodeLeft(n,o){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(o)){let m=o.piece,C={line:m.start.line+1,column:0},g=new s(m.bufferIndex,C,m.end,this.getLineFeedCnt(m.bufferIndex,C,m.end),m.length-1);o.piece=g,n+=`
`,y.updateTreeMetadata(this,o,-1,-1),o.piece.length===0&&t.push(o)}let l=this.createNewPieces(n),h=this.rbInsertLeft(o,l[l.length-1]);for(let m=l.length-2;m>=0;m--)h=this.rbInsertLeft(h,l[m]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(n,o){this.adjustCarriageReturnFromNext(n,o)&&(n+=`
`);let t=this.createNewPieces(n),l=this.rbInsertRight(o,t[0]),h=l;for(let m=1;m<t.length;m++)h=this.rbInsertRight(h,t[m]);this.validateCRLFWithPrevNode(l)}positionInBuffer(n,o,t){let l=n.piece,h=n.piece.bufferIndex,m=this._buffers[h].lineStarts,g=m[l.start.line]+l.start.column+o,f=l.start.line,b=l.end.line,L=0,N=0,D=0;for(;f<=b&&(L=f+(b-f)/2|0,D=m[L],L!==b);)if(N=m[L+1],g<D)b=L-1;else if(g>=N)f=L+1;else break;return t?(t.line=L,t.column=g-D,null):{line:L,column:g-D}}getLineFeedCnt(n,o,t){if(t.column===0)return t.line-o.line;let l=this._buffers[n].lineStarts;if(t.line===l.length-1)return t.line-o.line;let h=l[t.line+1],m=l[t.line]+t.column;if(h>m+1)return t.line-o.line;let C=m-1;return this._buffers[n].buffer.charCodeAt(C)===13?t.line-o.line+1:t.line-o.line}offsetInBuffer(n,o){return this._buffers[n].lineStarts[o.line]+o.column}deleteNodes(n){for(let o=0;o<n.length;o++)y.rbDelete(this,n[o])}createNewPieces(n){if(n.length>e.AverageBufferSize){let b=[];for(;n.length>e.AverageBufferSize;){const N=n.charCodeAt(e.AverageBufferSize-1);let D;N===13||N>=55296&&N<=56319?(D=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(D=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let I=i(D);b.push(new s(this._buffers.length,{line:0,column:0},{line:I.length-1,column:D.length-I[I.length-1]},I.length-1,D.length)),this._buffers.push(new a(D,I))}let L=i(n);return b.push(new s(this._buffers.length,{line:0,column:0},{line:L.length-1,column:n.length-L[L.length-1]},L.length-1,n.length)),this._buffers.push(new a(n,L)),b}let o=this._buffers[0].buffer.length;const t=i(n,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===o&&o!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let b=0;b<t.length;b++)t[b]+=o+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,o+=1}else{if(o!==0)for(let b=0;b<t.length;b++)t[b]+=o;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const h=this._buffers[0].buffer.length;let m=this._buffers[0].lineStarts.length-1,C=h-this._buffers[0].lineStarts[m],g={line:m,column:C},f=new s(0,l,g,this.getLineFeedCnt(0,l,g),h-o);return this._lastChangeBufferPos=g,[f]}getLineRawContent(n,o=0){let t=this.root,l="",h=this._searchCache.get2(n);if(h){t=h.node;let m=this.getAccumulatedValue(t,n-h.nodeStartLineNumber-1),C=this._buffers[t.piece.bufferIndex].buffer,g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)l=C.substring(g+m,g+t.piece.length);else{let f=this.getAccumulatedValue(t,n-h.nodeStartLineNumber);return C.substring(g+m,g+f-o)}}else{let m=0;const C=n;for(;t!==y.SENTINEL;)if(t.left!==y.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let g=this.getAccumulatedValue(t,n-t.lf_left-2),f=this.getAccumulatedValue(t,n-t.lf_left-1),b=this._buffers[t.piece.bufferIndex].buffer,L=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return m+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:m,nodeStartLineNumber:C-(n-1-t.lf_left)}),b.substring(L+g,L+f-o)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let g=this.getAccumulatedValue(t,n-t.lf_left-2),f=this._buffers[t.piece.bufferIndex].buffer,b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);l=f.substring(b+g,b+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,m+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==y.SENTINEL;){let m=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let C=this.getAccumulatedValue(t,0),g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return l+=m.substring(g,g+C-o),l}else{let C=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);l+=m.substr(C,t.piece.length)}t=t.next()}return l}computeBufferMetadata(){let n=this.root,o=1,t=0;for(;n!==y.SENTINEL;)o+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=o,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,o){let t=n.piece,l=this.positionInBuffer(n,o),h=l.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===o){let m=this.getLineFeedCnt(n.piece.bufferIndex,t.start,l);if(m!==h)return{index:m,remainder:0}}return{index:h,remainder:l.column}}getAccumulatedValue(n,o){if(o<0)return 0;let t=n.piece,l=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+o+1;return h>t.end.line?l[t.end.line]+t.end.column-l[t.start.line]-t.start.column:l[h]-l[t.start.line]-t.start.column}deleteNodeTail(n,o){const t=n.piece,l=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),m=o,C=this.offsetInBuffer(t.bufferIndex,m),g=this.getLineFeedCnt(t.bufferIndex,t.start,m),f=g-l,b=C-h,L=t.length+b;n.piece=new s(t.bufferIndex,t.start,m,g,L),y.updateTreeMetadata(this,n,b,f)}deleteNodeHead(n,o){const t=n.piece,l=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),m=o,C=this.getLineFeedCnt(t.bufferIndex,m,t.end),g=this.offsetInBuffer(t.bufferIndex,m),f=C-l,b=h-g,L=t.length+b;n.piece=new s(t.bufferIndex,m,t.end,C,L),y.updateTreeMetadata(this,n,b,f)}shrinkNode(n,o,t){const l=n.piece,h=l.start,m=l.end,C=l.length,g=l.lineFeedCnt,f=o,b=this.getLineFeedCnt(l.bufferIndex,l.start,f),L=this.offsetInBuffer(l.bufferIndex,o)-this.offsetInBuffer(l.bufferIndex,h);n.piece=new s(l.bufferIndex,l.start,f,b,L),y.updateTreeMetadata(this,n,L-C,b-g);let N=new s(l.bufferIndex,t,m,this.getLineFeedCnt(l.bufferIndex,t,m),this.offsetInBuffer(l.bufferIndex,m)-this.offsetInBuffer(l.bufferIndex,t)),D=this.rbInsertRight(n,N);this.validateCRLFWithPrevNode(D)}appendToNode(n,o){this.adjustCarriageReturnFromNext(o,n)&&(o+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(o)&&this.endWithCR(n),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=o;const h=i(o,!1);for(let D=0;D<h.length;D++)h[D]+=l;if(t){let D=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-D}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const m=this._buffers[0].lineStarts.length-1,C=this._buffers[0].buffer.length-this._buffers[0].lineStarts[m],g={line:m,column:C},f=n.piece.length+o.length,b=n.piece.lineFeedCnt,L=this.getLineFeedCnt(0,n.piece.start,g),N=L-b;n.piece=new s(n.piece.bufferIndex,n.piece.start,g,L,f),this._lastChangeBufferPos=g,y.updateTreeMetadata(this,n,o.length,N)}nodeAt(n){let o=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let l=0;for(;o!==y.SENTINEL;)if(o.size_left>n)o=o.left;else if(o.size_left+o.piece.length>=n){l+=o.size_left;let h={node:o,remainder:n-o.size_left,nodeStartOffset:l};return this._searchCache.set(h),h}else n-=o.size_left+o.piece.length,l+=o.size_left+o.piece.length,o=o.right;return null}nodeAt2(n,o){let t=this.root,l=0;for(;t!==y.SENTINEL;)if(t.left!==y.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2),m=this.getAccumulatedValue(t,n-t.lf_left-1);return l+=t.size_left,{node:t,remainder:Math.min(h+o-1,m),nodeStartOffset:l}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2);if(h+o-1<=t.piece.length)return{node:t,remainder:h+o-1,nodeStartOffset:l};o-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,l+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==y.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),m=this.offsetOfNode(t);return{node:t,remainder:Math.min(o-1,h),nodeStartOffset:m}}else if(t.piece.length>=o-1){let h=this.offsetOfNode(t);return{node:t,remainder:o-1,nodeStartOffset:h}}else o-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,o){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+o;return t.buffer.charCodeAt(l)}offsetOfNode(n){if(!n)return 0;let o=n.size_left;for(;n!==this.root;)n.parent.right===n&&(o+=n.parent.size_left+n.parent.piece.length),n=n.parent;return o}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===y.SENTINEL||n.piece.lineFeedCnt===0)return!1;let o=n.piece,t=this._buffers[o.bufferIndex].lineStarts,l=o.start.line,h=t[l]+o.start.column;return l===t.length-1||t[l+1]>h+1?!1:this._buffers[o.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===y.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let o=n.prev();this.endWithCR(o)&&this.fixCRLF(o,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let o=n.next();this.startWithLF(o)&&this.fixCRLF(n,o)}}fixCRLF(n,o){let t=[],l=this._buffers[n.piece.bufferIndex].lineStarts,h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:l[n.piece.end.line]-l[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const m=n.piece.length-1,C=n.piece.lineFeedCnt-1;n.piece=new s(n.piece.bufferIndex,n.piece.start,h,C,m),y.updateTreeMetadata(this,n,-1,-1),n.piece.length===0&&t.push(n);let g={line:o.piece.start.line+1,column:0};const f=o.piece.length-1,b=this.getLineFeedCnt(o.piece.bufferIndex,g,o.piece.end);o.piece=new s(o.piece.bufferIndex,g,o.piece.end,b,f),y.updateTreeMetadata(this,o,-1,-1),o.piece.length===0&&t.push(o);let L=this.createNewPieces(`\r
`);this.rbInsertRight(n,L[0]);for(let N=0;N<t.length;N++)y.rbDelete(this,t[N])}adjustCarriageReturnFromNext(n,o){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=o.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)y.rbDelete(this,t);else{const l=t.piece,h={line:l.start.line+1,column:0},m=l.length-1,C=this.getLineFeedCnt(l.bufferIndex,h,l.end);t.piece=new s(l.bufferIndex,h,l.end,C,m),y.updateTreeMetadata(this,t,-1,-1)}return!0}}return!1}iterate(n,o){if(n===y.SENTINEL)return o(y.SENTINEL);let t=this.iterate(n.left,o);return t&&o(n)&&this.iterate(n.right,o)}getNodeContent(n){if(n===y.SENTINEL)return"";let o=this._buffers[n.piece.bufferIndex],t,l=n.piece,h=this.offsetInBuffer(l.bufferIndex,l.start),m=this.offsetInBuffer(l.bufferIndex,l.end);return t=o.buffer.substring(h,m),t}getPieceContent(n){let o=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),l=this.offsetInBuffer(n.bufferIndex,n.end);return o.buffer.substring(t,l)}rbInsertRight(n,o){let t=new y.TreeNode(o,1);if(t.left=y.SENTINEL,t.right=y.SENTINEL,t.parent=y.SENTINEL,t.size_left=0,t.lf_left=0,this.root===y.SENTINEL)this.root=t,t.color=0;else if(n.right===y.SENTINEL)n.right=t,t.parent=n;else{let h=y.leftest(n.right);h.left=t,t.parent=h}return y.fixInsert(this,t),t}rbInsertLeft(n,o){let t=new y.TreeNode(o,1);if(t.left=y.SENTINEL,t.right=y.SENTINEL,t.parent=y.SENTINEL,t.size_left=0,t.lf_left=0,this.root===y.SENTINEL)this.root=t,t.color=0;else if(n.left===y.SENTINEL)n.left=t,t.parent=n;else{let l=y.righttest(n.left);l.right=t,t.parent=l}return y.fixInsert(this,t),t}}e.PieceTreeBase=d}),define(Q[132],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function S(p=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)p.indexOf(i)>=0||(v+="\\"+i);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=S();function k(p){let v=e.DEFAULT_WORD_REGEXP;if(p&&p instanceof RegExp)if(p.global)v=p;else{let i="g";p.ignoreCase&&(i+="i"),p.multiline&&(i+="m"),p.unicode&&(i+="u"),v=new RegExp(p.source,i)}return v.lastIndex=0,v}e.ensureValidWordDefinition=k;const M={maxLen:1e3,windowSize:15,timeBudget:150};function y(p,v,i,_,s=M){if(i.length>s.maxLen){let r=p-s.maxLen/2;return r<0?r=0:_+=r,i=i.substring(r,p+s.maxLen/2),y(p,v,i,_,s)}const a=Date.now(),u=p-1-_;let c=-1,d=null;for(let r=1;!(Date.now()-a>=s.timeBudget);r++){const n=u-s.windowSize*r;v.lastIndex=Math.max(0,n);const o=w(v,i,u,c);if(!o&&d||(d=o,n<=0))break;c=n}if(d){let r={word:d[0],startColumn:_+1+d.index,endColumn:_+1+d.index+d[0].length};return v.lastIndex=0,r}return null}e.getWordAtText=y;function w(p,v,i,_){let s;for(;s=p.exec(v);){const a=s.index||0;if(a<=i&&p.lastIndex>=i)return s;if(_>0&&a>_)return null}return null}}),define(Q[381],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class S{constructor(M){this._languageIdentifier=M}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=S}),define(Q[110],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var S;(function(w){w[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent"})(S=e.IndentAction||(e.IndentAction={}));class k{constructor(p){if(this.open=p.open,this.close=p.close,this._standardTokenMask=0,Array.isArray(p.notIn))for(let v=0,i=p.notIn.length;v<i;v++)switch(p.notIn[v]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(p){return(this._standardTokenMask&p)==0}}e.StandardAutoClosingPairConditional=k;class M{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of p)y(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),y(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),y(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),y(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&y(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=M;function y(w,p,v){w.has(p)?w.get(p).push(v):w.set(p,[v])}}),define(Q[382],J([0,1,200,73]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function M(y,w,p,v){if(Array.isArray(y)){let i=0;for(const _ of y){const s=M(_,w,p,v);if(s===10)return s;s>i&&(i=s)}return i}else{if(typeof y=="string")return v?y==="*"?5:y===p?10:0:0;if(y){const{language:i,pattern:_,scheme:s,hasAccessToAllModels:a}=y;if(!v&&!a)return 0;let u=0;if(s)if(s===w.scheme)u=10;else if(s==="*")u=5;else return 0;if(i)if(i===p)u=10;else if(i==="*")u=Math.max(u,5);else return 0;if(_){let c;if(typeof _=="string"?c=_:c=Object.assign(Object.assign({},_),{base:k.normalize(_.base)}),c===w.fsPath||S.match(c,w.fsPath))u=10;else return 0}return u}else return 0}}e.score=M}),define(Q[383],J([0,1,93]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class k{constructor(a,u,c){const d=new Uint8Array(a*u);for(let r=0,n=a*u;r<n;r++)d[r]=c;this._data=d,this.rows=a,this.cols=u}get(a,u){return this._data[a*this.cols+u]}set(a,u,c){this._data[a*this.cols+u]=c}}e.Uint8Matrix=k;class M{constructor(a){let u=0,c=0;for(let r=0,n=a.length;r<n;r++){let[o,t,l]=a[r];t>u&&(u=t),o>c&&(c=o),l>c&&(c=l)}u++,c++;let d=new k(c,u,0);for(let r=0,n=a.length;r<n;r++){let[o,t,l]=a[r];d.set(o,t,l)}this._states=d,this._maxCharCode=u}nextState(a,u){return u<0||u>=this._maxCharCode?0:this._states.get(a,u)}}e.StateMachine=M;let y=null;function w(){return y===null&&(y=new M([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),y}let p=null;function v(){if(p===null){p=new S.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let u=0;u<s.length;u++)p.set(s.charCodeAt(u),1);const a=".,;";for(let u=0;u<a.length;u++)p.set(a.charCodeAt(u),2)}return p}class i{static _createLink(a,u,c,d,r){let n=r-1;do{const o=u.charCodeAt(n);if(a.get(o)!==2)break;n--}while(n>d);if(d>0){const o=u.charCodeAt(d-1),t=u.charCodeAt(n);(o===40&&t===41||o===91&&t===93||o===123&&t===125)&&n--}return{range:{startLineNumber:c,startColumn:d+1,endLineNumber:c,endColumn:n+2},url:u.substring(d,n+1)}}static computeLinks(a,u=w()){const c=v();let d=[];for(let r=1,n=a.getLineCount();r<=n;r++){const o=a.getLineContent(r),t=o.length;let l=0,h=0,m=0,C=1,g=!1,f=!1,b=!1,L=!1;for(;l<t;){let N=!1;const D=o.charCodeAt(l);if(C===13){let I;switch(D){case 40:g=!0,I=0;break;case 41:I=g?0:1;break;case 91:b=!0,f=!0,I=0;break;case 93:b=!1,I=f?0:1;break;case 123:L=!0,I=0;break;case 125:I=L?0:1;break;case 39:I=m===34||m===96?0:1;break;case 34:I=m===39||m===96?0:1;break;case 96:I=m===39||m===34?0:1;break;case 42:I=m===42?1:0;break;case 124:I=m===124?1:0;break;case 32:I=b?0:1;break;default:I=c.get(D)}I===1&&(d.push(i._createLink(c,o,r,h,l)),N=!0)}else if(C===12){let I;D===91?(f=!0,I=0):I=c.get(D),I===1?N=!0:C=13}else C=u.nextState(C,D),C===0&&(N=!0);N&&(C=1,g=!1,f=!1,L=!1,h=l+1,m=D),l++}C===13&&d.push(i._createLink(c,o,r,h,t))}return d}}e.LinkComputer=i;function _(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:i.computeLinks(s)}e.computeLinks=_}),define(Q[169],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function S(y,w){let p=y.getCount(),v=y.findTokenIndexAtOffset(w),i=y.getLanguageId(v),_=v;for(;_+1<p&&y.getLanguageId(_+1)===i;)_++;let s=v;for(;s>0&&y.getLanguageId(s-1)===i;)s--;return new k(y,i,s,_+1,y.getStartOffset(s),y.getEndOffset(_))}e.createScopedLineTokens=S;class k{constructor(w,p,v,i,_,s){this._actual=w,this.languageId=p,this._firstTokenIndex=v,this._lastTokenIndex=i,this.firstCharOffset=_,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(w){return this._actual.getLineContent().substring(0,this.firstCharOffset+w)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(w){return this._actual.findTokenIndexAtOffset(w+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(w){return this._actual.getStandardTokenType(w+this._firstTokenIndex)}}e.ScopedLineTokens=k;function M(y){return(y&7)!=0}e.ignoreBracketsInToken=M}),define(Q[384],J([0,1,110]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(y){if(y.autoClosingPairs?this._autoClosingPairs=y.autoClosingPairs.map(w=>new S.StandardAutoClosingPairConditional(w)):y.brackets?this._autoClosingPairs=y.brackets.map(w=>new S.StandardAutoClosingPairConditional({open:w[0],close:w[1]})):this._autoClosingPairs=[],y.__electricCharacterSupport&&y.__electricCharacterSupport.docComment){const w=y.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new S.StandardAutoClosingPairConditional({open:w.open,close:w.close||""}))}this._autoCloseBefore=typeof y.autoCloseBefore=="string"?y.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=y.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(y,w,p){if(w.getTokenCount()===0)return!0;const v=w.findTokenIndexAtOffset(p-2),i=w.getStandardTokenType(v);return y.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(Q[385],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function S(M){return M.global&&(M.lastIndex=0),!0}class k{constructor(y){this._indentationRules=y}shouldIncrease(y){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&S(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(y))}shouldDecrease(y){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&S(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(y))}shouldIndentNextLine(y){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&S(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(y))}shouldIgnore(y){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&S(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(y))}getIndentMetadata(y){let w=0;return this.shouldIncrease(y)&&(w+=1),this.shouldDecrease(y)&&(w+=2),this.shouldIndentNextLine(y)&&(w+=4),this.shouldIgnore(y)&&(w+=8),w}}e.IndentRulesSupport=k}),define(Q[386],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class S{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(M,y,w,p,v){if(M&&y){let i=this.doNavigateValueSet(y,v);if(i)return{range:M,value:i}}if(w&&p){let i=this.doNavigateValueSet(p,v);if(i)return{range:w,value:i}}return null}doNavigateValueSet(M,y){let w=this.numberReplace(M,y);return w!==null?w:this.textReplace(M,y)}numberReplace(M,y){let w=Math.pow(10,M.length-(M.lastIndexOf(".")+1)),p=Number(M),v=parseFloat(M);return!isNaN(p)&&!isNaN(v)&&p===v?p===0&&!y?null:(p=Math.floor(p*w),p+=y?w:-w,String(p/w)):null}textReplace(M,y){return this.valueSetsReplace(this._defaultValueSet,M,y)}valueSetsReplace(M,y,w){let p=null;for(let v=0,i=M.length;p===null&&v<i;v++)p=this.valueSetReplace(M[v],y,w);return p}valueSetReplace(M,y,w){let p=M.indexOf(y);return p>=0?(p+=w?1:-1,p<0?p=M.length-1:p%=M.length,M[p]):null}}e.BasicInplaceReplace=S,S.INSTANCE=new S}),define(Q[387],J([0,1,12,8,110]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class y{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(v=>{const i=y._createOpenBracketRegExp(v[0]),_=y._createCloseBracketRegExp(v[1]);i&&_&&this._brackets.push({open:v[0],openRegExp:i,close:v[1],closeRegExp:_})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,v,i,_){if(p>=3)for(let s=0,a=this._regExpRules.length;s<a;s++){let u=this._regExpRules[s];if([{reg:u.beforeText,text:i},{reg:u.afterText,text:_},{reg:u.previousLineText,text:v}].every(d=>d.reg?(d.reg.lastIndex=0,d.reg.test(d.text)):!0))return u.action}if(p>=2&&i.length>0&&_.length>0)for(let s=0,a=this._brackets.length;s<a;s++){let u=this._brackets[s];if(u.openRegExp.test(i)&&u.closeRegExp.test(_))return{indentAction:M.IndentAction.IndentOutdent}}if(p>=2&&i.length>0){for(let s=0,a=this._brackets.length;s<a;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:M.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let v=k.escapeRegExpCharacters(p);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",y._safeRegExp(v)}static _createCloseBracketRegExp(p){let v=k.escapeRegExpCharacters(p);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,y._safeRegExp(v)}static _safeRegExp(p){try{return new RegExp(p)}catch(v){return S.onUnexpectedError(v),null}}}e.OnEnterSupport=y}),define(Q[170],J([0,1,8,83,3]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class y{constructor(l,h,m,C,g,f){this.languageIdentifier=l,this.index=h,this.open=m,this.close=C,this.forwardRegex=g,this.reversedRegex=f,this._openSet=y._toSet(this.open),this._closeSet=y._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const h=new Set;for(const m of l)h.add(m);return h}}e.RichEditBracket=y;function w(t){const l=t.length;t=t.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const h=[];for(let f=0;f<l;f++)h[f]=f;const m=(f,b)=>{const[L,N]=f,[D,I]=b;return L===D||L===I||N===D||N===I},C=(f,b)=>{const L=Math.min(f,b),N=Math.max(f,b);for(let D=0;D<l;D++)h[D]===N&&(h[D]=L)};for(let f=0;f<l;f++){const b=t[f];for(let L=f+1;L<l;L++){const N=t[L];m(b,N)&&C(h[f],h[L])}}const g=[];for(let f=0;f<l;f++){let b=[],L=[];for(let N=0;N<l;N++)if(h[N]===f){const[D,I]=t[N];b.push(D),L.push(I)}b.length>0&&g.push({open:b,close:L})}return g}class p{constructor(l,h){const m=w(h);this.brackets=m.map((C,g)=>new y(l,g,C.open,C.close,s(C.open,C.close,m,g),a(C.open,C.close,m,g))),this.forwardRegex=u(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const C of this.brackets){for(const g of C.open)this.textIsBracket[g]=C,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of C.close)this.textIsBracket[g]=C,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=p;function v(t,l,h,m){for(let C=0,g=l.length;C<g;C++){if(C===h)continue;const f=l[C];for(const b of f.open)b.indexOf(t)>=0&&m.push(b);for(const b of f.close)b.indexOf(t)>=0&&m.push(b)}}function i(t,l){return t.length-l.length}function _(t){if(t.length<=1)return t;const l=[],h=new Set;for(const m of t)h.has(m)||(l.push(m),h.add(m));return l}function s(t,l,h,m){let C=[];C=C.concat(t),C=C.concat(l);for(let g=0,f=C.length;g<f;g++)v(C[g],h,m,C);return C=_(C),C.sort(i),C.reverse(),r(C)}function a(t,l,h,m){let C=[];C=C.concat(t),C=C.concat(l);for(let g=0,f=C.length;g<f;g++)v(C[g],h,m,C);return C=_(C),C.sort(i),C.reverse(),r(C.map(n))}function u(t){let l=[];for(const h of t){for(const m of h.open)l.push(m);for(const m of h.close)l.push(m)}return l=_(l),r(l)}function c(t){let l=[];for(const h of t){for(const m of h.open)l.push(m);for(const m of h.close)l.push(m)}return l=_(l),r(l.map(n))}function d(t){const l=/^[\w ]+$/.test(t);return t=S.escapeRegExpCharacters(t),l?`\\b${t}\\b`:t}function r(t){let l=`(${t.map(d).join(")|(")})`;return S.createRegExp(l,!0)}const n=function(){function t(m){if(k.hasTextDecoder){const C=new Uint16Array(m.length);let g=0;for(let f=m.length-1;f>=0;f--)C[g++]=m.charCodeAt(f);return k.getPlatformTextDecoder().decode(C)}else{let C=[],g=0;for(let f=m.length-1;f>=0;f--)C[g++]=m.charAt(f);return C.join("")}}let l=null,h=null;return function(C){return l!==C&&(l=C,h=t(l)),h}}();class o{static _findPrevBracketInText(l,h,m,C){let g=m.match(l);if(!g)return null;let f=m.length-(g.index||0),b=g[0].length,L=C+f;return new M.Range(h,L-b+1,h,L+1)}static findPrevBracketInRange(l,h,m,C,g){const b=n(m).substring(m.length-g,m.length-C);return this._findPrevBracketInText(l,h,b,C)}static findNextBracketInText(l,h,m,C){let g=m.match(l);if(!g)return null;let f=g.index||0,b=g[0].length;if(b===0)return null;let L=C+f;return new M.Range(h,L+1,h,L+1+b)}static findNextBracketInRange(l,h,m,C,g){const f=m.substring(C,g);return this.findNextBracketInText(l,h,f,C)}}e.BracketsUtils=o}),define(Q[388],J([0,1,169,170]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class M{constructor(w){this._richEditBrackets=w}getElectricCharacters(){let w=[];if(this._richEditBrackets)for(const p of this._richEditBrackets.brackets)for(const v of p.close){const i=v.charAt(v.length-1);w.push(i)}return w=w.filter((p,v,i)=>i.indexOf(p)===v),w}onElectricCharacter(w,p,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=p.findTokenIndexAtOffset(v-1);if(S.ignoreBracketsInToken(p.getStandardTokenType(i)))return null;const _=this._richEditBrackets.reversedRegex,s=p.getLineContent().substring(0,v-1)+w,a=k.BracketsUtils.findPrevBracketInRange(_,1,s,0,s.length);if(!a)return null;const u=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[u])return null;const d=p.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:u}:null}}e.BracketElectricCharacterSupport=M}),define(Q[43],J([0,1,6,2,8,132,110,169,384,388,385,387,170]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class u{constructor(t,l){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=l,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new s.OnEnterSupport(this._conf):null,this.comments=u._handleComments(this._conf),this.characterPair=new v.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||y.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new _.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new a.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,l,h,m){return this._onEnterSupport?this._onEnterSupport.onEnter(t,l,h,m):null}static _handleComments(t){let l=t.comments;if(!l)return null;let h={};if(l.lineComment&&(h.lineCommentToken=l.lineComment),l.blockComment){let[m,C]=l.blockComment;h.blockCommentStartToken=m,h.blockCommentEndToken=C}return h}}e.RichEditSupport=u;class c{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=c;class d{constructor(t,l,h){this.configuration=t,this.priority=l,this.order=h}static cmp(t,l){return t.priority===l.priority?t.order-l.order:t.priority-l.priority}}class r{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,l){const h=new d(t,l,++this._order);return this._entries.push(h),this._resolved=null,k.toDisposable(()=>{for(let m=0;m<this._entries.length;m++)if(this._entries[m]===h){this._entries.splice(m,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new u(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(d.cmp);const t={};for(const l of this._entries){const h=l.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries2=new Map,this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event}register(t,l,h=0){let m=this._entries2.get(t.id);m||(m=new r(t),this._entries2.set(t.id,m));const C=m.register(l,h);return this._onDidChange.fire(new c(t)),k.toDisposable(()=>{C.dispose(),this._onDidChange.fire(new c(t))})}_getRichEditSupport(t){const l=this._entries2.get(t);return l?l.getRichEditSupport():null}getIndentationRules(t){const l=this._getRichEditSupport(t);return l&&l.indentationRules||null}_getElectricCharacterSupport(t){let l=this._getRichEditSupport(t);return l&&l.electricCharacter||null}getElectricCharacters(t){let l=this._getElectricCharacterSupport(t);return l?l.getElectricCharacters():[]}onElectricCharacter(t,l,h){let m=p.createScopedLineTokens(l,h-1),C=this._getElectricCharacterSupport(m.languageId);return C?C.onElectricCharacter(t,m,h-m.firstCharOffset):null}getComments(t){let l=this._getRichEditSupport(t);return l&&l.comments||null}_getCharacterPairSupport(t){let l=this._getRichEditSupport(t);return l&&l.characterPair||null}getAutoClosingPairs(t){const l=this._getCharacterPairSupport(t);return new w.AutoClosingPairs(l?l.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let l=this._getCharacterPairSupport(t);return l?l.getAutoCloseBeforeSet():v.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let l=this._getCharacterPairSupport(t);return l?l.getSurroundingPairs():[]}shouldAutoClosePair(t,l,h){const m=p.createScopedLineTokens(l,h-1);return v.CharacterPairSupport.shouldAutoClosePair(t,m,h-m.firstCharOffset)}getWordDefinition(t){let l=this._getRichEditSupport(t);return l?y.ensureValidWordDefinition(l.wordDefinition||null):y.ensureValidWordDefinition(null)}getFoldingRules(t){let l=this._getRichEditSupport(t);return l?l.foldingRules:{}}getIndentRulesSupport(t){let l=this._getRichEditSupport(t);return l&&l.indentRulesSupport||null}getPrecedingValidLine(t,l,h){let m=t.getLanguageIdAtPosition(l,0);if(l>1){let C,g=-1;for(C=l-1;C>=1;C--){if(t.getLanguageIdAtPosition(C,0)!==m)return g;let f=t.getLineContent(C);if(h.shouldIgnore(f)||/^\s+$/.test(f)||f===""){g=C;continue}return C}}return-1}getInheritIndentForLine(t,l,h,m=!0){if(t<4)return null;const C=this.getIndentRulesSupport(l.getLanguageIdentifier().id);if(!C)return null;if(h<=1)return{indentation:"",action:null};const g=this.getPrecedingValidLine(l,h,C);if(g<0)return null;if(g<1)return{indentation:"",action:null};const f=l.getLineContent(g);if(C.shouldIncrease(f)||C.shouldIndentNextLine(f))return{indentation:M.getLeadingWhitespace(f),action:w.IndentAction.Indent,line:g};if(C.shouldDecrease(f))return{indentation:M.getLeadingWhitespace(f),action:null,line:g};{if(g===1)return{indentation:M.getLeadingWhitespace(l.getLineContent(g)),action:null,line:g};const b=g-1,L=C.getIndentMetadata(l.getLineContent(b));if(!(L&(1|2))&&L&4){let N=0;for(let D=b-1;D>0;D--)if(!C.shouldIndentNextLine(l.getLineContent(D))){N=D;break}return{indentation:M.getLeadingWhitespace(l.getLineContent(N+1)),action:null,line:N+1}}if(m)return{indentation:M.getLeadingWhitespace(l.getLineContent(g)),action:null,line:g};for(let N=g;N>0;N--){const D=l.getLineContent(N);if(C.shouldIncrease(D))return{indentation:M.getLeadingWhitespace(D),action:w.IndentAction.Indent,line:N};if(C.shouldIndentNextLine(D)){let I=0;for(let T=N-1;T>0;T--)if(!C.shouldIndentNextLine(l.getLineContent(N))){I=T;break}return{indentation:M.getLeadingWhitespace(l.getLineContent(I+1)),action:null,line:I+1}}else if(C.shouldDecrease(D))return{indentation:M.getLeadingWhitespace(D),action:null,line:N}}return{indentation:M.getLeadingWhitespace(l.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,l,h,m,C){if(t<4)return null;const g=this._getRichEditSupport(h);if(!g)return null;const f=this.getIndentRulesSupport(h);if(!f)return null;const b=this.getInheritIndentForLine(t,l,m),L=l.getLineContent(m);if(b){const N=b.line;if(N!==void 0){const D=g.onEnter(t,"",l.getLineContent(N),"");if(D){let I=M.getLeadingWhitespace(l.getLineContent(N));return D.removeText&&(I=I.substring(0,I.length-D.removeText)),D.indentAction===w.IndentAction.Indent||D.indentAction===w.IndentAction.IndentOutdent?I=C.shiftIndent(I):D.indentAction===w.IndentAction.Outdent&&(I=C.unshiftIndent(I)),f.shouldDecrease(L)&&(I=C.unshiftIndent(I)),D.appendText&&(I+=D.appendText),M.getLeadingWhitespace(I)}}return f.shouldDecrease(L)?b.action===w.IndentAction.Indent?b.indentation:C.unshiftIndent(b.indentation):b.action===w.IndentAction.Indent?C.shiftIndent(b.indentation):b.indentation}return null}getIndentForEnter(t,l,h,m){if(t<4)return null;l.forceTokenization(h.startLineNumber);const C=l.getLineTokens(h.startLineNumber),g=p.createScopedLineTokens(C,h.startColumn-1),f=g.getLineContent();let b=!1,L;g.firstCharOffset>0&&C.getLanguageId(0)!==g.languageId?(b=!0,L=f.substr(0,h.startColumn-1-g.firstCharOffset)):L=C.getLineContent().substring(0,h.startColumn-1);let N;h.isEmpty()?N=f.substr(h.startColumn-1-g.firstCharOffset):N=this.getScopedLineTokens(l,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset);const D=this.getIndentRulesSupport(g.languageId);if(!D)return null;const I=L,T=M.getLeadingWhitespace(L),A={getLineTokens:F=>l.getLineTokens(F),getLanguageIdentifier:()=>l.getLanguageIdentifier(),getLanguageIdAtPosition:(F,E)=>l.getLanguageIdAtPosition(F,E),getLineContent:F=>F===h.startLineNumber?I:l.getLineContent(F)},R=M.getLeadingWhitespace(C.getLineContent()),O=this.getInheritIndentForLine(t,A,h.startLineNumber+1);if(!O){const F=b?R:T;return{beforeEnter:F,afterEnter:F}}let P=b?R:O.indentation;return O.action===w.IndentAction.Indent&&(P=m.shiftIndent(P)),D.shouldDecrease(N)&&(P=m.unshiftIndent(P)),{beforeEnter:b?R:T,afterEnter:P}}getIndentActionForType(t,l,h,m,C){if(t<4)return null;const g=this.getScopedLineTokens(l,h.startLineNumber,h.startColumn);if(g.firstCharOffset)return null;const f=this.getIndentRulesSupport(g.languageId);if(!f)return null;const b=g.getLineContent(),L=b.substr(0,h.startColumn-1-g.firstCharOffset);let N;if(h.isEmpty()?N=b.substr(h.startColumn-1-g.firstCharOffset):N=this.getScopedLineTokens(l,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset),!f.shouldDecrease(L+N)&&f.shouldDecrease(L+m+N)){const D=this.getInheritIndentForLine(t,l,h.startLineNumber,!1);if(!D)return null;let I=D.indentation;return D.action!==w.IndentAction.Indent&&(I=C.unshiftIndent(I)),I}return null}getIndentMetadata(t,l){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||l<1||l>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(l))}getEnterAction(t,l,h){const m=this.getScopedLineTokens(l,h.startLineNumber,h.startColumn),C=this._getRichEditSupport(m.languageId);if(!C)return null;const g=m.getLineContent(),f=g.substr(0,h.startColumn-1-m.firstCharOffset);let b;h.isEmpty()?b=g.substr(h.startColumn-1-m.firstCharOffset):b=this.getScopedLineTokens(l,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-m.firstCharOffset);let L="";if(h.startLineNumber>1&&m.firstCharOffset===0){const R=this.getScopedLineTokens(l,h.startLineNumber-1);R.languageId===m.languageId&&(L=R.getLineContent())}const N=C.onEnter(t,L,f,b);if(!N)return null;const D=N.indentAction;let I=N.appendText;const T=N.removeText||0;I?D===w.IndentAction.Indent&&(I="	"+I):D===w.IndentAction.Indent||D===w.IndentAction.IndentOutdent?I="	":I="";let A=this.getIndentationAtPosition(l,h.startLineNumber,h.startColumn);return T&&(A=A.substring(0,A.length-T)),{indentAction:D,appendText:I,removeText:T,indentation:A}}getIndentationAtPosition(t,l,h){const m=t.getLineContent(l);let C=M.getLeadingWhitespace(m);return C.length>h-1&&(C=C.substring(0,h-1)),C}getScopedLineTokens(t,l,h){t.forceTokenization(l);const m=t.getLineTokens(l),C=typeof h=="undefined"?t.getLineMaxColumn(l)-1:h-1;return p.createScopedLineTokens(m,C)}getBracketsSupport(t){const l=this._getRichEditSupport(t);return l&&l.brackets||null}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(Q[389],J([0,1,29]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(r,n,o,t,l){this.token=r,this.index=n,this.fontStyle=o,this.foreground=t,this.background=l}}e.ParsedTokenThemeRule=k;function M(d){if(!d||!Array.isArray(d))return[];let r=[],n=0;for(let o=0,t=d.length;o<t;o++){let l=d[o],h=-1;if(typeof l.fontStyle=="string"){h=0;let g=l.fontStyle.split(" ");for(let f=0,b=g.length;f<b;f++)switch(g[f]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let m=null;typeof l.foreground=="string"&&(m=l.foreground);let C=null;typeof l.background=="string"&&(C=l.background),r[n++]=new k(l.token||"",o,h,m,C)}return r}e.parseTokenTheme=M;function y(d,r){d.sort((f,b)=>{let L=s(f.token,b.token);return L!==0?L:f.index-b.index});let n=0,o="000000",t="ffffff";for(;d.length>=1&&d[0].token==="";){let f=d.shift();f.fontStyle!==-1&&(n=f.fontStyle),f.foreground!==null&&(o=f.foreground),f.background!==null&&(t=f.background)}let l=new p;for(let f of r)l.getId(f);let h=l.getId(o),m=l.getId(t),C=new a(n,h,m),g=new u(C);for(let f=0,b=d.length;f<b;f++){let L=d[f];g.insert(L.token,L.fontStyle,l.getId(L.foreground),l.getId(L.background))}return new v(l,g)}const w=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const n=r.match(w);if(!n)throw new Error("Illegal value for token color: "+r);r=n[1].toUpperCase();let o=this._color2id.get(r);return o||(o=++this._lastColorId,this._color2id.set(r,o),this._id2color[o]=S.Color.fromHex("#"+r),o)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class v{constructor(r,n){this._colorMap=r,this._root=n,this._cache=new Map}static createFromRawTokenTheme(r,n){return this.createFromParsedTokenTheme(M(r),n)}static createFromParsedTokenTheme(r,n){return y(r,n)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,n){let o=this._cache.get(n);if(typeof o=="undefined"){let t=this._match(n),l=_(n);o=(t.metadata|l<<8)>>>0,this._cache.set(n,o)}return(o|r<<0)>>>0}}e.TokenTheme=v;const i=/\b(comment|string|regex|regexp)\b/;function _(d){let r=d.match(i);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=_;function s(d,r){return d<r?-1:d>r?1:0}e.strcmp=s;class a{constructor(r,n,o){this._fontStyle=r,this._foreground=n,this._background=o,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new a(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,n,o){r!==-1&&(this._fontStyle=r),n!==0&&(this._foreground=n),o!==0&&(this._background=o),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=a;class u{constructor(r){this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;let n=r.indexOf("."),o,t;n===-1?(o=r,t=""):(o=r.substring(0,n),t=r.substring(n+1));let l=this._children.get(o);return typeof l!="undefined"?l.match(t):this._mainRule}insert(r,n,o,t){if(r===""){this._mainRule.acceptOverwrite(n,o,t);return}let l=r.indexOf("."),h,m;l===-1?(h=r,m=""):(h=r.substring(0,l),m=r.substring(l+1));let C=this._children.get(h);typeof C=="undefined"&&(C=new u(this._mainRule.clone()),this._children.set(h,C)),C.insert(m,n,o,t)}}e.ThemeTrieElement=u;function c(d){let r=[];for(let n=1,o=d.length;n<o;n++){let t=d[n];r[n]=`.mtk${n} { color: ${t}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=c}),define(Q[390],J([0,1,6,2]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class M{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(w){this._onDidChange.fire({changedLanguages:w,changedColorMap:!1})}register(w,p){return this._map.set(w,p),this.fire([w]),k.toDisposable(()=>{this._map.get(w)===p&&(this._map.delete(w),this.fire([w]))})}registerPromise(w,p){let v=null,i=!1;return this._promises.set(w,p.then(_=>{this._promises.delete(w),!(i||!_)&&(v=this.register(w,_))})),k.toDisposable(()=>{i=!0,v&&v.dispose()})}getPromise(w){const p=this.get(w);if(p)return Promise.resolve(p);const v=this._promises.get(w);return v?v.then(i=>this.get(w)):null}get(w){return this._map.get(w)||null}setColorMap(w){this._colorMap=w,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=M}),define(Q[391],J([0,1,102,17]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function M(v){for(let i=0,_=v.length;i<_;i+=4){const s=v[i+0],a=v[i+1],u=v[i+2],c=v[i+3];v[i+0]=c,v[i+1]=u,v[i+2]=a,v[i+3]=s}}function y(v){const i=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return k.isLittleEndian()||M(i),S.VSBuffer.wrap(i)}function w(v){const i=new Uint32Array(p(v));let _=0;if(i[_++]=v.id,v.type==="full")i[_++]=1,i[_++]=v.data.length,i.set(v.data,_),_+=v.data.length;else{i[_++]=2,i[_++]=v.deltas.length;for(const s of v.deltas)i[_++]=s.start,i[_++]=s.deleteCount,s.data?(i[_++]=s.data.length,i.set(s.data,_),_+=s.data.length):i[_++]=0}return y(i)}e.encodeSemanticTokensDto=w;function p(v){let i=0;if(i+=1+1,v.type==="full")i+=1+v.data.length;else{i+=1,i+=(1+1+1)*v.deltas.length;for(const _ of v.deltas)_.data&&(i+=_.data.length)}return i}}),define(Q[171],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var S;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(S=e.AccessibilitySupport||(e.AccessibilitySupport={}));var k;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var M;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(M=e.CompletionItemKind||(e.CompletionItemKind={}));var y;(function(E){E[E.Deprecated=1]="Deprecated"})(y=e.CompletionItemTag||(e.CompletionItemTag={}));var w;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(w=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var p;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(p=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var v;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(v=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var _;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(_=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var s;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(s=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var a;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.codeLens=12]="codeLens",E[E.codeLensFontFamily=13]="codeLensFontFamily",E[E.codeLensFontSize=14]="codeLensFontSize",E[E.colorDecorators=15]="colorDecorators",E[E.columnSelection=16]="columnSelection",E[E.comments=17]="comments",E[E.contextmenu=18]="contextmenu",E[E.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",E[E.cursorBlinking=20]="cursorBlinking",E[E.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",E[E.cursorStyle=22]="cursorStyle",E[E.cursorSurroundingLines=23]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",E[E.cursorWidth=25]="cursorWidth",E[E.disableLayerHinting=26]="disableLayerHinting",E[E.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",E[E.domReadOnly=28]="domReadOnly",E[E.dragAndDrop=29]="dragAndDrop",E[E.emptySelectionClipboard=30]="emptySelectionClipboard",E[E.extraEditorClassName=31]="extraEditorClassName",E[E.fastScrollSensitivity=32]="fastScrollSensitivity",E[E.find=33]="find",E[E.fixedOverflowWidgets=34]="fixedOverflowWidgets",E[E.folding=35]="folding",E[E.foldingStrategy=36]="foldingStrategy",E[E.foldingHighlight=37]="foldingHighlight",E[E.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=39]="fontFamily",E[E.fontInfo=40]="fontInfo",E[E.fontLigatures=41]="fontLigatures",E[E.fontSize=42]="fontSize",E[E.fontWeight=43]="fontWeight",E[E.formatOnPaste=44]="formatOnPaste",E[E.formatOnType=45]="formatOnType",E[E.glyphMargin=46]="glyphMargin",E[E.gotoLocation=47]="gotoLocation",E[E.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",E[E.hover=50]="hover",E[E.inDiffEditor=51]="inDiffEditor",E[E.inlineSuggest=52]="inlineSuggest",E[E.letterSpacing=53]="letterSpacing",E[E.lightbulb=54]="lightbulb",E[E.lineDecorationsWidth=55]="lineDecorationsWidth",E[E.lineHeight=56]="lineHeight",E[E.lineNumbers=57]="lineNumbers",E[E.lineNumbersMinChars=58]="lineNumbersMinChars",E[E.linkedEditing=59]="linkedEditing",E[E.links=60]="links",E[E.matchBrackets=61]="matchBrackets",E[E.minimap=62]="minimap",E[E.mouseStyle=63]="mouseStyle",E[E.mouseWheelScrollSensitivity=64]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=65]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=66]="multiCursorMergeOverlapping",E[E.multiCursorModifier=67]="multiCursorModifier",E[E.multiCursorPaste=68]="multiCursorPaste",E[E.occurrencesHighlight=69]="occurrencesHighlight",E[E.overviewRulerBorder=70]="overviewRulerBorder",E[E.overviewRulerLanes=71]="overviewRulerLanes",E[E.padding=72]="padding",E[E.parameterHints=73]="parameterHints",E[E.peekWidgetDefaultFocus=74]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=75]="definitionLinkOpensInPeek",E[E.quickSuggestions=76]="quickSuggestions",E[E.quickSuggestionsDelay=77]="quickSuggestionsDelay",E[E.readOnly=78]="readOnly",E[E.renameOnType=79]="renameOnType",E[E.renderControlCharacters=80]="renderControlCharacters",E[E.renderIndentGuides=81]="renderIndentGuides",E[E.renderFinalNewline=82]="renderFinalNewline",E[E.renderLineHighlight=83]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=84]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=85]="renderValidationDecorations",E[E.renderWhitespace=86]="renderWhitespace",E[E.revealHorizontalRightPadding=87]="revealHorizontalRightPadding",E[E.roundedSelection=88]="roundedSelection",E[E.rulers=89]="rulers",E[E.scrollbar=90]="scrollbar",E[E.scrollBeyondLastColumn=91]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=92]="scrollBeyondLastLine",E[E.scrollPredominantAxis=93]="scrollPredominantAxis",E[E.selectionClipboard=94]="selectionClipboard",E[E.selectionHighlight=95]="selectionHighlight",E[E.selectOnLineNumbers=96]="selectOnLineNumbers",E[E.showFoldingControls=97]="showFoldingControls",E[E.showUnused=98]="showUnused",E[E.snippetSuggestions=99]="snippetSuggestions",E[E.smartSelect=100]="smartSelect",E[E.smoothScrolling=101]="smoothScrolling",E[E.stickyTabStops=102]="stickyTabStops",E[E.stopRenderingLineAfter=103]="stopRenderingLineAfter",E[E.suggest=104]="suggest",E[E.suggestFontSize=105]="suggestFontSize",E[E.suggestLineHeight=106]="suggestLineHeight",E[E.suggestOnTriggerCharacters=107]="suggestOnTriggerCharacters",E[E.suggestSelection=108]="suggestSelection",E[E.tabCompletion=109]="tabCompletion",E[E.tabIndex=110]="tabIndex",E[E.unusualLineTerminators=111]="unusualLineTerminators",E[E.useShadowDOM=112]="useShadowDOM",E[E.useTabStops=113]="useTabStops",E[E.wordSeparators=114]="wordSeparators",E[E.wordWrap=115]="wordWrap",E[E.wordWrapBreakAfterCharacters=116]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=117]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=118]="wordWrapColumn",E[E.wordWrapOverride1=119]="wordWrapOverride1",E[E.wordWrapOverride2=120]="wordWrapOverride2",E[E.wrappingIndent=121]="wrappingIndent",E[E.wrappingStrategy=122]="wrappingStrategy",E[E.showDeprecated=123]="showDeprecated",E[E.inlayHints=124]="inlayHints",E[E.editorClassName=125]="editorClassName",E[E.pixelRatio=126]="pixelRatio",E[E.tabFocusMode=127]="tabFocusMode",E[E.layoutInfo=128]="layoutInfo",E[E.wrappingInfo=129]="wrappingInfo"})(a=e.EditorOption||(e.EditorOption={}));var u;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(u=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var r;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(r=e.InlayHintKind||(e.InlayHintKind={}));var n;(function(E){E[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit"})(n=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var o;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(o=e.KeyCode||(e.KeyCode={}));var t;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(t=e.MarkerSeverity||(e.MarkerSeverity={}));var l;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(l=e.MarkerTag||(e.MarkerTag={}));var h;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(h=e.MinimapPosition||(e.MinimapPosition={}));var m;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(m=e.MouseTargetType||(e.MouseTargetType={}));var C;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(C=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var g;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(g=e.OverviewRulerLane||(e.OverviewRulerLane={}));var f;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(f=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var b;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(b=e.RenderMinimap||(e.RenderMinimap={}));var L;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(L=e.ScrollType||(e.ScrollType={}));var N;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(N=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var D;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(D=e.SelectionDirection||(e.SelectionDirection={}));var I;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(I=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var T;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(T=e.SymbolKind||(e.SymbolKind={}));var A;(function(E){E[E.Deprecated=1]="Deprecated"})(A=e.SymbolTag||(e.SymbolTag={}));var R;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(R=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var P;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(P=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(Q[221],J([0,1,23,6,40,24,13,3,21,131,171]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(c,d){return M.KeyChord(c,d)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function a(){return{editor:void 0,languages:void 0,CancellationTokenSource:S.CancellationTokenSource,Emitter:k.Emitter,KeyCode:_.KeyCode,KeyMod:s,Position:w.Position,Range:p.Range,Selection:v.Selection,SelectionDirection:_.SelectionDirection,MarkerSeverity:_.MarkerSeverity,MarkerTag:_.MarkerTag,Uri:y.URI,Token:i.Token}}e.createMonacoBaseAPI=a}),define(Q[222],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class S{constructor(w,p,v){this.from=w|0,this.to=p|0,this.colorId=v|0}static compare(w,p){return w.colorId===p.colorId?w.from===p.from?w.to-p.to:w.from-p.from:w.colorId-p.colorId}}e.ColorZone=S;class k{constructor(w,p,v){this.startLineNumber=w,this.endLineNumber=p,this.color=v,this._colorZone=null}static compare(w,p){return w.color===p.color?w.startLineNumber===p.startLineNumber?w.endLineNumber-p.endLineNumber:w.startLineNumber-p.startLineNumber:w.color<p.color?-1:1}setColorZone(w){this._colorZone=w}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class M{constructor(w){this._getVerticalOffsetForLine=w,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(w){this._zones=w,this._zones.sort(k.compare)}setLineHeight(w){return this._lineHeight===w?!1:(this._lineHeight=w,this._colorZonesInvalid=!0,!0)}setPixelRatio(w){this._pixelRatio=w,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(w){return this._domWidth===w?!1:(this._domWidth=w,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(w){return this._domHeight===w?!1:(this._domHeight=w,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(w){return this._outerHeight===w?!1:(this._outerHeight=w,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const w=this._colorZonesInvalid,p=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),_=v/i,s=Math.floor(4*this._pixelRatio/2);let a=[];for(let u=0,c=this._zones.length;u<c;u++){const d=this._zones[u];if(!w){const C=d.getColorZones();if(C){a.push(C);continue}}const r=Math.floor(_*this._getVerticalOffsetForLine(d.startLineNumber)),n=Math.floor(_*(this._getVerticalOffsetForLine(d.endLineNumber)+p));let o=Math.floor((r+n)/2),t=n-o;t<s&&(t=s),o-t<0&&(o=t),o+t>v&&(o=v-t);const l=d.color;let h=this._color2Id[l];h||(h=++this._lastAssignedId,this._color2Id[l]=h,this._id2Color[h]=l);const m=new S(o-t,o+t,h);d.setColorZone(m),a.push(m)}return this._colorZonesInvalid=!1,a.sort(S.compare),a}}e.OverviewZoneManager=M}),define(Q[111],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class S{constructor(i,_){this._viewLayout=i,this.viewportData=_,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const s=this._viewLayout.getCurrentViewport();this.scrollTop=s.top,this.scrollLeft=s.left,this.viewportWidth=s.width,this.viewportHeight=s.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=S;class k extends S{constructor(i,_,s){super(i,_);this._viewLines=s}linesVisibleRangesForRange(i,_){return this._viewLines.linesVisibleRangesForRange(i,_)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}e.RenderingContext=k;class M{constructor(i,_,s){this.outsideRenderedLine=i,this.lineNumber=_,this.ranges=s}}e.LineVisibleRanges=M;class y{constructor(i,_){this.left=Math.round(i),this.width=Math.round(_)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=y;class w{constructor(i,_){this.outsideRenderedLine=i,this.left=Math.round(_)}}e.HorizontalPosition=w;class p{constructor(i,_){this.outsideRenderedLine=i,this.ranges=_}}e.VisibleRanges=p}),define(Q[392],J([0,1,111]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{constructor(w,p){this.left=w,this.width=p}toString(){return`[${this.left},${this.width}]`}static compare(w,p){return w.left-p.left}}class M{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(w,p){w.selectNodeContents(p)}static _readClientRects(w,p,v,i,_){const s=this._createRange();try{return s.setStart(w,p),s.setEnd(v,i),s.getClientRects()}catch(a){return null}finally{this._detachRange(s,_)}}static _mergeAdjacentRanges(w){if(w.length===1)return[new S.HorizontalRange(w[0].left,w[0].width)];w.sort(k.compare);let p=[],v=0,i=w[0].left,_=w[0].width;for(let s=1,a=w.length;s<a;s++){const u=w[s],c=u.left,d=u.width;i+_+.9>=c?_=Math.max(_,c+d-i):(p[v++]=new S.HorizontalRange(i,_),i=c,_=d)}return p[v++]=new S.HorizontalRange(i,_),p}static _createHorizontalRangesFromClientRects(w,p){if(!w||w.length===0)return null;const v=[];for(let i=0,_=w.length;i<_;i++){const s=w[i];v[i]=new k(Math.max(0,s.left-p),s.width)}return this._mergeAdjacentRanges(v)}static readHorizontalRanges(w,p,v,i,_,s,a){const u=0,c=w.children.length-1;if(u>c)return null;if(p=Math.min(c,Math.max(u,p)),i=Math.min(c,Math.max(u,i)),p===i&&v===_&&v===0&&!w.children[p].firstChild){const o=w.children[p].getClientRects();return this._createHorizontalRangesFromClientRects(o,s)}p!==i&&i>0&&_===0&&(i--,_=1073741824);let d=w.children[p].firstChild,r=w.children[i].firstChild;if((!d||!r)&&(!d&&v===0&&p>0&&(d=w.children[p-1].firstChild,v=1073741824),!r&&_===0&&i>0&&(r=w.children[i-1].firstChild,_=1073741824)),!d||!r)return null;v=Math.min(d.textContent.length,Math.max(0,v)),_=Math.min(r.textContent.length,Math.max(0,_));const n=this._readClientRects(d,v,r,_,a);return this._createHorizontalRangesFromClientRects(n,s)}}e.RangeUtil=M}),define(Q[393],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class S{constructor(y){this._theme=y}get type(){return this._theme.type}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=S;class k{constructor(y,w,p){this.configuration=y,this.theme=new S(w),this.model=p,this.viewLayout=p.viewLayout}addEventHandler(y){this.model.addViewEventHandler(y)}removeEventHandler(y){this.model.removeViewEventHandler(y)}}e.ViewContext=k}),define(Q[172],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class S{constructor(){this.type=0}}e.ViewCompositionStartEvent=S;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class M{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=M;class y{constructor(h,m){this.type=3,this.selections=h,this.modelSelections=m}}e.ViewCursorStateChangedEvent=y;class w{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=w;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class v{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=v;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class _{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=_;class s{constructor(h,m){this.type=9,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesChangedEvent=s;class a{constructor(h,m){this.type=10,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesDeletedEvent=a;class u{constructor(h,m){this.type=11,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesInsertedEvent=u;class c{constructor(h,m,C,g,f,b){this.type=12,this.source=h,this.range=m,this.selections=C,this.verticalType=g,this.revealHorizontal=f,this.scrollType=b}}e.ViewRevealRangeRequestEvent=c;class d{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=d;class r{constructor(){this.type=14}}e.ViewThemeChangedEvent=r;class n{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=n;class o{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=o;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(Q[173],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(v,i,_,s){this.startColumn=v,this.endColumn=i,this.className=_,this.type=s}static _equals(v,i){return v.startColumn===i.startColumn&&v.endColumn===i.endColumn&&v.className===i.className&&v.type===i.type}static equalsArr(v,i){const _=v.length,s=i.length;if(_!==s)return!1;for(let a=0;a<_;a++)if(!k._equals(v[a],i[a]))return!1;return!0}static extractWrapped(v,i,_){if(v.length===0)return v;const s=i+1,a=_+1,u=_-i,c=[];let d=0;for(const r of v)r.endColumn<=s||r.startColumn>=a||(c[d++]=new k(Math.max(1,r.startColumn-s+1),Math.min(u+1,r.endColumn-s+1),r.className,r.type));return c}static filter(v,i,_,s){if(v.length===0)return[];let a=[],u=0;for(let c=0,d=v.length;c<d;c++){const r=v[c],n=r.range;if(n.endLineNumber<i||n.startLineNumber>i||n.isEmpty()&&(r.type===0||r.type===3))continue;const o=n.startLineNumber===i?n.startColumn:_,t=n.endLineNumber===i?n.endColumn:s;a[u++]=new k(o,t,r.inlineClassName,r.type)}return a}static _typeCompare(v,i){const _=[2,0,1,3];return _[v]-_[i]}static compare(v,i){if(v.startColumn===i.startColumn){if(v.endColumn===i.endColumn){const _=k._typeCompare(v.type,i.type);return _===0?v.className<i.className?-1:v.className>i.className?1:0:_}return v.endColumn-i.endColumn}return v.startColumn-i.startColumn}}e.LineDecoration=k;class M{constructor(v,i,_,s){this.startOffset=v,this.endOffset=i,this.className=_,this.metadata=s}}e.DecorationSegment=M;class y{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let i=0;for(let _=0,s=v.length;_<s;_++)i|=v[_];return i}consumeLowerThan(v,i,_){for(;this.count>0&&this.stopOffsets[0]<v;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;_.push(new M(i,this.stopOffsets[s],this.classNames.join(" "),y._metadata(this.metadata))),i=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&i<v&&(_.push(new M(i,v-1,this.classNames.join(" "),y._metadata(this.metadata))),i=v),i}insert(v,i,_){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(i),this.metadata.push(_);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=v){this.stopOffsets.splice(s,0,v),this.classNames.splice(s,0,i),this.metadata.splice(s,0,_);break}this.count++}}class w{static normalize(v,i){if(i.length===0)return[];let _=[];const s=new y;let a=0;for(let u=0,c=i.length;u<c;u++){const d=i[u];let r=d.startColumn,n=d.endColumn;const o=d.className,t=d.type===1?2:d.type===2?4:0;if(r>1){const m=v.charCodeAt(r-2);S.isHighSurrogate(m)&&r--}if(n>1){const m=v.charCodeAt(n-2);S.isHighSurrogate(m)&&n--}const l=r-1,h=n-2;a=s.consumeLowerThan(l,a,_),s.count===0&&(a=l),s.insert(h,o,t)}return s.consumeLowerThan(1073741824,a,_),_}}e.LineDecorationsNormalizer=w}),define(Q[394],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const v=this._inserts,i=this._changes,_=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(v,i,_)}}class M{constructor(p,v,i,_,s){this.id=p,this.afterLineNumber=v,this.ordinal=i,this.height=_,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=M;class y{constructor(p,v,i,_){this._instanceId=S.singleLetterHash(++y.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=v,this._paddingTop=i,this._paddingBottom=_}static findInsertionIndex(p,v,i){let _=0,s=p.length;for(;_<s;){const a=_+s>>>1;v===p[a].afterLineNumber?i<p[a].ordinal?s=a:_=a+1:v<p[a].afterLineNumber?s=a:_=a+1}return _}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,v){this._paddingTop=p,this._paddingBottom=v}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let v=!1;try{p({insertWhitespace:(_,s,a,u)=>{v=!0,_=_|0,s=s|0,a=a|0,u=u|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new M(c,_,s,a,u)),c},changeOneWhitespace:(_,s,a)=>{v=!0,s=s|0,a=a|0,this._pendingChanges.change({id:_,newAfterLineNumber:s,newHeight:a})},removeWhitespace:_=>{v=!0,this._pendingChanges.remove({id:_})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(p,v,i){if((p.length>0||i.length>0)&&(this._minWidth=-1),p.length+v.length+i.length<=1){for(const c of p)this._insertWhitespace(c);for(const c of v)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of i){const d=this._findWhitespaceIndex(c.id);d!==-1&&this._removeWhitespace(d)}return}const _=new Set;for(const c of i)_.add(c.id);const s=new Map;for(const c of v)s.set(c.id,c);const a=c=>{let d=[];for(const r of c)if(!_.has(r.id)){if(s.has(r.id)){const n=s.get(r.id);r.afterLineNumber=n.newAfterLineNumber,r.height=n.newHeight}d.push(r)}return d},u=a(this._arr).concat(a(p));u.sort((c,d)=>c.afterLineNumber===d.afterLineNumber?c.ordinal-d.ordinal:c.afterLineNumber-d.afterLineNumber),this._arr=u,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const v=y.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(v,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(p){const v=this._arr;for(let i=0,_=v.length;i<_;i++)if(v[i].id===p)return i;return-1}_changeOneWhitespace(p,v,i){const _=this._findWhitespaceIndex(p);if(_!==-1&&(this._arr[_].height!==i&&(this._arr[_].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)),this._arr[_].afterLineNumber!==v)){const s=this._arr[_];this._removeWhitespace(_),s.afterLineNumber=v,this._insertWhitespace(s)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,v){this._checkPendingChanges(),p=p|0,v=v|0,this._lineCount-=v-p+1;for(let i=0,_=this._arr.length;i<_;i++){const s=this._arr[i].afterLineNumber;p<=s&&s<=v?this._arr[i].afterLineNumber=p-1:s>v&&(this._arr[i].afterLineNumber-=v-p+1)}}onLinesInserted(p,v){this._checkPendingChanges(),p=p|0,v=v|0,this._lineCount+=v-p+1;for(let i=0,_=this._arr.length;i<_;i++){const s=this._arr[i].afterLineNumber;p<=s&&(this._arr[i].afterLineNumber+=v-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let i=v;i<=p;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return p+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const v=this._findLastWhitespaceBeforeLineNumber(p);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const v=this._arr;let i=0,_=v.length-1;for(;i<=_;){const a=(_-i|0)/2|0,u=i+a|0;if(v[u].afterLineNumber<p){if(u+1>=v.length||v[u+1].afterLineNumber>=p)return u;i=u+1|0}else _=u-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const i=this._findLastWhitespaceBeforeLineNumber(p)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p){this._checkPendingChanges(),p=p|0;let v;p>1?v=this._lineHeight*(p-1):v=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p);return v+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let v=0,i=this._arr.length;v<i;v++)p=Math.max(p,this._arr[v].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const v=this.getLinesTotalHeight();return p>v}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return p>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const v=this._lineCount|0,i=this._lineHeight;let _=1,s=v;for(;_<s;){const a=(_+s)/2|0,u=this.getVerticalOffsetForLineNumber(a)|0;if(p>=u+i)_=a+1;else{if(p>=u)return a;s=a}}return _>v?v:_}getLinesViewportData(p,v){this._checkPendingChanges(),p=p|0,v=v|0;const i=this._lineHeight,_=this.getLineNumberAtOrAfterVerticalOffset(p)|0,s=this.getVerticalOffsetForLineNumber(_)|0;let a=this._lineCount|0,u=this.getFirstWhitespaceIndexAfterLineNumber(_)|0;const c=this.getWhitespacesCount()|0;let d,r;u===-1?(u=c,r=a+1,d=0):(r=this.getAfterLineNumberForWhitespaceIndex(u)|0,d=this.getHeightForWhitespaceIndex(u)|0);let n=s,o=n;const t=5e5;let l=0;s>=t&&(l=Math.floor(s/t)*t,l=Math.floor(l/i)*i,o-=l);const h=[],m=p+(v-p)/2;let C=-1;for(let L=_;L<=a;L++){if(C===-1){const N=n,D=n+i;(N<=m&&m<D||N>m)&&(C=L)}for(n+=i,h[L-_]=o,o+=i;r===L;)o+=d,n+=d,u++,u>=c?r=a+1:(r=this.getAfterLineNumberForWhitespaceIndex(u)|0,d=this.getHeightForWhitespaceIndex(u)|0);if(n>=v){a=L;break}}C===-1&&(C=a);const g=this.getVerticalOffsetForLineNumber(a)|0;let f=_,b=a;return f<b&&s<p&&f++,f<b&&g+i>v&&b--,{bigNumbersDelta:l,startLineNumber:_,endLineNumber:a,relativeVerticalOffset:h,centeredLineNumber:C,completelyVisibleStartLineNumber:f,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const v=this.getAfterLineNumberForWhitespaceIndex(p);let i;v>=1?i=this._lineHeight*v:i=0;let _;return p>0?_=this.getWhitespacesAccumulatedHeight(p-1):_=0,i+_+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let v=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const _=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(p>=_+s)return-1;for(;v<i;){const a=Math.floor((v+i)/2),u=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(p>=u+c)v=a+1;else{if(p>=u)return a;i=a}}return v}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(v<0||v>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(v);if(i>p)return null;const _=this.getHeightForWhitespaceIndex(v),s=this.getIdForWhitespaceIndex(v),a=this.getAfterLineNumberForWhitespaceIndex(v);return{id:s,afterLineNumber:a,verticalOffset:i,height:_}}getWhitespaceViewportData(p,v){this._checkPendingChanges(),p=p|0,v=v|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),_=this.getWhitespacesCount()-1;if(i<0)return[];let s=[];for(let a=i;a<=_;a++){const u=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(u>=v)break;s.push({id:this.getIdForWhitespaceIndex(a),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(a),verticalOffset:u,height:c})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=y,y.INSTANCE_COUNT=0}),define(Q[112],J([0,1,8,83,173]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.RenderLineInput=e.LineRange=void 0;class y{constructor(h,m,C){this.endIndex=h,this.type=m,this.metadata=C}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class w{constructor(h,m){this.startOffset=h,this.endOffset=m}equals(h){return this.startOffset===h.startOffset&&this.endOffset===h.endOffset}}e.LineRange=w;class p{constructor(h,m,C,g,f,b,L,N,D,I,T,A,R,O,P,F,E,x,H){this.useMonospaceOptimizations=h,this.canUseHalfwidthRightwardsArrow=m,this.lineContent=C,this.continuesWithWrappedLine=g,this.isBasicASCII=f,this.containsRTL=b,this.fauxIndentLength=L,this.lineTokens=N,this.lineDecorations=D.sort(M.LineDecoration.compare),this.tabSize=I,this.startVisibleColumn=T,this.spaceWidth=A,this.stopRenderingLineAfter=P,this.renderWhitespace=F==="all"?4:F==="boundary"?1:F==="selection"?2:F==="trailing"?3:0,this.renderControlCharacters=E,this.fontLigatures=x,this.selectionsOnLine=H&&H.sort((G,ee)=>G.startOffset<ee.startOffset?-1:1);const K=Math.abs(O-A),q=Math.abs(R-A);K<q?(this.renderSpaceWidth=O,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=R,this.renderSpaceCharCode=183)}sameSelection(h){if(this.selectionsOnLine===null)return h===null;if(h===null||h.length!==this.selectionsOnLine.length)return!1;for(let m=0;m<this.selectionsOnLine.length;m++)if(!this.selectionsOnLine[m].equals(h[m]))return!1;return!0}equals(h){return this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineContent===h.lineContent&&this.continuesWithWrappedLine===h.continuesWithWrappedLine&&this.isBasicASCII===h.isBasicASCII&&this.containsRTL===h.containsRTL&&this.fauxIndentLength===h.fauxIndentLength&&this.tabSize===h.tabSize&&this.startVisibleColumn===h.startVisibleColumn&&this.spaceWidth===h.spaceWidth&&this.renderSpaceWidth===h.renderSpaceWidth&&this.renderSpaceCharCode===h.renderSpaceCharCode&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.fontLigatures===h.fontLigatures&&M.LineDecoration.equalsArr(this.lineDecorations,h.lineDecorations)&&this.lineTokens.equals(h.lineTokens)&&this.sameSelection(h.selectionsOnLine)}}e.RenderLineInput=p;class v{constructor(h,m){this.length=h,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(h){return(h&4294901760)>>>16}static getCharIndex(h){return(h&65535)>>>0}setPartData(h,m,C,g){let f=(m<<16|C<<0)>>>0;this._data[h]=f,this._absoluteOffsets[h]=g+C}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(h){return this.length===0?0:h<0?this._data[0]:h>=this.length?this._data[this.length-1]:this._data[h]}partDataToCharOffset(h,m,C){if(this.length===0)return 0;let g=(h<<16|C<<0)>>>0,f=0,b=this.length-1;for(;f+1<b;){let P=f+b>>>1,F=this._data[P];if(F===g)return P;F>g?b=P:f=P}if(f===b)return f;let L=this._data[f],N=this._data[b];if(L===g)return f;if(N===g)return b;let D=v.getPartIndex(L),I=v.getCharIndex(L),T=v.getPartIndex(N),A;D!==T?A=m:A=v.getCharIndex(N);let R=C-I,O=A-C;return R<=O?f:b}}e.CharacterMapping=v;class i{constructor(h,m,C){this.characterMapping=h,this.containsRTL=m,this.containsForeignElements=C}}e.RenderLineOutput=i;function _(l,h){if(l.lineContent.length===0){if(l.lineDecorations.length>0){h.appendASCIIString("<span>");let m=0,C=0,g=0;for(const b of l.lineDecorations)(b.type===1||b.type===2)&&(h.appendASCIIString('<span class="'),h.appendASCIIString(b.className),h.appendASCIIString('"></span>'),b.type===1&&(g|=1,m++),b.type===2&&(g|=2,C++));h.appendASCIIString("</span>");const f=new v(1,m+C);return f.setPartData(0,m,0,0),new i(f,!1,g)}return h.appendASCIIString("<span><span></span></span>"),new i(new v(0,0),!1,0)}return t(c(l),h)}e.renderViewLine=_;class s{constructor(h,m,C,g){this.characterMapping=h,this.html=m,this.containsRTL=C,this.containsForeignElements=g}}e.RenderLineOutput2=s;function a(l){let h=k.createStringBuilder(1e4),m=_(l,h);return new s(m.characterMapping,h.build(),m.containsRTL,m.containsForeignElements)}e.renderViewLine2=a;class u{constructor(h,m,C,g,f,b,L,N,D,I,T,A,R,O,P){this.fontIsMonospace=h,this.canUseHalfwidthRightwardsArrow=m,this.lineContent=C,this.len=g,this.isOverflowing=f,this.parts=b,this.containsForeignElements=L,this.fauxIndentLength=N,this.tabSize=D,this.startVisibleColumn=I,this.containsRTL=T,this.spaceWidth=A,this.renderSpaceCharCode=R,this.renderWhitespace=O,this.renderControlCharacters=P}}function c(l){const h=l.lineContent;let m,C;l.stopRenderingLineAfter!==-1&&l.stopRenderingLineAfter<h.length?(m=!0,C=l.stopRenderingLineAfter):(m=!1,C=h.length);let g=d(l.lineTokens,l.fauxIndentLength,C);(l.renderWhitespace===4||l.renderWhitespace===1||l.renderWhitespace===2&&!!l.selectionsOnLine||l.renderWhitespace===3)&&(g=n(l,h,C,g));let f=0;if(l.lineDecorations.length>0){for(let b=0,L=l.lineDecorations.length;b<L;b++){const N=l.lineDecorations[b];N.type===3||N.type===1?f|=1:N.type===2&&(f|=2)}g=o(h,C,g,l.lineDecorations)}return l.containsRTL||(g=r(h,g,!l.isBasicASCII||l.fontLigatures)),new u(l.useMonospaceOptimizations,l.canUseHalfwidthRightwardsArrow,h,C,m,g,f,l.fauxIndentLength,l.tabSize,l.startVisibleColumn,l.containsRTL,l.spaceWidth,l.renderSpaceCharCode,l.renderWhitespace,l.renderControlCharacters)}function d(l,h,m){let C=[],g=0;h>0&&(C[g++]=new y(h,"",0));for(let f=0,b=l.getCount();f<b;f++){const L=l.getEndOffset(f);if(L<=h)continue;const N=l.getClassName(f);if(L>=m){C[g++]=new y(m,N,0);break}C[g++]=new y(L,N,0)}return C}function r(l,h,m){let C=0,g=[],f=0;if(m)for(let b=0,L=h.length;b<L;b++){const N=h[b],D=N.endIndex;if(C+50<D){const I=N.type,T=N.metadata;let A=-1,R=C;for(let O=C;O<D;O++)l.charCodeAt(O)===32&&(A=O),A!==-1&&O-R>=50&&(g[f++]=new y(A+1,I,T),R=A+1,A=-1);R!==D&&(g[f++]=new y(D,I,T))}else g[f++]=N;C=D}else for(let b=0,L=h.length;b<L;b++){const N=h[b],D=N.endIndex;let I=D-C;if(I>50){const T=N.type,A=N.metadata,R=Math.ceil(I/50);for(let O=1;O<R;O++){let P=C+O*50;g[f++]=new y(P,T,A)}g[f++]=new y(D,T,A)}else g[f++]=N;C=D}return g}function n(l,h,m,C){const g=l.continuesWithWrappedLine,f=l.fauxIndentLength,b=l.tabSize,L=l.startVisibleColumn,N=l.useMonospaceOptimizations,D=l.selectionsOnLine,I=l.renderWhitespace===1,T=l.renderWhitespace===3,A=l.renderSpaceWidth!==l.spaceWidth;let R=[],O=0,P=0,F=C[P].type,E=C[P].endIndex;const x=C.length;let H=!1,K=S.firstNonWhitespaceIndex(h),q;K===-1?(H=!0,K=m,q=m):q=S.lastNonWhitespaceIndex(h);let G=!1,ee=0,ie=D&&D[ee],ae=L%b;for(let Y=f;Y<m;Y++){const B=h.charCodeAt(Y);ie&&Y>=ie.endOffset&&(ee++,ie=D&&D[ee]);let W;if(Y<K||Y>q)W=!0;else if(B===9)W=!0;else if(B===32)if(I)if(G)W=!0;else{const V=Y+1<m?h.charCodeAt(Y+1):0;W=V===32||V===9}else W=!0;else W=!1;if(W&&D&&(W=!!ie&&ie.startOffset<=Y&&ie.endOffset>Y),W&&T&&(W=H||Y>q),G){if(!W||!N&&ae>=b){if(A){const V=O>0?R[O-1].endIndex:f;for(let z=V+1;z<=Y;z++)R[O++]=new y(z,"mtkw",1)}else R[O++]=new y(Y,"mtkw",1);ae=ae%b}}else(Y===E||W&&Y>f)&&(R[O++]=new y(Y,F,0),ae=ae%b);for(B===9?ae=b:S.isFullWidthCharacter(B)?ae+=2:ae++,G=W;Y===E;)P++,P<x&&(F=C[P].type,E=C[P].endIndex)}let de=!1;if(G)if(g&&I){let Y=m>0?h.charCodeAt(m-1):0,B=m>1?h.charCodeAt(m-2):0;Y===32&&B!==32&&B!==9||(de=!0)}else de=!0;if(de)if(A){const Y=O>0?R[O-1].endIndex:f;for(let B=Y+1;B<=m;B++)R[O++]=new y(B,"mtkw",1)}else R[O++]=new y(m,"mtkw",1);else R[O++]=new y(m,F,0);return R}function o(l,h,m,C){C.sort(M.LineDecoration.compare);const g=M.LineDecorationsNormalizer.normalize(l,C),f=g.length;let b=0,L=[],N=0,D=0;for(let T=0,A=m.length;T<A;T++){const R=m[T],O=R.endIndex,P=R.type,F=R.metadata;for(;b<f&&g[b].startOffset<O;){const E=g[b];if(E.startOffset>D&&(D=E.startOffset,L[N++]=new y(D,P,F)),E.endOffset+1<=O)D=E.endOffset+1,L[N++]=new y(D,P+" "+E.className,F|E.metadata),b++;else{D=O,L[N++]=new y(D,P+" "+E.className,F|E.metadata);break}}O>D&&(D=O,L[N++]=new y(D,P,F))}const I=m[m.length-1].endIndex;if(b<f&&g[b].startOffset===I)for(;b<f&&g[b].startOffset===I;){const T=g[b];L[N++]=new y(D,T.className,T.metadata),b++}return L}function t(l,h){const m=l.fontIsMonospace,C=l.canUseHalfwidthRightwardsArrow,g=l.containsForeignElements,f=l.lineContent,b=l.len,L=l.isOverflowing,N=l.parts,D=l.fauxIndentLength,I=l.tabSize,T=l.startVisibleColumn,A=l.containsRTL,R=l.spaceWidth,O=l.renderSpaceCharCode,P=l.renderWhitespace,F=l.renderControlCharacters,E=new v(b+1,N.length);let x=!1,H=0,K=T,q=0,G=0,ee=0,ie=0;A?h.appendASCIIString('<span dir="ltr">'):h.appendASCIIString("<span>");for(let ae=0,de=N.length;ae<de;ae++){ie+=ee;const Y=N[ae],B=Y.endIndex,W=Y.type,V=P!==0&&Y.isWhitespace(),z=V&&!m&&(W==="mtkw"||!g),U=H===B&&Y.isPseudoAfter();if(q=0,h.appendASCIIString('<span class="'),h.appendASCIIString(z?"mtkz":W),h.appendASCII(34),V){let X=0;{let te=H,se=K;for(;te<B;te++){const ue=(f.charCodeAt(te)===9?I-se%I:1)|0;X+=ue,te>=D&&(se+=ue)}}for(z&&(h.appendASCIIString(' style="width:'),h.appendASCIIString(String(R*X)),h.appendASCIIString('px"')),h.appendASCII(62);H<B;H++){E.setPartData(H,ae-G,q,ie),G=0;const te=f.charCodeAt(H);let se;if(te===9){se=I-K%I|0,!C||se>1?h.write1(8594):h.write1(65515);for(let le=2;le<=se;le++)h.write1(160)}else se=1,h.write1(O);q+=se,H>=D&&(K+=se)}ee=X}else{let X=0;for(h.appendASCII(62);H<B;H++){E.setPartData(H,ae-G,q,ie),G=0;const te=f.charCodeAt(H);let se=1,le=1;switch(te){case 9:se=I-K%I,le=se;for(let ue=1;ue<=se;ue++)h.write1(160);break;case 32:h.write1(160);break;case 60:h.appendASCIIString("&lt;");break;case 62:h.appendASCIIString("&gt;");break;case 38:h.appendASCIIString("&amp;");break;case 0:F?h.write1(9216):h.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:h.write1(65533);break;default:S.isFullWidthCharacter(te)&&le++,F&&te<32?h.write1(9216+te):F&&te===127?h.write1(9249):h.write1(te)}q+=se,X+=se,H>=D&&(K+=le)}ee=X}U?G++:G=0,H>=b&&!x&&Y.isPseudoAfter()&&(x=!0,E.setPartData(H,ae,q,ie)),h.appendASCIIString("</span>")}return x||E.setPartData(b,N.length-1,q,ie),L&&h.appendASCIIString("<span>&hellip;</span>"),h.appendASCIIString("</span>"),new i(E,A,g)}}),define(Q[395],J([0,1,3]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(y,w,p,v){this.selections=y,this.startLineNumber=w.startLineNumber|0,this.endLineNumber=w.endLineNumber|0,this.relativeVerticalOffset=w.relativeVerticalOffset,this.bigNumbersDelta=w.bigNumbersDelta|0,this.whitespaceViewportData=p,this._model=v,this.visibleRange=new S.Range(w.startLineNumber,this._model.getLineMinColumn(w.startLineNumber),w.endLineNumber,this._model.getLineMaxColumn(w.endLineNumber))}getViewLineRenderingData(y){return this._model.getViewLineRenderingData(this.visibleRange,y)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(Q[223],J([0,1,126]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class k{constructor(w,p){this.index=w,this.remainder=p}}e.PrefixSumIndexOfResult=k;class M{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,p){w=S.toUint32(w);const v=this.values,i=this.prefixSum,_=p.length;return _===0?!1:(this.values=new Uint32Array(v.length+_),this.values.set(v.subarray(0,w),0),this.values.set(v.subarray(w),w+_),this.values.set(p,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(w,p){return w=S.toUint32(w),p=S.toUint32(p),this.values[w]===p?!1:(this.values[w]=p,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,p){w=S.toUint32(w),p=S.toUint32(p);const v=this.values,i=this.prefixSum;if(w>=v.length)return!1;let _=v.length-w;return p>=_&&(p=_),p===0?!1:(this.values=new Uint32Array(v.length-p),this.values.set(v.subarray(0,w),0),this.values.set(v.subarray(w+p),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(w){return w<0?0:(w=S.toUint32(w),this._getAccumulatedValue(w))}_getAccumulatedValue(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let p=this.prefixSumValidIndex[0]+1;p===0&&(this.prefixSum[0]=this.values[0],p++),w>=this.values.length&&(w=this.values.length-1);for(let v=p;v<=w;v++)this.prefixSum[v]=this.prefixSum[v-1]+this.values[v];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalValue();let p=0,v=this.values.length-1,i=0,_=0,s=0;for(;p<=v;)if(i=p+(v-p)/2|0,_=this.prefixSum[i],s=_-this.values[i],w<s)v=i-1;else if(w>=_)p=i+1;else break;return new k(i,w-s)}}e.PrefixSumComputer=M}),define(Q[396],J([0,1,8,13,223]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class y{constructor(p,v,i,_){this._uri=p,this._lines=v,this._eol=i,this._versionId=_,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const v=p.changes;for(const i of v)this._acceptDeleteRange(i.range),this._acceptInsertText(new k.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,v=this._lines.length,i=new Uint32Array(v);for(let _=0;_<v;_++)i[_]=this._lines[_].length+p;this._lineStarts=new M.PrefixSumComputer(i)}}_setLineText(p,v){this._lines[p]=v,this._lineStarts&&this._lineStarts.changeValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,v){if(v.length===0)return;let i=S.splitLines(v);if(i.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}i[i.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]);let _=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(p.lineNumber+s-1,0,i[s]),_[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,_)}}e.MirrorTextModel=y}),define(Q[397],J([0,1,155,17,24,13,3,376,396,132,383,386,221,20,81]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class d extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,l){let h=i.getWordAtText(t.column,i.ensureValidWordDefinition(l),this._lines[t.lineNumber-1],0);return h?new w.Range(t.lineNumber,h.startColumn,t.lineNumber,h.endColumn):null}words(t){const l=this._lines,h=this._wordenize.bind(this);let m=0,C="",g=0,f=[];return{*[Symbol.iterator](){for(;;)if(g<f.length){const b=C.substring(f[g].start,f[g].end);g+=1,yield b}else if(m<l.length)C=l[m],f=h(C,t),g=0,m+=1;else break}}}getLineWords(t,l){let h=this._lines[t-1],m=this._wordenize(h,l),C=[];for(const g of m)C.push({word:h.substring(g.start,g.end),startColumn:g.start+1,endColumn:g.end+1});return C}_wordenize(t,l){const h=[];let m;for(l.lastIndex=0;(m=l.exec(t))&&m[0].length!==0;)h.push({start:m.index,end:m.index+m[0].length});return h}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let l=this._eol,h=t.startLineNumber-1,m=t.endLineNumber-1,C=[];C.push(this._lines[h].substring(t.startColumn-1));for(let g=h+1;g<m;g++)C.push(this._lines[g]);return C.push(this._lines[m].substring(0,t.endColumn-1)),C.join(l)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let l=this._lineStarts.getIndexOf(t),h=this._lines[l.index].length;return{lineNumber:1+l.index,column:1+Math.min(l.remainder,h)}}_validateRange(t){const l=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),h=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return l.lineNumber!==t.startLineNumber||l.column!==t.startColumn||h.lineNumber!==t.endLineNumber||h.column!==t.endColumn?{startLineNumber:l.lineNumber,startColumn:l.column,endLineNumber:h.lineNumber,endColumn:h.column}:t}_validatePosition(t){if(!y.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:l,column:h}=t,m=!1;if(l<1)l=1,h=1,m=!0;else if(l>this._lines.length)l=this._lines.length,h=this._lines[l-1].length+1,m=!0;else{let C=this._lines[l-1].length+1;h<1?(h=1,m=!0):h>C&&(h=C,m=!0)}return m?{lineNumber:l,column:h}:t}}class r{constructor(t,l){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=l,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(l=>t.push(this._models[l])),t}acceptNewModel(t){this._models[t.url]=new d(M.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,l){if(!this._models[t])return;this._models[t].onEvents(l)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,l,h,m){return Ie(this,void 0,void 0,function*(){const C=this._getModel(t),g=this._getModel(l);if(!C||!g)return null;const f=C.getLinesContent(),b=g.getLinesContent(),N=new p.DiffComputer(f,b,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:h,shouldMakePrettyDiff:!0,maxComputationTime:m}).computeDiff(),D=N.changes.length>0?!1:this._modelsAreIdentical(C,g);return{quitEarly:N.quitEarly,identical:D,changes:N.changes}})}_modelsAreIdentical(t,l){const h=t.getLineCount(),m=l.getLineCount();if(h!==m)return!1;for(let C=1;C<=h;C++){const g=t.getLineContent(C),f=l.getLineContent(C);if(g!==f)return!1}return!0}computeMoreMinimalEdits(t,l){return Ie(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return l;const m=[];let C;l=l.slice(0).sort((g,f)=>{if(g.range&&f.range)return w.Range.compareRangesUsingStarts(g.range,f.range);let b=g.range?0:1,L=f.range?0:1;return b-L});for(let{range:g,text:f,eol:b}of l){if(typeof b=="number"&&(C=b),w.Range.isEmpty(g)&&!f)continue;const L=h.getValueInRange(g);if(f=f.replace(/\r\n|\n|\r/g,h.eol),L===f)continue;if(Math.max(f.length,L.length)>r._diffLimit){m.push({range:g,text:f});continue}const N=S.stringDiff(L,f,!1),D=h.offsetAt(w.Range.lift(g).getStartPosition());for(const I of N){const T=h.positionAt(D+I.originalStart),A=h.positionAt(D+I.originalStart+I.originalLength),R={text:f.substr(I.modifiedStart,I.modifiedLength),range:{startLineNumber:T.lineNumber,startColumn:T.column,endLineNumber:A.lineNumber,endColumn:A.column}};h.getValueInRange(R.range)!==R.text&&m.push(R)}}return typeof C=="number"&&m.push({eol:C,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),m})}computeLinks(t){return Ie(this,void 0,void 0,function*(){let l=this._getModel(t);return l?_.computeLinks(l):null})}textualSuggest(t,l,h,m){return Ie(this,void 0,void 0,function*(){const C=new c.StopWatch(!0),g=new RegExp(h,m),f=new Set;e:for(let b of t){const L=this._getModel(b);if(!!L){for(let N of L.words(g))if(!(N===l||!isNaN(Number(N)))&&(f.add(N),f.size>r._suggestionsLimit))break e}}return{words:Array.from(f),duration:C.elapsed()}})}computeWordRanges(t,l,h,m){return Ie(this,void 0,void 0,function*(){let C=this._getModel(t);if(!C)return Object.create(null);const g=new RegExp(h,m),f=Object.create(null);for(let b=l.startLineNumber;b<l.endLineNumber;b++){let L=C.getLineWords(b,g);for(const N of L){if(!isNaN(Number(N.word)))continue;let D=f[N.word];D||(D=[],f[N.word]=D),D.push({startLineNumber:b,startColumn:N.startColumn,endLineNumber:b,endColumn:N.endColumn})}}return f})}navigateValueSet(t,l,h,m,C){return Ie(this,void 0,void 0,function*(){let g=this._getModel(t);if(!g)return null;let f=new RegExp(m,C);l.startColumn===l.endColumn&&(l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn+1});let b=g.getValueInRange(l),L=g.getWordAtPosition({lineNumber:l.startLineNumber,column:l.startColumn},f);if(!L)return null;let N=g.getValueInRange(L);return s.BasicInplaceReplace.INSTANCE.navigateValueSet(l,b,L,N,h)})}loadForeignModule(t,l,h){const m=(f,b)=>this._host.fhr(f,b);let g={host:u.createProxyObject(h,m),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(g,l),Promise.resolve(u.getAllMethodNames(this._foreignModule))):new Promise((f,b)=>{$([t],L=>{this._foreignModule=L.create(g,l),f(u.getAllMethodNames(this._foreignModule))},b)})}fmr(t,l){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,l))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=r,r._diffLimit=1e5,r._suggestionsLimit=1e4;function n(o){return new r(o,null)}e.create=n,typeof importScripts=="function"&&(k.globals.monaco=a.createMonacoBaseAPI())}),define(Q[113],J([0,1,2]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends S.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(y){return!1}onCompositionEnd(y){return!1}onConfigurationChanged(y){return!1}onCursorStateChanged(y){return!1}onDecorationsChanged(y){return!1}onFlushed(y){return!1}onFocusChanged(y){return!1}onLanguageConfigurationChanged(y){return!1}onLineMappingChanged(y){return!1}onLinesChanged(y){return!1}onLinesDeleted(y){return!1}onLinesInserted(y){return!1}onRevealRangeRequest(y){return!1}onScrollChanged(y){return!1}onThemeChanged(y){return!1}onTokensChanged(y){return!1}onTokensColorsChanged(y){return!1}onZonesChanged(y){return!1}handleEvents(y){let w=!1;for(let p=0,v=y.length;p<v;p++){let i=y[p];switch(i.type){case 0:this.onCompositionStart(i)&&(w=!0);break;case 1:this.onCompositionEnd(i)&&(w=!0);break;case 2:this.onConfigurationChanged(i)&&(w=!0);break;case 3:this.onCursorStateChanged(i)&&(w=!0);break;case 4:this.onDecorationsChanged(i)&&(w=!0);break;case 5:this.onFlushed(i)&&(w=!0);break;case 6:this.onFocusChanged(i)&&(w=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(w=!0);break;case 8:this.onLineMappingChanged(i)&&(w=!0);break;case 9:this.onLinesChanged(i)&&(w=!0);break;case 10:this.onLinesDeleted(i)&&(w=!0);break;case 11:this.onLinesInserted(i)&&(w=!0);break;case 12:this.onRevealRangeRequest(i)&&(w=!0);break;case 13:this.onScrollChanged(i)&&(w=!0);break;case 15:this.onTokensChanged(i)&&(w=!0);break;case 14:this.onThemeChanged(i)&&(w=!0);break;case 16:this.onTokensColorsChanged(i)&&(w=!0);break;case 17:this.onZonesChanged(i)&&(w=!0);break;default:console.info("View received unknown event: "),console.info(i)}}w&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(Q[95],J([0,1,113]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends S.ViewEventHandler{}e.DynamicViewOverlay=k}),define(Q[46],J([0,1,30,113]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class M extends k.ViewEventHandler{constructor(p){super();this._context=p,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=M;class y{static write(p,v){p instanceof S.FastDomNode,p.setAttribute("data-mprt",String(v))}static read(p){const v=p.getAttribute("data-mprt");return v===null?0:parseInt(v,10)}static collect(p,v){let i=[],_=0;for(;p&&p!==document.body&&p!==v;)p.nodeType===p.ELEMENT_NODE&&(i[_++]=this.read(p)),p=p.parentElement;const s=new Uint8Array(_);for(let a=0;a<_;a++)s[a]=i[_-a-1];return s}}e.PartFingerprints=y}),define(Q[398],J([0,1,7,30,46]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class y{constructor(_,s){this.top=_,this.left=s}}class w extends M.ViewPart{constructor(_,s){super(_);this._viewDomNode=s,this._widgets={},this.domNode=k.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=k.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(_){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].onConfigurationChanged(_);return!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLineMappingChanged(_){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].onLineMappingChanged(_);return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return!0}onZonesChanged(_){return!0}addWidget(_){const s=new p(this._context,this._viewDomNode,_);this._widgets[s.id]=s,s.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(s.domNode):this.domNode.appendChild(s.domNode),this.setShouldRender()}setWidgetPosition(_,s,a){this._widgets[_.getId()].setPosition(s,a),this.setShouldRender()}removeWidget(_){const s=_.getId();if(this._widgets.hasOwnProperty(s)){const a=this._widgets[s];delete this._widgets[s];const u=a.domNode.domNode;u.parentNode.removeChild(u),u.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(_){return this._widgets.hasOwnProperty(_)?this._widgets[_].suppressMouseDown:!1}onBeforeRender(_){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].onBeforeRender(_)}prepareRender(_){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].prepareRender(_)}render(_){const s=Object.keys(this._widgets);for(const a of s)this._widgets[a].render(_)}}e.ViewContentWidgets=w;class p{constructor(_,s,a){this._context=_,this._viewDomNode=s,this._actual=a,this.domNode=k.createFastDomNode(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const u=this._context.configuration.options,c=u.get(128);this._fixedOverflowWidgets=u.get(34),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=u.get(56),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(_){const s=this._context.configuration.options;if(this._lineHeight=s.get(56),_.hasChanged(128)){const a=s.get(128);this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(_){this._setPosition(this._range)}_setPosition(_){if(this._range=_,this._viewRange=null,this._range){const s=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(s.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(s.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(s))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(_,s){this._setPosition(_),this._preference=s,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(_,s,a,u,c){const d=_.top,r=d,n=s.top+this._lineHeight,o=c.viewportHeight-n,t=d-u,l=r>=u,h=n,m=o>=u;let C=_.left,g=s.left;return C+a>c.scrollLeft+c.viewportWidth&&(C=c.scrollLeft+c.viewportWidth-a),g+a>c.scrollLeft+c.viewportWidth&&(g=c.scrollLeft+c.viewportWidth-a),C<c.scrollLeft&&(C=c.scrollLeft),g<c.scrollLeft&&(g=c.scrollLeft),{fitsAbove:l,aboveTop:t,aboveLeft:C,fitsBelow:m,belowTop:h,belowLeft:g}}_layoutHorizontalSegmentInPage(_,s,a,u){const c=Math.max(0,s.left-u),d=Math.min(s.left+s.width+u,_.width);let r=s.left+a-S.StandardWindow.scrollX;if(r+u>d){const n=r-(d-u);r-=n,a-=n}if(r<c){const n=r-c;r-=n,a-=n}return[a,r]}_layoutBoxInPage(_,s,a,u,c){const d=_.top-u,r=s.top+this._lineHeight,n=S.getDomNodePagePosition(this._viewDomNode.domNode),o=n.top+d-S.StandardWindow.scrollY,t=n.top+r-S.StandardWindow.scrollY,l=S.getClientArea(document.body),[h,m]=this._layoutHorizontalSegmentInPage(l,n,_.left-c.scrollLeft+this._contentLeft,a),[C,g]=this._layoutHorizontalSegmentInPage(l,n,s.left-c.scrollLeft+this._contentLeft,a),f=22,b=22,L=o>=f,N=t+u<=l.height-b;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(o,f),aboveLeft:m,fitsBelow:N,belowTop:t,belowLeft:g}:{fitsAbove:L,aboveTop:d,aboveLeft:h,fitsBelow:N,belowTop:r,belowLeft:C}}_prepareRenderWidgetAtExactPositionOverflowing(_){return new y(_.top,_.left+this._contentLeft)}_getTopAndBottomLeft(_){if(!this._viewRange)return[null,null];const s=_.linesVisibleRangesForRange(this._viewRange,!1);if(!s||s.length===0)return[null,null];let a=s[0],u=s[0];for(const l of s)l.lineNumber<a.lineNumber&&(a=l),l.lineNumber>u.lineNumber&&(u=l);let c=1073741824;for(const l of a.ranges)l.left<c&&(c=l.left);let d=1073741824;for(const l of u.ranges)l.left<d&&(d=l.left);const r=_.getVerticalOffsetForLineNumber(a.lineNumber)-_.scrollTop,n=new y(r,c),o=_.getVerticalOffsetForLineNumber(u.lineNumber)-_.scrollTop,t=new y(o,d);return[n,t]}_prepareRenderWidget(_){const[s,a]=this._getTopAndBottomLeft(_);if(!s||!a)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=v(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const d=this.domNode.domNode;this._cachedDomNodeClientWidth=d.clientWidth,this._cachedDomNodeClientHeight=d.clientHeight}}let u;if(this.allowEditorOverflow?u=this._layoutBoxInPage(s,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,_):u=this._layoutBoxInViewport(s,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,_),this._preference)for(let c=1;c<=2;c++)for(const d of this._preference)if(d===1){if(!u)return null;if(c===2||u.fitsAbove)return{coordinate:new y(u.aboveTop,u.aboveLeft),position:1}}else if(d===2){if(!u)return null;if(c===2||u.fitsBelow)return{coordinate:new y(u.belowTop,u.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(s),position:0}:{coordinate:s,position:0};return null}onBeforeRender(_){!this._viewRange||!this._preference||this._viewRange.endLineNumber<_.startLineNumber||this._viewRange.startLineNumber>_.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(_){this._renderData=this._prepareRenderWidget(_)}render(_){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+_.scrollTop-_.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(i,_,...s){try{return i.call(_,...s)}catch(a){return null}}}),define(Q[399],J([0,1,95,3,111,326]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class y extends S.DynamicViewOverlay{constructor(p){super();this._context=p;const v=this._context.configuration.options;this._lineHeight=v.get(56),this._typicalHalfwidthCharacterWidth=v.get(40).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const v=this._context.configuration.options;return this._lineHeight=v.get(56),this._typicalHalfwidthCharacterWidth=v.get(40).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const v=p.getDecorationsInViewport();let i=[],_=0;for(let c=0,d=v.length;c<d;c++){const r=v[c];r.options.className&&(i[_++]=r)}i=i.sort((c,d)=>{if(c.options.zIndex<d.options.zIndex)return-1;if(c.options.zIndex>d.options.zIndex)return 1;const r=c.options.className,n=d.options.className;return r<n?-1:r>n?1:k.Range.compareRangesUsingStarts(c.range,d.range)});const s=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber,u=[];for(let c=s;c<=a;c++){const d=c-s;u[d]=""}this._renderWholeLineDecorations(p,i,u),this._renderNormalDecorations(p,i,u),this._renderResult=u}_renderWholeLineDecorations(p,v,i){const _=String(this._lineHeight),s=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber;for(let u=0,c=v.length;u<c;u++){const d=v[u];if(!d.options.isWholeLine)continue;const r='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+_+'px;"></div>',n=Math.max(d.range.startLineNumber,s),o=Math.min(d.range.endLineNumber,a);for(let t=n;t<=o;t++){const l=t-s;i[l]+=r}}}_renderNormalDecorations(p,v,i){const _=String(this._lineHeight),s=p.visibleRange.startLineNumber;let a=null,u=!1,c=null;for(let d=0,r=v.length;d<r;d++){const n=v[d];if(n.options.isWholeLine)continue;const o=n.options.className,t=Boolean(n.options.showIfCollapsed);let l=n.range;if(t&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new k.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.model.getLineMaxColumn(l.endLineNumber-1))),a===o&&u===t&&k.Range.areIntersectingOrTouching(c,l)){c=k.Range.plusRange(c,l);continue}a!==null&&this._renderNormalDecoration(p,c,a,u,_,s,i),a=o,u=t,c=l}a!==null&&this._renderNormalDecoration(p,c,a,u,_,s,i)}_renderNormalDecoration(p,v,i,_,s,a,u){const c=p.linesVisibleRangesForRange(v,i==="findMatch");if(!!c)for(let d=0,r=c.length;d<r;d++){const n=c[d];if(n.outsideRenderedLine)continue;const o=n.lineNumber-a;if(_&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new M.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,l=n.ranges.length;t<l;t++){const h=n.ranges[t],m='<div class="cdr '+i+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+s+'px;"></div>';u[o]+=m}}}render(p,v){if(!this._renderResult)return"";const i=v-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=y}),define(Q[174],J([0,1,95,327]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class k{constructor(p,v,i){this.startLineNumber=+p,this.endLineNumber=+v,this.className=String(i)}}e.DecorationToRender=k;class M extends S.DynamicViewOverlay{_render(p,v,i){const _=[];for(let u=p;u<=v;u++){const c=u-p;_[c]=[]}if(i.length===0)return _;i.sort((u,c)=>u.className===c.className?u.startLineNumber===c.startLineNumber?u.endLineNumber-c.endLineNumber:u.startLineNumber-c.startLineNumber:u.className<c.className?-1:1);let s=null,a=0;for(let u=0,c=i.length;u<c;u++){const d=i[u],r=d.className;let n=Math.max(d.startLineNumber,p)-p;const o=Math.min(d.endLineNumber,v)-p;s===r?(n=Math.max(a+1,n),a=Math.max(a,o)):(s=r,a=o);for(let t=n;t<=a;t++)_[t].push(s)}return _}}e.DedupOverlay=M;class y extends M{constructor(p){super();this._context=p;const v=this._context.configuration.options,i=v.get(128);this._lineHeight=v.get(56),this._glyphMargin=v.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const v=this._context.configuration.options,i=v.get(128);return this._lineHeight=v.get(56),this._glyphMargin=v.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}_getDecorations(p){const v=p.getDecorationsInViewport();let i=[],_=0;for(let s=0,a=v.length;s<a;s++){const u=v[s],c=u.options.glyphMarginClassName;c&&(i[_++]=new k(u.range.startLineNumber,u.range.endLineNumber,c))}return i}prepareRender(p){if(!this._glyphMargin){this._renderResult=null;return}const v=p.visibleRange.startLineNumber,i=p.visibleRange.endLineNumber,_=this._render(v,i,this._getDecorations(p)),s=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),u=this._glyphMarginWidth.toString(),c='" style="left:'+a+"px;width:"+u+"px;height:"+s+'px;"></div>',d=[];for(let r=v;r<=i;r++){const n=r-v,o=_[n];o.length===0?d[n]="":d[n]='<div class="cgmr codicon '+o.join(" ")+c}this._renderResult=d}render(p,v){if(!this._renderResult)return"";const i=v-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=y}),define(Q[400],J([0,1,174,331]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends S.DedupOverlay{constructor(y){super();this._context=y;const p=this._context.configuration.options.get(128);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(y){const p=this._context.configuration.options.get(128);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return y.scrollTopChanged}onZonesChanged(y){return!0}_getDecorations(y){const w=y.getDecorationsInViewport();let p=[],v=0;for(let i=0,_=w.length;i<_;i++){const s=w[i],a=s.options.linesDecorationsClassName;a&&(p[v++]=new S.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a));const u=s.options.firstLineDecorationClassName;u&&(p[v++]=new S.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,u))}return p}prepareRender(y){const w=y.visibleRange.startLineNumber,p=y.visibleRange.endLineNumber,v=this._render(w,p,this._getDecorations(y)),i=this._decorationsLeft.toString(),_=this._decorationsWidth.toString(),s='" style="left:'+i+"px;width:"+_+'px;"></div>',a=[];for(let u=w;u<=p;u++){const c=u-w,d=v[c];let r="";for(let n=0,o=d.length;n<o;n++)r+='<div class="cldr '+d[n]+s;a[c]=r}this._renderResult=a}render(y,w){return this._renderResult?this._renderResult[w-y]:""}}e.LinesDecorationsOverlay=k}),define(Q[224],J([0,1,30,46]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class M extends k.ViewPart{constructor(w){super(w);const p=this._context.configuration.options,v=p.get(128);this._canUseLayerHinting=!p.get(26),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=S.createFastDomNode(document.createElement("div")),this._domNode.setClassName(M.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=S.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(M.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(w){const p=this._context.configuration.options,v=p.get(128);return this._canUseLayerHinting=!p.get(26),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(w){return super.onScrollChanged(w)||w.scrollTopChanged}prepareRender(w){}render(w){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=w.scrollTop-w.bigNumbersDelta;this._domNode.setTop(-p);const v=Math.min(w.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=M,M.CLASS_NAME="glyph-margin",M.OUTER_CLASS_NAME="margin"}),define(Q[401],J([0,1,174,332]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends S.DedupOverlay{constructor(y){super();this._context=y,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(y){return!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return y.scrollTopChanged}onZonesChanged(y){return!0}_getDecorations(y){const w=y.getDecorationsInViewport();let p=[],v=0;for(let i=0,_=w.length;i<_;i++){const s=w[i],a=s.options.marginClassName;a&&(p[v++]=new S.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a))}return p}prepareRender(y){const w=y.visibleRange.startLineNumber,p=y.visibleRange.endLineNumber,v=this._render(w,p,this._getDecorations(y)),i=[];for(let _=w;_<=p;_++){const s=_-w,a=v[s];let u="";for(let c=0,d=a.length;c<d;c++)u+='<div class="cmdr '+a[c]+'" style=""></div>';i[s]=u}this._renderResult=i}render(y,w){return this._renderResult?this._renderResult[w-y]:""}}e.MarginViewLineDecorationsOverlay=k}),define(Q[402],J([0,1,30,46,334]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class M extends k.ViewPart{constructor(w){super(w);const v=this._context.configuration.options.get(128);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=S.createFastDomNode(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(w){const v=this._context.configuration.options.get(128);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(w){const p=S.createFastDomNode(w.getDomNode());this._widgets[w.getId()]={widget:w,preference:null,domNode:p},p.setPosition("absolute"),p.setAttribute("widgetId",w.getId()),this._domNode.appendChild(p),this.setShouldRender()}setWidgetPosition(w,p){const v=this._widgets[w.getId()];return v.preference===p?!1:(v.preference=p,this.setShouldRender(),!0)}removeWidget(w){const p=w.getId();if(this._widgets.hasOwnProperty(p)){const i=this._widgets[p].domNode.domNode;delete this._widgets[p],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(w){const p=w.domNode;if(w.preference===null){p.unsetTop();return}if(w.preference===0)p.setTop(0),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(w.preference===1){const v=p.domNode.clientHeight;p.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else w.preference===2&&(p.setTop(0),p.domNode.style.right="50%")}prepareRender(w){}render(w){this._domNode.setWidth(this._editorWidth);const p=Object.keys(this._widgets);for(let v=0,i=p.length;v<i;v++){const _=p[v];this._renderWidget(this._widgets[_])}}}e.ViewOverlayWidgets=M}),define(Q[403],J([0,1,30,222,113]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class y extends M.ViewEventHandler{constructor(p,v){super();this._context=p;const i=this._context.configuration.options;this._domNode=S.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(_=>this._context.viewLayout.getVerticalOffsetForLineNumber(_)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(56)),this._zoneManager.setPixelRatio(i.get(126)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const v=this._context.configuration.options;return p.hasChanged(56)&&(this._zoneManager.setLineHeight(v.get(56)),this._render()),p.hasChanged(126)&&(this._zoneManager.setPixelRatio(v.get(126)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let v=!1;v=this._zoneManager.setDOMWidth(p.width)||v,v=this._zoneManager.setDOMHeight(p.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),_=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,p,v),i.length>0&&this._renderOneLane(s,i,_,p),!0}_renderOneLane(p,v,i,_){let s=0,a=0,u=0;for(const c of v){const d=c.colorId,r=c.from,n=c.to;d!==s?(p.fillRect(0,a,_,u-a),s=d,p.fillStyle=i[s],a=r,u=n):u>=r?u=Math.max(u,n):(p.fillRect(0,a,_,u-a),a=r,u=n)}p.fillRect(0,a,_,u-a)}}e.OverviewRuler=y}),define(Q[404],J([0,1,30,12,46,13]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const w=()=>{throw new Error("Invalid change accessor")};class p extends M.ViewPart{constructor(_){super(_);const s=this._context.configuration.options,a=s.get(128);this._lineHeight=s.get(56),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this.domNode=S.createFastDomNode(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=S.createFastDomNode(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const _=this._context.viewLayout.getWhitespaces(),s=new Map;for(const u of _)s.set(u.id,u);let a=!1;return this._context.model.changeWhitespace(u=>{const c=Object.keys(this._zones);for(let d=0,r=c.length;d<r;d++){const n=c[d],o=this._zones[n],t=this._computeWhitespaceProps(o.delegate),l=s.get(n);l&&(l.afterLineNumber!==t.afterViewLineNumber||l.height!==t.heightInPx)&&(u.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(o.delegate,t.heightInPx),a=!0)}}),a}onConfigurationChanged(_){const s=this._context.configuration.options,a=s.get(128);return this._lineHeight=s.get(56),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,_.hasChanged(56)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(_){return this._recomputeWhitespacesProps()}onLinesDeleted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}onLinesInserted(_){return!0}_getZoneOrdinal(_){return typeof _.afterColumn!="undefined"?_.afterColumn:1e4}_computeWhitespaceProps(_){if(_.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(_),minWidthInPx:this._minWidthInPixels(_)};let s;if(typeof _.afterColumn!="undefined")s=this._context.model.validateModelPosition({lineNumber:_.afterLineNumber,column:_.afterColumn});else{const d=this._context.model.validateModelPosition({lineNumber:_.afterLineNumber,column:1}).lineNumber;s=new y.Position(d,this._context.model.getModelLineMaxColumn(d))}let a;s.column===this._context.model.getModelLineMaxColumn(s.lineNumber)?a=this._context.model.validateModelPosition({lineNumber:s.lineNumber+1,column:1}):a=this._context.model.validateModelPosition({lineNumber:s.lineNumber,column:s.column+1});const u=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(s),c=this._context.model.coordinatesConverter.modelPositionIsVisible(a);return{afterViewLineNumber:u.lineNumber,heightInPx:c?this._heightInPixels(_):0,minWidthInPx:this._minWidthInPixels(_)}}changeViewZones(_){let s=!1;return this._context.model.changeWhitespace(a=>{const u={addZone:c=>(s=!0,this._addZone(a,c)),removeZone:c=>{!c||(s=this._removeZone(a,c)||s)},layoutZone:c=>{!c||(s=this._layoutZone(a,c)||s)}};v(_,u),u.addZone=w,u.removeZone=w,u.layoutZone=w}),s}_addZone(_,s){const a=this._computeWhitespaceProps(s),c={whitespaceId:_.insertWhitespace(a.afterViewLineNumber,this._getZoneOrdinal(s),a.heightInPx,a.minWidthInPx),delegate:s,isVisible:!1,domNode:S.createFastDomNode(s.domNode),marginDomNode:s.marginDomNode?S.createFastDomNode(s.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,a.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(_,s){if(this._zones.hasOwnProperty(s)){const a=this._zones[s];return delete this._zones[s],_.removeWhitespace(a.whitespaceId),a.domNode.removeAttribute("monaco-visible-view-zone"),a.domNode.removeAttribute("monaco-view-zone"),a.domNode.domNode.parentNode.removeChild(a.domNode.domNode),a.marginDomNode&&(a.marginDomNode.removeAttribute("monaco-visible-view-zone"),a.marginDomNode.removeAttribute("monaco-view-zone"),a.marginDomNode.domNode.parentNode.removeChild(a.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(_,s){if(this._zones.hasOwnProperty(s)){const a=this._zones[s],u=this._computeWhitespaceProps(a.delegate);return _.changeOneWhitespace(a.whitespaceId,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(a.delegate,u.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(_){if(this._zones.hasOwnProperty(_)){const s=this._zones[_];return Boolean(s.delegate.suppressMouseDown)}return!1}_heightInPixels(_){return typeof _.heightInPx=="number"?_.heightInPx:typeof _.heightInLines=="number"?this._lineHeight*_.heightInLines:this._lineHeight}_minWidthInPixels(_){return typeof _.minWidthInPx=="number"?_.minWidthInPx:0}_safeCallOnComputedHeight(_,s){if(typeof _.onComputedHeight=="function")try{_.onComputedHeight(s)}catch(a){k.onUnexpectedError(a)}}_safeCallOnDomNodeTop(_,s){if(typeof _.onDomNodeTop=="function")try{_.onDomNodeTop(s)}catch(a){k.onUnexpectedError(a)}}prepareRender(_){}render(_){const s=_.viewportData.whitespaceViewportData,a={};let u=!1;for(let d=0,r=s.length;d<r;d++)a[s[d].id]=s[d],u=!0;const c=Object.keys(this._zones);for(let d=0,r=c.length;d<r;d++){const n=c[d],o=this._zones[n];let t=0,l=0,h="none";a.hasOwnProperty(n)?(t=a[n].verticalOffset-_.bigNumbersDelta,l=a[n].height,h="block",o.isVisible||(o.domNode.setAttribute("monaco-visible-view-zone","true"),o.isVisible=!0),this._safeCallOnDomNodeTop(o.delegate,_.getScrolledTopFromAbsoluteTop(a[n].verticalOffset))):(o.isVisible&&(o.domNode.removeAttribute("monaco-visible-view-zone"),o.isVisible=!1),this._safeCallOnDomNodeTop(o.delegate,_.getScrolledTopFromAbsoluteTop(-1e6))),o.domNode.setTop(t),o.domNode.setHeight(l),o.domNode.setDisplay(h),o.marginDomNode&&(o.marginDomNode.setTop(t),o.marginDomNode.setHeight(l),o.marginDomNode.setDisplay(h))}u&&(this.domNode.setWidth(Math.max(_.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function v(i,_){try{return i(_)}catch(s){k.onUnexpectedError(s)}}}),define(Q[63],J([0,1,8]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class k{constructor(a,u,c,d){this.top=a|0,this.left=u|0,this.width=c|0,this.height=d|0}}e.Viewport=k;class M{constructor(a,u){this.outputLineIndex=a,this.outputOffset=u}}e.OutputPosition=M;class y{constructor(a,u,c){this.breakOffsets=a,this.breakOffsetsVisibleColumn=u,this.wrappedTextIndentLength=c}static getInputOffsetOfOutputPosition(a,u,c){return u===0?c:a[u-1]+c}static getOutputPositionOfInputOffset(a,u){let c=0,d=a.length-1,r=0,n=0;for(;c<=d;){r=c+(d-c)/2|0;const o=a[r];if(n=r>0?a[r-1]:0,u<n)d=r-1;else if(u>=o)c=r+1;else break}return new M(r,u-n)}}e.LineBreakData=y;class w{constructor(a,u){this.tabSize=a,this.data=u}}e.MinimapLinesRenderingData=w;class p{constructor(a,u,c,d,r,n){this.content=a,this.continuesWithWrappedLine=u,this.minColumn=c,this.maxColumn=d,this.startVisibleColumn=r,this.tokens=n}}e.ViewLineData=p;class v{constructor(a,u,c,d,r,n,o,t,l,h){this.minColumn=a,this.maxColumn=u,this.content=c,this.continuesWithWrappedLine=d,this.isBasicASCII=v.isBasicASCII(c,n),this.containsRTL=v.containsRTL(c,this.isBasicASCII,r),this.tokens=o,this.inlineDecorations=t,this.tabSize=l,this.startVisibleColumn=h}static isBasicASCII(a,u){return u?S.isBasicASCII(a):!0}static containsRTL(a,u,c){return!u&&c?S.containsRTL(a):!1}}e.ViewLineRenderingData=v;class i{constructor(a,u,c){this.range=a,this.inlineClassName=u,this.type=c}}e.InlineDecoration=i;class _{constructor(a,u){this.range=a,this.options=u}}e.ViewModelDecoration=_}),define(Q[405],J([0,1,8,93,63]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y extends k.CharacterClassifier{constructor(r,n){super(0);for(let o=0;o<r.length;o++)this.set(r.charCodeAt(o),1);for(let o=0;o<n.length;o++)this.set(n.charCodeAt(o),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let w=[],p=[];class v{constructor(r,n){this.classifier=new y(r,n)}static create(r){return new v(r.get(117),r.get(116))}createLineBreaksComputer(r,n,o,t){n=n|0,o=+o;let l=[],h=[];return{addRequest:(m,C)=>{l.push(m),h.push(C)},finalize:()=>{const m=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth;let C=[];for(let g=0,f=l.length;g<f;g++){const b=h[g];b?C[g]=i(this.classifier,b,l[g],n,o,m,t):C[g]=_(this.classifier,l[g],n,o,m,t)}return w.length=0,p.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=v;function i(d,r,n,o,t,l,h){if(t===-1)return null;const m=n.length;if(m<=1)return null;const C=r.breakOffsets,g=r.breakOffsetsVisibleColumn,f=c(n,o,t,l,h),b=t-f;let L=w,N=p,D=0,I=0,T=0,A=t;const R=C.length;let O=0;if(O>=0){let P=Math.abs(g[O]-A);for(;O+1<R;){const F=Math.abs(g[O+1]-A);if(F>=P)break;P=F,O++}}for(;O<R;){let P=O<0?0:C[O],F=O<0?0:g[O];I>P&&(P=I,F=T);let E=0,x=0,H=0,K=0;if(F<=A){let G=F,ee=P===0?0:n.charCodeAt(P-1),ie=P===0?0:d.get(ee),ae=!0;for(let de=P;de<m;de++){const Y=de,B=n.charCodeAt(de);let W,V;if(S.isHighSurrogate(B)?(de++,W=0,V=2):(W=d.get(B),V=s(B,G,o,l)),Y>I&&u(ee,ie,B,W)&&(E=Y,x=G),G+=V,G>A){Y>I?(H=Y,K=G-V):(H=de+1,K=G),G-x>b&&(E=0),ae=!1;break}ee=B,ie=W}if(ae){D>0&&(L[D]=C[C.length-1],N[D]=g[C.length-1],D++);break}}if(E===0){let G=F,ee=n.charCodeAt(P),ie=d.get(ee),ae=!1;for(let de=P-1;de>=I;de--){const Y=de+1,B=n.charCodeAt(de);if(B===9){ae=!0;break}let W,V;if(S.isLowSurrogate(B)?(de--,W=0,V=2):(W=d.get(B),V=S.isFullWidthCharacter(B)?l:1),G<=A){if(H===0&&(H=Y,K=G),G<=A-b)break;if(u(B,W,ee,ie)){E=Y,x=G;break}}G-=V,ee=B,ie=W}if(E!==0){const de=b-(K-x);if(de<=o){const Y=n.charCodeAt(H);let B;S.isHighSurrogate(Y)?B=2:B=s(Y,K,o,l),de-B<0&&(E=0)}}if(ae){O--;continue}}if(E===0&&(E=H,x=K),E<=I){const G=n.charCodeAt(I);S.isHighSurrogate(G)?(E=I+2,x=T+2):(E=I+1,x=T+s(G,T,o,l))}for(I=E,L[D]=E,T=x,N[D]=x,D++,A=x+b;O<0||O<R&&g[O]<x;)O++;let q=Math.abs(g[O]-A);for(;O+1<R;){const G=Math.abs(g[O+1]-A);if(G>=q)break;q=G,O++}}return D===0?null:(L.length=D,N.length=D,w=r.breakOffsets,p=r.breakOffsetsVisibleColumn,r.breakOffsets=L,r.breakOffsetsVisibleColumn=N,r.wrappedTextIndentLength=f,r)}function _(d,r,n,o,t,l){if(o===-1)return null;const h=r.length;if(h<=1)return null;const m=c(r,n,o,t,l),C=o-m;let g=[],f=[],b=0,L=0,N=0,D=o,I=r.charCodeAt(0),T=d.get(I),A=s(I,0,n,t),R=1;S.isHighSurrogate(I)&&(A+=1,I=r.charCodeAt(1),T=d.get(I),R++);for(let O=R;O<h;O++){const P=O,F=r.charCodeAt(O);let E,x;S.isHighSurrogate(F)?(O++,E=0,x=2):(E=d.get(F),x=s(F,A,n,t)),u(I,T,F,E)&&(L=P,N=A),A+=x,A>D&&((L===0||A-N>C)&&(L=P,N=A-x),g[b]=L,f[b]=N,b++,D=N+C,L=0),I=F,T=E}return b===0?null:(g[b]=h,f[b]=A,new M.LineBreakData(g,f,m))}function s(d,r,n,o){return d===9?n-r%n:S.isFullWidthCharacter(d)||d<32?o:1}function a(d,r){return r-d%r}function u(d,r,n,o){return n!==32&&(r===2||r===3&&o!==2||o===1||o===3&&r!==1)}function c(d,r,n,o,t){let l=0;if(t!==0){const h=S.firstNonWhitespaceIndex(d);if(h!==-1){for(let C=0;C<h;C++)l+=d.charCodeAt(C)===9?a(l,r):1;const m=t===3?2:t===2?1:0;for(let C=0;C<m;C++)l+=a(l,r);l+o>n&&(l=0)}}return l}}),define(Q[175],J([0,1,6,2]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class M extends k.Disposable{constructor(){super();this._onEvent=this._register(new S.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(u){this._addOutgoingEvent(u),this._emitOugoingEvents()}_addOutgoingEvent(u){for(let c=0,d=this._outgoingEvents.length;c<d;c++)if(this._outgoingEvents[c].kind===u.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(u);return}this._outgoingEvents.push(u)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const u=this._outgoingEvents.shift();u.isNoOp()||this._onEvent.fire(u)}}addViewEventHandler(u){for(let c=0,d=this._eventHandlers.length;c<d;c++)this._eventHandlers[c]===u&&console.warn("Detected duplicate listener in ViewEventDispatcher",u);this._eventHandlers.push(u)}removeViewEventHandler(u){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===u){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new y),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const u=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const d of u)this._addOutgoingEvent(d);c.length>0&&this._emitMany(c)}this._emitOugoingEvents()}emitSingleViewEvent(u){try{this.beginEmitViewEvents().emitViewEvent(u)}finally{this.endEmitViewEvents()}}_emitMany(u){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(u):this._viewEventQueue=u,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const u=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const d of c)d.handleEvents(u)}}}e.ViewModelEventDispatcher=M;class y{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(u){this.viewEvents.push(u)}emitOutgoingEvent(u){this.outgoingEvents.push(u)}}e.ViewModelEventsCollector=y;class w{constructor(u,c,d,r){this.kind=0,this._oldContentWidth=u,this._oldContentHeight=c,this.contentWidth=d,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(u){return u.kind!==0?this:new w(this._oldContentWidth,this._oldContentHeight,u.contentWidth,u.contentHeight)}}e.ContentSizeChangedEvent=w;class p{constructor(u,c){this.kind=1,this.oldHasFocus=u,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(u){return u.kind!==1?this:new p(this.oldHasFocus,u.hasFocus)}}e.FocusChangedEvent=p;class v{constructor(u,c,d,r,n,o,t,l){this.kind=2,this._oldScrollWidth=u,this._oldScrollLeft=c,this._oldScrollHeight=d,this._oldScrollTop=r,this.scrollWidth=n,this.scrollLeft=o,this.scrollHeight=t,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(u){return u.kind!==2?this:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,u.scrollWidth,u.scrollLeft,u.scrollHeight,u.scrollTop)}}e.ScrollChangedEvent=v;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(u){return this}}e.ViewZonesChangedEvent=i;class _{constructor(u,c,d,r,n,o,t){this.kind=5,this.oldSelections=u,this.selections=c,this.oldModelVersionId=d,this.modelVersionId=r,this.source=n,this.reason=o,this.reachedMaxCursorCount=t}static _selectionsAreEqual(u,c){if(!u&&!c)return!0;if(!u||!c)return!1;const d=u.length,r=c.length;if(d!==r)return!1;for(let n=0;n<d;n++)if(!u[n].equalsSelection(c[n]))return!1;return!0}isNoOp(){return _._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(u){return u.kind!==5?this:new _(this.oldSelections,u.selections,this.oldModelVersionId,u.modelVersionId,u.source,u.reason,this.reachedMaxCursorCount||u.reachedMaxCursorCount)}}e.CursorStateChangedEvent=_;class s{constructor(){this.kind=4}isNoOp(){return!1}merge(u){return this}}e.ReadOnlyEditAttemptEvent=s}),define(Q[406],J([0,1,6,2,125,394,63,175]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class i{constructor(u,c,d,r){u=u|0,c=c|0,d=d|0,r=r|0,u<0&&(u=0),c<0&&(c=0),d<0&&(d=0),r<0&&(r=0),this.width=u,this.contentWidth=c,this.scrollWidth=Math.max(u,c),this.height=d,this.contentHeight=r,this.scrollHeight=Math.max(d,r)}equals(u){return this.width===u.width&&this.contentWidth===u.contentWidth&&this.height===u.height&&this.contentHeight===u.contentHeight}}class _ extends k.Disposable{constructor(u,c){super();this._onDidContentSizeChange=this._register(new S.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new M.Scrollable(u,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(u){this._scrollable.setSmoothScrollDuration(u)}validateScrollPosition(u){return this._scrollable.validateScrollPosition(u)}getScrollDimensions(){return this._dimensions}setScrollDimensions(u){if(this._dimensions.equals(u))return;const c=this._dimensions;this._dimensions=u,this._scrollable.setScrollDimensions({width:u.width,scrollWidth:u.scrollWidth,height:u.height,scrollHeight:u.scrollHeight},!0);const d=c.contentWidth!==u.contentWidth,r=c.contentHeight!==u.contentHeight;(d||r)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,u.contentWidth,u.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(u){this._scrollable.setScrollPositionNow(u)}setScrollPositionSmooth(u){this._scrollable.setScrollPositionSmooth(u)}}class s extends k.Disposable{constructor(u,c,d){super();this._configuration=u;const r=this._configuration.options,n=r.get(128),o=r.get(72);this._linesLayout=new y.LinesLayout(c,r.get(56),o.top,o.bottom),this._scrollable=this._register(new _(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(101)?v:0)}onConfigurationChanged(u){const c=this._configuration.options;if(u.hasChanged(56)&&this._linesLayout.setLineHeight(c.get(56)),u.hasChanged(72)){const d=c.get(72);this._linesLayout.setPadding(d.top,d.bottom)}if(u.hasChanged(128)){const d=c.get(128),r=d.contentWidth,n=d.height,o=this._scrollable.getScrollDimensions(),t=o.contentWidth;this._scrollable.setScrollDimensions(new i(r,o.contentWidth,n,this._getContentHeight(r,n,t)))}else this._updateHeight();u.hasChanged(101)&&this._configureSmoothScrollDuration()}onFlushed(u){this._linesLayout.onFlushed(u)}onLinesDeleted(u,c){this._linesLayout.onLinesDeleted(u,c)}onLinesInserted(u,c){this._linesLayout.onLinesInserted(u,c)}_getHorizontalScrollbarHeight(u,c){const r=this._configuration.options.get(90);return r.horizontal===2||u>=c?0:r.horizontalScrollbarSize}_getContentHeight(u,c,d){const r=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return r.get(92)?n+=Math.max(0,c-r.get(56)-r.get(72).bottom):n+=this._getHorizontalScrollbarHeight(u,d),n}_updateHeight(){const u=this._scrollable.getScrollDimensions(),c=u.width,d=u.height,r=u.contentWidth;this._scrollable.setScrollDimensions(new i(c,u.contentWidth,d,this._getContentHeight(c,d,r)))}getCurrentViewport(){const u=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new w.Viewport(c.scrollTop,c.scrollLeft,u.width,u.height)}getFutureViewport(){const u=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new w.Viewport(c.scrollTop,c.scrollLeft,u.width,u.height)}_computeContentWidth(u){const c=this._configuration.options,d=c.get(129),r=c.get(40);if(d.isViewportWrapping){const n=c.get(128),o=c.get(62);return u>n.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?u+n.verticalScrollbarWidth:u}else{const n=c.get(91)*r.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(u+n,o)}}setMaxLineWidth(u){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(c.width,this._computeContentWidth(u),c.height,c.contentHeight)),this._updateHeight()}saveState(){const u=this._scrollable.getFutureScrollPosition();let c=u.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:c,scrollTopWithoutViewZones:c-r,scrollLeft:u.scrollLeft}}changeWhitespace(u){const c=this._linesLayout.changeWhitespace(u);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(u){return this._linesLayout.getVerticalOffsetForLineNumber(u)}isAfterLines(u){return this._linesLayout.isAfterLines(u)}isInTopPadding(u){return this._linesLayout.isInTopPadding(u)}isInBottomPadding(u){return this._linesLayout.isInBottomPadding(u)}getLineNumberAtVerticalOffset(u){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(u)}getWhitespaceAtVerticalOffset(u){return this._linesLayout.getWhitespaceAtVerticalOffset(u)}getLinesViewportData(){const u=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(u.top,u.top+u.height)}getLinesViewportDataAtScrollTop(u){const c=this._scrollable.getScrollDimensions();return u+c.height>c.scrollHeight&&(u=c.scrollHeight-c.height),u<0&&(u=0),this._linesLayout.getLinesViewportData(u,u+c.height)}getWhitespaceViewportData(){const u=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(u.top,u.top+u.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(u){return this._scrollable.validateScrollPosition(u)}setScrollPosition(u,c){c===1?this._scrollable.setScrollPositionNow(u):this._scrollable.setScrollPositionSmooth(u)}deltaScrollNow(u,c){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+u,scrollTop:d.scrollTop+c})}}e.ViewLayout=s}),define(Q[407],J([0,1,3,21]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class M{constructor(w,p){this._selection=w,this._isMovingLeft=p}getEditOperations(w,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,i=this._selection.startColumn,_=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&_===w.getLineMaxColumn(v)))if(this._isMovingLeft){const s=new S.Range(v,i-1,v,i),a=w.getValueInRange(s);p.addEditOperation(s,null),p.addEditOperation(new S.Range(v,_,v,_),a)}else{const s=new S.Range(v,_,v,_+1),a=w.getValueInRange(s);p.addEditOperation(s,null),p.addEditOperation(new S.Range(v,i,v,i),a)}}computeCursorState(w,p){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=M}),define(Q[133],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class S{constructor(v){this.value=v}equals(v){return this.value===v.value}contains(v){return this.equals(v)||this.value===""||v.value.startsWith(this.value+S.sep)}intersects(v){return this.contains(v)||v.contains(this)}append(v){return new S(this.value+S.sep+v)}}e.CodeActionKind=S,S.sep=".",S.None=new S("@@none@@"),S.Empty=new S(""),S.QuickFix=new S("quickfix"),S.Refactor=new S("refactor"),S.Source=new S("source"),S.SourceOrganizeImports=S.Source.append("organizeImports"),S.SourceFixAll=S.Source.append("fixAll");function k(p,v){return!(p.include&&!p.include.intersects(v)||p.excludes&&p.excludes.some(i=>y(v,i,p.include))||!p.includeSourceActions&&S.Source.contains(v))}e.mayIncludeActionsOfKind=k;function M(p,v){const i=v.kind?new S(v.kind):void 0;return!(p.include&&(!i||!p.include.contains(i))||p.excludes&&i&&p.excludes.some(_=>y(i,_,p.include))||!p.includeSourceActions&&i&&S.Source.contains(i)||p.onlyIncludePreferredActions&&!v.isPreferred)}e.filtersAction=M;function y(p,v,i){return!(!v.contains(p)||i&&v.contains(i))}class w{constructor(v,i,_){this.kind=v,this.apply=i,this.preferred=_}static fromUser(v,i){return!v||typeof v!="object"?new w(i.kind,i.apply,!1):new w(w.getKindFromUser(v,i.kind),w.getApplyFromUser(v,i.apply),w.getPreferredUser(v))}static getApplyFromUser(v,i){switch(typeof v.apply=="string"?v.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(v,i){return typeof v.kind=="string"?new S(v.kind):i}static getPreferredUser(v){return typeof v.preferred=="boolean"?v.preferred:!1}}e.CodeActionCommandArgs=w}),define(Q[408],J([0,1,6]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{constructor(y,w,p){this.presentationIndex=p,this._onColorFlushed=new S.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new S.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new S.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=y,this._color=y,this._colorPresentations=w}get color(){return this._color}set color(y){this._color.equals(y)||(this._color=y,this._onDidChangeColor.fire(y))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(y){this._colorPresentations=y,this.presentationIndex>y.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(y,w){for(let p=0;p<this.colorPresentations.length;p++)if(w.toLowerCase()===this.colorPresentations[p].label){this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(Q[225],J([0,1,57,13,3,21,43]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class p{constructor(i,_){this._selection=i,this._insertSpace=_,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,_,s){if(s<0)return!1;const a=_.length,u=i.length;if(s+a>u)return!1;for(let c=0;c<a;c++){const d=i.charCodeAt(s+c),r=_.charCodeAt(c);if(d!==r&&!(d>=65&&d<=90&&d+32===r)&&!(r>=65&&r<=90&&r+32===d))return!1}return!0}_createOperationsForBlockComment(i,_,s,a,u,c){const d=i.startLineNumber,r=i.startColumn,n=i.endLineNumber,o=i.endColumn,t=u.getLineContent(d),l=u.getLineContent(n);let h=t.lastIndexOf(_,r-1+_.length),m=l.indexOf(s,o-1-s.length);if(h!==-1&&m!==-1)if(d===n)t.substring(h+_.length,m).indexOf(s)>=0&&(h=-1,m=-1);else{const g=t.substring(h+_.length),f=l.substring(0,m);(g.indexOf(s)>=0||f.indexOf(s)>=0)&&(h=-1,m=-1)}let C;h!==-1&&m!==-1?(a&&h+_.length<t.length&&t.charCodeAt(h+_.length)===32&&(_=_+" "),a&&m>0&&l.charCodeAt(m-1)===32&&(s=" "+s,m-=1),C=p._createRemoveBlockCommentOperations(new M.Range(d,h+_.length+1,n,m+1),_,s)):(C=p._createAddBlockCommentOperations(i,_,s,this._insertSpace),this._usedEndToken=C.length===1?s:null);for(const g of C)c.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(i,_,s){let a=[];return M.Range.isEmpty(i)?a.push(S.EditOperation.delete(new M.Range(i.startLineNumber,i.startColumn-_.length,i.endLineNumber,i.endColumn+s.length))):(a.push(S.EditOperation.delete(new M.Range(i.startLineNumber,i.startColumn-_.length,i.startLineNumber,i.startColumn))),a.push(S.EditOperation.delete(new M.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+s.length)))),a}static _createAddBlockCommentOperations(i,_,s,a){let u=[];return M.Range.isEmpty(i)?u.push(S.EditOperation.replace(new M.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),_+"  "+s)):(u.push(S.EditOperation.insert(new k.Position(i.startLineNumber,i.startColumn),_+(a?" ":""))),u.push(S.EditOperation.insert(new k.Position(i.endLineNumber,i.endColumn),(a?" ":"")+s))),u}getEditOperations(i,_){const s=this._selection.startLineNumber,a=this._selection.startColumn;i.tokenizeIfCheap(s);const u=i.getLanguageIdAtPosition(s,a),c=w.LanguageConfigurationRegistry.getComments(u);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,i,_)}computeCursorState(i,_){const s=_.getInverseEditOperations();if(s.length===2){const a=s[0],u=s[1];return new y.Selection(a.range.endLineNumber,a.range.endColumn,u.range.startLineNumber,u.range.startColumn)}else{const a=s[0].range,u=this._usedEndToken?-this._usedEndToken.length-1:0;return new y.Selection(a.endLineNumber,a.endColumn+u,a.endLineNumber,a.endColumn+u)}}}e.BlockCommentCommand=p}),define(Q[409],J([0,1,8,57,13,3,21,43,225]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(s,a,u,c,d,r){this._selection=s,this._tabSize=a,this._type=u,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(s,a,u){s.tokenizeIfCheap(a);const c=s.getLanguageIdAtPosition(a,1),d=p.LanguageConfigurationRegistry.getComments(c),r=d?d.lineCommentToken:null;if(!r)return null;let n=[];for(let o=0,t=u-a+1;o<t;o++)n[o]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return n}static _analyzeLines(s,a,u,c,d,r,n){let o=!0,t;s===0?t=!0:s===1?t=!1:t=!0;for(let l=0,h=c.length;l<h;l++){const m=c[l],C=d+l;if(C===d&&n){m.ignore=!0;continue}const g=u.getLineContent(C),f=S.firstNonWhitespaceIndex(g);if(f===-1){m.ignore=r,m.commentStrOffset=g.length;continue}if(o=!1,m.ignore=!1,m.commentStrOffset=f,t&&!v.BlockCommentCommand._haystackHasNeedleAtOffset(g,m.commentStr,f)&&(s===0?t=!1:s===1||(m.ignore=!0)),t&&a){const b=f+m.commentStrLength;b<g.length&&g.charCodeAt(b)===32&&(m.commentStrLength+=1)}}if(s===0&&o){t=!1;for(let l=0,h=c.length;l<h;l++)c[l].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:c}}static _gatherPreflightData(s,a,u,c,d,r,n){const o=i._gatherPreflightCommentStrings(u,c,d);return o===null?{supported:!1}:i._analyzeLines(s,a,u,o,c,r,n)}_executeLineComments(s,a,u,c){let d;u.shouldRemoveComments?d=i._createRemoveLineCommentsOperations(u.lines,c.startLineNumber):(i._normalizeInsertionPoint(s,u.lines,c.startLineNumber,this._tabSize),d=this._createAddLineCommentsOperations(u.lines,c.startLineNumber));const r=new M.Position(c.positionLineNumber,c.positionColumn);for(let n=0,o=d.length;n<o;n++)a.addEditOperation(d[n].range,d[n].text),y.Range.isEmpty(d[n].range)&&y.Range.getStartPosition(d[n].range).equals(r)&&s.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(d[n].text||"").length);this._selectionId=a.trackSelection(c)}_attemptRemoveBlockComment(s,a,u,c){let d=a.startLineNumber,r=a.endLineNumber,n=c.length+Math.max(s.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn),o=s.getLineContent(d).lastIndexOf(u,n-1),t=s.getLineContent(r).indexOf(c,a.endColumn-1-u.length);return o!==-1&&t===-1&&(t=s.getLineContent(d).indexOf(c,o+u.length),r=d),o===-1&&t!==-1&&(o=s.getLineContent(r).lastIndexOf(u,t),d=r),a.isEmpty()&&(o===-1||t===-1)&&(o=s.getLineContent(d).indexOf(u),o!==-1&&(t=s.getLineContent(d).indexOf(c,o+u.length))),o!==-1&&s.getLineContent(d).charCodeAt(o+u.length)===32&&(u+=" "),t!==-1&&s.getLineContent(r).charCodeAt(t-1)===32&&(c=" "+c,t-=1),o!==-1&&t!==-1?v.BlockCommentCommand._createRemoveBlockCommentOperations(new y.Range(d,o+u.length+1,r,t+1),u,c):null}_executeBlockComment(s,a,u){s.tokenizeIfCheap(u.startLineNumber);let c=s.getLanguageIdAtPosition(u.startLineNumber,1),d=p.LanguageConfigurationRegistry.getComments(c);if(!d||!d.blockCommentStartToken||!d.blockCommentEndToken)return;const r=d.blockCommentStartToken,n=d.blockCommentEndToken;let o=this._attemptRemoveBlockComment(s,u,r,n);if(!o){if(u.isEmpty()){const t=s.getLineContent(u.startLineNumber);let l=S.firstNonWhitespaceIndex(t);l===-1&&(l=t.length),o=v.BlockCommentCommand._createAddBlockCommentOperations(new y.Range(u.startLineNumber,l+1,u.startLineNumber,t.length+1),r,n,this._insertSpace)}else o=v.BlockCommentCommand._createAddBlockCommentOperations(new y.Range(u.startLineNumber,s.getLineFirstNonWhitespaceColumn(u.startLineNumber),u.endLineNumber,s.getLineMaxColumn(u.endLineNumber)),r,n,this._insertSpace);o.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=a.trackSelection(u);for(const t of o)a.addEditOperation(t.range,t.text)}getEditOperations(s,a){let u=this._selection;if(this._moveEndPositionDown=!1,u.startLineNumber===u.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new y.Range(u.startLineNumber,s.getLineMaxColumn(u.startLineNumber),u.startLineNumber+1,1),u.startLineNumber===s.getLineCount()?"":`
`),this._selectionId=a.trackSelection(u);return}u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,s.getLineMaxColumn(u.endLineNumber-1)));const c=i._gatherPreflightData(this._type,this._insertSpace,s,u.startLineNumber,u.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(s,a,c,u):this._executeBlockComment(s,a,u)}computeCursorState(s,a){let u=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(u=u.setEndPosition(u.endLineNumber+1,1)),new w.Selection(u.selectionStartLineNumber,u.selectionStartColumn+this._deltaColumn,u.positionLineNumber,u.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(s,a){let u=[];for(let c=0,d=s.length;c<d;c++){const r=s[c];r.ignore||u.push(k.EditOperation.delete(new y.Range(a+c,r.commentStrOffset+1,a+c,r.commentStrOffset+r.commentStrLength+1)))}return u}_createAddLineCommentsOperations(s,a){let u=[];const c=this._insertSpace?" ":"";for(let d=0,r=s.length;d<r;d++){const n=s[d];n.ignore||u.push(k.EditOperation.insert(new M.Position(a+d,n.commentStrOffset+1),n.commentStr+c))}return u}static nextVisibleColumn(s,a,u,c){return u?s+(a-s%a):s+c}static _normalizeInsertionPoint(s,a,u,c){let d=1073741824,r,n;for(let o=0,t=a.length;o<t;o++){if(a[o].ignore)continue;const l=s.getLineContent(u+o);let h=0;for(let m=0,C=a[o].commentStrOffset;h<d&&m<C;m++)h=i.nextVisibleColumn(h,c,l.charCodeAt(m)===9,1);h<d&&(d=h)}d=Math.floor(d/c)*c;for(let o=0,t=a.length;o<t;o++){if(a[o].ignore)continue;const l=s.getLineContent(u+o);let h=0;for(r=0,n=a[o].commentStrOffset;h<d&&r<n;r++)h=i.nextVisibleColumn(h,c,l.charCodeAt(r)===9,1);h>d?a[o].commentStrOffset=r-1:a[o].commentStrOffset=r}}}e.LineCommentCommand=i}),define(Q[410],J([0,1,21,3]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class M{constructor(w,p,v){this.selection=w,this.targetPosition=p,this.copy=v,this.targetSelection=null}getEditOperations(w,p){let v=w.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new k.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new S.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new S.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new S.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new S.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new S.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(w,p){return this.targetSelection}}e.DragAndDropCommand=M}),define(Q[411],J([0,1,3]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(y,w,p){this._editorSelection=y,this._ranges=w,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(y,w){if(this._ranges.length>0){let p=[];for(let _=0;_<this._ranges.length;_++)p.push({range:this._ranges[_],text:this._replaceStrings[_]});p.sort((_,s)=>S.Range.compareRangesUsingStarts(_.range,s.range));let v=[],i=p[0];for(let _=1;_<p.length;_++)i.range.endLineNumber===p[_].range.startLineNumber&&i.range.endColumn===p[_].range.startColumn?(i.range=i.range.plusRange(p[_].range),i.text=i.text+p[_].text):(v.push(i),i=p[_]);v.push(i);for(const _ of v)w.addEditOperation(_.range,_.text)}this._trackedEditorSelectionId=w.trackSelection(this._editorSelection)}computeCursorState(y,w){return w.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(Q[412],J([0,1,291]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(_){this.staticValue=_,this.kind=0}}class M{constructor(_){this.pieces=_,this.kind=1}}class y{constructor(_){!_||_.length===0?this._state=new k(""):_.length===1&&_[0].staticValue!==null?this._state=new k(_[0].staticValue):this._state=new M(_)}static fromStaticValue(_){return new y([w.staticValue(_)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(_,s){if(this._state.kind===0)return s?S.buildReplaceStringWithCasePreserved(_,this._state.staticValue):this._state.staticValue;let a="";for(let u=0,c=this._state.pieces.length;u<c;u++){let d=this._state.pieces[u];if(d.staticValue!==null){a+=d.staticValue;continue}let r=y._substitute(d.matchIndex,_);if(d.caseOps!==null&&d.caseOps.length>0){let n=[],o=d.caseOps.length,t=0;for(let l=0,h=r.length;l<h;l++){if(t>=o){n.push(r.slice(l));break}switch(d.caseOps[t]){case"U":n.push(r[l].toUpperCase());break;case"u":n.push(r[l].toUpperCase()),t++;break;case"L":n.push(r[l].toLowerCase());break;case"l":n.push(r[l].toLowerCase()),t++;break;default:n.push(r[l])}}r=n.join("")}a+=r}return a}static _substitute(_,s){if(s===null)return"";if(_===0)return s[0];let a="";for(;_>0;){if(_<s.length)return(s[_]||"")+a;a=String(_%10)+a,_=Math.floor(_/10)}return"$"+a}}e.ReplacePattern=y;class w{constructor(_,s,a){this.staticValue=_,this.matchIndex=s,!a||a.length===0?this.caseOps=null:this.caseOps=a.slice(0)}static staticValue(_){return new w(_,-1,null)}static caseOps(_,s){return new w(null,_,s)}}e.ReplacePiece=w;class p{constructor(_){this._source=_,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(_){this._emitStatic(this._source.substring(this._lastCharIndex,_)),this._lastCharIndex=_}emitStatic(_,s){this._emitStatic(_),this._lastCharIndex=s}_emitStatic(_){_.length!==0&&(this._currentStaticPiece+=_)}emitMatchIndex(_,s,a){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=w.caseOps(_,a),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new y(this._result)}}function v(i){if(!i||i.length===0)return new y(null);let _=[],s=new p(i);for(let a=0,u=i.length;a<u;a++){let c=i.charCodeAt(a);if(c===92){if(a++,a>=u)break;let d=i.charCodeAt(a);switch(d){case 92:s.emitUnchanged(a-1),s.emitStatic("\\",a+1);break;case 110:s.emitUnchanged(a-1),s.emitStatic(`
`,a+1);break;case 116:s.emitUnchanged(a-1),s.emitStatic("	",a+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(a-1),s.emitStatic("",a+1),_.push(String.fromCharCode(d));break}continue}if(c===36){if(a++,a>=u)break;let d=i.charCodeAt(a);if(d===36){s.emitUnchanged(a-1),s.emitStatic("$",a+1);continue}if(d===48||d===38){s.emitUnchanged(a-1),s.emitMatchIndex(0,a+1,_),_.length=0;continue}if(49<=d&&d<=57){let r=d-48;if(a+1<u){let n=i.charCodeAt(a+1);if(48<=n&&n<=57){a++,r=r*10+(n-48),s.emitUnchanged(a-2),s.emitMatchIndex(r,a+1,_),_.length=0;continue}}s.emitUnchanged(a-1),s.emitMatchIndex(r,a+1,_),_.length=0;continue}}}return s.finalize()}e.parseReplaceString=v}),define(Q[176],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const S=4278190080;class k{constructor(w,p,v){if(w.length!==p.length||w.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=w,this._endIndexes=p,this._collapseStates=new Uint32Array(Math.ceil(w.length/32)),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let w=[],p=(v,i)=>{let _=w[w.length-1];return this.getStartLineNumber(_)<=v&&this.getEndLineNumber(_)>=i};for(let v=0,i=this._startIndexes.length;v<i;v++){let _=this._startIndexes[v],s=this._endIndexes[v];if(_>e.MAX_LINE_NUMBER||s>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;w.length>0&&!p(_,s);)w.pop();let a=w.length>0?w[w.length-1]:-1;w.push(v),this._startIndexes[v]=_+((a&255)<<24),this._endIndexes[v]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(w){return this._startIndexes[w]&e.MAX_LINE_NUMBER}getEndLineNumber(w){return this._endIndexes[w]&e.MAX_LINE_NUMBER}getType(w){return this._types?this._types[w]:void 0}hasTypes(){return!!this._types}isCollapsed(w){let p=w/32|0,v=w%32;return(this._collapseStates[p]&1<<v)!=0}setCollapsed(w,p){let v=w/32|0,i=w%32,_=this._collapseStates[v];p?this._collapseStates[v]=_|1<<i:this._collapseStates[v]=_&~(1<<i)}toRegion(w){return new M(this,w)}getParentIndex(w){this.ensureParentIndices();let p=((this._startIndexes[w]&S)>>>24)+((this._endIndexes[w]&S)>>>16);return p===e.MAX_FOLDING_REGIONS?-1:p}contains(w,p){return this.getStartLineNumber(w)<=p&&this.getEndLineNumber(w)>=p}findIndex(w){let p=0,v=this._startIndexes.length;if(v===0)return-1;for(;p<v;){let i=Math.floor((p+v)/2);w<this.getStartLineNumber(i)?v=i:p=i+1}return p-1}findRange(w){let p=this.findIndex(w);if(p>=0){if(this.getEndLineNumber(p)>=w)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,w))return p;p=this.getParentIndex(p)}}return-1}toString(){let w=[];for(let p=0;p<this.length;p++)w[p]=`[${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return w.join(", ")}}e.FoldingRegions=k;class M{constructor(w,p){this.ranges=w,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(w){return w.startLineNumber<=this.startLineNumber&&w.endLineNumber>=this.endLineNumber}containsLine(w){return this.startLineNumber<=w&&w<=this.endLineNumber}}e.FoldingRegion=M}),define(Q[413],J([0,1,6,176]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class M{constructor(c,d){this._updateEventEmitter=new S.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=c,this._decorationProvider=d,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(c){if(!c.length)return;c=c.sort((r,n)=>r.regionIndex-n.regionIndex);const d={};this._decorationProvider.changeDecorations(r=>{let n=0,o=-1,t=-1;const l=h=>{for(;n<h;){const m=this._regions.getEndLineNumber(n),C=this._regions.isCollapsed(n);m<=o&&r.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(C,m<=t)),C&&m>t&&(t=m),n++}};for(let h of c){let m=h.regionIndex,C=this._editorDecorationIds[m];if(C&&!d[C]){d[C]=!0,l(m);let g=!this._regions.isCollapsed(m);this._regions.setCollapsed(m,g),o=Math.max(o,this._regions.getEndLineNumber(m))}}l(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:c})}update(c,d=[]){let r=[],n=(g,f)=>{for(let b of d)if(g<b&&b<=f)return!0;return!1},o=-1,t=(g,f)=>{const b=c.getStartLineNumber(g),L=c.getEndLineNumber(g);f&&n(b,L)&&(f=!1),c.setCollapsed(g,f);const N=this._textModel.getLineMaxColumn(b),D={startLineNumber:b,startColumn:Math.max(N-1,1),endLineNumber:b,endColumn:N};r.push({range:D,options:this._decorationProvider.getDecorationOption(f,L<=o)}),f&&L>o&&(o=L)},l=0,h=()=>{for(;l<this._regions.length;){let g=this._regions.isCollapsed(l);if(l++,g)return l-1}return-1},m=0,C=h();for(;C!==-1&&m<c.length;){let g=this._textModel.getDecorationRange(this._editorDecorationIds[C]);if(g){let f=g.startLineNumber;if(g.startColumn===Math.max(g.endColumn-1,1)&&this._textModel.getLineMaxColumn(f)===g.endColumn)for(;m<c.length;){let b=c.getStartLineNumber(m);if(f>=b)t(m,f===b),m++;else break}}C=h()}for(;m<c.length;)t(m,!1),m++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=c,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let c=[];for(let d=0;d<this._regions.length;d++)if(this._regions.isCollapsed(d)){let r=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(r){let n=r.startLineNumber,o=r.endLineNumber+this._regions.getEndLineNumber(d)-this._regions.getStartLineNumber(d);c.push({startLineNumber:n,endLineNumber:o})}}if(c.length>0)return c}applyMemento(c){if(!Array.isArray(c))return;let d=[];for(let r of c){let n=this.getRegionAtLine(r.startLineNumber);n&&!n.isCollapsed&&d.push(n)}this.toggleCollapseState(d)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(c,d){let r=[];if(this._regions){let n=this._regions.findRange(c),o=1;for(;n>=0;){let t=this._regions.toRegion(n);(!d||d(t,o))&&r.push(t),o++,n=t.parentIndex}}return r}getRegionAtLine(c){if(this._regions){let d=this._regions.findRange(c);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(c,d){let r=[],n=c?c.regionIndex+1:0,o=c?c.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const t=[];for(let l=n,h=this._regions.length;l<h;l++){let m=this._regions.toRegion(l);if(this._regions.getStartLineNumber(l)<o){for(;t.length>0&&!m.containedBy(t[t.length-1]);)t.pop();t.push(m),d(m,t.length)&&r.push(m)}else break}}else for(let t=n,l=this._regions.length;t<l;t++){let h=this._regions.toRegion(t);if(this._regions.getStartLineNumber(t)<o)(!d||d(h))&&r.push(h);else break}return r}}e.FoldingModel=M;function y(u,c,d){let r=[];for(let n of d){let o=u.getRegionAtLine(n);if(o){const t=!o.isCollapsed;if(r.push(o),c>1){let l=u.getRegionsInside(o,(h,m)=>h.isCollapsed!==t&&m<c);r.push(...l)}}}u.toggleCollapseState(r)}e.toggleCollapseState=y;function w(u,c,d=Number.MAX_VALUE,r){let n=[];if(r&&r.length>0)for(let o of r){let t=u.getRegionAtLine(o);if(t&&(t.isCollapsed!==c&&n.push(t),d>1)){let l=u.getRegionsInside(t,(h,m)=>h.isCollapsed!==c&&m<d);n.push(...l)}}else{let o=u.getRegionsInside(null,(t,l)=>t.isCollapsed!==c&&l<d);n.push(...o)}u.toggleCollapseState(n)}e.setCollapseStateLevelsDown=w;function p(u,c,d,r){let n=[];for(let o of r){let t=u.getAllRegionsAtLine(o,(l,h)=>l.isCollapsed!==c&&h<=d);n.push(...t)}u.toggleCollapseState(n)}e.setCollapseStateLevelsUp=p;function v(u,c,d){let r=[];for(let n of d){let o=u.getAllRegionsAtLine(n,t=>t.isCollapsed!==c);o.length>0&&r.push(o[0])}u.toggleCollapseState(r)}e.setCollapseStateUp=v;function i(u,c,d,r){let n=(t,l)=>l===c&&t.isCollapsed!==d&&!r.some(h=>t.containsLine(h)),o=u.getRegionsInside(null,n);u.toggleCollapseState(o)}e.setCollapseStateAtLevel=i;function _(u,c,d){let r=[];for(let t of d)r.push(u.getAllRegionsAtLine(t,void 0)[0]);let n=t=>r.every(l=>!l.containedBy(t)&&!t.containedBy(l))&&t.isCollapsed!==c,o=u.getRegionsInside(null,n);u.toggleCollapseState(o)}e.setCollapseStateForRest=_;function s(u,c,d){let r=u.textModel,n=u.regions,o=[];for(let t=n.length-1;t>=0;t--)if(d!==n.isCollapsed(t)){let l=n.getStartLineNumber(t);c.test(r.getLineContent(l))&&o.push(n.toRegion(t))}u.toggleCollapseState(o)}e.setCollapseStateForMatchingLines=s;function a(u,c,d){let r=u.regions,n=[];for(let o=r.length-1;o>=0;o--)d!==r.isCollapsed(o)&&c===r.getType(o)&&n.push(r.toRegion(o));u.toggleCollapseState(n)}e.setCollapseStateForType=a}),define(Q[414],J([0,1,6,3,19]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{constructor(i){this._updateEventEmitter=new S.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(_=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,_=[],s=0,a=0,u=Number.MAX_VALUE,c=-1,d=this._foldingModel.regions;for(;s<d.length;s++){if(!d.isCollapsed(s))continue;let r=d.getStartLineNumber(s)+1,n=d.getEndLineNumber(s);u<=r&&n<=c||(!i&&a<this._hiddenRanges.length&&this._hiddenRanges[a].startLineNumber===r&&this._hiddenRanges[a].endLineNumber===n?(_.push(this._hiddenRanges[a]),a++):(i=!0,_.push(new k.Range(r,1,n,1))),u=r,c=n)}(i||a<this._hiddenRanges.length)&&this.applyHiddenRanges(_)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let _=[];for(let s of i){if(!s.startLineNumber||!s.endLineNumber)return!1;_.push(new k.Range(s.startLineNumber+1,1,s.endLineNumber,1))}return this.applyHiddenRanges(_),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return p(this._hiddenRanges,i)!==null}adjustSelections(i){let _=!1,s=this._foldingModel.textModel,a=null,u=c=>((!a||!w(c,a))&&(a=p(this._hiddenRanges,c)),a?a.startLineNumber-1:null);for(let c=0,d=i.length;c<d;c++){let r=i[c],n=u(r.startLineNumber);n&&(r=r.setStartPosition(n,s.getLineMaxColumn(n)),_=!0);let o=u(r.endLineNumber);o&&(r=r.setEndPosition(o,s.getLineMaxColumn(o)),_=!0),i[c]=r}return _}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function w(v,i){return v>=i.startLineNumber&&v<=i.endLineNumber}function p(v,i){let _=M.findFirstInSorted(v,s=>i<s.startLineNumber)-1;return _>=0&&v[_].endLineNumber>=i?v[_]:null}}),define(Q[226],J([0,1,12,176,2]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const y=5e3,w={};e.ID_SYNTAX_PROVIDER="syntax";class p{constructor(a,u,c,d=y){this.editorModel=a,this.providers=u,this.limit=d,this.id=e.ID_SYNTAX_PROVIDER;for(const r of u)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new M.DisposableStore),this.disposables.add(r.onDidChange(c)))}compute(a){return v(this.providers,this.editorModel,a).then(u=>u?_(u,this.limit):null)}dispose(){var a;(a=this.disposables)===null||a===void 0||a.dispose()}}e.SyntaxRangeProvider=p;function v(s,a,u){let c=null,d=s.map((r,n)=>Promise.resolve(r.provideFoldingRanges(a,w,u)).then(o=>{if(!u.isCancellationRequested&&Array.isArray(o)){Array.isArray(c)||(c=[]);let t=a.getLineCount();for(let l of o)l.start>0&&l.end>l.start&&l.end<=t&&c.push({start:l.start,end:l.end,rank:n,kind:l.kind})}},S.onUnexpectedExternalError));return Promise.all(d).then(r=>c)}class i{constructor(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}add(a,u,c,d){if(a>k.MAX_LINE_NUMBER||u>k.MAX_LINE_NUMBER)return;let r=this._length;this._startIndexes[r]=a,this._endIndexes[r]=u,this._nestingLevels[r]=d,this._types[r]=c,this._length++,d<30&&(this._nestingLevelCounts[d]=(this._nestingLevelCounts[d]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let a=new Uint32Array(this._length),u=new Uint32Array(this._length);for(let c=0;c<this._length;c++)a[c]=this._startIndexes[c],u[c]=this._endIndexes[c];return new k.FoldingRegions(a,u,this._types)}else{let a=0,u=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let o=this._nestingLevelCounts[n];if(o){if(o+a>this._foldingRangesLimit){u=n;break}a+=o}}let c=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit),r=[];for(let n=0,o=0;n<this._length;n++){let t=this._nestingLevels[n];(t<u||t===u&&a++<this._foldingRangesLimit)&&(c[o]=this._startIndexes[n],d[o]=this._endIndexes[n],r[o]=this._types[n],o++)}return new k.FoldingRegions(c,d,r)}}}e.RangesCollector=i;function _(s,a){let u=s.sort((n,o)=>{let t=n.start-o.start;return t===0&&(t=n.rank-o.rank),t}),c=new i(a),d,r=[];for(let n of u)if(!d)d=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else if(n.start>d.start)if(n.end<=d.end)r.push(d),d=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else{if(n.start>d.end){do d=r.pop();while(d&&n.start>d.end);d&&r.push(d),d=n}c.add(n.start,n.end,n.kind&&n.kind.value,r.length)}return c.toIndentRanges()}e.sanitizeRanges=_}),define(Q[415],J([0,1,226]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class k{constructor(y,w,p,v){if(this.editorModel=y,this.id=e.ID_INIT_PROVIDER,w.length){let i=_=>({range:{startLineNumber:_.startLineNumber,startColumn:0,endLineNumber:_.endLineNumber,endColumn:y.getLineLength(_.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=y.deltaDecorations([],w.map(i)),this.timeout=setTimeout(p,v)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(y){let w=[];if(this.decorationIds)for(let p of this.decorationIds){let v=this.editorModel.getDecorationRange(p);v&&w.push({start:v.startLineNumber,end:v.endLineNumber,rank:1})}return Promise.resolve(S.sanitizeRanges(w,Number.MAX_VALUE))}}e.InitializingRangeProvider=k}),define(Q[227],J([0,1,57,3]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class M{static _handleEolEdits(w,p){let v,i=[];for(let _ of p)typeof _.eol=="number"&&(v=_.eol),_.range&&typeof _.text=="string"&&i.push(_);return typeof v=="number"&&w.hasModel()&&w.getModel().pushEOL(v),i}static _isFullModelReplaceEdit(w,p){if(!w.hasModel())return!1;const v=w.getModel(),i=v.validateRange(p.range);return v.getFullModelRange().equalsRange(i)}static execute(w,p,v){v&&w.pushUndoStop();const i=M._handleEolEdits(w,p);i.length===1&&M._isFullModelReplaceEdit(w,i[0])?w.executeEdits("formatEditsCommand",i.map(_=>S.EditOperation.replace(k.Range.lift(_.range),_.text))):w.executeEdits("formatEditsCommand",i.map(_=>S.EditOperation.replaceMove(k.Range.lift(_.range),_.text))),v&&w.pushUndoStop()}}e.FormattingEdit=M}),define(Q[228],J([0,1,2,6,17]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function y(s,a){return!!s[a]}class w{constructor(a,u){this.target=a.target,this.hasTriggerModifier=y(a.event,u.triggerModifier),this.hasSideBySideModifier=y(a.event,u.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}e.ClickLinkMouseEvent=w;class p{constructor(a,u){this.keyCodeIsTriggerKey=a.keyCode===u.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===u.triggerSideBySideKey,this.hasTriggerModifier=y(a,u.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class v{constructor(a,u,c,d){this.triggerKey=a,this.triggerModifier=u,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=d}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}e.ClickLinkOptions=v;function i(s){return s==="altKey"?M.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):M.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class _ extends S.Disposable{constructor(a){super();this._onMouseMoveOrRelevantKeyDown=this._register(new k.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new k.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new k.Emitter),this.onCancel=this._onCancel.event,this._editor=a,this._opts=i(this._editor.getOption(67)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(u=>{if(u.hasChanged(67)){const c=i(this._editor.getOption(67));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(u=>this._onEditorMouseMove(new w(u,this._opts)))),this._register(this._editor.onMouseDown(u=>this._onEditorMouseDown(new w(u,this._opts)))),this._register(this._editor.onMouseUp(u=>this._onEditorMouseUp(new w(u,this._opts)))),this._register(this._editor.onKeyDown(u=>this._onEditorKeyDown(new p(u,this._opts)))),this._register(this._editor.onKeyUp(u=>this._onEditorKeyUp(new p(u,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(u=>this._onDidChangeCursorSelection(u))),this._register(this._editor.onDidChangeModel(u=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(u=>{(u.scrollTopChanged||u.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const u=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===u&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=_}),define(Q[229],J([0,1,15,12]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class M{constructor(w,p,v,i,_){this._computer=w,this._state=0,this._hoverTime=_,this._firstWaitScheduler=new S.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new S.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new S.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=p,this._errorCallback=v,this._progressCallback=i}setHoverTime(w){this._hoverTime=w}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=S.createCancelablePromise(w=>this._computer.computeAsync(w)),this._asyncComputationPromise.then(w=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(w)},w=>this._onError(w))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(w){w&&this._computer.onResult(w,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(w){this._completeCallback(w)}_onError(w){this._errorCallback?this._errorCallback(w):k.onUnexpectedError(w)}_onProgress(w){this._progressCallback(w)}start(w){if(w===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=M}),define(Q[230],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class S{constructor(y,w){this.priority=y,this.range=w,this.type=1}equals(y){return y.type===1&&this.range.equalsRange(y.range)}canAdoptVisibleHover(y,w){return y.type===1&&w.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=S;class k{constructor(y,w,p){this.priority=y,this.owner=w,this.range=p,this.type=2}equals(y){return y.type===2&&this.owner===y.owner}canAdoptVisibleHover(y,w){return y.type===2&&this.owner===y.owner}}e.HoverForeignElementAnchor=k}),define(Q[416],J([0,1,51]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class k extends S.Widget{constructor(y,w){super();this._id=y,this._editor=w,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(p=>{p.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(y){this._isVisible=y,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(y){this._showAtLineNumber=y,this.isVisible||(this.isVisible=!0);const w=this._editor.getLayoutInfo(),p=this._editor.getTopForLineNumber(this._showAtLineNumber),v=this._editor.getScrollTop(),i=this._editor.getOption(56),_=this._domNode.clientHeight,s=p-v-(_-i)/2;this._domNode.style.left=`${w.glyphMarginLeft+w.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(s),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const y=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),w=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...y,...w].forEach(p=>this._editor.applyFontInfo(p))}updateContents(y){this._domNode.textContent="",this._domNode.appendChild(y),this.updateFont()}}e.GlyphHoverWidget=k}),define(Q[417],J([0,1,21]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(y,w,p){this._editRange=y,this._originalSelection=w,this._text=p}getEditOperations(y,w){w.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(y,w){const v=w.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new S.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new S.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=k}),define(Q[231],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function S(M,y){let w=0;for(let p=0;p<M.length;p++)M.charAt(p)==="	"?w+=y:w++;return w}e.getSpaceCnt=S;function k(M,y,w){M=M<0?0:M;let p="";if(!w){let v=Math.floor(M/y);M=M%y;for(let i=0;i<v;i++)p+="	"}for(let v=0;v<M;v++)p+=" ";return p}e.generateIndent=k}),define(Q[418],J([0,1,2]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MutableDisposable=void 0;class k{constructor(){this._isDisposed=!1,S.trackDisposable(this)}get value(){return this._isDisposed?void 0:this._value}set value(y){var w;this._isDisposed||y===this._value||((w=this._value)===null||w===void 0||w.dispose(),this._value=y)}clear(){this.value=void 0}dispose(){var y;this._isDisposed=!0,(y=this._value)===null||y===void 0||y.dispose(),this._value=void 0}replace(y){const w=this._value;return this._value=y,w}}e.MutableDisposable=k}),define(Q[419],J([0,1,3,21]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class M{constructor(w,p,v){this._selection=w,this._isCopyingDown=p,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(w,p){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,w.getLineMaxColumn(v.endLineNumber-1)));let i=[];for(let s=v.startLineNumber;s<=v.endLineNumber;s++)i.push(w.getLineContent(s));const _=i.join(`
`);_===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new S.Range(v.endLineNumber,w.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===w.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new S.Range(v.startLineNumber,1,v.startLineNumber,1),_+`
`):p.addEditOperation(new S.Range(v.endLineNumber,w.getLineMaxColumn(v.endLineNumber),v.endLineNumber,w.getLineMaxColumn(v.endLineNumber)),`
`+_),this._selectionId=p.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(w,p){let v=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=v.startLineNumber,_=v.startColumn,s=v.endLineNumber,a=v.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,_=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),v=k.Selection.createWithDirection(i,_,s,a,this._selectionDirection)}return v}}e.CopyLinesCommand=M}),define(Q[420],J([0,1,57,3]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class M{constructor(v,i){this.selection=v,this.descending=i,this.selectionId=null}static getCollator(){return M._COLLATOR||(M._COLLATOR=new Intl.Collator),M._COLLATOR}getEditOperations(v,i){let _=w(v,this.selection,this.descending);_&&i.addEditOperation(_.range,_.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(v,i){return i.getTrackedSelection(this.selectionId)}static canRun(v,i,_){if(v===null)return!1;let s=y(v,i,_);if(!s)return!1;for(let a=0,u=s.before.length;a<u;a++)if(s.before[a]!==s.after[a])return!0;return!1}}e.SortLinesCommand=M,M._COLLATOR=null;function y(p,v,i){let _=v.startLineNumber,s=v.endLineNumber;if(v.endColumn===1&&s--,_>=s)return null;let a=[];for(let c=_;c<=s;c++)a.push(p.getLineContent(c));let u=a.slice(0);return u.sort(M.getCollator().compare),i===!0&&(u=u.reverse()),{startLineNumber:_,endLineNumber:s,before:a,after:u}}function w(p,v,i){let _=y(p,v,i);return _?S.EditOperation.replace(new k.Range(_.startLineNumber,1,_.endLineNumber,p.getLineMaxColumn(_.endLineNumber)),_.after.join(`
`)):null}}),define(Q[232],J([0,1,13,3,72]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class y{provideSelectionRanges(p,v){return Ie(this,void 0,void 0,function*(){const i=[];for(const _ of v){const s=[];i.push(s);const a=new Map;yield new Promise(u=>y._bracketsRightYield(u,0,p,_,a)),yield new Promise(u=>y._bracketsLeftYield(u,0,p,_,a,s))}return i})}static _bracketsRightYield(p,v,i,_,s){const a=new Map,u=Date.now();for(;;){if(v>=y._maxRounds){p();break}if(!_){p();break}let c=i.findNextBracket(_);if(!c){p();break}if(Date.now()-u>y._maxDuration){setTimeout(()=>y._bracketsRightYield(p,v+1,i,_,s));break}const r=c.close[0];if(c.isOpen){let n=a.has(r)?a.get(r):0;a.set(r,n+1)}else{let n=a.has(r)?a.get(r):0;if(n-=1,a.set(r,Math.max(0,n)),n<0){let o=s.get(r);o||(o=new M.LinkedList,s.set(r,o)),o.push(c.range)}}_=c.range.getEndPosition()}}static _bracketsLeftYield(p,v,i,_,s,a){const u=new Map,c=Date.now();for(;;){if(v>=y._maxRounds&&s.size===0){p();break}if(!_){p();break}let d=i.findPrevBracket(_);if(!d){p();break}if(Date.now()-c>y._maxDuration){setTimeout(()=>y._bracketsLeftYield(p,v+1,i,_,s,a));break}const n=d.close[0];if(d.isOpen){let o=u.has(n)?u.get(n):0;if(o-=1,u.set(n,Math.max(0,o)),o<0){let t=s.get(n);if(t){let l=t.shift();t.size===0&&s.delete(n);const h=k.Range.fromPositions(d.range.getEndPosition(),l.getStartPosition()),m=k.Range.fromPositions(d.range.getStartPosition(),l.getEndPosition());a.push({range:h}),a.push({range:m}),y._addBracketLeading(i,m,a)}}}else{let o=u.has(n)?u.get(n):0;u.set(n,o+1)}_=d.range.getStartPosition()}}static _addBracketLeading(p,v,i){if(v.startLineNumber===v.endLineNumber)return;const _=v.startLineNumber,s=p.getLineFirstNonWhitespaceColumn(_);s!==0&&s!==v.startColumn&&(i.push({range:k.Range.fromPositions(new S.Position(_,s),v.getEndPosition())}),i.push({range:k.Range.fromPositions(new S.Position(_,1),v.getEndPosition())}));const a=_-1;if(a>0){const u=p.getLineFirstNonWhitespaceColumn(a);u===v.startColumn&&u!==p.getLineLastNonWhitespaceColumn(a)&&(i.push({range:k.Range.fromPositions(new S.Position(a,u),v.getEndPosition())}),i.push({range:k.Range.fromPositions(new S.Position(a,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=y,y._maxDuration=30,y._maxRounds=2}),define(Q[421],J([0,1,3,8]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class M{provideSelectionRanges(w,p){const v=[];for(const i of p){const _=[];v.push(_),this._addInWordRanges(_,w,i),this._addWordRanges(_,w,i),this._addWhitespaceLine(_,w,i),_.push({range:w.getFullModelRange()})}return v}_addInWordRanges(w,p,v){const i=p.getWordAtPosition(v);if(!i)return;let{word:_,startColumn:s}=i,a=v.column-s,u=a,c=a,d=0;for(;u>=0;u--){let r=_.charCodeAt(u);if(u!==a&&(r===95||r===45))break;if(k.isLowerAsciiLetter(r)&&k.isUpperAsciiLetter(d))break;d=r}for(u+=1;c<_.length;c++){let r=_.charCodeAt(c);if(k.isUpperAsciiLetter(r)&&k.isLowerAsciiLetter(d))break;if(r===95||r===45)break;d=r}u<c&&w.push({range:new S.Range(v.lineNumber,s+u,v.lineNumber,s+c)})}_addWordRanges(w,p,v){const i=p.getWordAtPosition(v);i&&w.push({range:new S.Range(v.lineNumber,i.startColumn,v.lineNumber,i.endColumn)})}_addWhitespaceLine(w,p,v){p.getLineLength(v.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&w.push({range:new S.Range(v.lineNumber,1,v.lineNumber,p.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=M}),define(Q[114],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class S{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,r=0,n=this.value.charCodeAt(d),o;if(o=S._table[n],typeof o=="number")return this.pos+=1,{type:o,pos:d,len:1};if(S.isDigitCharacter(n)){o=8;do r+=1,n=this.value.charCodeAt(d+r);while(S.isDigitCharacter(n));return this.pos+=r,{type:o,pos:d,len:r}}if(S.isVariableCharacter(n)){o=9;do n=this.value.charCodeAt(d+ ++r);while(S.isVariableCharacter(n)||S.isDigitCharacter(n));return this.pos+=r,{type:o,pos:d,len:r}}o=10;do r+=1,n=this.value.charCodeAt(d+r);while(!isNaN(n)&&typeof S._table[n]=="undefined"&&!S.isDigitCharacter(n)&&!S.isVariableCharacter(n));return this.pos+=r,{type:o,pos:d,len:r}}}e.Scanner=S,S._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(d){return d instanceof M&&this._children[this._children.length-1]instanceof M?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,r){const{parent:n}=d,o=n.children.indexOf(d),t=n.children.slice(0);t.splice(o,1,...r),n._children=t,function l(h,m){for(const C of h)C.parent=m,l(C.children,C)}(r,n)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof a)return d;d=d.parent}}toString(){return this.children.reduce((d,r)=>d+r.toString(),"")}len(){return 0}}e.Marker=k;class M extends k{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new M(this.value)}}e.Text=M;class y extends k{}e.TransformableMarker=y;class w extends y{constructor(d){super();this.index=d}static compareByIndex(d,r){return d.index===r.index?0:d.isFinalTabstop?1:r.isFinalTabstop||d.index<r.index?-1:d.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){let d=new w(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Placeholder=w;class p extends k{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof M&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new p;return this.options.forEach(d.appendChild,d),d}}e.Choice=p;class v extends k{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const r=this;let n=!1,o=d.replace(this.regexp,function(){return n=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(o=this._replace([])),o}_replace(d){let r="";for(const n of this._children)if(n instanceof i){let o=d[n.index]||"";o=n.resolve(o),r+=o}else r+=n.toString();return r}toString(){return""}clone(){let d=new v;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(r=>r.clone()),d}}e.Transform=v;class i extends k{constructor(d,r,n,o){super();this.index=d,this.shorthandName=r,this.ifValue=n,this.elseValue=o}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const r=d.match(/[a-z0-9]+/gi);return r?r.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):d}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class _ extends y{constructor(d){super();this.name=d}resolve(d){let r=d.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new M(r)],!0):!1}clone(){const d=new _(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Variable=_;function s(c,d){const r=[...c];for(;r.length>0;){const n=r.shift();if(!d(n))break;r.unshift(...n.children)}}class a extends k{get placeholderInfo(){if(!this._placeholders){let d=[],r;this.walk(function(n){return n instanceof w&&(d.push(n),r=!r||r.index<n.index?n:r),!0}),this._placeholders={all:d,last:r}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let r=0,n=!1;return this.walk(o=>o===d?(n=!0,!1):(r+=o.len(),!0)),n?r:-1}fullLen(d){let r=0;return s([d],n=>(r+=n.len(),!0)),r}enclosingPlaceholders(d){let r=[],{parent:n}=d;for(;n;)n instanceof w&&r.push(n),n=n.parent;return r}resolveVariables(d){return this.walk(r=>(r instanceof _&&r.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,r){return this._placeholders=void 0,super.replace(d,r)}clone(){let d=new a;return this._children=this.children.map(r=>r.clone()),d}walk(d){s(this.children,d)}}e.TextmateSnippet=a;class u{constructor(){this._scanner=new S,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,r,n){this._scanner.text(d),this._token=this._scanner.next();const o=new a;for(;this._parse(o););const t=new Map,l=[];let h=0;o.walk(m=>(m instanceof w&&(h+=1,m.isFinalTabstop?t.set(0,void 0):!t.has(m.index)&&m.children.length>0?t.set(m.index,m.children):l.push(m)),!0));for(const m of l){const C=t.get(m.index);if(C){const g=new w(m.index);g.transform=m.transform;for(const f of C)g.appendChild(f.clone());o.replace(m,[g])}}return n||(n=h>0&&r),!t.has(0)&&n&&o.appendChild(new w(0)),o}_accept(d,r){if(d===void 0||this._token.type===d){let n=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const r=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const o=this._scanner.next();if(o.type!==0&&o.type!==4&&o.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,d.appendChild(new M(r)),!0):!1}_parseTabstopOrVariableName(d){let r;const n=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(r)?new w(Number(r)):new _(r)),!0):this._backTo(n)}_parseComplexPlaceholder(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(n);const t=new w(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new M("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else if(t.index>0&&this._accept(7)){const l=new p;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(l),this._accept(4)))return d.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(d){const r=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let o;if((o=this._accept(5,!0))?o=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:o=this._accept(void 0,!0),!o)return this._backTo(r),!1;n.push(o)}return n.length===0?(this._backTo(r),!1):(d.appendChild(new M(n.join(""))),!0)}_parseComplexVariable(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(n);const t=new _(r);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new M("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseTransform(d){let r=new v,n="",o="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,r.appendChild(new M(t));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(n,o)}catch(t){return!1}return d.transform=r,!0}_parseFormatString(d){const r=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let o=this._accept(8,!0);if(o)if(n){if(this._accept(4))return d.appendChild(new i(Number(o))),!0;if(!this._accept(1))return this._backTo(r),!1}else return d.appendChild(new i(Number(o))),!0;else return this._backTo(r),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(r),!1):(d.appendChild(new i(Number(o),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return d.appendChild(new i(Number(o),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return d.appendChild(new i(Number(o),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let l=this._until(4);if(l)return d.appendChild(new i(Number(o),void 0,t,l)),!0}}else{let t=this._until(4);if(t)return d.appendChild(new i(Number(o),void 0,void 0,t)),!0}return this._backTo(r),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new M(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=u}),define(Q[422],J([0,1,67,8,19]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class y{constructor(v,i){this.leadingLineContent=v,this.characterCountDelta=i}}e.LineContext=y;class w{constructor(v,i,_,s,a,u,c){this.clipboardText=c,this._snippetCompareFn=w._compareCompletionItems,this._items=v,this._column=i,this._wordDistance=s,this._options=a,this._refilterKind=1,this._lineContext=_,u==="top"?this._snippetCompareFn=w._compareCompletionItemsSnippetsUp:u==="bottom"&&(this._snippetCompareFn=w._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(let[i,_]of this._providerInfo)_&&v.add(i);return v}adopt(v){let i=[];for(let _=0;_<this._items.length;)v.has(this._items[_].provider)?_++:(i.push(this._items[_]),this._items[_]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:i,characterCountDelta:_}=this._lineContext;let s="",a="";const u=this._refilterKind===1?this._items:this._filteredItems,c=[],d=!this._options.filterGraceful||u.length>2e3?S.fuzzyScore:S.fuzzyScoreGracefulAggressive;for(let r=0;r<u.length;r++){const n=u[r];if(n.isInvalid)continue;this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const o=n.position.column-n.editStart.column,t=o+_-(n.position.column-this._column);if(s.length!==t&&(s=t===0?"":i.slice(-t),a=s.toLowerCase()),n.word=s,t===0)n.score=S.FuzzyScore.Default;else{let l=0;for(;l<o;){const h=s.charCodeAt(l);if(h===32||h===9)l+=1;else break}if(l>=t)n.score=S.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let h=d(s,a,l,n.completion.filterText,n.filterTextLow,0,!1);if(!h)continue;k.compareIgnoreCase(n.completion.filterText,n.textLabel)===0?n.score=h:(n.score=S.anyScore(s,a,l,n.textLabel,n.labelLow,0),n.score[0]=h[0])}else{let h=d(s,a,l,n.textLabel,n.labelLow,0,!1);if(!h)continue;n.score=h}}n.idx=r,n.distance=this._wordDistance.distance(n.position,n.completion),c.push(n),v.push(n.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?M.quickSelect(v.length-.85,v,(r,n)=>r-n):0}}static _compareCompletionItems(v,i){return v.score[0]>i.score[0]?-1:v.score[0]<i.score[0]?1:v.distance<i.distance?-1:v.distance>i.distance?1:v.idx<i.idx?-1:v.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(v,i){if(v.completion.kind!==i.completion.kind){if(v.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return w._compareCompletionItems(v,i)}static _compareCompletionItemsSnippetsUp(v,i){if(v.completion.kind!==i.completion.kind){if(v.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return w._compareCompletionItems(v,i)}}e.CompletionModel=w}),define(Q[233],J([0,1,6,2,7,105]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class w{constructor(){this._onDidWillResize=new S.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new S.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new k.DisposableStore,this._size=new M.Dimension(0,0),this._minSize=new M.Dimension(0,0),this._maxSize=new M.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new y.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new y.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new y.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:y.OrthogonalEdge.North}),this._southSash=new y.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:y.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,i=0,_=0;this._sashListener.add(S.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,i=0,_=0)})),this._sashListener.add(S.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,i=0,_=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{v&&(_=s.currentX-s.startX,this.layout(v.height+i,v.width+_),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{v&&(_=-(s.currentX-s.startX),this.layout(v.height+i,v.width+_),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{v&&(i=-(s.currentY-s.startY),this.layout(v.height+i,v.width+_),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{v&&(i=s.currentY-s.startY,this.layout(v.height+i,v.width+_),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(S.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(S.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,i,_,s){this._northSash.state=v?3:0,this._eastSash.state=i?3:0,this._southSash.state=_?3:0,this._westSash.state=s?3:0}layout(v=this.size.height,i=this.size.width){const{height:_,width:s}=this._minSize,{height:a,width:u}=this._maxSize;v=Math.max(_,Math.min(a,v)),i=Math.max(s,Math.min(u,i));const c=new M.Dimension(i,v);M.Dimension.equals(c,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=i+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=w}),define(Q[423],J([0,1,19,2,93]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class y{constructor(p,v,i){this._disposables=new k.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(_=>{if(this._active&&!v.isFrozen()){const s=_.charCodeAt(_.length-1);this._active.acceptCharacters.has(s)&&p.getOption(0)&&i(this._active.item)}}))}_onItem(p){if(!p||!S.isNonEmptyArray(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const v=new M.CharacterSet;for(const i of p.item.completion.commitCharacters)i.length>0&&v.add(i.charCodeAt(0));this._active={acceptCharacters:v,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=y}),define(Q[424],J([0,1,2]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(y,w){this._disposables=new S.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(y.onWillType(()=>{if(!this._empty||!y.hasModel())return;const p=y.getSelections(),v=p.length;let i=!1;for(let s=0;s<v;s++)if(!p[s].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const _=y.getModel();for(let s=0;s<v;s++){const a=p[s];if(_.getValueLengthInRange(a)>k._maxSelectionLength)return;this._lastOvertyped[s]={value:_.getValueInRange(a),multiline:a.startLineNumber!==a.endLineNumber}}this._empty=!1})),this._disposables.add(w.onDidCancel(p=>{!this._empty&&!p.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(y){if(!this._empty&&y>=0&&y<this._lastOvertyped.length)return this._lastOvertyped[y]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(Q[425],J([0,1,19,3,232]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class y{static create(p,v){return Ie(this,void 0,void 0,function*(){if(!v.getOption(104).localityBonus||!v.hasModel())return y.None;const i=v.getModel(),_=v.getPosition();if(!p.canComputeWordRanges(i.uri))return y.None;const[s]=yield new M.BracketSelectionRangeProvider().provideSelectionRanges(i,[_]);if(s.length===0)return y.None;const a=yield p.computeWordRanges(i.uri,s[0].range);if(!a)return y.None;const u=i.getWordUntilPosition(_);return delete a[u.word],new class extends y{distance(c,d){if(!_.equals(v.getPosition()))return 0;if(d.kind===17)return 2<<20;let r=typeof d.label=="string"?d.label:d.label.name,n=a[r];if(S.isFalsyOrEmpty(n))return 2<<20;let o=S.binarySearch(n,k.Range.fromPositions(c),k.Range.compareRangesUsingStarts),t=o>=0?n[o]:n[Math.max(0,~o-1)],l=s.length;for(const h of s){if(!k.Range.containsRange(h.range,t))break;l-=1}return l}}})}}e.WordDistance=y,y.None=new class extends y{distance(){return 0}}}),define(Q[234],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function S(c){return Array.isArray(c)}e.isFuzzyActionArr=S;function k(c){return!S(c)}e.isFuzzyAction=k;function M(c){return typeof c=="string"}e.isString=M;function y(c){return!M(c)}e.isIAction=y;function w(c){return!c}e.empty=w;function p(c,d){return c.ignoreCase&&d?d.toLowerCase():d}e.fixCase=p;function v(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function i(c,d){console.log(`${c.languageId}: ${d}`)}e.log=i;function _(c,d){return new Error(`${c.languageId}: ${d}`)}e.createError=_;function s(c,d,r,n,o){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return d.replace(t,function(h,m,C,g,f,b,L,N,D){return w(C)?w(g)?!w(f)&&f<n.length?p(c,n[f]):!w(L)&&c&&typeof c[L]=="string"?c[L]:(l===null&&(l=o.split("."),l.unshift(o)),!w(b)&&b<l.length?p(c,l[b]):""):p(c,r):"$"})}e.substituteMatches=s;function a(c,d){let r=d;for(;r&&r.length>0;){const n=c.tokenizer[r];if(n)return n;const o=r.lastIndexOf(".");o<0?r=null:r=r.substr(0,o)}return null}e.findRules=a;function u(c,d){let r=d;for(;r&&r.length>0;){if(c.stateNames[r])return!0;const o=r.lastIndexOf(".");o<0?r=null:r=r.substr(0,o)}return!1}e.stateExists=u}),define(Q[426],J([0,1,234]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(c,d){if(!d||!Array.isArray(d))return!1;for(const r of d)if(!c(r))return!1;return!0}function M(c,d){return typeof c=="boolean"?c:d}function y(c,d){return typeof c=="string"?c:d}function w(c){const d={};for(const r of c)d[r]=!0;return d}function p(c,d=!1){d&&(c=c.map(function(n){return n.toLowerCase()}));const r=w(c);return d?function(n){return r[n.toLowerCase()]!==void 0&&r.hasOwnProperty(n.toLowerCase())}:function(n){return r[n]!==void 0&&r.hasOwnProperty(n)}}function v(c,d){d=d.replace(/@@/g,"");let r=0,n;do n=!1,d=d.replace(/@(\w+)/g,function(t,l){n=!0;let h="";if(typeof c[l]=="string")h=c[l];else if(c[l]&&c[l]instanceof RegExp)h=c[l].source;else throw c[l]===void 0?S.createError(c,"language definition does not contain attribute '"+l+"', used at: "+d):S.createError(c,"attribute reference '"+l+"' must be a string, used at: "+d);return S.empty(h)?"":"(?:"+h+")"}),r++;while(n&&r<5);d=d.replace(/\x01/g,"@");let o=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(d,o)}function i(c,d,r,n){if(n<0)return c;if(n<d.length)return d[n];if(n>=100){n=n-100;let o=r.split(".");if(o.unshift(r),n<o.length)return o[n]}return null}function _(c,d,r,n){let o=-1,t=r,l=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(o=parseInt(l[3]),l[2]&&(o=o+100)),t=l[4]);let h="~",m=t;!t||t.length===0?(h="!=",m=""):/^\w*$/.test(m)?h="==":(l=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(h=l[1],m=l[2]));let C;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(m)){let g=p(m.split("|"),c.ignoreCase);C=function(f){return h==="~"?g(f):!g(f)}}else if(h==="@"||h==="!@"){let g=c[m];if(!g)throw S.createError(c,"the @ match target '"+m+"' is not defined, in rule: "+d);if(!k(function(b){return typeof b=="string"},g))throw S.createError(c,"the @ match target '"+m+"' must be an array of strings, in rule: "+d);let f=p(g,c.ignoreCase);C=function(b){return h==="@"?f(b):!f(b)}}else if(h==="~"||h==="!~")if(m.indexOf("$")<0){let g=v(c,"^"+m+"$");C=function(f){return h==="~"?g.test(f):!g.test(f)}}else C=function(g,f,b,L){return v(c,"^"+S.substituteMatches(c,m,f,b,L)+"$").test(g)};else if(m.indexOf("$")<0){let g=S.fixCase(c,m);C=function(f){return h==="=="?f===g:f!==g}}else{let g=S.fixCase(c,m);C=function(f,b,L,N,D){let I=S.substituteMatches(c,g,b,L,N);return h==="=="?f===I:f!==I}}return o===-1?{name:r,value:n,test:function(g,f,b,L){return C(g,g,f,b,L)}}:{name:r,value:n,test:function(g,f,b,L){let N=i(g,f,b,o);return C(N||"",g,f,b,L)}}}function s(c,d,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw S.createError(c,"a 'token' attribute must be of type string, in rule: "+d);{let n={token:r.token};if(r.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")n.bracket=1;else if(r.bracket==="@close")n.bracket=-1;else throw S.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(r.next){if(typeof r.next!="string")throw S.createError(c,"the next state must be a string value in rule: "+d);{let o=r.next;if(!/^(@pop|@push|@popall)$/.test(o)&&(o[0]==="@"&&(o=o.substr(1)),o.indexOf("$")<0&&!S.stateExists(c,S.substituteMatches(c,o,"",[],""))))throw S.createError(c,"the next state '"+r.next+"' is not defined in rule: "+d);n.next=o}}return typeof r.goBack=="number"&&(n.goBack=r.goBack),typeof r.switchTo=="string"&&(n.switchTo=r.switchTo),typeof r.log=="string"&&(n.log=r.log),typeof r.nextEmbedded=="string"&&(n.nextEmbedded=r.nextEmbedded,c.usesEmbedded=!0),n}}else if(Array.isArray(r)){let n=[];for(let o=0,t=r.length;o<t;o++)n[o]=s(c,d,r[o]);return{group:n}}else if(r.cases){let n=[];for(let t in r.cases)if(r.cases.hasOwnProperty(t)){const l=s(c,d,r.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:l,name:t}):t==="@eos"?n.push({test:function(h,m,C,g){return g},value:l,name:t}):n.push(_(c,d,t,l))}const o=c.defaultToken;return{test:function(t,l,h,m){for(const C of n)if(!C.test||C.test(t,l,h,m))return C.value;return o}}}else throw S.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class a{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,r){let n;if(typeof r=="string")n=r;else if(r instanceof RegExp)n=r.source;else throw S.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=v(d,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(d,r){this.action=s(d,this.name,r)}}function u(c,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=c,r.includeLF=M(d.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof d.start=="string"?d.start:null,r.ignoreCase=M(d.ignoreCase,!1),r.unicode=M(d.unicode,!1),r.tokenPostfix=y(d.tokenPostfix,"."+r.languageId),r.defaultToken=y(d.defaultToken,"source"),r.usesEmbedded=!1;let n=d;n.languageId=c,n.includeLF=r.includeLF,n.ignoreCase=r.ignoreCase,n.unicode=r.unicode,n.noThrow=r.noThrow,n.usesEmbedded=r.usesEmbedded,n.stateNames=d.tokenizer,n.defaultToken=r.defaultToken;function o(l,h,m){for(const C of m){let g=C.include;if(g){if(typeof g!="string")throw S.createError(r,"an 'include' attribute must be a string at: "+l);if(g[0]==="@"&&(g=g.substr(1)),!d.tokenizer[g])throw S.createError(r,"include target '"+g+"' is not defined at: "+l);o(l+"."+g,h,d.tokenizer[g])}else{const f=new a(l);if(Array.isArray(C)&&C.length>=1&&C.length<=3)if(f.setRegex(n,C[0]),C.length>=3)if(typeof C[1]=="string")f.setAction(n,{token:C[1],next:C[2]});else if(typeof C[1]=="object"){const b=C[1];b.next=C[2],f.setAction(n,b)}else throw S.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else f.setAction(n,C[1]);else{if(!C.regex)throw S.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);C.name&&typeof C.name=="string"&&(f.name=C.name),C.matchOnlyAtStart&&(f.matchOnlyAtLineStart=M(C.matchOnlyAtLineStart,!1)),f.setRegex(n,C.regex),f.setAction(n,C.action)}h.push(f)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw S.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let l in d.tokenizer)if(d.tokenizer.hasOwnProperty(l)){r.start||(r.start=l);const h=d.tokenizer[l];r.tokenizer[l]=new Array,o("tokenizer."+l,r.tokenizer[l],h)}if(r.usesEmbedded=n.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw S.createError(r,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let l of d.brackets){let h=l;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw S.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+r.tokenPostfix,open:S.fixCase(r,h.open),close:S.fixCase(r,h.close)});else throw S.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=t,r.noThrow=!0,r}e.compile=u}),define(Q[427],J([4,5]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(Q[428],J([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(Q[429],J([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(Q[235],J([0,1,162,429,27]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const y=k.localize(0,null),w=k.localize(1,null),p=k.localize(2,null);class v extends S.Checkbox{constructor(a){super({icon:M.Codicon.caseSensitive,title:y+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=v;class i extends S.Checkbox{constructor(a){super({icon:M.Codicon.wholeWord,title:w+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class _ extends S.Checkbox{constructor(a){super({icon:M.Codicon.regex,title:p+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.RegexCheckbox=_}),define(Q[430],J([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(Q[431],J([4,5]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(Q[432],J([0,1,20,7,23,54,431]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function p(s,a){S.isString(a)?s.title=a:(a==null?void 0:a.markdownNotSupportedFallback)?s.title=a.markdownNotSupportedFallback:s.removeAttribute("title")}e.setupNativeHover=p;function v(s,a,u){if(!u)return;const c=i(u);let d,r,n=!1,o,t;const l=new y.DomEmitter(a,k.EventType.MOUSE_OVER,!0);return l.event(h=>{if(n)return;o=new M.CancellationTokenSource;function m(L){const N=L.type===k.EventType.MOUSE_DOWN;N&&(t==null||t.dispose(),t=void 0),(N||L.fromElement===a)&&(n=!1,d=void 0,o.dispose(!0),C.dispose(),g.dispose())}const C=new y.DomEmitter(a,k.EventType.MOUSE_LEAVE,!0);C.event(m);const g=new y.DomEmitter(a,k.EventType.MOUSE_DOWN,!0);g.event(m),n=!0;function f(L){r=L.x}const b=new y.DomEmitter(a,k.EventType.MOUSE_MOVE,!0);b.event(f),setTimeout(()=>Ie(this,void 0,void 0,function*(){var L;if(n&&c&&!d){const N={targetElements:[a],dispose:()=>{}};d={text:w.localize(0,null),target:N,hoverPosition:2},t=_(d,r,s,n);const D=(L=yield c(o.token))!==null&&L!==void 0?L:S.isString(u)?void 0:u.markdownNotSupportedFallback;D?(d={text:D,target:N,showPointer:s.placement==="element",hoverPosition:2},t=_(d,r,s,n)):t&&(t.dispose(),t=void 0)}b.dispose()}),s.delay)}),l}e.setupCustomHover=v;function i(s){if(S.isString(s))return()=>Ie(this,void 0,void 0,function*(){return s});if(S.isFunction(s.markdown))return s.markdown;{const a=s.markdown;return()=>Ie(this,void 0,void 0,function*(){return a})}}function _(s,a,u,c){if(s&&c)return a!==void 0&&(u.placement===void 0||u.placement==="mouse")&&(s.target.x=a+10),u.showHover(s)}}),define(Q[177],J([0,1,7,159,2,124,41,432,310]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class i extends M.Disposable{constructor(c,d){super();this.customHovers=new Map,this.domNode=this._register(new v(S.append(c,S.$(".monaco-icon-label")))),this.labelContainer=S.append(this.domNode.element,S.$(".monaco-icon-label-container"));const r=S.append(this.labelContainer,S.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(S.append(this.labelContainer,S.$("span.monaco-icon-description-container")))),(d==null?void 0:d.supportHighlights)||(d==null?void 0:d.supportIcons)?this.nameNode=new a(r,!!d.supportIcons):this.nameNode=new _(r),(d==null?void 0:d.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new k.HighlightedLabel(S.append(this.descriptionContainer.element,S.$("span.label-description")),!!d.supportIcons):this.descriptionNodeFactory=()=>this._register(new v(S.append(this.descriptionContainer.element,S.$("span.label-description")))),this.hoverDelegate=d==null?void 0:d.hoverDelegate}setLabel(c,d,r){const n=["monaco-icon-label"];r&&(r.extraClasses&&n.push(...r.extraClasses),r.italic&&n.push("italic"),r.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(this.labelContainer,r==null?void 0:r.title),this.nameNode.setLabel(c,r),(d||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof k.HighlightedLabel?(this.descriptionNode.set(d||"",r?r.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,r==null?void 0:r.descriptionTitle)):(this.descriptionNode.textContent=d||"",this.setupHover(this.descriptionNode.element,(r==null?void 0:r.descriptionTitle)||""),this.descriptionNode.empty=!d))}setupHover(c,d){const r=this.customHovers.get(c);if(r&&(r.dispose(),this.customHovers.delete(c)),!d){c.removeAttribute("title");return}if(!this.hoverDelegate)p.setupNativeHover(c,d);else{const n=p.setupCustomHover(this.hoverDelegate,c,d);n&&this.customHovers.set(c,n)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}}e.IconLabel=i;class _{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,d){if(!(this.label===c&&w.equals(this.options,d)))if(this.label=c,this.options=d,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=S.append(this.container,S.$("a.label-name",{id:d==null?void 0:d.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<c.length;r++){const n=c[r],o=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${r}`;S.append(this.container,S.$("a.label-name",{id:o,"data-icon-label-count":c.length,"data-icon-label-index":r,role:"treeitem"},n)),r<c.length-1&&S.append(this.container,S.$("span.label-separator",void 0,(d==null?void 0:d.separator)||"/"))}}}}function s(u,c,d){if(!d)return;let r=0;return u.map(n=>{const o={start:r,end:r+n.length},t=d.map(l=>y.Range.intersect(o,l)).filter(l=>!y.Range.isEmpty(l)).map(({start:l,end:h})=>({start:l-r,end:h-r}));return r=o.end+c.length,t})}class a{constructor(c,d){this.container=c,this.supportIcons=d,this.label=void 0,this.singleLabel=void 0}setLabel(c,d){if(!(this.label===c&&w.equals(this.options,d)))if(this.label=c,this.options=d,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(S.append(this.container,S.$("a.label-name",{id:d==null?void 0:d.domId})),this.supportIcons)),this.singleLabel.set(c,d==null?void 0:d.matches,void 0,d==null?void 0:d.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=(d==null?void 0:d.separator)||"/",n=s(c,r,d==null?void 0:d.matches);for(let o=0;o<c.length;o++){const t=c[o],l=n?n[o]:void 0,h=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${o}`,m=S.$("a.label-name",{id:h,"data-icon-label-count":c.length,"data-icon-label-index":o,role:"treeitem"});new k.HighlightedLabel(S.append(this.container,m),this.supportIcons).set(t,l,void 0,d==null?void 0:d.labelEscapeNewLines),o<c.length-1&&S.append(m,S.$("span.label-separator",void 0,r))}}}}}),define(Q[433],J([4,5]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(Q[434],J([4,5]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(Q[435],J([4,5]),function($,e){return $.create("vs/base/browser/ui/menu/menu",e)}),define(Q[436],J([4,5]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(Q[178],J([0,1,2,106,7,6,55,100,151,19,163,54,67,156,436,15,17,101,198,199,323]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class l extends _.ElementsDragAndDropData{constructor(E){super(E.elements.map(x=>x.element));this.data=E}}function h(F){return F instanceof _.ElementsDragAndDropData?new l(F):F}class m{constructor(E,x){this.modelProvider=E,this.dnd=x,this.autoExpandDisposable=S.Disposable.None}getDragURI(E){return this.dnd.getDragURI(E.element)}getDragLabel(E,x){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(E.map(H=>H.element),x)}onDragStart(E,x){this.dnd.onDragStart&&this.dnd.onDragStart(h(E),x)}onDragOver(E,x,H,K,q=!0){const G=this.dnd.onDragOver(h(E),x&&x.element,H,K),ee=this.autoExpandNode!==x;if(ee&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=x),typeof x=="undefined")return G;if(ee&&typeof G!="boolean"&&G.autoExpand&&(this.autoExpandDisposable=d.disposableTimeout(()=>{const B=this.modelProvider(),W=B.getNodeLocation(x);B.isCollapsed(W)&&B.setCollapsed(W,!1),this.autoExpandNode=void 0},500)),typeof G=="boolean"||!G.accept||typeof G.bubble=="undefined"||G.feedback){if(!q){const B=typeof G=="boolean"?G:G.accept,W=typeof G=="boolean"?void 0:G.effect;return{accept:B,effect:W,feedback:[H]}}return G}if(G.bubble===1){const B=this.modelProvider(),W=B.getNodeLocation(x),V=B.getParentNodeLocation(W),z=B.getNode(V),U=V&&B.getListIndex(V);return this.onDragOver(E,z,U,K,!1)}const ie=this.modelProvider(),ae=ie.getNodeLocation(x),de=ie.getListIndex(ae),Y=ie.getListRenderCount(ae);return Object.assign(Object.assign({},G),{feedback:i.range(de,de+Y)})}drop(E,x,H,K){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(E),x&&x.element,H,K)}onDragEnd(E){this.dnd.onDragEnd&&this.dnd.onDragEnd(E)}}function C(F,E){return E&&Object.assign(Object.assign({},E),{identityProvider:E.identityProvider&&{getId(x){return E.identityProvider.getId(x.element)}},dnd:E.dnd&&new m(F,E.dnd),multipleSelectionController:E.multipleSelectionController&&{isSelectionSingleChangeEvent(x){return E.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},x),{element:x.element}))},isSelectionRangeChangeEvent(x){return E.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},x),{element:x.element}))}},accessibilityProvider:E.accessibilityProvider&&Object.assign(Object.assign({},E.accessibilityProvider),{getSetSize(x){const H=F(),K=H.getNodeLocation(x),q=H.getParentNodeLocation(K);return H.getNode(q).visibleChildrenCount},getPosInSet(x){return x.visibleChildIndex+1},isChecked:E.accessibilityProvider&&E.accessibilityProvider.isChecked?x=>E.accessibilityProvider.isChecked(x.element):void 0,getRole:E.accessibilityProvider&&E.accessibilityProvider.getRole?x=>E.accessibilityProvider.getRole(x.element):()=>"treeitem",getAriaLabel(x){return E.accessibilityProvider.getAriaLabel(x.element)},getWidgetAriaLabel(){return E.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:E.accessibilityProvider&&E.accessibilityProvider.getWidgetRole?()=>E.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:E.accessibilityProvider&&E.accessibilityProvider.getAriaLevel?x=>E.accessibilityProvider.getAriaLevel(x.element):x=>x.depth,getActiveDescendantId:E.accessibilityProvider.getActiveDescendantId&&(x=>E.accessibilityProvider.getActiveDescendantId(x.element))}),keyboardNavigationLabelProvider:E.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},E.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(x){return E.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(x.element)}}),enableKeyboardNavigation:E.simpleKeyboardNavigation})}class g{constructor(E){this.delegate=E}getHeight(E){return this.delegate.getHeight(E.element)}getTemplateId(E){return this.delegate.getTemplateId(E.element)}hasDynamicHeight(E){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(E.element)}setDynamicHeight(E,x){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(E.element,x)}}e.ComposedTreeDelegate=g;var f;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(f=e.RenderIndentGuides||(e.RenderIndentGuides={}));class b{constructor(E,x=[]){this._elements=x,this.onDidChange=y.Event.forEach(E,H=>this._elements=H)}get elements(){return this._elements}}class L{constructor(E,x,H,K,q={}){this.renderer=E,this.modelProvider=x,this.activeNodes=K,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new o.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=S.Disposable.None,this.disposables=new S.DisposableStore,this.templateId=E.templateId,this.updateOptions(q),y.Event.map(H,G=>G.node)(this.onDidChangeNodeTwistieState,this,this.disposables),E.onDidChangeTwistieState&&E.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(E={}){if(typeof E.indent!="undefined"&&(this.indent=n.clamp(E.indent,0,40)),typeof E.renderIndentGuides!="undefined"){const x=E.renderIndentGuides!==f.None;if(x!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=x,this.indentGuidesDisposable.dispose(),x)){const H=new S.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,H),this.indentGuidesDisposable=H,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof E.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=E.hideTwistiesOfChildlessElements)}renderTemplate(E){const x=M.append(E,M.$(".monaco-tl-row")),H=M.append(x,M.$(".monaco-tl-indent")),K=M.append(x,M.$(".monaco-tl-twistie")),q=M.append(x,M.$(".monaco-tl-contents")),G=this.renderer.renderTemplate(q);return{container:E,indent:H,twistie:K,indentGuidesDisposable:S.Disposable.None,templateData:G}}renderElement(E,x,H,K){typeof K=="number"&&(this.renderedNodes.set(E,{templateData:H,height:K}),this.renderedElements.set(E.element,E));const q=L.DefaultIndent+(E.depth-1)*this.indent;H.twistie.style.paddingLeft=`${q}px`,H.indent.style.width=`${q+this.indent-16}px`,this.renderTwistie(E,H),typeof K=="number"&&this.renderIndentGuides(E,H),this.renderer.renderElement(E,x,H.templateData,K)}disposeElement(E,x,H,K){H.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(E,x,H.templateData,K),typeof K=="number"&&(this.renderedNodes.delete(E),this.renderedElements.delete(E.element))}disposeTemplate(E){this.renderer.disposeTemplate(E.templateData)}onDidChangeTwistieState(E){const x=this.renderedElements.get(E);!x||this.onDidChangeNodeTwistieState(x)}onDidChangeNodeTwistieState(E){const x=this.renderedNodes.get(E);!x||(this.renderTwistie(E,x.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(E,x.templateData))}renderTwistie(E,x){x.twistie.classList.remove(...t.treeItemExpandedIcon.classNamesArray);let H=!1;this.renderer.renderTwistie&&(H=this.renderer.renderTwistie(E.element,x.twistie)),E.collapsible&&(!this.hideTwistiesOfChildlessElements||E.visibleChildrenCount>0)?(H||x.twistie.classList.add(...t.treeItemExpandedIcon.classNamesArray),x.twistie.classList.add("collapsible"),x.twistie.classList.toggle("collapsed",E.collapsed)):x.twistie.classList.remove("collapsible","collapsed"),E.collapsible?x.container.setAttribute("aria-expanded",String(!E.collapsed)):x.container.removeAttribute("aria-expanded")}renderIndentGuides(E,x){if(M.clearNode(x.indent),x.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const H=new S.DisposableStore,K=this.modelProvider();let q=E;for(;;){const G=K.getNodeLocation(q),ee=K.getParentNodeLocation(G);if(!ee)break;const ie=K.getNode(ee),ae=M.$(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ie)&&ae.classList.add("active"),x.indent.childElementCount===0?x.indent.appendChild(ae):x.indent.insertBefore(ae,x.indent.firstElementChild),this.renderedIndentGuides.add(ie,ae),H.add(S.toDisposable(()=>this.renderedIndentGuides.delete(ie,ae))),q=ie}x.indentGuidesDisposable=H}_onDidChangeActiveNodes(E){if(!this.shouldRenderIndentGuides)return;const x=new Set,H=this.modelProvider();E.forEach(K=>{const q=H.getNodeLocation(K);try{const G=H.getParentNodeLocation(q);K.collapsible&&K.children.length>0&&!K.collapsed?x.add(K):G&&x.add(H.getNode(G))}catch(G){}}),this.activeIndentNodes.forEach(K=>{x.has(K)||this.renderedIndentGuides.forEach(K,q=>q.classList.remove("active"))}),x.forEach(K=>{this.activeIndentNodes.has(K)||this.renderedIndentGuides.forEach(K,q=>q.classList.add("active"))}),this.activeIndentNodes=x}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),S.dispose(this.disposables)}}L.DefaultIndent=8;class N{constructor(E,x,H){this.tree=E,this.keyboardNavigationLabelProvider=x,this._filter=H,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new S.DisposableStore,E.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(E){this._pattern=E,this._lowercasePattern=E.toLowerCase()}filter(E,x){if(this._filter){const q=this._filter.filter(E,x);if(this.tree.options.simpleKeyboardNavigation)return q;let G;if(typeof q=="boolean"?G=q?1:0:u.isFilterResult(q)?G=u.getVisibleState(q.visibility):G=q,G===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:!0};const H=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(E),K=Array.isArray(H)?H:[H];for(const q of K){const G=q&&q.toString();if(typeof G=="undefined")return{data:a.FuzzyScore.Default,visibility:!0};const ee=a.fuzzyScore(this._pattern,this._lowercasePattern,0,G,G.toLowerCase(),0,!0);if(ee)return this._matchCount++,K.length===1?{data:ee,visibility:!0}:{data:{label:G,score:ee},visibility:!0}}return this.tree.options.filterOnType?2:{data:a.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){S.dispose(this.disposables)}}class D{constructor(E,x,H,K,q){this.tree=E,this.view=H,this.filter=K,this.keyboardNavigationDelegate=q,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new y.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new y.Emitter,this.enabledDisposables=new S.DisposableStore,this.disposables=new S.DisposableStore,this.domNode=M.$(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,s.domEvent(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=M.append(H.getHTMLElement(),M.$(".monaco-list-type-filter-message")),this.labelDomNode=M.append(this.domNode,M.$("span.label"));const G=M.append(this.domNode,M.$(".controls"));this._filterOnType=!!E.options.filterOnType,this.filterOnTypeDomNode=M.append(G,M.$("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),s.domEvent(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=M.append(G,M.$("button.clear"+t.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=c.localize(0,null),this.keyboardNavigationEventFilter=E.options.keyboardNavigationEventFilter,x.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(E.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(E){E.simpleKeyboardNavigation?this.disable():this.enable(),typeof E.filterOnType!="undefined"&&(this._filterOnType=!!E.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof E.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=E.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const E=y.Event.chain(s.domEvent(this.view.getHTMLElement(),"keydown")).filter(H=>!k.isInputElement(H.target)||H.target===this.filterOnTypeDomNode).filter(H=>H.key!=="Dead"&&!/^Media/.test(H.key)).map(H=>new w.StandardKeyboardEvent(H)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(H=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(H)&&!(H.keyCode===18||H.keyCode===16||H.keyCode===15||H.keyCode===17)||(this.pattern.length>0||this.triggered)&&(H.keyCode===9||H.keyCode===1)&&!H.altKey&&!H.ctrlKey&&!H.metaKey||H.keyCode===1&&(r.isMacintosh?H.altKey&&!H.metaKey:H.ctrlKey)&&!H.shiftKey).forEach(H=>{H.stopPropagation(),H.preventDefault()}).event,x=s.domEvent(this.clearDomNode,"click");y.Event.chain(y.Event.any(E,x)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(E){typeof E=="string"?this.onInput(E):E instanceof MouseEvent||E.keyCode===9||E.keyCode===1&&(r.isMacintosh?E.altKey:E.ctrlKey)?this.onInput(""):E.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+E.browserEvent.key)}onInput(E){const x=this.view.getHTMLElement();E&&!this.domNode.parentElement?x.append(this.domNode):!E&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=E,this._onDidChangePattern.fire(E),this.filter.pattern=E,this.tree.refilter(),E&&this.tree.focusNext(0,!0,void 0,K=>!a.FuzzyScore.isDefault(K.filterData));const H=this.tree.getFocus();if(H.length>0){const K=H[0];this.tree.getRelativeTop(K)===null&&this.tree.reveal(K,.5)}this.render(),E||(this.triggered=!1)}onDragStart(){const E=this.view.getHTMLElement(),{left:x}=M.getDomNodePagePosition(E),H=E.clientWidth,K=H/2,q=this.domNode.clientWidth,G=new S.DisposableStore;let ee=this.positionClassName;const ie=()=>{switch(ee){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${H-q-6}px`;break}},ae=Y=>{Y.preventDefault();const B=Y.clientX-x;Y.dataTransfer&&(Y.dataTransfer.dropEffect="none"),B<K?ee="nw":ee="ne",ie()},de=()=>{this.positionClassName=ee,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",S.dispose(G)};ie(),this.domNode.classList.remove(ee),this.domNode.classList.add("dragging"),G.add(S.toDisposable(()=>this.domNode.classList.remove("dragging"))),s.domEvent(document,"dragover")(ae,null,G),s.domEvent(this.domNode,"dragend")(de,null,G),v.StaticDND.CurrentDragAndDropData=new v.DragAndDropData("vscode-ui"),G.add(S.toDisposable(()=>v.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=c.localize(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=c.localize(2,null))}render(){const E=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&E?(this.messageDomNode.textContent=c.localize(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",E),this.domNode.title=c.localize(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(E){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(E.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),S.dispose(this.disposables)}}function I(F){let E=p.TreeMouseEventTarget.Unknown;return M.hasParentWithClass(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?E=p.TreeMouseEventTarget.Twistie:M.hasParentWithClass(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(E=p.TreeMouseEventTarget.Element),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:E}}function T(F,E){E(F),F.children.forEach(x=>T(x,E))}class A{constructor(E){this.identityProvider=E,this.nodes=[],this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(E,x){var H;!((H=x)===null||H===void 0?void 0:H.__forceEvent)&&i.equals(this.nodes,E)||this._set(E,!1,x)}_set(E,x,H){if(this.nodes=[...E],this.elements=void 0,this._nodeSet=void 0,!x){const K=this;this._onDidChange.fire({get elements(){return K.get()},browserEvent:H})}}get(){return this.elements||(this.elements=this.nodes.map(E=>E.element)),[...this.elements]}getNodes(){return this.nodes}has(E){return this.nodeSet.has(E)}onDidModelSplice({insertedNodes:E,deletedNodes:x}){if(!this.identityProvider){const ie=this.createNodeSet(),ae=de=>ie.delete(de);x.forEach(de=>T(de,ae)),this.set([...ie.values()]);return}const H=new Set,K=ie=>H.add(this.identityProvider.getId(ie.element).toString());x.forEach(ie=>T(ie,K));const q=new Map,G=ie=>q.set(this.identityProvider.getId(ie.element).toString(),ie);E.forEach(ie=>T(ie,G));const ee=[];for(const ie of this.nodes){const ae=this.identityProvider.getId(ie.element).toString();if(!H.has(ae))ee.push(ie);else{const Y=q.get(ae);Y&&ee.push(Y)}}this._set(ee,!0)}createNodeSet(){const E=new Set;for(const x of this.nodes)E.add(x);return E}}class R extends k.MouseController{constructor(E,x){super(E);this.tree=x}onViewPointer(E){if(k.isInputElement(E.browserEvent.target)||k.isMonacoEditor(E.browserEvent.target))return;const x=E.element;if(!x)return super.onViewPointer(E);if(this.isSelectionRangeChangeEvent(E)||this.isSelectionSingleChangeEvent(E))return super.onViewPointer(E);const H=E.browserEvent.target,K=H.classList.contains("monaco-tl-twistie")||H.classList.contains("monaco-icon-label")&&H.classList.contains("folder-icon")&&E.browserEvent.offsetX<16;let q=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?q=this.tree.expandOnlyOnTwistieClick(x.element):q=!!this.tree.expandOnlyOnTwistieClick,q&&!K&&E.browserEvent.detail!==2)return super.onViewPointer(E);if(!this.tree.expandOnDoubleClick&&E.browserEvent.detail===2)return super.onViewPointer(E);if(x.collapsible){const G=this.tree.model,ee=G.getNodeLocation(x),ie=E.browserEvent.altKey;if(this.tree.setFocus([ee]),G.setCollapsed(ee,void 0,ie),q&&K)return}super.onViewPointer(E)}onDoubleClick(E){E.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(E)}}class O extends k.List{constructor(E,x,H,K,q,G,ee,ie){super(E,x,H,K,ie);this.focusTrait=q,this.selectionTrait=G,this.anchorTrait=ee}createMouseController(E){return new R(this,E.tree)}splice(E,x,H=[]){if(super.splice(E,x,H),H.length===0)return;const K=[],q=[];let G;H.forEach((ee,ie)=>{this.focusTrait.has(ee)&&K.push(E+ie),this.selectionTrait.has(ee)&&q.push(E+ie),this.anchorTrait.has(ee)&&(G=E+ie)}),K.length>0&&super.setFocus(i.distinctES6([...super.getFocus(),...K])),q.length>0&&super.setSelection(i.distinctES6([...super.getSelection(),...q])),typeof G=="number"&&super.setAnchor(G)}setFocus(E,x,H=!1){super.setFocus(E,x),H||this.focusTrait.set(E.map(K=>this.element(K)),x)}setSelection(E,x,H=!1){super.setSelection(E,x),H||this.selectionTrait.set(E.map(K=>this.element(K)),x)}setAnchor(E,x=!1){super.setAnchor(E),x||(typeof E=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(E)]))}}class P{constructor(E,x,H,K,q={}){this._options=q,this.eventBufferer=new y.EventBufferer,this.disposables=new S.DisposableStore,this._onWillRefilter=new y.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new y.Emitter;const G=new g(H),ee=new y.Relay,ie=new y.Relay,ae=new b(ie.event);this.renderers=K.map(B=>new L(B,()=>this.model,ee.event,ae,q));for(let B of this.renderers)this.disposables.add(B);let de;q.keyboardNavigationLabelProvider&&(de=new N(this,q.keyboardNavigationLabelProvider,q.filter),q=Object.assign(Object.assign({},q),{filter:de}),this.disposables.add(de)),this.focus=new A(q.identityProvider),this.selection=new A(q.identityProvider),this.anchor=new A(q.identityProvider),this.view=new O(E,x,G,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},C(()=>this.model,q)),{tree:this})),this.model=this.createModel(E,this.view,q),ee.input=this.model.onDidChangeCollapseState;const Y=y.Event.forEach(this.model.onDidSplice,B=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(B),this.selection.onDidModelSplice(B)})});if(Y(()=>null,null,this.disposables),ie.input=y.Event.chain(y.Event.any(Y,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const B=new Set;for(const W of this.focus.getNodes())B.add(W);for(const W of this.selection.getNodes())B.add(W);return[...B.values()]}).event,q.keyboardSupport!==!1){const B=y.Event.chain(this.view.onKeyDown).filter(W=>!k.isInputElement(W.target)).map(W=>new w.StandardKeyboardEvent(W));B.filter(W=>W.keyCode===15).on(this.onLeftArrow,this,this.disposables),B.filter(W=>W.keyCode===17).on(this.onRightArrow,this,this.disposables),B.filter(W=>W.keyCode===10).on(this.onSpace,this,this.disposables)}if(q.keyboardNavigationLabelProvider){const B=q.keyboardNavigationDelegate||k.DefaultKeyboardNavigationDelegate;this.typeFilterController=new D(this,this.model,this.view,de,B),this.focusNavigationFilter=W=>this.typeFilterController.shouldAllowFocus(W),this.disposables.add(this.typeFilterController)}this.styleElement=M.createStyleSheet(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===f.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return y.Event.map(this.view.onMouseDblClick,I)}get onPointer(){return y.Event.map(this.view.onPointer,I)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(E={}){this._options=Object.assign(Object.assign({},this._options),E);for(const x of this.renderers)x.updateOptions(E);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===f.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(E){this.view.scrollTop=E}domFocus(){this.view.domFocus()}layout(E,x){this.view.layout(E,x)}style(E){const x=`.${this.view.domId}`,H=[];E.treeIndentGuidesStroke&&(H.push(`.monaco-list${x}:hover .monaco-tl-indent > .indent-guide, .monaco-list${x}.always .monaco-tl-indent > .indent-guide  { border-color: ${E.treeIndentGuidesStroke.transparent(.4)}; }`),H.push(`.monaco-list${x} .monaco-tl-indent > .indent-guide.active { border-color: ${E.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=H.join(`
`),this.view.style(E)}collapse(E,x=!1){return this.model.setCollapsed(E,!0,x)}expand(E,x=!1){return this.model.setCollapsed(E,!1,x)}isCollapsible(E){return this.model.isCollapsible(E)}setCollapsible(E,x){return this.model.setCollapsible(E,x)}isCollapsed(E){return this.model.isCollapsed(E)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(E,x){const H=E.map(q=>this.model.getNode(q));this.selection.set(H,x);const K=E.map(q=>this.model.getListIndex(q)).filter(q=>q>-1);this.view.setSelection(K,x,!0)}getSelection(){return this.selection.get()}setFocus(E,x){const H=E.map(q=>this.model.getNode(q));this.focus.set(H,x);const K=E.map(q=>this.model.getListIndex(q)).filter(q=>q>-1);this.view.setFocus(K,x,!0)}focusNext(E=1,x=!1,H,K=this.focusNavigationFilter){this.view.focusNext(E,x,H,K)}getFocus(){return this.focus.get()}reveal(E,x){this.model.expandTo(E);const H=this.model.getListIndex(E);H!==-1&&this.view.reveal(H,x)}getRelativeTop(E){const x=this.model.getListIndex(E);return x===-1?null:this.view.getRelativeTop(x)}onLeftArrow(E){E.preventDefault(),E.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const H=x[0],K=this.model.getNodeLocation(H);if(!this.model.setCollapsed(K,!0)){const G=this.model.getParentNodeLocation(K);if(!G)return;const ee=this.model.getListIndex(G);this.view.reveal(ee),this.view.setFocus([ee])}}onRightArrow(E){E.preventDefault(),E.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const H=x[0],K=this.model.getNodeLocation(H);if(!this.model.setCollapsed(K,!1)){if(!H.children.some(ie=>ie.visible))return;const[G]=this.view.getFocus(),ee=G+1;this.view.reveal(ee),this.view.setFocus([ee])}}onSpace(E){E.preventDefault(),E.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const H=x[0],K=this.model.getNodeLocation(H),q=E.browserEvent.altKey;this.model.setCollapsed(K,void 0,q)}dispose(){S.dispose(this.disposables),this.view.dispose()}}e.AbstractTree=P}),define(Q[437],J([0,1,178,157]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class M extends S.AbstractTree{constructor(w,p,v,i,_,s={}){super(w,p,v,i,s);this.user=w,this.dataSource=_,this.identityProvider=s.identityProvider}createModel(w,p,v){return new k.ObjectTreeModel(w,p,v)}}e.DataTree=M}),define(Q[236],J([0,1,53,178,157,290,89]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends k.AbstractTree{constructor(a,u,c,d,r={}){super(a,u,c,d,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(a,u=S.Iterable.empty(),c){this.model.setChildren(a,u,c)}rerender(a){if(a===void 0){this.view.rerender();return}this.model.rerender(a)}hasElement(a){return this.model.has(a)}createModel(a,u,c){return new M.ObjectTreeModel(a,u,c)}}e.ObjectTree=p;class v{constructor(a,u){this._compressedTreeNodeProvider=a,this.renderer=u,this.templateId=u.templateId,u.onDidChangeTwistieState&&(this.onDidChangeTwistieState=u.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(a){const u=this.renderer.renderTemplate(a);return{compressedTreeNode:void 0,data:u}}renderElement(a,u,c,d){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(a.element);r.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(a,u,c.data,d)):(c.compressedTreeNode=r,this.renderer.renderCompressedElements(r,u,c.data,d))}disposeElement(a,u,c,d){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,u,c.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(a,u,c.data,d)}disposeTemplate(a){this.renderer.disposeTemplate(a.data)}renderTwistie(a,u){return this.renderer.renderTwistie?this.renderer.renderTwistie(a,u):!1}}Me([w.memoize],v.prototype,"compressedTreeNodeProvider",null);function i(s,a){return a&&Object.assign(Object.assign({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(u){let c;try{c=s().getCompressedTreeNode(u)}catch(d){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(u)}return c.element.elements.length===1?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(u):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class _ extends p{constructor(a,u,c,d,r={}){const n=()=>this,o=d.map(t=>new v(n,t));super(a,u,c,o,i(n,r))}setChildren(a,u=S.Iterable.empty(),c){this.model.setChildren(a,u,c)}createModel(a,u,c){return new y.CompressibleObjectTreeModel(a,u,c)}updateOptions(a={}){super.updateOptions(a),typeof a.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(a.compressionEnabled)}getCompressedTreeNode(a=null){return this.model.getCompressedTreeNode(a)}}e.CompressibleObjectTree=_}),define(Q[438],J([0,1,178,236,100,2,6,15,53,163,12,156,199]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function u(T){return Object.assign(Object.assign({},T),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(T,A){return A.parent?A.parent===T?!0:c(T,A.parent):!1}function d(T,A){return T===A||c(T,A)||c(A,T)}class r{constructor(A){this.node=A}get element(){return this.node.element.element}get children(){return this.node.children.map(A=>new r(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(A,R,O){this.renderer=A,this.nodeMapper=R,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,R,O,P){this.renderer.renderElement(this.nodeMapper.map(A),R,O.templateData,P)}renderTwistie(A,R){return A.slow?(R.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(A,R,O,P){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(A),R,O.templateData,P)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear()}}function o(T){return{browserEvent:T.browserEvent,elements:T.elements.map(A=>A.element)}}function t(T){return{browserEvent:T.browserEvent,element:T.element&&T.element.element,target:T.target}}class l extends i.ElementsDragAndDropData{constructor(A){super(A.elements.map(R=>R.element));this.data=A}}function h(T){return T instanceof i.ElementsDragAndDropData?new l(T):T}class m{constructor(A){this.dnd=A}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(O=>O.element),R)}onDragStart(A,R){this.dnd.onDragStart&&this.dnd.onDragStart(h(A),R)}onDragOver(A,R,O,P,F=!0){return this.dnd.onDragOver(h(A),R&&R.element,O,P)}drop(A,R,O,P){this.dnd.drop(h(A),R&&R.element,O,P)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}function C(T){return T&&Object.assign(Object.assign({},T),{collapseByDefault:!0,identityProvider:T.identityProvider&&{getId(A){return T.identityProvider.getId(A.element)}},dnd:T.dnd&&new m(T.dnd),multipleSelectionController:T.multipleSelectionController&&{isSelectionSingleChangeEvent(A){return T.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))},isSelectionRangeChangeEvent(A){return T.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))}},accessibilityProvider:T.accessibilityProvider&&Object.assign(Object.assign({},T.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:T.accessibilityProvider.getRole?A=>T.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:T.accessibilityProvider.isChecked?A=>{var R;return!!((R=T.accessibilityProvider)===null||R===void 0?void 0:R.isChecked(A.element))}:void 0,getAriaLabel(A){return T.accessibilityProvider.getAriaLabel(A.element)},getWidgetAriaLabel(){return T.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:T.accessibilityProvider.getWidgetRole?()=>T.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:T.accessibilityProvider.getAriaLevel&&(A=>T.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:T.accessibilityProvider.getActiveDescendantId&&(A=>T.accessibilityProvider.getActiveDescendantId(A.element))}),filter:T.filter&&{filter(A,R){return T.filter.filter(A.element,R)}},keyboardNavigationLabelProvider:T.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},T.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(A){return T.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof T.expandOnlyOnTwistieClick=="undefined"?void 0:typeof T.expandOnlyOnTwistieClick!="function"?T.expandOnlyOnTwistieClick:A=>T.expandOnlyOnTwistieClick(A.element),additionalScrollHeight:T.additionalScrollHeight})}function g(T,A){A(T),T.children.forEach(R=>g(R,A))}class f{constructor(A,R,O,P,F,E={}){this.user=A,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new w.Emitter,this._onDidChangeNodeSlowState=new w.Emitter,this.nodeMapper=new M.WeakMapper(x=>new r(x)),this.disposables=new y.DisposableStore,this.identityProvider=E.identityProvider,this.autoExpandSingleChildren=typeof E.autoExpandSingleChildren=="undefined"?!1:E.autoExpandSingleChildren,this.sorter=E.sorter,this.collapseByDefault=E.collapseByDefault,this.tree=this.createTree(A,R,O,P,E),this.root=u({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return w.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return w.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return w.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return w.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(A,R,O,P,F){const E=new S.ComposedTreeDelegate(O),x=P.map(K=>new n(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),H=C(F)||{};return new k.ObjectTree(A,R,E,x,H)}updateOptions(A={}){this.tree.updateOptions(A)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(A){this.tree.scrollTop=A}domFocus(){this.tree.domFocus()}layout(A,R){this.tree.layout(A,R)}style(A){this.tree.style(A)}getInput(){return this.root.element}setInput(A,R){return Ie(this,void 0,void 0,function*(){this.refreshPromises.forEach(P=>P.cancel()),this.refreshPromises.clear(),this.root.element=A;const O=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(A,!0,!1,O),O&&(this.tree.setFocus(O.focus),this.tree.setSelection(O.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}_updateChildren(A=this.root.element,R=!0,O=!1,P,F){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield w.Event.toPromise(this._onDidRender.event));const E=this.getDataNode(A);if(yield this.refreshAndRenderNode(E,R,P,F),O)try{this.tree.rerender(E)}catch(x){}})}rerender(A){if(A===void 0||A===this.root.element){this.tree.rerender();return}const R=this.getDataNode(A);this.tree.rerender(R)}collapse(A,R=!1){const O=this.getDataNode(A);return this.tree.collapse(O===this.root?null:O,R)}expand(A,R=!1){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield w.Event.toPromise(this._onDidRender.event));const O=this.getDataNode(A);if(this.tree.hasElement(O)&&!this.tree.isCollapsible(O)||(O.refreshPromise&&(yield this.root.refreshPromise,yield w.Event.toPromise(this._onDidRender.event)),O!==this.root&&!O.refreshPromise&&!this.tree.isCollapsed(O)))return!1;const P=this.tree.expand(O===this.root?null:O,R);return O.refreshPromise&&(yield this.root.refreshPromise,yield w.Event.toPromise(this._onDidRender.event)),P})}setSelection(A,R){const O=A.map(P=>this.getDataNode(P));this.tree.setSelection(O,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(A,R){const O=A.map(P=>this.getDataNode(P));this.tree.setFocus(O,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(A,R){this.tree.reveal(this.getDataNode(A),R)}getDataNode(A){const R=this.nodes.get(A===this.root.element?null:A);if(!R)throw new M.TreeError(this.user,`Data tree node not found: ${A}`);return R}refreshAndRenderNode(A,R,O,P){return Ie(this,void 0,void 0,function*(){yield this.refreshNode(A,R,O),this.render(A,O,P)})}refreshNode(A,R,O){return Ie(this,void 0,void 0,function*(){let P;return this.subTreeRefreshPromises.forEach((F,E)=>{!P&&d(E,A)&&(P=F.then(()=>this.refreshNode(A,R,O)))}),P||this.doRefreshSubTree(A,R,O)})}doRefreshSubTree(A,R,O){return Ie(this,void 0,void 0,function*(){let P;A.refreshPromise=new Promise(F=>P=F),this.subTreeRefreshPromises.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.subTreeRefreshPromises.delete(A)});try{const F=yield this.doRefreshNode(A,R,O);A.stale=!1,yield p.Promises.settled(F.map(E=>this.doRefreshSubTree(E,R,O)))}finally{P()}})}doRefreshNode(A,R,O){return Ie(this,void 0,void 0,function*(){A.hasChildren=!!this.dataSource.hasChildren(A.element);let P;if(!A.hasChildren)P=Promise.resolve(v.Iterable.empty());else{const F=p.timeout(800);F.then(()=>{A.slow=!0,this._onDidChangeNodeSlowState.fire(A)},E=>null),P=this.doGetChildren(A).finally(()=>F.cancel())}try{const F=yield P;return this.setChildren(A,F,R,O)}catch(F){if(A!==this.root&&this.tree.hasElement(A)&&this.tree.collapse(A),_.isPromiseCanceledError(F))return[];throw F}finally{A.slow&&(A.slow=!1,this._onDidChangeNodeSlowState.fire(A))}})}doGetChildren(A){let R=this.refreshPromises.get(A);return R||(R=p.createCancelablePromise(()=>Ie(this,void 0,void 0,function*(){const O=yield this.dataSource.getChildren(A.element);return this.processChildren(O)})),this.refreshPromises.set(A,R),R.finally(()=>{this.refreshPromises.delete(A)}))}_onDidChangeCollapseState({node:A,deep:R}){A.element!==null&&!A.collapsed&&A.element.stale&&(R?this.collapse(A.element.element):this.refreshAndRenderNode(A.element,!1).catch(_.onUnexpectedError))}setChildren(A,R,O,P){const F=[...R];if(A.children.length===0&&F.length===0)return[];const E=new Map,x=new Map;for(const q of A.children)if(E.set(q.element,q),this.identityProvider){const G=this.tree.isCollapsed(q);x.set(q.id,{node:q,collapsed:G})}const H=[],K=F.map(q=>{const G=!!this.dataSource.hasChildren(q);if(!this.identityProvider){const de=u({element:q,parent:A,hasChildren:G});return G&&this.collapseByDefault&&!this.collapseByDefault(q)&&(de.collapsedByDefault=!1,H.push(de)),de}const ee=this.identityProvider.getId(q).toString(),ie=x.get(ee);if(ie){const de=ie.node;return E.delete(de.element),this.nodes.delete(de.element),this.nodes.set(q,de),de.element=q,de.hasChildren=G,O?ie.collapsed?(de.children.forEach(Y=>g(Y,B=>this.nodes.delete(B.element))),de.children.splice(0,de.children.length),de.stale=!0):H.push(de):G&&this.collapseByDefault&&!this.collapseByDefault(q)&&(de.collapsedByDefault=!1,H.push(de)),de}const ae=u({element:q,parent:A,id:ee,hasChildren:G});return P&&P.viewState.focus&&P.viewState.focus.indexOf(ee)>-1&&P.focus.push(ae),P&&P.viewState.selection&&P.viewState.selection.indexOf(ee)>-1&&P.selection.push(ae),P&&P.viewState.expanded&&P.viewState.expanded.indexOf(ee)>-1?H.push(ae):G&&this.collapseByDefault&&!this.collapseByDefault(q)&&(ae.collapsedByDefault=!1,H.push(ae)),ae});for(const q of E.values())g(q,G=>this.nodes.delete(G.element));for(const q of K)this.nodes.set(q.element,q);return A.children.splice(0,A.children.length,...K),A!==this.root&&this.autoExpandSingleChildren&&K.length===1&&H.length===0&&(K[0].collapsedByDefault=!1,H.push(K[0])),H}render(A,R,O){const P=A.children.map(E=>this.asTreeElement(E,R)),F=O&&Object.assign(Object.assign({},O),{diffIdentityProvider:O.diffIdentityProvider&&{getId(E){return O.diffIdentityProvider.getId(E.element)}}});this.tree.setChildren(A===this.root?null:A,P,F),A!==this.root&&this.tree.setCollapsible(A,A.hasChildren),this._onDidRender.fire()}asTreeElement(A,R){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let O;return R&&R.viewState.expanded&&A.id&&R.viewState.expanded.indexOf(A.id)>-1?O=!1:O=A.collapsedByDefault,A.collapsedByDefault=void 0,{element:A,children:A.hasChildren?v.Iterable.map(A.children,P=>this.asTreeElement(P,R)):[],collapsible:A.hasChildren,collapsed:O}}processChildren(A){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),A}dispose(){this.disposables.dispose()}}e.AsyncDataTree=f;class b{constructor(A){this.node=A}get element(){return{elements:this.node.element.elements.map(A=>A.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(A=>new b(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(A,R,O,P){this.renderer=A,this.nodeMapper=R,this.compressibleNodeMapperProvider=O,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.disposables=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,R,O,P){this.renderer.renderElement(this.nodeMapper.map(A),R,O.templateData,P)}renderCompressedElements(A,R,O,P){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(A),R,O.templateData,P)}renderTwistie(A,R){return A.slow?(R.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(A,R,O,P){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(A),R,O.templateData,P)}disposeCompressedElements(A,R,O,P){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(A),R,O.templateData,P)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=y.dispose(this.disposables)}}function N(T){const A=T&&C(T);return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return T.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(O=>O.element))}})})}class D extends f{constructor(A,R,O,P,F,E,x={}){super(A,R,O,F,E,x);this.compressionDelegate=P,this.compressibleNodeMapper=new M.WeakMapper(H=>new b(H)),this.filter=x.filter}createTree(A,R,O,P,F){const E=new S.ComposedTreeDelegate(O),x=P.map(K=>new L(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),H=N(F)||{};return new k.CompressibleObjectTree(A,R,E,x,H)}asTreeElement(A,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(A.element)},super.asTreeElement(A,R))}updateOptions(A={}){this.tree.updateOptions(A)}render(A,R){if(!this.identityProvider)return super.render(A,R);const O=ee=>this.identityProvider.getId(ee).toString(),P=ee=>{const ie=new Set;for(const ae of ee){const de=this.tree.getCompressedTreeNode(ae===this.root?null:ae);if(!!de.element)for(const Y of de.element.elements)ie.add(O(Y.element))}return ie},F=P(this.tree.getSelection()),E=P(this.tree.getFocus());super.render(A,R);const x=this.getSelection();let H=!1;const K=this.getFocus();let q=!1;const G=ee=>{const ie=ee.element;if(ie)for(let ae=0;ae<ie.elements.length;ae++){const de=O(ie.elements[ae].element),Y=ie.elements[ie.elements.length-1].element;F.has(de)&&x.indexOf(Y)===-1&&(x.push(Y),H=!0),E.has(de)&&K.indexOf(Y)===-1&&(K.push(Y),q=!0)}ee.children.forEach(G)};G(this.tree.getCompressedTreeNode(A===this.root?null:A)),H&&this.setSelection(x),q&&this.setFocus(K)}processChildren(A){return this.filter&&(A=v.Iterable.filter(A,R=>{const O=this.filter.filter(R,1),P=I(O);if(P===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return P===1})),super.processChildren(A)}}e.CompressibleAsyncDataTree=D;function I(T){return typeof T=="boolean"?T?1:0:s.isFilterResult(T)?s.getVisibleState(T.visibility):s.getVisibleState(T)}}),define(Q[439],J([4,5]),function($,e){return $.create("vs/base/common/actions",e)}),define(Q[49],J([0,1,439,2,6]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class y extends k.Disposable{constructor(s,a="",u="",c=!0,d){super();this._onDidChange=this._register(new M.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=s,this._label=a,this._cssClass=u,this._enabled=c,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(s){this._setLabel(s)}_setLabel(s){this._label!==s&&(this._label=s,this._onDidChange.fire({label:s}))}get tooltip(){return this._tooltip||""}set tooltip(s){this._setTooltip(s)}_setTooltip(s){this._tooltip!==s&&(this._tooltip=s,this._onDidChange.fire({tooltip:s}))}get class(){return this._cssClass}set class(s){this._setClass(s)}_setClass(s){this._cssClass!==s&&(this._cssClass=s,this._onDidChange.fire({class:s}))}get enabled(){return this._enabled}set enabled(s){this._setEnabled(s)}_setEnabled(s){this._enabled!==s&&(this._enabled=s,this._onDidChange.fire({enabled:s}))}get checked(){return this._checked}set checked(s){this._setChecked(s)}_setChecked(s){this._checked!==s&&(this._checked=s,this._onDidChange.fire({checked:s}))}run(s,a){return Ie(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(s))})}}e.Action=y;class w extends k.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new M.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new M.Emitter),this.onDidRun=this._onDidRun.event}run(s,a){return Ie(this,void 0,void 0,function*(){if(!s.enabled)return;this._onBeforeRun.fire({action:s});let u;try{yield this.runAction(s,a)}catch(c){u=c}this._onDidRun.fire({action:s,error:u})})}runAction(s,a){return Ie(this,void 0,void 0,function*(){yield s.run(a)})}}e.ActionRunner=w;class p extends y{constructor(s){super(p.ID,s,s?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=p,p.ID="vs.actions.separator";class v{constructor(s,a,u,c){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=s,this.label=a,this.class=c,this._actions=u}get actions(){return this._actions}dispose(){}run(){return Ie(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class i extends y{constructor(){super(i.ID,S.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(Q[115],J([0,1,17,427,2,49,20,61,151,38,7,205]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class s extends M.Disposable{constructor(c,d,r={}){super();this.options=r,this._context=c||this,this._action=d,d instanceof y.Action&&this._register(d.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new y.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const d=this.element=c;this._register(p.Gesture.addTarget(c));const r=this.options&&this.options.draggable;r&&(c.draggable=!0,i.isFirefox&&this._register(_.addDisposableListener(c,_.EventType.DRAG_START,n=>{var o;return(o=n.dataTransfer)===null||o===void 0?void 0:o.setData(v.DataTransfers.TEXT,this._action.label)}))),this._register(_.addDisposableListener(d,p.EventType.Tap,n=>this.onClick(n))),this._register(_.addDisposableListener(d,_.EventType.MOUSE_DOWN,n=>{r||_.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&d.classList.add("active")})),S.isMacintosh&&this._register(_.addDisposableListener(d,_.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(_.addDisposableListener(d,_.EventType.CLICK,n=>{_.EventHelper.stop(n,!0),this.options&&this.options.isMenu||S.setImmediate(()=>this.onClick(n))})),this._register(_.addDisposableListener(d,_.EventType.DBLCLICK,n=>{_.EventHelper.stop(n,!0)})),[_.EventType.MOUSE_UP,_.EventType.MOUSE_OUT].forEach(n=>{this._register(_.addDisposableListener(d,n,o=>{_.EventHelper.stop(o),d.classList.remove("active")}))})}onClick(c){var d;_.EventHelper.stop(c,!0);const r=w.isUndefinedOrNull(this._context)?((d=this.options)===null||d===void 0?void 0:d.useEventAsContext)?c:void 0:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=s;class a extends s{constructor(c,d,r={}){super(c,d,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=_.append(this.element,_.$("a.action-label"))),this.label&&(this._action.id===y.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(_.append(this.element,_.$("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=k.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=a}),define(Q[84],J([0,1,2,49,7,20,55,6,115,205]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends S.Disposable{constructor(s,a={}){var u,c,d,r,n,o;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new p.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=a,this._context=(u=a.context)!==null&&u!==void 0?u:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(r=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&r!==void 0?r:!1,keys:(o=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&o!==void 0?o:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new k.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",a.animated!==!1&&this.domNode.classList.add("animated");let t,l;switch(this._orientation){case 0:t=[15],l=[17];break;case 1:t=[16],l=[18],this.domNode.className+=" vertical";break}this._register(M.addDisposableListener(this.domNode,M.EventType.KEY_DOWN,h=>{const m=new w.StandardKeyboardEvent(h);let C=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(m.equals(t[0])||m.equals(t[1]))?C=this.focusPrevious():l&&(m.equals(l[0])||m.equals(l[1]))?C=this.focusNext():m.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():m.equals(14)?C=this.focusFirst():m.equals(13)?C=this.focusLast():m.equals(2)&&g instanceof v.BaseActionViewItem&&g.trapsArrowNavigation?C=this.focusNext():this.isTriggerKeyEvent(m)?this._triggerKeys.keyDown?this.doTrigger(m):this.triggerKeyDown=!0:C=!1,C&&(m.preventDefault(),m.stopPropagation())})),this._register(M.addDisposableListener(this.domNode,M.EventType.KEY_UP,h=>{const m=new w.StandardKeyboardEvent(h);this.isTriggerKeyEvent(m)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(m)),m.preventDefault(),m.stopPropagation()):(m.equals(2)||m.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(M.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(M.getActiveElement()===this.domNode||!M.isAncestor(M.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}isTriggerKeyEvent(s){let a=!1;return this._triggerKeys.keys.forEach(u=>{a=a||s.equals(u)}),a}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const a=this.actionsList.children[s];if(M.isAncestor(M.getActiveElement(),a)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(a=>a.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){s&&(this._actionRunner=s,this.viewItems.forEach(a=>a.actionRunner=s))}getContainer(){return this.domNode}push(s,a={}){const u=Array.isArray(s)?s:[s];let c=y.isNumber(a.index)?a.index:null;u.forEach(d=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(M.addDisposableListener(r,M.EventType.CONTEXT_MENU,o=>{M.EventHelper.stop(o,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(d)),n||(n=new v.ActionViewItem(this.context,d,a)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(r),this.focusable&&n instanceof v.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(n),this._actionIds.push(d.id)):(this.actionsList.insertBefore(r,this.actionsList.children[c]),this.viewItems.splice(c,0,n),this._actionIds.splice(c,0,d.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){S.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],M.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(s){let a=!1,u;if(s===void 0?a=!0:typeof s=="number"?u=s:typeof s=="boolean"&&(a=s),a&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus()}else u!==void 0&&(this.focusedItem=u),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let a;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=s,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=s,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(!0),!0}updateFocus(s,a){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:a});for(let u=0;u<this.viewItems.length;u++){const c=this.viewItems[u],d=c;if(u===this.focusedItem){let r=!0;y.isFunction(d.focus)||(r=!1),this.options.focusOnlyEnabledItems&&y.isFunction(c.isEnabled)&&!c.isEnabled()&&(r=!1),r?d.focus(s):this.actionsList.focus({preventScroll:a})}else y.isFunction(d.blur)&&d.blur()}}doTrigger(s){if(typeof this.focusedItem=="undefined")return;const a=this.viewItems[this.focusedItem];if(a instanceof v.BaseActionViewItem){const u=a._context===null||a._context===void 0?s:a._context;this.run(a._action,u)}}run(s,a){return Ie(this,void 0,void 0,function*(){yield this._actionRunner.run(s,a)})}dispose(){S.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(Q[440],J([0,1,61,49,7,55,6,208]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class p extends k.ActionRunner{constructor(_,s){super();this._onDidChangeVisibility=new w.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=M.append(_,M.$(".monaco-dropdown")),this._label=M.append(this._element,M.$(".dropdown-label"));let a=s.labelRenderer;a||(a=c=>(c.textContent=s.label||"",null));for(const c of[M.EventType.CLICK,M.EventType.MOUSE_DOWN,S.EventType.Tap])this._register(M.addDisposableListener(this.element,c,d=>M.EventHelper.stop(d,!0)));for(const c of[M.EventType.MOUSE_DOWN,S.EventType.Tap])this._register(M.addDisposableListener(this._label,c,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register(M.addDisposableListener(this._label,M.EventType.KEY_UP,c=>{const d=new y.StandardKeyboardEvent(c);(d.equals(3)||d.equals(10))&&(M.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const u=a(this._label);u&&this._register(u),this._register(S.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=p;class v extends p{constructor(_,s){super(_,s);this._actions=[],this._contextMenuProvider=s.contextMenuProvider,this.actions=s.actions||[],this.actionProvider=s.actionProvider,this.menuClassName=s.menuClassName||"",this.menuAsChild=!!s.menuAsChild}set menuOptions(_){this._menuOptions=_}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(_){this._actions=_}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:_=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(_):void 0,getKeyBinding:_=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(_):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(Q[441],J([0,1,7,6,115,440,208]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends M.BaseActionViewItem{constructor(v,i,_,s=Object.create(null)){super(null,v,s);this.actionItem=null,this._onDidChangeVisibility=this._register(new k.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=_,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const i=a=>{this.element=S.append(a,S.$("a.action-label"));let u=[];return typeof this.options.classNames=="string"?u=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(u=this.options.classNames),u.find(c=>c==="icon")||u.push("codicon"),this.element.classList.add(...u),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},_=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:_?this.menuActionsOrProvider:void 0,actionProvider:_?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new y.DropdownMenu(v,s)),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var u;(u=this.element)===null||u===void 0||u.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,i;const _=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",_),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",_)}}e.DropdownMenuActionViewItem=w}),define(Q[179],J([0,1,433,7,158,42,84,6,51,29,41,285,62,54,311]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=k.$,d={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class r extends v.Widget{constructor(t,l,h){var m;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new p.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new p.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=h||Object.create(null),_.mixin(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(m=this.options.tooltip)!==null&&m!==void 0?m:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=k.append(t,c(".monaco-inputbox.idle"));let C=this.options.flexibleHeight?"textarea":"input",g=k.append(this.element,c(".ibwrapper"));if(this.input=k.append(g,c(C+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=k.append(g,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new a.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),k.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(b=>this.input.scrollTop=b.scrollTop));const f=p.Event.filter(u.domEvent(document,"selectionchange"),()=>{const b=document.getSelection();return(b==null?void 0:b.anchorNode)===g});this._register(f(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new w.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:k.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return k.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let l=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,m=parseFloat(this.mirror.style.paddingRight||"")||0;l=h+m}this.input.style.width=t-l+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const t=this.cachedContentHeight,l=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:l}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(t,l){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t,l=()=>t.style.width=k.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:m=>{if(!this.message)return null;t=k.append(m,c(".monaco-inputbox-container")),l();const C={inline:!0,className:"monaco-inputbox-message"},g=this.message.formatContent?M.renderFormattedText(this.message.content,C):M.renderText(this.message.content,C);g.classList.add(this.classForType(this.message.type));const f=this.stylesForType(this.message.type);return g.style.backgroundColor=f.background?f.background.toString():"",g.style.color=f.foreground?f.foreground.toString():"",g.style.border=f.border?`1px solid ${f.border}`:"",k.append(t,g),null},onHide:()=>{this.state="closed"},layout:l});let h;this.message.type===3?h=S.localize(0,null,this.message.content):this.message.type===2?h=S.localize(1,null,this.message.content):h=S.localize(2,null,this.message.content),y.alert(h),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";t+h?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",l=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=k.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const l=this.inputElement,h=l.selectionStart,m=l.selectionEnd,C=l.value;h!==null&&m!==null&&(this.value=C.substr(0,h)+t+C.substr(m),l.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class n extends r{constructor(t,l,h){super(t,l,h);this.history=new s.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,y.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,y.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(Q[442],J([0,1,428,7,179,51,6,235,209]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=S.localize(0,null);class i extends y.Widget{constructor(s,a,u,c){super();this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new w.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new w.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new w.Emitter),this._onKeyUp=this._register(new w.Emitter),this._onCaseSensitiveKeyDown=this._register(new w.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new w.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=a,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||v,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const d=c.appendCaseSensitiveLabel||"",r=c.appendWholeWordsLabel||"",n=c.appendRegexLabel||"",o=c.history||[],t=!!c.flexibleHeight,l=!!c.flexibleWidth,h=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,flexibleHeight:t,flexibleWidth:l,flexibleMaxHeight:h})),this.regex=this._register(new p.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new p.WholeWordsCheckbox({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new p.CaseSensitiveCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let f=m.indexOf(document.activeElement);if(f>=0){let b=-1;g.equals(17)?b=(f+1)%m.length:g.equals(15)&&(f===0?b=m.length-1:b=f-1),g.equals(9)?(m[f].blur(),this.inputBox.focus()):b>=0&&m[b].focus(),k.EventHelper.stop(g,!0)}}});let C=document.createElement("div");C.className="controls",C.style.display=this._showOptionButtons?"block":"none",C.appendChild(this.caseSensitive.domNode),C.appendChild(this.wholeWords.domNode),C.appendChild(this.regex.domNode),this.domNode.appendChild(C),s&&s.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(s){this.fixFocusOnOptionClickEnabled=s}setEnabled(s){s?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(s){this.inputBox.value!==s&&(this.inputBox.value=s)}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(s),this.wholeWords.style(s),this.caseSensitive.style(s);const a={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(a)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(s){this.caseSensitive.checked=s}getWholeWords(){return this.wholeWords.checked}setWholeWords(s){this.wholeWords.checked=s}getRegex(){return this.regex.checked}setRegex(s){this.regex.checked=s,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(Q[443],J([0,1,430,7,179,51,6,162,27,209]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=S.localize(0,null),_=S.localize(1,null);class s extends p.Checkbox{constructor(c){super({icon:v.Codicon.preserveCase,title:_+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=s;class a extends y.Widget{constructor(c,d,r,n){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new w.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new w.Emitter),this._onInput=this._register(new w.Emitter),this._onKeyUp=this._register(new w.Emitter),this._onPreserveCaseKeyDown=this._register(new w.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.appendPreserveCaseLabel||"",t=n.history||[],l=!!n.flexibleHeight,h=!!n.flexibleWidth,m=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:l,flexibleWidth:h,flexibleMaxHeight:m})),this.preserveCase=this._register(new s({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(f=>{this._onPreserveCaseKeyDown.fire(f)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let C=[this.preserveCase.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){let b=C.indexOf(document.activeElement);if(b>=0){let L=-1;f.equals(17)?L=(b+1)%C.length:f.equals(15)&&(b===0?L=C.length-1:L=b-1),f.equals(9)?(C[b].blur(),this.inputBox.focus()):L>=0&&C[L].focus(),k.EventHelper.stop(f,!0)}}});let g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=a}),define(Q[444],J([0,1,435,8,49,84,7,55,15,2,62,206,17,27,115,127,38,56,103]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const t=u.registerCodicon("menu-selection",u.Codicon.check),l=u.registerCodicon("menu-submenu",u.Codicon.chevronRight);var h;(function(N){N[N.Right=0]="Right",N[N.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class m extends y.ActionBar{constructor(D,I,T={}){D.classList.add("monaco-menu-container"),D.setAttribute("role","presentation");const A=document.createElement("div");A.classList.add("monaco-menu"),A.setAttribute("role","presentation"),super(A,{orientation:1,actionViewItemProvider:P=>this.doGetActionViewItem(P,T,R),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=A,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new i.DisposableStore),this.initializeStyleSheet(D),w.addDisposableListener(A,w.EventType.KEY_DOWN,P=>{new p.StandardKeyboardEvent(P).equals(2)&&P.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add(w.addDisposableListener(A,w.EventType.KEY_DOWN,P=>{const F=P.key.toLocaleLowerCase();if(this.mnemonics.has(F)){w.EventHelper.stop(P,!0);const E=this.mnemonics.get(F);if(E.length===1&&(E[0]instanceof g&&E[0].container&&this.focusItemByElement(E[0].container),E[0].onClick(P)),E.length>1){const x=E.shift();x&&x.container&&(this.focusItemByElement(x.container),E.push(x)),this.mnemonics.set(F,E)}}})),a.isLinux&&this._register(w.addDisposableListener(A,w.EventType.KEY_DOWN,P=>{const F=new p.StandardKeyboardEvent(P);F.equals(14)||F.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),w.EventHelper.stop(P,!0)):(F.equals(13)||F.equals(12))&&(this.focusedItem=0,this.focusPrevious(),w.EventHelper.stop(P,!0))})),this._register(w.addDisposableListener(this.domNode,w.EventType.MOUSE_OUT,P=>{let F=P.relatedTarget;w.isAncestor(F,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),P.stopPropagation())})),this._register(w.addDisposableListener(this.actionsList,w.EventType.MOUSE_OVER,P=>{let F=P.target;if(!(!F||!w.isAncestor(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const E=this.focusedItem;this.setFocusedItem(F),E!==this.focusedItem&&this.updateFocus()}}}));let R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new _.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const O=this.scrollableElement.getDomNode();O.style.position="",this._register(w.addDisposableListener(O,w.EventType.MOUSE_UP,P=>{P.preventDefault()})),A.style.maxHeight=`${Math.max(10,window.innerHeight-D.getBoundingClientRect().top-35)}px`,I=I.filter(P=>{var F;return((F=T.submenuIds)===null||F===void 0?void 0:F.has(P.id))?(console.warn(`Found submenu cycle: ${P.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),D.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(P=>!(P instanceof f)).forEach((P,F,E)=>{P.updatePositionInSet(F+1,E.length)})}initializeStyleSheet(D){w.isInShadowDOM(D)?(this.styleSheet=w.createStyleSheet(D),this.styleSheet.textContent=L):(m.globalStyleSheet||(m.globalStyleSheet=w.createStyleSheet(),m.globalStyleSheet.textContent=L),this.styleSheet=m.globalStyleSheet)}style(D){const I=this.getContainer(),T=D.foregroundColor?`${D.foregroundColor}`:"",A=D.backgroundColor?`${D.backgroundColor}`:"",R=D.borderColor?`1px solid ${D.borderColor}`:"",O=D.shadowColor?`0 2px 4px ${D.shadowColor}`:"";I.style.border=R,this.domNode.style.color=T,this.domNode.style.backgroundColor=A,I.style.boxShadow=O,this.viewItems&&this.viewItems.forEach(P=>{(P instanceof C||P instanceof f)&&P.style(D)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(D){const I=this.focusedItem;this.setFocusedItem(D),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(D){for(let I=0;I<this.actionsList.children.length;I++){let T=this.actionsList.children[I];if(D===T){this.focusedItem=I;break}}}updateFocus(D){super.updateFocus(D,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(D,I,T){if(D instanceof M.Separator)return new f(I.context,D,{icon:!0});if(D instanceof M.SubmenuAction){const A=new g(D,D.actions,T,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],D.id])}));if(I.enableMnemonics){const R=A.getMnemonic();if(R&&A.isEnabled()){let O=[];this.mnemonics.has(R)&&(O=this.mnemonics.get(R)),O.push(A),this.mnemonics.set(R,O)}}return A}else{const A={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const O=I.getKeyBinding(D);if(O){const P=O.getLabel();P&&(A.keybinding=P)}}const R=new C(I.context,D,A);if(I.enableMnemonics){const O=R.getMnemonic();if(O&&R.isEnabled()){let P=[];this.mnemonics.has(O)&&(P=this.mnemonics.get(O)),P.push(R),this.mnemonics.set(O,P)}}return R}}}e.Menu=m;class C extends c.BaseActionViewItem{constructor(D,I,T={}){if(T.isMenu=!0,super(I,I,T),this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){let A=this.getAction().label;if(A){let R=e.MENU_MNEMONIC_REGEX.exec(A);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new v.RunOnceScheduler(()=>{!this.element||(this._register(w.addDisposableListener(this.element,w.EventType.MOUSE_UP,A=>{if(w.EventHelper.stop(A,!0),r.isFirefox){if(new n.StandardMouseEvent(A).rightButton)return;this.onClick(A)}else setTimeout(()=>{this.onClick(A)},0)})),this._register(w.addDisposableListener(this.element,w.EventType.CONTEXT_MENU,A=>{w.EventHelper.stop(A,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(D){super.render(D),!!this.element&&(this.container=D,this.item=w.append(this.element,w.$("a.action-menu-item")),this._action.id===M.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=w.append(this.item,w.$("span.menu-item-check"+t.cssSelector)),this.check.setAttribute("role","none"),this.label=w.append(this.item,w.$("span.action-label")),this.options.label&&this.options.keybinding&&(w.append(this.item,w.$("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(D,I){this.item&&(this.item.setAttribute("aria-posinset",`${D}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){if(!!this.label&&this.options.label){w.clearNode(this.label);let D=o.stripIcons(this.getAction().label);if(D){const I=b(D);this.options.enableMnemonics||(D=I),this.label.setAttribute("aria-label",I.replace(/&&/g,"&"));const T=e.MENU_MNEMONIC_REGEX.exec(D);if(T){D=k.escape(D),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(D);for(;A&&A[1];)A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(D);const R=O=>O.replace(/&amp;&amp;/g,"&amp;");A?this.label.append(k.ltrim(R(D.substr(0,A.index))," "),w.$("u",{"aria-hidden":"true"},A[3]),k.rtrim(R(D.substr(A.index+A[0].length))," ")):this.label.innerText=R(D).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(T[1]?T[1]:T[3]).toLocaleLowerCase())}else this.label.innerText=D.replace(/&&/g,"&").trim()}}}updateTooltip(){let D=null;this.getAction().tooltip?D=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(D=this.getAction().label,this.options.keybinding&&(D=S.localize(0,null,D,this.options.keybinding))),D&&this.item&&(this.item.title=D)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const D=this.element&&this.element.classList.contains("focused"),I=D&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=D&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,A=D&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=I?I.toString():"",this.item.style.backgroundColor=T?T.toString():""),this.check&&(this.check.style.color=I?I.toString():""),this.container&&(this.container.style.border=A)}style(D){this.menuStyle=D,this.applyStyle()}}class g extends C{constructor(D,I,T,A){super(D,D,A);this.submenuActions=I,this.parentData=T,this.submenuOptions=A,this.mysubmenu=null,this.submenuDisposables=this._register(new i.DisposableStore),this.mouseOver=!1,this.expandDirection=A&&A.expandDirection!==void 0?A.expandDirection:h.Right,this.showScheduler=new v.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new v.RunOnceScheduler(()=>{this.element&&!w.isAncestor(w.getActiveElement(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(D){super.render(D),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=w.append(this.item,w.$("span.submenu-indicator"+l.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(w.addDisposableListener(this.element,w.EventType.KEY_UP,I=>{let T=new p.StandardKeyboardEvent(I);(T.equals(17)||T.equals(3))&&(w.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register(w.addDisposableListener(this.element,w.EventType.KEY_DOWN,I=>{let T=new p.StandardKeyboardEvent(I);w.getActiveElement()===this.item&&(T.equals(17)||T.equals(3))&&w.EventHelper.stop(I,!0)})),this._register(w.addDisposableListener(this.element,w.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(w.addDisposableListener(this.element,w.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register(w.addDisposableListener(this.element,w.EventType.FOCUS_OUT,I=>{this.element&&!w.isAncestor(w.getActiveElement(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(D){w.EventHelper.stop(D,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(D){if(this.parentData.submenu&&(D||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(I){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(D,I,T,A){const R={top:0,left:0};return R.left=s.layout(D.width,I.width,{position:A===h.Right?0:1,offset:T.left,size:T.width}),R.left>=T.left&&R.left<T.left+T.width&&(T.left+10+I.width<=D.width&&(R.left=T.left+10),T.top+=10,T.height=0),R.top=s.layout(D.height,I.height,{position:0,offset:T.top,size:0}),R.top+I.height===T.top&&R.top+T.height+I.height<=D.height&&(R.top+=T.height),R}createSubmenu(D=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=w.append(this.element,w.$("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new m(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new M.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const A=this.element.getBoundingClientRect(),R={top:A.top-T,left:A.left,height:A.height+2*T,width:A.width},O=this.submenuContainer.getBoundingClientRect(),{top:P,left:F}=this.calculateSubmenuMenuLayout(new w.Dimension(window.innerWidth,window.innerHeight),w.Dimension.lift(O),R,this.expandDirection);this.submenuContainer.style.left=`${F}px`,this.submenuContainer.style.top=`${P}px`,this.submenuDisposables.add(w.addDisposableListener(this.submenuContainer,w.EventType.KEY_UP,E=>{new p.StandardKeyboardEvent(E).equals(15)&&(w.EventHelper.stop(E,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(w.addDisposableListener(this.submenuContainer,w.EventType.KEY_DOWN,E=>{new p.StandardKeyboardEvent(E).equals(15)&&w.EventHelper.stop(E,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(D),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(D){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",D))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I?`${I}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class f extends c.ActionViewItem{style(D){this.label&&(this.label.style.borderBottomColor=D.separatorColor?`${D.separatorColor}`:"")}}function b(N){const D=e.MENU_MNEMONIC_REGEX,I=D.exec(N);if(!I)return N;const T=!I[1];return N.replace(D,T?"$2$3":"").trim()}e.cleanMnemonic=b;let L=`
.monaco-menu {
	font-size: 13px;

}

${d.formatRule(t)}
${d.formatRule(l)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(Q[445],J([0,1,7,179,2,55,74,56,129]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=S.$;class i extends M.Disposable{constructor(s){super();this.parent=s,this.onKeyDown=a=>S.addDisposableListener(this.inputBox.inputElement,S.EventType.KEY_DOWN,u=>{a(new y.StandardKeyboardEvent(u))}),this.onMouseDown=a=>S.addDisposableListener(this.inputBox.inputElement,S.EventType.MOUSE_DOWN,u=>{a(new p.StandardMouseEvent(u))}),this.onDidChange=a=>this.inputBox.onDidChange(a),this.container=S.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new k.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(s){this.inputBox.value=s}select(s=null){this.inputBox.select(s)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.inputBox.setPlaceHolder(s)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(s){this.inputBox.setAriaLabel(s)}get password(){return this.inputBox.inputElement.type==="password"}set password(s){this.inputBox.inputElement.type=s?"password":"text"}setAttribute(s,a){this.inputBox.inputElement.setAttribute(s,a)}removeAttribute(s){this.inputBox.inputElement.removeAttribute(s)}showDecoration(s){s===w.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:s===w.default.Info?1:s===w.default.Warning?2:3,content:""})}stylesForType(s){return this.inputBox.stylesForType(s===w.default.Info?1:s===w.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(s){this.inputBox.style(s)}}e.QuickInputBox=i}),define(Q[446],J([4,5]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(Q[447],J([0,1,446,20,19]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function y(i,_){return _&&(i.stack||i.stacktrace)?S.localize(0,null,p(i),w(i.stack)||w(i.stacktrace)):p(i)}function w(i){return Array.isArray(i)?i.join(`
`):i}function p(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?S.localize(1,null,i.message):i.message||S.localize(2,null)}function v(i=null,_=!1){if(!i)return S.localize(3,null);if(Array.isArray(i)){const s=M.coalesce(i),a=v(s[0],_);return s.length>1?S.localize(4,null,a,s.length):a}if(k.isString(i))return i;if(i.detail){const s=i.detail;if(s.error)return y(s.error,_);if(s.exception)return y(s.exception,_)}return i.stack?y(i,_):i.message?i.message:S.localize(5,null)}e.toErrorMessage=v}),define(Q[448],J([4,5]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(Q[180],J([0,1,448]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(w,p,v=p){this.modifierLabels=[null],this.modifierLabels[2]=w,this.modifierLabels[1]=p,this.modifierLabels[3]=v}toLabel(w,p,v){if(p.length===0)return null;const i=[];for(let _=0,s=p.length;_<s;_++){const a=p[_],u=v(a);if(u===null)return null;i[_]=M(a,u,this.modifierLabels[w])}return i.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:S.localize(0,null),shiftKey:S.localize(1,null),altKey:S.localize(2,null),metaKey:S.localize(3,null),separator:"+"},{ctrlKey:S.localize(4,null),shiftKey:S.localize(5,null),altKey:S.localize(6,null),metaKey:S.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:S.localize(8,null),shiftKey:S.localize(9,null),altKey:S.localize(10,null),metaKey:S.localize(11,null),separator:"+"},{ctrlKey:S.localize(12,null),shiftKey:S.localize(13,null),altKey:S.localize(14,null),metaKey:S.localize(15,null),separator:"+"},{ctrlKey:S.localize(16,null),shiftKey:S.localize(17,null),altKey:S.localize(18,null),metaKey:S.localize(19,null),separator:"+"});function M(y,w,p){if(w===null)return"";const v=[];return y.ctrlKey&&v.push(p.ctrlKey),y.shiftKey&&v.push(p.shiftKey),y.altKey&&v.push(p.altKey),y.metaKey&&v.push(p.metaKey),w!==""&&v.push(w),v.join(p.separator)}}),define(Q[449],J([0,1,41,180,7,434,312]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const w=M.$;class p{constructor(i,_,s){this.os=_,this.keyElements=new Set,this.options=s||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=M.append(i,w(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,_){this.didEverRender&&this.keybinding===i&&p.areSame(this.matches,_)||(this.keybinding=i,this.matches=_,this.render())}render(){if(this.clear(),this.keybinding){let[i,_]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),_&&(M.append(this.domNode,w("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,_,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){M.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,_,s){const a=k.UILabelProvider.modifierLabels[this.os];_.ctrlKey&&this.renderKey(i,a.ctrlKey,Boolean(s==null?void 0:s.ctrlKey),a.separator),_.shiftKey&&this.renderKey(i,a.shiftKey,Boolean(s==null?void 0:s.shiftKey),a.separator),_.altKey&&this.renderKey(i,a.altKey,Boolean(s==null?void 0:s.altKey),a.separator),_.metaKey&&this.renderKey(i,a.metaKey,Boolean(s==null?void 0:s.metaKey),a.separator);const u=_.keyLabel;u&&this.renderKey(i,u,Boolean(s==null?void 0:s.keyCode),"")}renderKey(i,_,s,a){M.append(i,this.createKeyElement(_,s?".highlight":"")),a&&M.append(i,w("span.monaco-keybinding-key-separator",void 0,a))}renderUnbound(i){M.append(i,this.createKeyElement(y.localize(0,null)))}createKeyElement(i,_=""){const s=w("span.monaco-keybinding-key"+_,void 0,i);return this.keyElements.add(s),s}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const _ of this.keyElements)this.labelBackground&&(_.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(_.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(_.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(_.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,_){return i===_||!i&&!_?!0:!!i&&!!_&&S.equals(i.firstPart,_.firstPart)&&S.equals(i.chordPart,_.chordPart)}}e.KeybindingLabel=p}),define(Q[450],J([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(Q[451],J([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(Q[452],J([0,1,7,2,103,289,6,55,177,159,89,19,17,84,49,212,20,449,451,27,129]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const l=S.$;class h{constructor(D){this.hidden=!1,this._onChecked=new w.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,D)}get checked(){return!!this._checked}set checked(D){D!==this._checked&&(this._checked=D,this._onChecked.fire(D))}dispose(){this._onChecked.dispose()}}class m{get templateId(){return m.ID}renderTemplate(D){const I=Object.create(null);I.toDisposeElement=[],I.toDisposeTemplate=[],I.entry=S.append(D,l(".quick-input-list-entry"));const T=S.append(I.entry,l("label.quick-input-list-label"));I.toDisposeTemplate.push(S.addStandardDisposableListener(T,S.EventType.CLICK,E=>{I.checkbox.offsetParent||E.preventDefault()})),I.checkbox=S.append(T,l("input.quick-input-list-checkbox")),I.checkbox.type="checkbox",I.toDisposeTemplate.push(S.addStandardDisposableListener(I.checkbox,S.EventType.CHANGE,E=>{I.element.checked=I.checkbox.checked}));const A=S.append(T,l(".quick-input-list-rows")),R=S.append(A,l(".quick-input-list-row")),O=S.append(A,l(".quick-input-list-row"));I.label=new v.IconLabel(R,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const P=S.append(R,l(".quick-input-list-entry-keybinding"));I.keybinding=new n.KeybindingLabel(P,a.OS);const F=S.append(O,l(".quick-input-list-label-meta"));return I.detail=new i.HighlightedLabel(F,!0),I.separator=S.append(I.entry,l(".quick-input-list-separator")),I.actionBar=new u.ActionBar(I.entry),I.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),I.toDisposeTemplate.push(I.actionBar),I}renderElement(D,I,T){T.toDisposeElement=k.dispose(T.toDisposeElement),T.element=D,T.checkbox.checked=D.checked,T.toDisposeElement.push(D.onChecked(E=>T.checkbox.checked=E));const{labelHighlights:A,descriptionHighlights:R,detailHighlights:O}=D,P=Object.create(null);P.matches=A||[],P.descriptionTitle=D.saneDescription,P.descriptionMatches=R||[],P.extraClasses=D.item.iconClasses,P.italic=D.item.italic,P.strikethrough=D.item.strikethrough,T.label.setLabel(D.saneLabel,D.saneDescription,P),T.keybinding.set(D.item.keybinding),T.detail.set(D.saneDetail,O),D.separator&&D.separator.label?(T.separator.textContent=D.separator.label,T.separator.style.display=""):T.separator.style.display="none",T.entry.classList.toggle("quick-input-list-separator-border",!!D.separator),T.actionBar.clear();const F=D.item.buttons;F&&F.length?(T.actionBar.push(F.map((E,x)=>{let H=E.iconClass||(E.iconPath?d.getIconClass(E.iconPath):void 0);E.alwaysVisible&&(H=H?`${H} always-visible`:"always-visible");const K=new c.Action(`id-${x}`,"",H,!0,()=>Ie(this,void 0,void 0,function*(){D.fireButtonTriggered({button:E,item:D.item})}));return K.tooltip=E.tooltip||"",K}),{icon:!0,label:!1}),T.entry.classList.add("has-actions")):T.entry.classList.remove("has-actions")}disposeElement(D,I,T){T.toDisposeElement=k.dispose(T.toDisposeElement)}disposeTemplate(D){D.toDisposeElement=k.dispose(D.toDisposeElement),D.toDisposeTemplate=k.dispose(D.toDisposeTemplate)}}m.ID="listelement";class C{getHeight(D){return D.saneDetail?44:22}getTemplateId(D){return m.ID}}var g;(function(N){N[N.First=1]="First",N[N.Second=2]="Second",N[N.Last=3]="Last",N[N.Next=4]="Next",N[N.Previous=5]="Previous",N[N.NextPage=6]="NextPage",N[N.PreviousPage=7]="PreviousPage"})(g=e.QuickInputListFocus||(e.QuickInputListFocus={}));class f{constructor(D,I,T){this.parent=D,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new w.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new w.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new w.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new w.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new w.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new w.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new w.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=I,this.container=S.append(this.parent,l(".quick-input-list"));const A=new C,R=new L;this.list=T.createList("QuickInput",this.container,A,[new m],{identityProvider:{getId:O=>O.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:R}),this.list.getHTMLElement().id=I,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(O=>{const P=new p.StandardKeyboardEvent(O);switch(P.keyCode){case 10:this.toggleCheckbox();break;case 31:(a.isMacintosh?O.metaKey:O.ctrlKey)&&this.list.setFocus(s.range(this.list.length));break;case 16:const F=this.list.getFocus();F.length===1&&F[0]===0&&this._onLeave.fire();break;case 18:const E=this.list.getFocus();E.length===1&&E[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(P)})),this.disposables.push(this.list.onMouseDown(O=>{O.browserEvent.button!==2&&O.browserEvent.preventDefault()})),this.disposables.push(S.addDisposableListener(this.container,S.EventType.CLICK,O=>{(O.x||O.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(O=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(O=>{typeof O.index=="number"&&(O.browserEvent.preventDefault(),this.list.setSelection([O.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return w.Event.map(this.list.onDidChangeFocus,D=>D.elements.map(I=>I.item))}get onDidChangeSelection(){return w.Event.map(this.list.onDidChangeSelection,D=>({items:D.elements.map(I=>I.item),event:D.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(D,I=!0){for(let T=0,A=D.length;T<A;T++){const R=D[T];if(!R.hidden)if(R.checked)I=!0;else return!1}return I}getCheckedCount(){let D=0;const I=this.elements;for(let T=0,A=I.length;T<A;T++)I[T].checked&&D++;return D}getVisibleCount(){let D=0;const I=this.elements;for(let T=0,A=I.length;T<A;T++)I[T].hidden||D++;return D}setAllVisibleChecked(D){try{this._fireCheckedEvents=!1,this.elements.forEach(I=>{I.hidden||(I.checked=D)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(D){this.elementDisposables=k.dispose(this.elementDisposables);const I=T=>this.fireButtonTriggered(T);this.inputElements=D,this.elements=D.reduce((T,A,R)=>{var O,P,F;if(A.type!=="separator"){const E=R&&D[R-1],x=A.label&&A.label.replace(/\r?\n/g," "),H=A.meta&&A.meta.replace(/\r?\n/g," "),K=A.description&&A.description.replace(/\r?\n/g," "),q=A.detail&&A.detail.replace(/\r?\n/g," "),G=A.ariaLabel||[x,K,q].map(ee=>t.getCodiconAriaLabel(ee)).filter(ee=>!!ee).join(", ");T.push(new h({index:R,item:A,saneLabel:x,saneMeta:H,saneAriaLabel:G,saneDescription:K,saneDetail:q,labelHighlights:(O=A.highlights)===null||O===void 0?void 0:O.label,descriptionHighlights:(P=A.highlights)===null||P===void 0?void 0:P.description,detailHighlights:(F=A.highlights)===null||F===void 0?void 0:F.detail,checked:!1,separator:E&&E.type==="separator"?E:void 0,fireButtonTriggered:I}))}return T},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(T=>T.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((T,A,R)=>(T.set(A.item,R),T),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(D=>D.item)}setFocusedElements(D){if(this.list.setFocus(D.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I))),D.length>0){const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(D){this.list.setSelection(D.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I)))}getCheckedElements(){return this.elements.filter(D=>D.checked).map(D=>D.item)}setCheckedElements(D){try{this._fireCheckedEvents=!1;const I=new Set;for(const T of D)I.add(T);for(const T of this.elements)T.checked=I.has(T.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(D){this.list.getHTMLElement().style.pointerEvents=D?"":"none"}focus(D){if(!this.list.length)return;switch(D===g.Next&&this.list.getFocus()[0]===this.list.length-1&&(D=g.First),D===g.Previous&&this.list.getFocus()[0]===0&&(D=g.Last),D===g.Second&&this.list.length<2&&(D=g.First),D){case g.First:this.list.focusFirst();break;case g.Second:this.list.focusNth(1);break;case g.Last:this.list.focusLast();break;case g.Next:this.list.focusNext();break;case g.Previous:this.list.focusPrevious();break;case g.NextPage:this.list.focusNextPage();break;case g.PreviousPage:this.list.focusPreviousPage();break}const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(D){this.list.getHTMLElement().style.maxHeight=D?`calc(${Math.floor(D/44)*44}px)`:"",this.list.layout()}filter(D){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(D=D.trim(),!D||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(T=>{T.labelHighlights=void 0,T.descriptionHighlights=void 0,T.detailHighlights=void 0,T.hidden=!1;const A=T.index&&this.inputElements[T.index-1];T.separator=A&&A.type==="separator"?A:void 0});else{let T;this.elements.forEach(A=>{const R=this.matchOnLabel?r.withNullAsUndefined(M.matchesFuzzyIconAware(D,M.parseLabelWithIcons(A.saneLabel))):void 0,O=this.matchOnDescription?r.withNullAsUndefined(M.matchesFuzzyIconAware(D,M.parseLabelWithIcons(A.saneDescription||""))):void 0,P=this.matchOnDetail?r.withNullAsUndefined(M.matchesFuzzyIconAware(D,M.parseLabelWithIcons(A.saneDetail||""))):void 0,F=this.matchOnMeta?r.withNullAsUndefined(M.matchesFuzzyIconAware(D,M.parseLabelWithIcons(A.saneMeta||""))):void 0;if(R||O||P||F?(A.labelHighlights=R,A.descriptionHighlights=O,A.detailHighlights=P,A.hidden=!1):(A.labelHighlights=void 0,A.descriptionHighlights=void 0,A.detailHighlights=void 0,A.hidden=!A.item.alwaysShow),A.separator=void 0,!this.sortByLabel){const E=A.index&&this.inputElements[A.index-1];T=E&&E.type==="separator"?E:T,T&&!A.hidden&&(A.separator=T,T=void 0)}})}const I=this.elements.filter(T=>!T.hidden);if(this.sortByLabel&&D){const T=D.toLowerCase();I.sort((A,R)=>b(A,R,T))}return this.elementsToIndexes=I.reduce((T,A,R)=>(T.set(A.item,R),T),new Map),this.list.splice(0,this.list.length,I),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(I.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const D=this.list.getFocusedElements(),I=this.allVisibleChecked(D);for(const T of D)T.checked=!I}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(D){this.container.style.display=D?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=k.dispose(this.elementDisposables),this.disposables=k.dispose(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(D){this._onButtonTriggered.fire(D)}style(D){this.list.style(D)}}Me([_.memoize],f.prototype,"onDidChangeFocus",null),Me([_.memoize],f.prototype,"onDidChangeSelection",null),e.QuickInputList=f;function b(N,D,I){const T=N.labelHighlights||[],A=D.labelHighlights||[];return T.length&&!A.length?-1:!T.length&&A.length?1:T.length===0&&A.length===0?0:y.compareAnything(N.saneLabel,D.saneLabel,I)}class L{getWidgetAriaLabel(){return o.localize(0,null)}getAriaLabel(D){return D.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(Q[453],J([0,1,204,7,23,452,445,55,450,207,315,6,303,2,74,84,49,19,15,212,27,104,129]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=k.$,g={iconClass:l.registerCodicon("quick-input-back",l.Codicon.arrowLeft).classNames,tooltip:v.localize(0,null),handle:-1};class f extends u.Disposable{constructor(D){super();this.ui=D,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=f.noPromptMessage,this._severity=c.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new s.Emitter),this.onDidHideEmitter=this._register(new s.Emitter),this.onDisposeEmitter=this._register(new s.Emitter),this.visibleDisposables=this._register(new u.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(D){this._title=D,this.update()}get description(){return this._description}set description(D){this._description=D,this.update()}get step(){return this._steps}set step(D){this._steps=D,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(D){this._totalSteps=D,this.update()}get enabled(){return this._enabled}set enabled(D){this._enabled=D,this.update()}get contextKey(){return this._contextKey}set contextKey(D){this._contextKey=D,this.update()}get busy(){return this._busy}set busy(D){this._busy=D,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(D){this._ignoreFocusOut=D,this.update()}get buttons(){return this._buttons}set buttons(D){this._buttons=D,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(D){this._validationMessage=D,this.update()}get severity(){return this._severity}set severity(D){this._severity=D,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(D=>{this.buttons.indexOf(D)!==-1&&this.onDidTriggerButtonEmitter.fire(D)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(D=S.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:D})}update(){if(!this.visible)return;const D=this.getTitle();D&&this.ui.title.textContent!==D?this.ui.title.textContent=D:!D&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const I=this.getDescription();if(this.ui.description1.textContent!==I&&(this.ui.description1.textContent=I),this.ui.description2.textContent!==I&&(this.ui.description2.textContent=I),this.busy&&!this.busyDelay&&(this.busyDelay=new o.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const A=this.buttons.filter(O=>O===g);this.ui.leftActionBar.push(A.map((O,P)=>{const F=new r.Action(`id-${P}`,"",O.iconClass||t.getIconClass(O.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(O)}));return F.tooltip=O.tooltip||"",F}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const R=this.buttons.filter(O=>O!==g);this.ui.rightActionBar.push(R.map((O,P)=>{const F=new r.Action(`id-${P}`,"",O.iconClass||t.getIconClass(O.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(O)}));return F.tooltip=O.tooltip||"",F}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const T=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==T&&(this._lastValidationMessage=T,k.reset(this.ui.message,...h.renderLabelWithIcons(T))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?v.localize(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(D){if(this.ui.inputBox.showDecoration(D),D!==c.default.Ignore){const I=this.ui.inputBox.stylesForType(D);this.ui.message.style.color=I.foreground?`${I.foreground}`:"",this.ui.message.style.backgroundColor=I.background?`${I.background}`:"",this.ui.message.style.border=I.border?`1px solid ${I.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}f.noPromptMessage=v.localize(1,null);class b extends f{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new s.Emitter),this.onWillAcceptEmitter=this._register(new s.Emitter),this.onDidAcceptEmitter=this._register(new s.Emitter),this.onDidCustomEmitter=this._register(new s.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?S.ItemActivation.NONE:S.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new s.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new s.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new s.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=D=>D,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(D){this._quickNavigate=D,this.update()}get value(){return this._value}set value(D){this._value!==D&&(this._value=D||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(D){this._ariaLabel=D,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(D){this._placeholder=D,this.update()}get items(){return this._items}set items(D){this._items=D,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(D){this._canSelectMany=D,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(D){this._canAcceptInBackground=D}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(D){this._matchOnDescription=D,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(D){this._matchOnDetail=D,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(D){this._matchOnLabel=D,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(D){this._sortByLabel=D,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(D){this._autoFocusOnList=D,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(D){this._itemActivation=D}get activeItems(){return this._activeItems}set activeItems(D){this._activeItems=D,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(D){this._selectedItems=D,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?S.NO_KEY_MODS:this.ui.keyMods}set valueSelection(D){this._valueSelection=D,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(D){this._customButton=D,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(D){this._customButtonLabel=D,this.update()}get customHover(){return this._customButtonHover}set customHover(D){this._customButtonHover=D,this.update()}get ok(){return this._ok}set ok(D){this._ok=D,this.update()}get hideInput(){return!!this._hideInput}set hideInput(D){this._hideInput=D,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(y.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(D=>{if(D===this.value)return;this._value=D,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(D)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(D=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(D=>{switch(D.keyCode){case 18:this.ui.list.focus(y.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(y.QuickInputListFocus.Previous):this.ui.list.focus(y.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 12:this.ui.list.focus(y.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 11:this.ui.list.focus(y.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(y.QuickInputListFocus.First),k.EventHelper.stop(D,!0));break;case 13:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(y.QuickInputListFocus.Last),k.EventHelper.stop(D,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(D=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&n.equals(D,this._activeItems,(I,T)=>I===T)||(this._activeItems=D,this.onDidChangeActiveEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:D,event:I})=>{if(this.canSelectMany){D.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&n.equals(D,this._selectedItems,(T,A)=>T===A)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D),D.length&&this.handleAccept(I instanceof MouseEvent&&I.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(D=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&n.equals(D,this._selectedItems,(I,T)=>I===T)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(D=>this.onDidTriggerItemButtonEmitter.fire(D))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(D){let I=!1;this.onWillAcceptEmitter.fire({veto:()=>I=!0}),I||this.onDidAcceptEmitter.fire({inBackground:D})}registerQuickNavigation(){return k.addDisposableListener(this.ui.container,k.EventType.KEY_UP,D=>{if(this.canSelectMany||!this._quickNavigate)return;const I=new p.StandardKeyboardEvent(D),T=I.keyCode;this._quickNavigate.keybindings.some(O=>{const[P,F]=O.getParts();return F?!1:P.shiftKey&&T===4?!(I.ctrlKey||I.altKey||I.metaKey):!!(P.altKey&&T===6||P.ctrlKey&&T===5||P.metaKey&&T===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const D=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",D&&!this.description);const I={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!D,progressBar:!D,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(I),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const T=this.ariaLabel||this.placeholder||b.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==T&&(this.ui.inputBox.ariaLabel=T),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case S.ItemActivation.NONE:this._itemActivation=S.ItemActivation.FIRST;break;case S.ItemActivation.SECOND:this.ui.list.focus(y.QuickInputListFocus.Second),this._itemActivation=S.ItemActivation.FIRST;break;case S.ItemActivation.LAST:this.ui.list.focus(y.QuickInputListFocus.Last),this._itemActivation=S.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),I.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(y.QuickInputListFocus.First))}}b.DEFAULT_ARIA_LABEL=v.localize(3,null);class L extends u.Disposable{constructor(D){super();this.options=D,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new s.Emitter),this.onDidCustomEmitter=this._register(new s.Emitter),this.onDidTriggerButtonEmitter=this._register(new s.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new s.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new s.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=D.idPrefix,this.parentElement=D.container,this.styles=D.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const D=I=>{this.keyMods.ctrlCmd=I.ctrlKey||I.metaKey,this.keyMods.alt=I.altKey};this._register(k.addDisposableListener(window,k.EventType.KEY_DOWN,D,!0)),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,D,!0)),this._register(k.addDisposableListener(window,k.EventType.MOUSE_DOWN,D,!0))}getUI(){if(this.ui)return this.ui;const D=k.append(this.parentElement,m(".quick-input-widget.show-file-icons"));D.tabIndex=-1,D.style.display="none";const I=k.createStyleSheet(D),T=k.append(D,m(".quick-input-titlebar")),A=this._register(new d.ActionBar(T));A.domNode.classList.add("quick-input-left-action-bar");const R=k.append(T,m(".quick-input-title")),O=this._register(new d.ActionBar(T));O.domNode.classList.add("quick-input-right-action-bar");const P=k.append(D,m(".quick-input-description")),F=k.append(D,m(".quick-input-header")),E=k.append(F,m("input.quick-input-check-all"));E.type="checkbox",this._register(k.addStandardDisposableListener(E,k.EventType.CHANGE,te=>{const se=E.checked;z.setAllVisibleChecked(se)})),this._register(k.addDisposableListener(E,k.EventType.CLICK,te=>{(te.x||te.y)&&q.setFocus()}));const x=k.append(F,m(".quick-input-description")),H=k.append(F,m(".quick-input-and-message")),K=k.append(H,m(".quick-input-filter")),q=this._register(new w.QuickInputBox(K));q.setAttribute("aria-describedby",`${this.idPrefix}message`);const G=k.append(K,m(".quick-input-visible-count"));G.setAttribute("aria-live","polite"),G.setAttribute("aria-atomic","true");const ee=new i.CountBadge(G,{countFormat:v.localize(4,null)}),ie=k.append(K,m(".quick-input-count"));ie.setAttribute("aria-live","polite");const ae=new i.CountBadge(ie,{countFormat:v.localize(5,null)}),de=k.append(F,m(".quick-input-action")),Y=new a.Button(de);Y.label=v.localize(6,null),this._register(Y.onDidClick(te=>{this.onDidAcceptEmitter.fire()}));const B=k.append(F,m(".quick-input-action")),W=new a.Button(B);W.label=v.localize(7,null),this._register(W.onDidClick(te=>{this.onDidCustomEmitter.fire()}));const V=k.append(H,m(`#${this.idPrefix}message.quick-input-message`)),z=this._register(new y.QuickInputList(D,this.idPrefix+"list",this.options));this._register(z.onChangedAllVisibleChecked(te=>{E.checked=te})),this._register(z.onChangedVisibleCount(te=>{ee.setCount(te)})),this._register(z.onChangedCheckedCount(te=>{ae.setCount(te)})),this._register(z.onLeave(()=>{setTimeout(()=>{q.setFocus(),this.controller instanceof b&&this.controller.canSelectMany&&z.clearFocus()},0)})),this._register(z.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const U=new _.ProgressBar(D);U.getContainer().classList.add("quick-input-progress");const X=k.trackFocus(D);return this._register(X),this._register(k.addDisposableListener(D,k.EventType.FOCUS,te=>{this.previousFocusElement=te.relatedTarget instanceof HTMLElement?te.relatedTarget:void 0},!0)),this._register(X.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(S.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(k.addDisposableListener(D,k.EventType.FOCUS,te=>{q.setFocus()})),this._register(k.addDisposableListener(D,k.EventType.KEY_DOWN,te=>{const se=new p.StandardKeyboardEvent(te);switch(se.keyCode){case 3:k.EventHelper.stop(te,!0),this.onDidAcceptEmitter.fire();break;case 9:k.EventHelper.stop(te,!0),this.hide(S.QuickInputHideReason.Gesture);break;case 2:if(!se.altKey&&!se.ctrlKey&&!se.metaKey){const le=[".action-label.codicon"];D.classList.contains("show-checkboxes")?le.push("input"):le.push("input[type=text]"),this.getUI().list.isDisplayed()&&le.push(".monaco-list");const ue=D.querySelectorAll(le.join(", "));se.shiftKey&&se.target===ue[0]?(k.EventHelper.stop(te,!0),ue[ue.length-1].focus()):!se.shiftKey&&se.target===ue[ue.length-1]&&(k.EventHelper.stop(te,!0),ue[0].focus())}break}})),this.ui={container:D,styleSheet:I,leftActionBar:A,titleBar:T,title:R,description1:P,description2:x,rightActionBar:O,checkAll:E,filterContainer:K,inputBox:q,visibleCountContainer:G,visibleCount:ee,countContainer:ie,count:ae,okContainer:de,ok:Y,message:V,customButtonContainer:B,customButton:W,list:z,progressBar:U,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:te=>this.show(te),hide:()=>this.hide(),setVisibilities:te=>this.setVisibilities(te),setComboboxAccessibility:te=>this.setComboboxAccessibility(te),setEnabled:te=>this.setEnabled(te),setContextKey:te=>this.options.setContextKey(te)},this.updateStyles(),this.ui}pick(D,I={},T=M.CancellationToken.None){return new Promise((A,R)=>{let O=x=>{O=A,I.onKeyMods&&I.onKeyMods(P.keyMods),A(x)};if(T.isCancellationRequested){O(void 0);return}const P=this.createQuickPick();let F;const E=[P,P.onDidAccept(()=>{if(P.canSelectMany)O(P.selectedItems.slice()),P.hide();else{const x=P.activeItems[0];x&&(O(x),P.hide())}}),P.onDidChangeActive(x=>{const H=x[0];H&&I.onDidFocus&&I.onDidFocus(H)}),P.onDidChangeSelection(x=>{if(!P.canSelectMany){const H=x[0];H&&(O(H),P.hide())}}),P.onDidTriggerItemButton(x=>I.onDidTriggerItemButton&&I.onDidTriggerItemButton(Object.assign(Object.assign({},x),{removeItem:()=>{const H=P.items.indexOf(x.item);if(H!==-1){const K=P.items.slice(),q=K.splice(H,1),G=P.activeItems.filter(ee=>ee!==q[0]);P.items=K,G&&(P.activeItems=G)}}}))),P.onDidChangeValue(x=>{F&&!x&&(P.activeItems.length!==1||P.activeItems[0]!==F)&&(P.activeItems=[F])}),T.onCancellationRequested(()=>{P.hide()}),P.onDidHide(()=>{u.dispose(E),O(void 0)})];P.title=I.title,P.canSelectMany=!!I.canPickMany,P.placeholder=I.placeHolder,P.ignoreFocusOut=!!I.ignoreFocusLost,P.matchOnDescription=!!I.matchOnDescription,P.matchOnDetail=!!I.matchOnDetail,P.matchOnLabel=I.matchOnLabel===void 0||I.matchOnLabel,P.autoFocusOnList=I.autoFocusOnList===void 0||I.autoFocusOnList,P.quickNavigate=I.quickNavigate,P.contextKey=I.contextKey,P.busy=!0,Promise.all([D,I.activeItem]).then(([x,H])=>{F=H,P.busy=!1,P.items=x,P.canSelectMany&&(P.selectedItems=x.filter(K=>K.type!=="separator"&&K.picked)),F&&(P.activeItems=[F])}),P.show(),Promise.resolve(D).then(void 0,x=>{R(x),P.hide()})})}createQuickPick(){const D=this.getUI();return new b(D)}show(D){const I=this.getUI();this.onShowEmitter.fire();const T=this.controller;this.controller=D,T&&T.didHide(),this.setEnabled(!0),I.leftActionBar.clear(),I.title.textContent="",I.description1.textContent="",I.description2.textContent="",I.rightActionBar.clear(),I.checkAll.checked=!1,I.inputBox.placeholder="",I.inputBox.password=!1,I.inputBox.showDecoration(c.default.Ignore),I.visibleCount.setCount(0),I.count.setCount(0),k.reset(I.message),I.progressBar.stop(),I.list.setElements([]),I.list.matchOnDescription=!1,I.list.matchOnDetail=!1,I.list.matchOnLabel=!0,I.list.sortByLabel=!0,I.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),I.inputBox.ariaLabel="";const A=this.options.backKeybindingLabel();g.tooltip=A?v.localize(8,null,A):v.localize(9,null),I.container.style.display="",this.updateLayout(),I.inputBox.setFocus()}setVisibilities(D){const I=this.getUI();I.title.style.display=D.title?"":"none",I.description1.style.display=D.description&&(D.inputBox||D.checkAll)?"":"none",I.description2.style.display=D.description&&!(D.inputBox||D.checkAll)?"":"none",I.checkAll.style.display=D.checkAll?"":"none",I.filterContainer.style.display=D.inputBox?"":"none",I.visibleCountContainer.style.display=D.visibleCount?"":"none",I.countContainer.style.display=D.count?"":"none",I.okContainer.style.display=D.ok?"":"none",I.customButtonContainer.style.display=D.customButton?"":"none",I.message.style.display=D.message?"":"none",I.progressBar.getContainer().style.display=D.progressBar?"":"none",I.list.display(!!D.list),I.container.classList[D.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(D){if(D!==this.comboboxAccessibility){const I=this.getUI();this.comboboxAccessibility=D,this.comboboxAccessibility?(I.inputBox.setAttribute("role","combobox"),I.inputBox.setAttribute("aria-haspopup","true"),I.inputBox.setAttribute("aria-autocomplete","list"),I.inputBox.setAttribute("aria-activedescendant",I.list.getActiveDescendant()||"")):(I.inputBox.removeAttribute("role"),I.inputBox.removeAttribute("aria-haspopup"),I.inputBox.removeAttribute("aria-autocomplete"),I.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(D){if(D!==this.enabled){this.enabled=D;for(const I of this.getUI().leftActionBar.viewItems)I.getAction().enabled=D;for(const I of this.getUI().rightActionBar.viewItems)I.getAction().enabled=D;this.getUI().checkAll.disabled=!D,this.getUI().ok.enabled=D,this.getUI().list.enabled=D}}hide(D){var I;const T=this.controller;if(T){const A=!((I=this.ui)===null||I===void 0?void 0:I.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",A||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),T.didHide(D)}}layout(D,I){this.dimension=D,this.titleBarOffset=I,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const D=this.ui.container.style,I=Math.min(this.dimension.width*.62,L.MAX_WIDTH);D.width=I+"px",D.marginLeft="-"+I/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(D){this.styles=D,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:D,quickInputBackground:I,quickInputForeground:T,contrastBorder:A,widgetShadow:R}=this.styles.widget;this.ui.titleBar.style.backgroundColor=D?D.toString():"",this.ui.container.style.backgroundColor=I?I.toString():"",this.ui.container.style.color=T?T.toString():"",this.ui.container.style.border=A?`1px solid ${A}`:"",this.ui.container.style.boxShadow=R?`0 0 8px 2px ${R}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const O=[];this.styles.list.pickerGroupBorder&&O.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&O.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(O.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&O.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&O.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&O.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&O.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&O.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),O.push("}"));const P=O.join(`
`);P!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=P)}}}e.QuickInputController=L,L.MAX_WIDTH=600}),define(Q[454],J([4,5]),function($,e){return $.create("vs/editor/browser/controller/coreCommands",e)}),define(Q[455],J([4,5]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(Q[456],J([4,5]),function($,e){return $.create("vs/editor/browser/core/keybindingCancellation",e)}),define(Q[457],J([4,5]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(Q[458],J([4,5]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(Q[459],J([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(Q[460],J([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(Q[461],J([4,5]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(Q[462],J([0,1,461,7,49,2,3,27]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends y.Disposable{constructor(_,s,a,u,c,d){super();this._viewZoneId=_,this._marginDomNode=s,this.editor=a,this.diff=u,this._contextMenuService=c,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=a.getOption(56),n=a.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const o=[];o.push(new M.Action("diff.clipboard.copyDeletedContent",u.originalEndLineNumber>u.modifiedStartLineNumber?S.localize(0,null):S.localize(1,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const C=new w.Range(u.originalStartLineNumber,1,u.originalEndLineNumber+1,1),g=u.originalModel.getValueInRange(C);yield this._clipboardService.writeText(g)})));let t=0,l;u.originalEndLineNumber>u.modifiedStartLineNumber&&(l=new M.Action("diff.clipboard.copyDeletedLineContent",S.localize(2,null,u.originalStartLineNumber),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const C=u.originalModel.getLineContent(u.originalStartLineNumber+t);yield this._clipboardService.writeText(C)})),o.push(l)),a.getOption(78)||o.push(new M.Action("diff.inline.revertChange",S.localize(3,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const C=new w.Range(u.originalStartLineNumber,1,u.originalEndLineNumber,u.originalModel.getLineMaxColumn(u.originalEndLineNumber)),g=u.originalModel.getValueInRange(C);if(u.modifiedEndLineNumber===0){const f=a.getModel().getLineMaxColumn(u.modifiedStartLineNumber);a.executeEdits("diffEditor",[{range:new w.Range(u.modifiedStartLineNumber,f,u.modifiedStartLineNumber,f),text:n+g}])}else{const f=a.getModel().getLineMaxColumn(u.modifiedEndLineNumber);a.executeEdits("diffEditor",[{range:new w.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,f),text:g}])}})));const m=(C,g)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:C,y:g}),getActions:()=>(l&&(l.label=S.localize(4,null,u.originalStartLineNumber+t)),o),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",C=>{const{top:g,height:f}=k.getDomNodePagePosition(this._diffActions);let b=Math.floor(r/3);C.preventDefault(),m(C.posx,g+f+b)})),this._register(a.onMouseMove(C=>{C.target.type===8||C.target.type===5?C.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,C.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(a.onMouseDown(C=>{!C.event.rightButton||(C.target.type===8||C.target.type===5)&&C.target.detail.viewZoneId===this._viewZoneId&&(C.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,C.event.browserEvent.y,r),m(C.event.posx,C.event.posy+r))}))}get visibility(){return this._visibility}set visibility(_){this._visibility!==_&&(this._visibility=_,_?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(_,s,a){const{top:u}=k.getDomNodePagePosition(_),c=s-u,d=Math.floor(c/a),r=d*a;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let n=0;for(let o=0;o<this.diff.viewLineCounts.length;o++)if(n+=this.diff.viewLineCounts[o],d<n)return o}return d}}e.InlineDiffMargin=v}),define(Q[463],J([4,5]),function($,e){return $.create("vs/editor/common/config/commonEditorConfig",e)}),define(Q[464],J([4,5]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(Q[35],J([0,1,464,17,132]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class y{constructor(j){this._values=j}hasChanged(j){return this._values[j]}}e.ConfigurationChangedEvent=y;class w{constructor(){this._values=[]}_read(j){return this._values[j]}get(j){return this._values[j]}_write(j,ne){this._values[j]=ne}}e.ValidatedEditorOptions=w;class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=p;class v{constructor(j,ne,Z,oe){this.id=j,this.name=ne,this.defaultValue=Z,this.schema=oe}compute(j,ne,Z){return Z}}class i{constructor(j,ne=null){this.schema=void 0,this.id=j,this.name="_never_",this.defaultValue=void 0,this.deps=ne}validate(j){return this.defaultValue}}class _{constructor(j,ne,Z,oe){this.id=j,this.name=ne,this.defaultValue=Z,this.schema=oe}validate(j){return typeof j=="undefined"?this.defaultValue:j}compute(j,ne,Z){return Z}}function s(ce,j){return typeof ce=="undefined"?j:ce==="false"?!1:Boolean(ce)}e.boolean=s;class a extends _{constructor(j,ne,Z,oe=void 0){typeof oe!="undefined"&&(oe.type="boolean",oe.default=Z),super(j,ne,Z,oe)}validate(j){return s(j,this.defaultValue)}}class u extends _{constructor(j,ne,Z,oe,fe,_e=void 0){typeof _e!="undefined"&&(_e.type="integer",_e.default=Z,_e.minimum=oe,_e.maximum=fe),super(j,ne,Z,_e),this.minimum=oe,this.maximum=fe}static clampedInt(j,ne,Z,oe){if(typeof j=="undefined")return ne;let fe=parseInt(j,10);return isNaN(fe)?ne:(fe=Math.max(Z,fe),fe=Math.min(oe,fe),fe|0)}validate(j){return u.clampedInt(j,this.defaultValue,this.minimum,this.maximum)}}class c extends _{constructor(j,ne,Z,oe,fe){typeof fe!="undefined"&&(fe.type="number",fe.default=Z),super(j,ne,Z,fe),this.validationFn=oe}static clamp(j,ne,Z){return j<ne?ne:j>Z?Z:j}static float(j,ne){if(typeof j=="number")return j;if(typeof j=="undefined")return ne;const Z=parseFloat(j);return isNaN(Z)?ne:Z}validate(j){return this.validationFn(c.float(j,this.defaultValue))}}class d extends _{static string(j,ne){return typeof j!="string"?ne:j}constructor(j,ne,Z,oe=void 0){typeof oe!="undefined"&&(oe.type="string",oe.default=Z),super(j,ne,Z,oe)}validate(j){return d.string(j,this.defaultValue)}}function r(ce,j,ne){return typeof ce!="string"||ne.indexOf(ce)===-1?j:ce}e.stringSet=r;class n extends _{constructor(j,ne,Z,oe,fe=void 0){typeof fe!="undefined"&&(fe.type="string",fe.enum=oe,fe.default=Z),super(j,ne,Z,fe),this._allowedValues=oe}validate(j){return r(j,this.defaultValue,this._allowedValues)}}class o extends v{constructor(j,ne,Z,oe,fe,_e,be=void 0){typeof be!="undefined"&&(be.type="string",be.enum=fe,be.default=oe),super(j,ne,Z,be),this._allowedValues=fe,this._convert=_e}validate(j){return typeof j!="string"?this.defaultValue:this._allowedValues.indexOf(j)===-1?this.defaultValue:this._convert(j)}}function t(ce){switch(ce){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class l extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[S.localize(0,null),S.localize(1,null),S.localize(2,null)],default:"auto",description:S.localize(3,null)})}validate(j){switch(j){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(j,ne,Z){return Z===0?j.accessibilitySupport:Z}}class h extends v{constructor(){const j={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",j,{"editor.comments.insertSpace":{type:"boolean",default:j.insertSpace,description:S.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:j.ignoreEmptyLines,description:S.localize(5,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{insertSpace:s(ne.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:s(ne.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function m(ce){switch(ce){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var C;(function(ce){ce[ce.Line=1]="Line",ce[ce.Block=2]="Block",ce[ce.Underline=3]="Underline",ce[ce.LineThin=4]="LineThin",ce[ce.BlockOutline=5]="BlockOutline",ce[ce.UnderlineThin=6]="UnderlineThin"})(C=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function g(ce){switch(ce){case"line":return C.Line;case"block":return C.Block;case"underline":return C.Underline;case"line-thin":return C.LineThin;case"block-outline":return C.BlockOutline;case"underline-thin":return C.UnderlineThin}}class f extends i{constructor(){super(125,[63,31])}compute(j,ne,Z){const oe=["monaco-editor"];return ne.get(31)&&oe.push(ne.get(31)),j.extraEditorClassName&&oe.push(j.extraEditorClassName),ne.get(63)==="default"?oe.push("mouse-default"):ne.get(63)==="copy"&&oe.push("mouse-copy"),ne.get(98)&&oe.push("showUnused"),ne.get(123)&&oe.push("showDeprecated"),oe.join(" ")}}class b extends a{constructor(){super(30,"emptySelectionClipboard",!0,{description:S.localize(6,null)})}compute(j,ne,Z){return Z&&j.emptySelectionClipboard}}class L extends v{constructor(){const j={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",j,{"editor.find.cursorMoveOnType":{type:"boolean",default:j.cursorMoveOnType,description:S.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:j.seedSearchStringFromSelection,description:S.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:j.autoFindInSelection,enumDescriptions:[S.localize(9,null),S.localize(10,null),S.localize(11,null)],description:S.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:j.globalFindClipboard,description:S.localize(13,null),included:k.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:j.addExtraSpaceOnTop,description:S.localize(14,null)},"editor.find.loop":{type:"boolean",default:j.loop,description:S.localize(15,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{cursorMoveOnType:s(ne.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:s(ne.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof j.autoFindInSelection=="boolean"?j.autoFindInSelection?"always":"never":r(ne.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:s(ne.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:s(ne.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:s(ne.loop,this.defaultValue.loop)}}}class N extends v{constructor(){super(41,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:S.localize(16,null)},{type:"string",description:S.localize(17,null)}],description:S.localize(18,null),default:!1})}validate(j){return typeof j=="undefined"?this.defaultValue:typeof j=="string"?j==="false"?N.OFF:j==="true"?N.ON:j:Boolean(j)?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class D extends i{constructor(){super(40)}compute(j,ne,Z){return j.fontInfo}}class I extends _{constructor(){super(42,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:S.localize(19,null)})}validate(j){let ne=c.float(j,this.defaultValue);return ne===0?e.EDITOR_FONT_DEFAULTS.fontSize:c.clamp(ne,6,100)}compute(j,ne,Z){return j.fontInfo.fontSize}}class T extends v{constructor(){super(43,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:T.MINIMUM_VALUE,maximum:T.MAXIMUM_VALUE,errorMessage:S.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:T.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:S.localize(21,null)})}validate(j){return j==="normal"||j==="bold"?j:String(u.clampedInt(j,e.EDITOR_FONT_DEFAULTS.fontWeight,T.MINIMUM_VALUE,T.MAXIMUM_VALUE))}}T.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],T.MINIMUM_VALUE=1,T.MAXIMUM_VALUE=1e3;class A extends v{constructor(){const j={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ne={type:"string",enum:["peek","gotoAndPeek","goto"],default:j.multiple,enumDescriptions:[S.localize(22,null),S.localize(23,null),S.localize(24,null)]},Z=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",j,{"editor.gotoLocation.multiple":{deprecationMessage:S.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:S.localize(26,null)},ne),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:S.localize(27,null)},ne),"editor.gotoLocation.multipleDeclarations":Object.assign({description:S.localize(28,null)},ne),"editor.gotoLocation.multipleImplementations":Object.assign({description:S.localize(29,null)},ne),"editor.gotoLocation.multipleReferences":Object.assign({description:S.localize(30,null)},ne),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:j.alternativeDefinitionCommand,enum:Z,description:S.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:j.alternativeTypeDefinitionCommand,enum:Z,description:S.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:j.alternativeDeclarationCommand,enum:Z,description:S.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:j.alternativeImplementationCommand,enum:Z,description:S.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:j.alternativeReferenceCommand,enum:Z,description:S.localize(35,null)}})}validate(j){var ne,Z,oe,fe,_e;if(!j||typeof j!="object")return this.defaultValue;const be=j;return{multiple:r(be.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ne=be.multipleDefinitions)!==null&&ne!==void 0?ne:r(be.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Z=be.multipleTypeDefinitions)!==null&&Z!==void 0?Z:r(be.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(oe=be.multipleDeclarations)!==null&&oe!==void 0?oe:r(be.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(fe=be.multipleImplementations)!==null&&fe!==void 0?fe:r(be.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(_e=be.multipleReferences)!==null&&_e!==void 0?_e:r(be.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(be.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(be.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(be.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(be.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(be.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class R extends v{constructor(){const j={enabled:!0,delay:300,sticky:!0};super(50,"hover",j,{"editor.hover.enabled":{type:"boolean",default:j.enabled,description:S.localize(36,null)},"editor.hover.delay":{type:"number",default:j.delay,description:S.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:j.sticky,description:S.localize(38,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{enabled:s(ne.enabled,this.defaultValue.enabled),delay:u.clampedInt(ne.delay,this.defaultValue.delay,0,1e4),sticky:s(ne.sticky,this.defaultValue.sticky)}}}class O extends i{constructor(){super(128,[46,55,35,62,90,57,58,92,115,118,119,120,2])}compute(j,ne,Z){return O.computeLayout(ne,{memory:j.memory,outerWidth:j.outerWidth,outerHeight:j.outerHeight,isDominatedByLongLines:j.isDominatedByLongLines,lineHeight:j.fontInfo.lineHeight,viewLineCount:j.viewLineCount,lineNumbersDigitCount:j.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:j.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:j.fontInfo.maxDigitWidth,pixelRatio:j.pixelRatio})}static computeContainedMinimapLineCount(j){const ne=j.height/j.lineHeight,Z=j.scrollBeyondLastLine?ne-1:0,oe=(j.viewLineCount+Z)/(j.pixelRatio*j.height),fe=Math.floor(j.viewLineCount/oe);return{typicalViewportLineCount:ne,extraLinesBeyondLastLine:Z,desiredRatio:oe,minimapLineCount:fe}}static _computeMinimapLayout(j,ne){const Z=j.outerWidth,oe=j.outerHeight,fe=j.pixelRatio;if(!j.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(fe*oe),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:oe};const _e=ne.stableMinimapLayoutInput,be=_e&&j.outerHeight===_e.outerHeight&&j.lineHeight===_e.lineHeight&&j.typicalHalfwidthCharacterWidth===_e.typicalHalfwidthCharacterWidth&&j.pixelRatio===_e.pixelRatio&&j.scrollBeyondLastLine===_e.scrollBeyondLastLine&&j.minimap.enabled===_e.minimap.enabled&&j.minimap.side===_e.minimap.side&&j.minimap.size===_e.minimap.size&&j.minimap.showSlider===_e.minimap.showSlider&&j.minimap.renderCharacters===_e.minimap.renderCharacters&&j.minimap.maxColumn===_e.minimap.maxColumn&&j.minimap.scale===_e.minimap.scale&&j.verticalScrollbarWidth===_e.verticalScrollbarWidth&&j.isViewportWrapping===_e.isViewportWrapping,Le=j.lineHeight,Ee=j.typicalHalfwidthCharacterWidth,Re=j.scrollBeyondLastLine,De=j.minimap.renderCharacters;let Te=fe>=2?Math.round(j.minimap.scale*2):j.minimap.scale;const we=j.minimap.maxColumn,Se=j.minimap.size,ye=j.minimap.side,me=j.verticalScrollbarWidth,Ce=j.viewLineCount,he=j.remainingWidth,ge=j.isViewportWrapping,ve=De?2:3;let ke=Math.floor(fe*oe);const Ne=ke/fe;let Ae=!1,Pe=!1,Fe=ve*Te,Oe=Te/fe,xe=1;if(Se==="fill"||Se==="fit"){const{typicalViewportLineCount:Ue,extraLinesBeyondLastLine:Ge,desiredRatio:$e,minimapLineCount:Qe}=O.computeContainedMinimapLineCount({viewLineCount:Ce,scrollBeyondLastLine:Re,height:oe,lineHeight:Le,pixelRatio:fe});if(Ce/Qe>1)Ae=!0,Pe=!0,Te=1,Fe=1,Oe=Te/fe;else{let Xe=!1,Ze=Te+1;if(Se==="fit"){const Je=Math.ceil((Ce+Ge)*Fe);ge&&be&&he<=ne.stableFitRemainingWidth?(Xe=!0,Ze=ne.stableFitMaxMinimapScale):(Xe=Je>ke,ge&&Xe?(ne.stableMinimapLayoutInput=j,ne.stableFitRemainingWidth=he):(ne.stableMinimapLayoutInput=null,ne.stableFitRemainingWidth=0))}if(Se==="fill"||Xe){Ae=!0;const Je=Te;Fe=Math.min(Le*fe,Math.max(1,Math.floor(1/$e))),Te=Math.min(Ze,Math.max(1,Math.floor(Fe/ve))),Te>Je&&(xe=Math.min(2,Te/Je)),Oe=Te/fe/xe,ke=Math.ceil(Math.max(Ue,Ce+Ge)*Fe),ge&&Xe&&(ne.stableFitMaxMinimapScale=Te)}}}const We=Math.floor(we*Oe),ze=Math.min(We,Math.max(0,Math.floor((he-me-2)*Oe/(Ee+Oe)))+e.MINIMAP_GUTTER_WIDTH);let Ke=Math.floor(fe*ze);const Be=Ke/fe;Ke=Math.floor(Ke*xe);const He=De?1:2,Ve=ye==="left"?0:Z-ze-me;return{renderMinimap:He,minimapLeft:Ve,minimapWidth:ze,minimapHeightIsEditorHeight:Ae,minimapIsSampling:Pe,minimapScale:Te,minimapLineHeight:Fe,minimapCanvasInnerWidth:Ke,minimapCanvasInnerHeight:ke,minimapCanvasOuterWidth:Be,minimapCanvasOuterHeight:Ne}}static computeLayout(j,ne){const Z=ne.outerWidth|0,oe=ne.outerHeight|0,fe=ne.lineHeight|0,_e=ne.lineNumbersDigitCount|0,be=ne.typicalHalfwidthCharacterWidth,Le=ne.maxDigitWidth,Ee=ne.pixelRatio,Re=ne.viewLineCount,De=j.get(120),Te=De==="inherit"?j.get(119):De,we=Te==="inherit"?j.get(115):Te,Se=j.get(118),ye=j.get(2),me=ne.isDominatedByLongLines,Ce=j.get(46),he=j.get(57).renderType!==0,ge=j.get(58),ve=j.get(92),ke=j.get(62),Ne=j.get(90),Ae=Ne.verticalScrollbarSize,Pe=Ne.verticalHasArrows,Fe=Ne.arrowSize,Oe=Ne.horizontalScrollbarSize,xe=j.get(55),We=j.get(35);let ze;if(typeof xe=="string"&&/^\d+(\.\d+)?ch$/.test(xe)){const nt=parseFloat(xe.substr(0,xe.length-2));ze=u.clampedInt(nt*be,0,0,1e3)}else ze=u.clampedInt(xe,0,0,1e3);We&&(ze+=16);let Ke=0;if(he){const nt=Math.max(_e,ge);Ke=Math.round(nt*Le)}let Be=0;Ce&&(Be=fe);let He=0,Ve=He+Be,Ue=Ve+Ke,Ge=Ue+ze;const $e=Z-Be-Ke-ze;let Qe=!1,Ye=!1,Xe=-1;ye!==2&&(Te==="inherit"&&me?(Qe=!0,Ye=!0):we==="on"||we==="bounded"?Ye=!0:we==="wordWrapColumn"&&(Xe=Se));const Ze=O._computeMinimapLayout({outerWidth:Z,outerHeight:oe,lineHeight:fe,typicalHalfwidthCharacterWidth:be,pixelRatio:Ee,scrollBeyondLastLine:ve,minimap:ke,verticalScrollbarWidth:Ae,viewLineCount:Re,remainingWidth:$e,isViewportWrapping:Ye},ne.memory||new p);Ze.renderMinimap!==0&&Ze.minimapLeft===0&&(He+=Ze.minimapWidth,Ve+=Ze.minimapWidth,Ue+=Ze.minimapWidth,Ge+=Ze.minimapWidth);const Je=$e-Ze.minimapWidth,et=Math.max(1,Math.floor((Je-Ae-2)/be)),at=Pe?Fe:0;return Ye&&(Xe=Math.max(1,et),we==="bounded"&&(Xe=Math.min(Xe,Se))),{width:Z,height:oe,glyphMarginLeft:He,glyphMarginWidth:Be,lineNumbersLeft:Ve,lineNumbersWidth:Ke,decorationsLeft:Ue,decorationsWidth:ze,contentLeft:Ge,contentWidth:Je,minimap:Ze,viewportColumn:et,isWordWrapMinified:Qe,isViewportWrapping:Ye,wrappingColumn:Xe,verticalScrollbarWidth:Ae,horizontalScrollbarHeight:Oe,overviewRuler:{top:at,width:Ae,height:oe-2*at,right:0}}}}e.EditorLayoutInfoComputer=O;class P extends v{constructor(){const j={enabled:!0};super(54,"lightbulb",j,{"editor.lightbulb.enabled":{type:"boolean",default:j.enabled,description:S.localize(39,null)}})}validate(j){return!j||typeof j!="object"?this.defaultValue:{enabled:s(j.enabled,this.defaultValue.enabled)}}}class F extends v{constructor(){const j={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(124,"inlayHints",j,{"editor.inlayHints.enabled":{type:"boolean",default:j.enabled,description:S.localize(40,null)},"editor.inlayHints.fontSize":{type:"number",default:j.fontSize,description:S.localize(41,null)},"editor.inlayHints.fontFamily":{type:"string",default:j.fontFamily,description:S.localize(42,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{enabled:s(ne.enabled,this.defaultValue.enabled),fontSize:u.clampedInt(ne.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(ne.fontFamily,this.defaultValue.fontFamily)}}}class E extends u{constructor(){super(56,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:S.localize(43,null)})}compute(j,ne,Z){return j.fontInfo.lineHeight}}class x extends v{constructor(){const j={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(62,"minimap",j,{"editor.minimap.enabled":{type:"boolean",default:j.enabled,description:S.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[S.localize(45,null),S.localize(46,null),S.localize(47,null)],default:j.size,description:S.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:j.side,description:S.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:j.showSlider,description:S.localize(50,null)},"editor.minimap.scale":{type:"number",default:j.scale,minimum:1,maximum:3,enum:[1,2,3],description:S.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:j.renderCharacters,description:S.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:j.maxColumn,description:S.localize(53,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{enabled:s(ne.enabled,this.defaultValue.enabled),size:r(ne.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(ne.side,this.defaultValue.side,["right","left"]),showSlider:r(ne.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:s(ne.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(ne.scale,1,1,3),maxColumn:u.clampedInt(ne.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function H(ce){return ce==="ctrlCmd"?k.isMacintosh?"metaKey":"ctrlKey":"altKey"}class K extends v{constructor(){super(72,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:S.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:S.localize(55,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{top:u.clampedInt(ne.top,0,0,1e3),bottom:u.clampedInt(ne.bottom,0,0,1e3)}}}class q extends v{constructor(){const j={enabled:!0,cycle:!1};super(73,"parameterHints",j,{"editor.parameterHints.enabled":{type:"boolean",default:j.enabled,description:S.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:j.cycle,description:S.localize(57,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{enabled:s(ne.enabled,this.defaultValue.enabled),cycle:s(ne.cycle,this.defaultValue.cycle)}}}class G extends i{constructor(){super(126)}compute(j,ne,Z){return j.pixelRatio}}class ee extends v{constructor(){const j={other:!0,comments:!1,strings:!1};super(76,"quickSuggestions",j,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:j.strings,description:S.localize(58,null)},comments:{type:"boolean",default:j.comments,description:S.localize(59,null)},other:{type:"boolean",default:j.other,description:S.localize(60,null)}}}],default:j,description:S.localize(61,null)});this.defaultValue=j}validate(j){if(typeof j=="boolean")return j;if(j&&typeof j=="object"){const ne=j,Z={other:s(ne.other,this.defaultValue.other),comments:s(ne.comments,this.defaultValue.comments),strings:s(ne.strings,this.defaultValue.strings)};return Z.other&&Z.comments&&Z.strings?!0:!Z.other&&!Z.comments&&!Z.strings?!1:Z}return this.defaultValue}}class ie extends v{constructor(){super(57,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[S.localize(62,null),S.localize(63,null),S.localize(64,null),S.localize(65,null)],default:"on",description:S.localize(66,null)})}validate(j){let ne=this.defaultValue.renderType,Z=this.defaultValue.renderFn;return typeof j!="undefined"&&(typeof j=="function"?(ne=4,Z=j):j==="interval"?ne=3:j==="relative"?ne=2:j==="on"?ne=1:ne=0),{renderType:ne,renderFn:Z}}}function ae(ce){const j=ce.get(85);return j==="editable"?ce.get(78):j!=="on"}e.filterValidationDecorations=ae;class de extends v{constructor(){const j=[],ne={type:"number",description:S.localize(67,null)};super(89,"rulers",j,{type:"array",items:{anyOf:[ne,{type:["object"],properties:{column:ne,color:{type:"string",description:S.localize(68,null),format:"color-hex"}}}]},default:j,description:S.localize(69,null)})}validate(j){if(Array.isArray(j)){let ne=[];for(let Z of j)if(typeof Z=="number")ne.push({column:u.clampedInt(Z,0,0,1e4),color:null});else if(Z&&typeof Z=="object"){const oe=Z;ne.push({column:u.clampedInt(oe.column,0,0,1e4),color:oe.color})}return ne.sort((Z,oe)=>Z.column-oe.column),ne}return this.defaultValue}}function Y(ce,j){if(typeof ce!="string")return j;switch(ce){case"hidden":return 2;case"visible":return 3;default:return 1}}class B extends v{constructor(){super(90,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j,Z=u.clampedInt(ne.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),oe=u.clampedInt(ne.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(ne.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Y(ne.vertical,this.defaultValue.vertical),horizontal:Y(ne.horizontal,this.defaultValue.horizontal),useShadows:s(ne.useShadows,this.defaultValue.useShadows),verticalHasArrows:s(ne.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:s(ne.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:s(ne.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:s(ne.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Z,horizontalSliderSize:u.clampedInt(ne.horizontalSliderSize,Z,0,1e3),verticalScrollbarSize:oe,verticalSliderSize:u.clampedInt(ne.verticalSliderSize,oe,0,1e3),scrollByPage:s(ne.scrollByPage,this.defaultValue.scrollByPage)}}}class W extends v{constructor(){const j={enabled:!1};super(52,"inlineSuggest",j,{"editor.inlineSuggest.enabled":{type:"boolean",default:j.enabled,description:S.localize(70,null)}})}validate(j){return!j||typeof j!="object"?this.defaultValue:{enabled:s(j.enabled,this.defaultValue.enabled)}}}class V extends v{constructor(){const j={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(104,"suggest",j,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[S.localize(71,null),S.localize(72,null)],default:j.insertMode,description:S.localize(73,null)},"editor.suggest.filterGraceful":{type:"boolean",default:j.filterGraceful,description:S.localize(74,null)},"editor.suggest.localityBonus":{type:"boolean",default:j.localityBonus,description:S.localize(75,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:j.shareSuggestSelections,markdownDescription:S.localize(76,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:j.snippetsPreventQuickSuggestions,description:S.localize(77,null)},"editor.suggest.showIcons":{type:"boolean",default:j.showIcons,description:S.localize(78,null)},"editor.suggest.showStatusBar":{type:"boolean",default:j.showStatusBar,description:S.localize(79,null)},"editor.suggest.preview":{type:"boolean",default:j.preview,description:S.localize(80,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:j.showInlineDetails,description:S.localize(81,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:S.localize(82,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:S.localize(83,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:S.localize(84,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:S.localize(85,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:S.localize(86,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:S.localize(87,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:S.localize(88,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:S.localize(89,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:S.localize(90,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:S.localize(91,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:S.localize(92,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:S.localize(93,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:S.localize(94,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:S.localize(95,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:S.localize(96,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:S.localize(97,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:S.localize(98,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:S.localize(99,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:S.localize(100,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:S.localize(101,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:S.localize(102,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:S.localize(103,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:S.localize(104,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:S.localize(105,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:S.localize(106,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:S.localize(107,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:S.localize(108,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:S.localize(109,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:S.localize(110,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:S.localize(111,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:S.localize(112,null)}})}validate(j){if(!j||typeof j!="object")return this.defaultValue;const ne=j;return{insertMode:r(ne.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:s(ne.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:s(ne.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:s(ne.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:s(ne.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:s(ne.showIcons,this.defaultValue.showIcons),showStatusBar:s(ne.showStatusBar,this.defaultValue.showStatusBar),preview:s(ne.preview,this.defaultValue.preview),showInlineDetails:s(ne.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:s(ne.showMethods,this.defaultValue.showMethods),showFunctions:s(ne.showFunctions,this.defaultValue.showFunctions),showConstructors:s(ne.showConstructors,this.defaultValue.showConstructors),showDeprecated:s(ne.showDeprecated,this.defaultValue.showDeprecated),showFields:s(ne.showFields,this.defaultValue.showFields),showVariables:s(ne.showVariables,this.defaultValue.showVariables),showClasses:s(ne.showClasses,this.defaultValue.showClasses),showStructs:s(ne.showStructs,this.defaultValue.showStructs),showInterfaces:s(ne.showInterfaces,this.defaultValue.showInterfaces),showModules:s(ne.showModules,this.defaultValue.showModules),showProperties:s(ne.showProperties,this.defaultValue.showProperties),showEvents:s(ne.showEvents,this.defaultValue.showEvents),showOperators:s(ne.showOperators,this.defaultValue.showOperators),showUnits:s(ne.showUnits,this.defaultValue.showUnits),showValues:s(ne.showValues,this.defaultValue.showValues),showConstants:s(ne.showConstants,this.defaultValue.showConstants),showEnums:s(ne.showEnums,this.defaultValue.showEnums),showEnumMembers:s(ne.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:s(ne.showKeywords,this.defaultValue.showKeywords),showWords:s(ne.showWords,this.defaultValue.showWords),showColors:s(ne.showColors,this.defaultValue.showColors),showFiles:s(ne.showFiles,this.defaultValue.showFiles),showReferences:s(ne.showReferences,this.defaultValue.showReferences),showFolders:s(ne.showFolders,this.defaultValue.showFolders),showTypeParameters:s(ne.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:s(ne.showSnippets,this.defaultValue.showSnippets),showUsers:s(ne.showUsers,this.defaultValue.showUsers),showIssues:s(ne.showIssues,this.defaultValue.showIssues)}}}class z extends v{constructor(){super(100,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:S.localize(113,null),default:!0,type:"boolean"}})}validate(j){return!j||typeof j!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:s(j.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class U extends i{constructor(){super(127,[78])}compute(j,ne,Z){return ne.get(78)?!0:j.tabFocusMode}}function X(ce){switch(ce){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class te extends i{constructor(){super(129,[128])}compute(j,ne,Z){const oe=ne.get(128);return{isDominatedByLongLines:j.isDominatedByLongLines,isWordWrapMinified:oe.isWordWrapMinified,isViewportWrapping:oe.isViewportWrapping,wrappingColumn:oe.wrappingColumn}}}const se="Consolas, 'Courier New', monospace",le="Menlo, Monaco, 'Courier New', monospace",ue="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:k.isMacintosh?le:k.isLinux?ue:se,fontWeight:"normal",fontSize:k.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function re(ce){return e.editorOptionsRegistry[ce.id]=ce,ce}e.EditorOptions={acceptSuggestionOnCommitCharacter:re(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:S.localize(114,null)})),acceptSuggestionOnEnter:re(new n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",S.localize(115,null),""],markdownDescription:S.localize(116,null)})),accessibilitySupport:re(new l),accessibilityPageSize:re(new u(3,"accessibilityPageSize",10,1,1073741824,{description:S.localize(117,null)})),ariaLabel:re(new d(4,"ariaLabel",S.localize(118,null))),autoClosingBrackets:re(new n(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.localize(119,null),S.localize(120,null),""],description:S.localize(121,null)})),autoClosingDelete:re(new n(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",S.localize(122,null),""],description:S.localize(123,null)})),autoClosingOvertype:re(new n(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",S.localize(124,null),""],description:S.localize(125,null)})),autoClosingQuotes:re(new n(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.localize(126,null),S.localize(127,null),""],description:S.localize(128,null)})),autoIndent:re(new o(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[S.localize(129,null),S.localize(130,null),S.localize(131,null),S.localize(132,null),S.localize(133,null)],description:S.localize(134,null)})),automaticLayout:re(new a(10,"automaticLayout",!1)),autoSurround:re(new n(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[S.localize(135,null),S.localize(136,null),S.localize(137,null),""],description:S.localize(138,null)})),stickyTabStops:re(new a(102,"stickyTabStops",!1,{description:S.localize(139,null)})),codeLens:re(new a(12,"codeLens",!0,{description:S.localize(140,null)})),codeLensFontFamily:re(new d(13,"codeLensFontFamily","",{description:S.localize(141,null)})),codeLensFontSize:re(new u(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:S.localize(142,null)})),colorDecorators:re(new a(15,"colorDecorators",!0,{description:S.localize(143,null)})),columnSelection:re(new a(16,"columnSelection",!1,{description:S.localize(144,null)})),comments:re(new h),contextmenu:re(new a(18,"contextmenu",!0)),copyWithSyntaxHighlighting:re(new a(19,"copyWithSyntaxHighlighting",!0,{description:S.localize(145,null)})),cursorBlinking:re(new o(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],m,{description:S.localize(146,null)})),cursorSmoothCaretAnimation:re(new a(21,"cursorSmoothCaretAnimation",!1,{description:S.localize(147,null)})),cursorStyle:re(new o(22,"cursorStyle",C.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],g,{description:S.localize(148,null)})),cursorSurroundingLines:re(new u(23,"cursorSurroundingLines",0,0,1073741824,{description:S.localize(149,null)})),cursorSurroundingLinesStyle:re(new n(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[S.localize(150,null),S.localize(151,null)],description:S.localize(152,null)})),cursorWidth:re(new u(25,"cursorWidth",0,0,1073741824,{markdownDescription:S.localize(153,null)})),disableLayerHinting:re(new a(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:re(new a(27,"disableMonospaceOptimizations",!1)),domReadOnly:re(new a(28,"domReadOnly",!1)),dragAndDrop:re(new a(29,"dragAndDrop",!0,{description:S.localize(154,null)})),emptySelectionClipboard:re(new b),extraEditorClassName:re(new d(31,"extraEditorClassName","")),fastScrollSensitivity:re(new c(32,"fastScrollSensitivity",5,ce=>ce<=0?5:ce,{markdownDescription:S.localize(155,null)})),find:re(new L),fixedOverflowWidgets:re(new a(34,"fixedOverflowWidgets",!1)),folding:re(new a(35,"folding",!0,{description:S.localize(156,null)})),foldingStrategy:re(new n(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[S.localize(157,null),S.localize(158,null)],description:S.localize(159,null)})),foldingHighlight:re(new a(37,"foldingHighlight",!0,{description:S.localize(160,null)})),unfoldOnClickAfterEndOfLine:re(new a(38,"unfoldOnClickAfterEndOfLine",!1,{description:S.localize(161,null)})),fontFamily:re(new d(39,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:S.localize(162,null)})),fontInfo:re(new D),fontLigatures2:re(new N),fontSize:re(new I),fontWeight:re(new T),formatOnPaste:re(new a(44,"formatOnPaste",!1,{description:S.localize(163,null)})),formatOnType:re(new a(45,"formatOnType",!1,{description:S.localize(164,null)})),glyphMargin:re(new a(46,"glyphMargin",!0,{description:S.localize(165,null)})),gotoLocation:re(new A),hideCursorInOverviewRuler:re(new a(48,"hideCursorInOverviewRuler",!1,{description:S.localize(166,null)})),highlightActiveIndentGuide:re(new a(49,"highlightActiveIndentGuide",!0,{description:S.localize(167,null)})),hover:re(new R),inDiffEditor:re(new a(51,"inDiffEditor",!1)),letterSpacing:re(new c(53,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ce=>c.clamp(ce,-5,20),{description:S.localize(168,null)})),lightbulb:re(new P),lineDecorationsWidth:re(new _(55,"lineDecorationsWidth",10)),lineHeight:re(new E),lineNumbers:re(new ie),lineNumbersMinChars:re(new u(58,"lineNumbersMinChars",5,1,300)),linkedEditing:re(new a(59,"linkedEditing",!1,{description:S.localize(169,null)})),links:re(new a(60,"links",!0,{description:S.localize(170,null)})),matchBrackets:re(new n(61,"matchBrackets","always",["always","near","never"],{description:S.localize(171,null)})),minimap:re(new x),mouseStyle:re(new n(63,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:re(new c(64,"mouseWheelScrollSensitivity",1,ce=>ce===0?1:ce,{markdownDescription:S.localize(172,null)})),mouseWheelZoom:re(new a(65,"mouseWheelZoom",!1,{markdownDescription:S.localize(173,null)})),multiCursorMergeOverlapping:re(new a(66,"multiCursorMergeOverlapping",!0,{description:S.localize(174,null)})),multiCursorModifier:re(new o(67,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],H,{markdownEnumDescriptions:[S.localize(175,null),S.localize(176,null)],markdownDescription:S.localize(177,null)})),multiCursorPaste:re(new n(68,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[S.localize(178,null),S.localize(179,null)],markdownDescription:S.localize(180,null)})),occurrencesHighlight:re(new a(69,"occurrencesHighlight",!0,{description:S.localize(181,null)})),overviewRulerBorder:re(new a(70,"overviewRulerBorder",!0,{description:S.localize(182,null)})),overviewRulerLanes:re(new u(71,"overviewRulerLanes",3,0,3)),padding:re(new K),parameterHints:re(new q),peekWidgetDefaultFocus:re(new n(74,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[S.localize(183,null),S.localize(184,null)],description:S.localize(185,null)})),definitionLinkOpensInPeek:re(new a(75,"definitionLinkOpensInPeek",!1,{description:S.localize(186,null)})),quickSuggestions:re(new ee),quickSuggestionsDelay:re(new u(77,"quickSuggestionsDelay",10,0,1073741824,{description:S.localize(187,null)})),readOnly:re(new a(78,"readOnly",!1)),renameOnType:re(new a(79,"renameOnType",!1,{description:S.localize(188,null),markdownDeprecationMessage:S.localize(189,null)})),renderControlCharacters:re(new a(80,"renderControlCharacters",!1,{description:S.localize(190,null)})),renderIndentGuides:re(new a(81,"renderIndentGuides",!0,{description:S.localize(191,null)})),renderFinalNewline:re(new a(82,"renderFinalNewline",!0,{description:S.localize(192,null)})),renderLineHighlight:re(new n(83,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",S.localize(193,null)],description:S.localize(194,null)})),renderLineHighlightOnlyWhenFocus:re(new a(84,"renderLineHighlightOnlyWhenFocus",!1,{description:S.localize(195,null)})),renderValidationDecorations:re(new n(85,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:re(new n(86,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",S.localize(196,null),S.localize(197,null),S.localize(198,null),""],description:S.localize(199,null)})),revealHorizontalRightPadding:re(new u(87,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:re(new a(88,"roundedSelection",!0,{description:S.localize(200,null)})),rulers:re(new de),scrollbar:re(new B),scrollBeyondLastColumn:re(new u(91,"scrollBeyondLastColumn",5,0,1073741824,{description:S.localize(201,null)})),scrollBeyondLastLine:re(new a(92,"scrollBeyondLastLine",!0,{description:S.localize(202,null)})),scrollPredominantAxis:re(new a(93,"scrollPredominantAxis",!0,{description:S.localize(203,null)})),selectionClipboard:re(new a(94,"selectionClipboard",!0,{description:S.localize(204,null),included:k.isLinux})),selectionHighlight:re(new a(95,"selectionHighlight",!0,{description:S.localize(205,null)})),selectOnLineNumbers:re(new a(96,"selectOnLineNumbers",!0)),showFoldingControls:re(new n(97,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[S.localize(206,null),S.localize(207,null)],description:S.localize(208,null)})),showUnused:re(new a(98,"showUnused",!0,{description:S.localize(209,null)})),showDeprecated:re(new a(123,"showDeprecated",!0,{description:S.localize(210,null)})),inlayHints:re(new F),snippetSuggestions:re(new n(99,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[S.localize(211,null),S.localize(212,null),S.localize(213,null),S.localize(214,null)],description:S.localize(215,null)})),smartSelect:re(new z),smoothScrolling:re(new a(101,"smoothScrolling",!1,{description:S.localize(216,null)})),stopRenderingLineAfter:re(new u(103,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:re(new V),inlineSuggest:re(new W),suggestFontSize:re(new u(105,"suggestFontSize",0,0,1e3,{markdownDescription:S.localize(217,null)})),suggestLineHeight:re(new u(106,"suggestLineHeight",0,0,1e3,{markdownDescription:S.localize(218,null)})),suggestOnTriggerCharacters:re(new a(107,"suggestOnTriggerCharacters",!0,{description:S.localize(219,null)})),suggestSelection:re(new n(108,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[S.localize(220,null),S.localize(221,null),S.localize(222,null)],description:S.localize(223,null)})),tabCompletion:re(new n(109,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[S.localize(224,null),S.localize(225,null),S.localize(226,null)],description:S.localize(227,null)})),tabIndex:re(new u(110,"tabIndex",0,-1,1073741824)),unusualLineTerminators:re(new n(111,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[S.localize(228,null),S.localize(229,null),S.localize(230,null)],description:S.localize(231,null)})),useShadowDOM:re(new a(112,"useShadowDOM",!0)),useTabStops:re(new a(113,"useTabStops",!0,{description:S.localize(232,null)})),wordSeparators:re(new d(114,"wordSeparators",M.USUAL_WORD_SEPARATORS,{description:S.localize(233,null)})),wordWrap:re(new n(115,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[S.localize(234,null),S.localize(235,null),S.localize(236,null),S.localize(237,null)],description:S.localize(238,null)})),wordWrapBreakAfterCharacters:re(new d(116,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:re(new d(117,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:re(new u(118,"wordWrapColumn",80,1,1073741824,{markdownDescription:S.localize(239,null)})),wordWrapOverride1:re(new n(119,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:re(new n(120,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:re(new o(121,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],X,{enumDescriptions:[S.localize(240,null),S.localize(241,null),S.localize(242,null),S.localize(243,null)],description:S.localize(244,null)})),wrappingStrategy:re(new n(122,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[S.localize(245,null),S.localize(246,null)],description:S.localize(247,null)})),editorClassName:re(new f),pixelRatio:re(new G),tabFocusMode:re(new U),layoutInfo:re(new O),wrappingInfo:re(new te)}}),define(Q[465],J([0,1,13,3,63,35]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class w{constructor(v,i,_,s,a){this.editorId=v,this.model=i,this.configuration=_,this._linesCollection=s,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(v){const i=v.id;let _=this._decorationsCache[i];if(!_){const s=v.range,a=v.options;let u;if(a.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new S.Position(s.startLineNumber,1)),d=this._coordinatesConverter.convertModelPositionToViewPosition(new S.Position(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)));u=new k.Range(c.lineNumber,c.column,d.lineNumber,d.column)}else u=this._coordinatesConverter.convertModelRangeToViewRange(s);_=new M.ViewModelDecoration(u,a),this._decorationsCache[i]=_}return _}getDecorationsViewportData(v){let i=this._cachedModelDecorationsResolver!==null;return i=i&&v.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(v),this._cachedModelDecorationsResolverViewRange=v),this._cachedModelDecorationsResolver}_getDecorationsViewportData(v){const i=this._linesCollection.getDecorationsInRange(v,this.editorId,y.filterValidationDecorations(this.configuration.options)),_=v.startLineNumber,s=v.endLineNumber;let a=[],u=0,c=[];for(let d=_;d<=s;d++)c[d-_]=[];for(let d=0,r=i.length;d<r;d++){let n=i[d],o=n.options,t=this._getOrCreateViewModelDecoration(n),l=t.range;if(a[u++]=t,o.inlineClassName){let h=new M.InlineDecoration(l,o.inlineClassName,o.inlineClassNameAffectsLetterSpacing?3:0),m=Math.max(_,l.startLineNumber),C=Math.min(s,l.endLineNumber);for(let g=m;g<=C;g++)c[g-_].push(h)}if(o.beforeContentClassName&&_<=l.startLineNumber&&l.startLineNumber<=s){let h=new M.InlineDecoration(new k.Range(l.startLineNumber,l.startColumn,l.startLineNumber,l.startColumn),o.beforeContentClassName,1);c[l.startLineNumber-_].push(h)}if(o.afterContentClassName&&_<=l.endLineNumber&&l.endLineNumber<=s){let h=new M.InlineDecoration(new k.Range(l.endLineNumber,l.endColumn,l.endLineNumber,l.endColumn),o.afterContentClassName,2);c[l.endLineNumber-_].push(h)}}return{decorations:a,inlineDecorations:c}}}e.ViewModelDecorations=w}),define(Q[466],J([4,5]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(Q[467],J([4,5]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(Q[237],J([0,1,467,12,21,24,219,102,45]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(r){return r.toString()}class _{constructor(n,o,t,l,h,m,C){this.beforeVersionId=n,this.afterVersionId=o,this.beforeEOL=t,this.afterEOL=l,this.beforeCursorState=h,this.afterCursorState=m,this.changes=C}static create(n,o){const t=n.getAlternativeVersionId(),l=u(n);return new _(t,t,l,l,o,o,[])}append(n,o,t,l,h){o.length>0&&(this.changes=w.compressConsecutiveTextChanges(this.changes,o)),this.afterEOL=t,this.afterVersionId=l,this.afterCursorState=h}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,o,t){if(p.writeUInt32BE(n,o?o.length:0,t),t+=4,o)for(const l of o)p.writeUInt32BE(n,l.selectionStartLineNumber,t),t+=4,p.writeUInt32BE(n,l.selectionStartColumn,t),t+=4,p.writeUInt32BE(n,l.positionLineNumber,t),t+=4,p.writeUInt32BE(n,l.positionColumn,t),t+=4;return t}static _readSelections(n,o,t){const l=p.readUInt32BE(n,o);o+=4;for(let h=0;h<l;h++){const m=p.readUInt32BE(n,o);o+=4;const C=p.readUInt32BE(n,o);o+=4;const g=p.readUInt32BE(n,o);o+=4;const f=p.readUInt32BE(n,o);o+=4,t.push(new M.Selection(m,C,g,f))}return o}serialize(){let n=4+4+1+1+_._writeSelectionsSize(this.beforeCursorState)+_._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)n+=l.writeSize();const o=new Uint8Array(n);let t=0;p.writeUInt32BE(o,this.beforeVersionId,t),t+=4,p.writeUInt32BE(o,this.afterVersionId,t),t+=4,p.writeUInt8(o,this.beforeEOL,t),t+=1,p.writeUInt8(o,this.afterEOL,t),t+=1,t=_._writeSelections(o,this.beforeCursorState,t),t=_._writeSelections(o,this.afterCursorState,t),p.writeUInt32BE(o,this.changes.length,t),t+=4;for(const l of this.changes)t=l.write(o,t);return o.buffer}static deserialize(n){const o=new Uint8Array(n);let t=0;const l=p.readUInt32BE(o,t);t+=4;const h=p.readUInt32BE(o,t);t+=4;const m=p.readUInt8(o,t);t+=1;const C=p.readUInt8(o,t);t+=1;const g=[];t=_._readSelections(o,t,g);const f=[];t=_._readSelections(o,t,f);const b=p.readUInt32BE(o,t);t+=4;const L=[];for(let N=0;N<b;N++)t=w.TextChange.read(o,t,L);return new _(l,h,m,C,g,f,L)}}e.SingleModelEditStackData=_;class s{constructor(n,o){this.model=n,this._data=_.create(n,o)}get type(){return 0}get resource(){return y.URI.isUri(this.model)?this.model:this.model.uri}get label(){return S.localize(0,null)}toString(){return(this._data instanceof _?this._data:_.deserialize(this._data)).changes.map(o=>o.toString()).join(", ")}matchesResource(n){return(y.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof _}append(n,o,t,l,h){this._data instanceof _&&this._data.append(n,o,t,l,h)}close(){this._data instanceof _&&(this._data=this._data.serialize())}open(){this._data instanceof _||(this._data=_.deserialize(this._data))}undo(){if(y.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _&&(this._data=this._data.serialize());const n=_.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(y.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _&&(this._data=this._data.serialize());const n=_.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof _&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class a{constructor(n,o){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=o.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const l=i(t.resource);this._editStackElementsMap.set(l,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const o=i(n);return this._editStackElementsMap.has(o)}setModel(n){const o=i(y.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(o)&&this._editStackElementsMap.get(o).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const o=i(n.uri);return this._editStackElementsMap.has(o)?this._editStackElementsMap.get(o).canAppend(n):!1}append(n,o,t,l,h){const m=i(n.uri);this._editStackElementsMap.get(m).append(n,o,t,l,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const o=i(n);return this._editStackElementsMap.has(o)?this._editStackElementsMap.get(o).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const o of this._editStackElementsArr)n.push(`${v.basename(o.resource)}: ${o}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=a;function u(r){return r.getEOL()===`
`?0:1}function c(r){return r?r instanceof s||r instanceof a:!1}e.isEditStackElement=c;class d{constructor(n,o){this._model=n,this._undoRedoService=o}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const o=this._undoRedoService.getLastElement(this._model.uri);if(c(o)&&o.canAppend(this._model))return o;const t=new s(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const o=this._getOrCreateEditStackElement(null);this._model.setEOL(n),o.append(this._model,[],u(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,o,t){const l=this._getOrCreateEditStackElement(n),h=this._model.applyEdits(o,!0),m=d._computeCursorState(t,h),C=h.map((g,f)=>({index:f,textChange:g.textChange}));return C.sort((g,f)=>g.textChange.oldPosition===f.textChange.oldPosition?g.index-f.index:g.textChange.oldPosition-f.textChange.oldPosition),l.append(this._model,C.map(g=>g.textChange),u(this._model),this._model.getAlternativeVersionId(),m),m}static _computeCursorState(n,o){try{return n?n(o):null}catch(t){return k.onUnexpectedError(t),null}}}e.EditStack=d}),define(Q[468],J([4,5]),function($,e){return $.create("vs/editor/common/modes/modesRegistry",e)}),define(Q[469],J([4,5]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(Q[64],J([0,1,469]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var k;(function(a){a.noSelection=S.localize(0,null),a.singleSelectionRange=S.localize(1,null),a.singleSelection=S.localize(2,null),a.multiSelectionRange=S.localize(3,null),a.multiSelection=S.localize(4,null),a.emergencyConfOn=S.localize(5,null),a.openingDocs=S.localize(6,null),a.readonlyDiffEditor=S.localize(7,null),a.editableDiffEditor=S.localize(8,null),a.readonlyEditor=S.localize(9,null),a.editableEditor=S.localize(10,null),a.changeConfigToOnMac=S.localize(11,null),a.changeConfigToOnWinLinux=S.localize(12,null),a.auto_on=S.localize(13,null),a.auto_off=S.localize(14,null),a.tabFocusModeOnMsg=S.localize(15,null),a.tabFocusModeOnMsgNoKb=S.localize(16,null),a.tabFocusModeOffMsg=S.localize(17,null),a.tabFocusModeOffMsgNoKb=S.localize(18,null),a.openDocMac=S.localize(19,null),a.openDocWinLinux=S.localize(20,null),a.outroMsg=S.localize(21,null),a.showAccessibilityHelpAction=S.localize(22,null)})(k=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var M;(function(a){a.inspectTokensAction=S.localize(23,null)})(M=e.InspectTokensNLS||(e.InspectTokensNLS={}));var y;(function(a){a.gotoLineActionLabel=S.localize(24,null)})(y=e.GoToLineNLS||(e.GoToLineNLS={}));var w;(function(a){a.helpQuickAccessActionLabel=S.localize(25,null)})(w=e.QuickHelpNLS||(e.QuickHelpNLS={}));var p;(function(a){a.quickCommandActionLabel=S.localize(26,null),a.quickCommandHelp=S.localize(27,null)})(p=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(a){a.quickOutlineActionLabel=S.localize(28,null),a.quickOutlineByCategoryActionLabel=S.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(a){a.editorViewAccessibleLabel=S.localize(30,null),a.accessibilityHelpMessage=S.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var _;(function(a){a.toggleHighContrast=S.localize(32,null)})(_=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var s;(function(a){a.bulkEditServiceSummary=S.localize(33,null)})(s=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(Q[470],J([4,5]),function($,e){return $.create("vs/editor/common/view/editorColorRegistry",e)}),define(Q[471],J([4,5]),function($,e){return $.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(Q[472],J([4,5]),function($,e){return $.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(Q[473],J([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(Q[474],J([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/transpose",e)}),define(Q[475],J([4,5]),function($,e){return $.create("vs/editor/contrib/clipboard/clipboard",e)}),define(Q[476],J([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(Q[477],J([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(Q[478],J([4,5]),function($,e){return $.create("vs/editor/contrib/codelens/codelensController",e)}),define(Q[479],J([4,5]),function($,e){return $.create("vs/editor/contrib/comment/comment",e)}),define(Q[480],J([4,5]),function($,e){return $.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(Q[481],J([4,5]),function($,e){return $.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(Q[482],J([4,5]),function($,e){return $.create("vs/editor/contrib/find/findController",e)}),define(Q[483],J([4,5]),function($,e){return $.create("vs/editor/contrib/find/findWidget",e)}),define(Q[484],J([4,5]),function($,e){return $.create("vs/editor/contrib/folding/folding",e)}),define(Q[485],J([4,5]),function($,e){return $.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(Q[486],J([4,5]),function($,e){return $.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(Q[487],J([4,5]),function($,e){return $.create("vs/editor/contrib/format/format",e)}),define(Q[488],J([4,5]),function($,e){return $.create("vs/editor/contrib/format/formatActions",e)}),define(Q[489],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoError",e)}),define(Q[490],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(Q[491],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(Q[492],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(Q[493],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(Q[494],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(Q[495],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(Q[496],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(Q[116],J([0,1,496,6,45,2,8,123,3,50,12]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(r,n,o,t){this.isProviderFirst=r,this.parent=n,this.link=o,this._rangeCallback=t,this.id=p.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var r,n;return(n=(r=this._range)!==null&&r!==void 0?r:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const n=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return n?S.localize(1,null,M.basename(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):S.localize(0,null,M.basename(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class a{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,n=8){const o=this._modelReference.object.textEditorModel;if(!o)return;const{startLineNumber:t,startColumn:l,endLineNumber:h,endColumn:m}=r,C=o.getWordUntilPosition({lineNumber:t,column:l-n}),g=new v.Range(t,C.startColumn,t,l),f=new v.Range(h,m,h,1073741824),b=o.getValueInRange(g).replace(/^\s+/,""),L=o.getValueInRange(r),N=o.getValueInRange(f).replace(/\s+$/,"");return{value:b+L+N,highlight:{start:b.length,end:b.length+L.length}}}}e.FilePreview=a;class u{constructor(r,n){this.parent=r,this.uri=n,this.children=[],this._previews=new i.ResourceMap}dispose(){y.dispose(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?S.localize(2,null,M.basename(this.uri),this.uri.fsPath):S.localize(3,null,r,M.basename(this.uri),this.uri.fsPath)}resolve(r){return Ie(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const o=yield r.createModelReference(n.uri);this._previews.set(n.uri,new a(o))}catch(o){_.onUnexpectedError(o)}return this})}}e.FileReferences=u;class c{constructor(r,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=n;const[o]=r;r.sort(c._compareReferences);let t;for(let l of r)if((!t||!M.extUri.isEqual(t.uri,l.uri,!0))&&(t=new u(this,l.uri),this.groups.push(t)),t.children.length===0||c._compareReferences(l,t.children[t.children.length-1])!==0){const h=new s(o===l,t,l,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(h),t.children.push(h)}}dispose(){y.dispose(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?S.localize(4,null):this.references.length===1?S.localize(5,null,this.references[0].uri.fsPath):this.groups.length===1?S.localize(6,null,this.references.length,this.groups[0].uri.fsPath):S.localize(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,n){let{parent:o}=r,t=o.children.indexOf(r),l=o.children.length,h=o.parent.groups.length;return h===1||n&&t+1<l||!n&&t>0?(n?t=(t+1)%l:t=(t+l-1)%l,o.children[t]):(t=o.parent.groups.indexOf(o),n?(t=(t+1)%h,o.parent.groups[t].children[0]):(t=(t+h-1)%h,o.parent.groups[t].children[o.parent.groups[t].children.length-1]))}nearestReference(r,n){const o=this.references.map((t,l)=>({idx:l,prefixLen:w.commonPrefixLength(t.uri.toString(),r.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,l)=>t.prefixLen>l.prefixLen?-1:t.prefixLen<l.prefixLen?1:t.offsetDist<l.offsetDist?-1:t.offsetDist>l.offsetDist?1:0)[0];if(o)return this.references[o.idx]}referenceAt(r,n){for(const o of this.references)if(o.uri.toString()===r.toString()&&v.Range.containsPosition(o.range,n))return o}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,n){return M.extUri.compare(r.uri,n.uri)||v.Range.compareRangesUsingStarts(r.range,n.range)}}e.ReferencesModel=c}),define(Q[497],J([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(Q[498],J([4,5]),function($,e){return $.create("vs/editor/contrib/hover/hover",e)}),define(Q[499],J([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(Q[500],J([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(Q[501],J([4,5]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(Q[502],J([4,5]),function($,e){return $.create("vs/editor/contrib/indentation/indentation",e)}),define(Q[503],J([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(Q[504],J([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(Q[505],J([4,5]),function($,e){return $.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(Q[506],J([4,5]),function($,e){return $.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(Q[507],J([4,5]),function($,e){return $.create("vs/editor/contrib/links/links",e)}),define(Q[508],J([4,5]),function($,e){return $.create("vs/editor/contrib/message/messageController",e)}),define(Q[509],J([4,5]),function($,e){return $.create("vs/editor/contrib/multicursor/multicursor",e)}),define(Q[510],J([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(Q[511],J([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(Q[512],J([4,5]),function($,e){return $.create("vs/editor/contrib/peekView/peekView",e)}),define(Q[513],J([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(Q[514],J([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(Q[515],J([4,5]),function($,e){return $.create("vs/editor/contrib/rename/rename",e)}),define(Q[516],J([4,5]),function($,e){return $.create("vs/editor/contrib/rename/renameInputField",e)}),define(Q[517],J([4,5]),function($,e){return $.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(Q[518],J([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetController2",e)}),define(Q[519],J([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(Q[520],J([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggest",e)}),define(Q[521],J([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestController",e)}),define(Q[522],J([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(Q[523],J([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(Q[524],J([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(Q[525],J([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(Q[526],J([4,5]),function($,e){return $.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(Q[527],J([4,5]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(Q[528],J([4,5]),function($,e){return $.create("vs/editor/contrib/tokenization/tokenization",e)}),define(Q[529],J([4,5]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(Q[530],J([4,5]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(Q[531],J([4,5]),function($,e){return $.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(Q[532],J([4,5]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(Q[533],J([4,5]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(Q[534],J([4,5]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(Q[535],J([4,5]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(Q[536],J([4,5]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(Q[537],J([4,5]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(Q[538],J([4,5]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(Q[539],J([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(Q[540],J([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(Q[541],J([4,5]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(Q[542],J([4,5]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(Q[543],J([4,5]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(Q[544],J([0,1,7]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class k{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(y,w){return Ie(this,void 0,void 0,function*(){if(w){this.mapTextToType.set(w,y);return}try{return yield navigator.clipboard.writeText(y)}catch(i){console.error(i)}const p=document.activeElement,v=document.body.appendChild(S.$("textarea",{"aria-hidden":!0}));v.style.height="1px",v.style.width="1px",v.style.position="absolute",v.value=y,v.focus(),v.select(),document.execCommand("copy"),p instanceof HTMLElement&&p.focus(),document.body.removeChild(v)})}readText(y){return Ie(this,void 0,void 0,function*(){if(y)return this.mapTextToType.get(y)||"";try{return yield navigator.clipboard.readText()}catch(w){return console.error(w),""}})}readFindText(){return Ie(this,void 0,void 0,function*(){return this.findText})}writeFindText(y){return Ie(this,void 0,void 0,function*(){this.findText=y})}}e.BrowserClipboardService=k}),define(Q[545],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var S;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(S=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(Q[546],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class S{constructor(M){this.value=M,this._lower=M.toLowerCase()}static toKey(M){return typeof M=="string"?M.toLowerCase():M._lower}}e.ExtensionIdentifier=S}),define(Q[238],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var S;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(S=e.FileKind||(e.FileKind={}))}),define(Q[239],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class S{constructor(M,y=[],w=!1){this.ctor=M,this.staticArguments=y,this.supportsDelayedInstantiation=w}}e.SyncDescriptor=S}),define(Q[75],J([0,1,239]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function M(w,p,v){p instanceof S.SyncDescriptor||(p=new S.SyncDescriptor(p,[],v)),k.push([w,p])}e.registerSingleton=M;function y(){return k}e.getSingletonServiceDescriptors=y}),define(Q[547],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class S{constructor(y){this.incoming=new Map,this.outgoing=new Map,this.data=y}}e.Node=S;class k{constructor(y){this._hashFn=y,this._nodes=new Map}roots(){const y=[];for(let w of this._nodes.values())w.outgoing.size===0&&y.push(w);return y}insertEdge(y,w){const p=this.lookupOrInsertNode(y),v=this.lookupOrInsertNode(w);p.outgoing.set(this._hashFn(w),v),v.incoming.set(this._hashFn(y),p)}removeNode(y){const w=this._hashFn(y);this._nodes.delete(w);for(let p of this._nodes.values())p.outgoing.delete(w),p.incoming.delete(w)}lookupOrInsertNode(y){const w=this._hashFn(y);let p=this._nodes.get(w);return p||(p=new S(y),this._nodes.set(w,p)),p}isEmpty(){return this._nodes.size===0}toString(){let y=[];for(let[w,p]of this._nodes)y.push(`${w}, (incoming)[${[...p.incoming.keys()].join(", ")}], (outgoing)[${[...p.outgoing.keys()].join(",")}]`);return y.join(`
`)}findCycleSlow(){for(let[y,w]of this._nodes){const p=new Set([y]),v=this._findCycle(w,p);if(v)return v}}_findCycle(y,w){for(let[p,v]of y.outgoing){if(w.has(p))return[...w,p].join(" -> ");w.add(p);const i=this._findCycle(v,w);if(i)return i;w.delete(p)}}}e.Graph=k}),define(Q[9],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var S;(function(w){w.serviceIds=new Map,w.DI_TARGET="$di$target",w.DI_DEPENDENCIES="$di$dependencies";function p(v){return v[w.DI_DEPENDENCIES]||[]}w.getServiceDependencies=p})(S=e._util||(e._util={})),e.IInstantiationService=M("instantiationService");function k(w,p,v,i){p[S.DI_TARGET]===p?p[S.DI_DEPENDENCIES].push({id:w,index:v,optional:i}):(p[S.DI_DEPENDENCIES]=[{id:w,index:v,optional:i}],p[S.DI_TARGET]=p)}function M(w){if(S.serviceIds.has(w))return S.serviceIds.get(w);const p=function(v,i,_){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(p,v,_,!1)};return p.toString=()=>w,S.serviceIds.set(w,p),p}e.createDecorator=M;function y(w){return function(p,v,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");k(w,p,i,!0)}}e.optional=y}),define(Q[134],J([0,1,9,24,20]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=S.createDecorator("IWorkspaceEditService");function y(_){return M.isObject(_)&&(Boolean(_.newUri)||Boolean(_.oldUri))}function w(_){return M.isObject(_)&&k.URI.isUri(_.resource)&&M.isObject(_.edit)}class p{constructor(s){this.metadata=s}static convert(s){return s.edits.map(a=>{if(w(a))return new v(a.resource,a.edit,a.modelVersionId,a.metadata);if(y(a))return new i(a.oldUri,a.newUri,a.options,a.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=p;class v extends p{constructor(s,a,u,c){super(c);this.resource=s,this.textEdit=a,this.versionId=u}}e.ResourceTextEdit=v;class i extends p{constructor(s,a,u,c){super(c);this.oldResource=s,this.newResource=a,this.options=u}}e.ResourceFileEdit=i}),define(Q[28],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=S.createDecorator("codeEditorService")}),define(Q[76],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=S.createDecorator(e.ID_EDITOR_WORKER_SERVICE)}),define(Q[181],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=S.createDecorator("markerDecorationsService")}),define(Q[58],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=S.createDecorator("modeService")}),define(Q[36],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=S.createDecorator("modelService");function k(M){return!M.isTooLargeForSyncing()&&!M.isForSimpleWidget}e.shouldSynchronizeModel=k}),define(Q[135],J([0,1,6,91,2,50,101,382,36]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(a){return typeof a=="string"?!1:Array.isArray(a)?a.every(i):!!a.exclusive}class _{constructor(){this._clock=0,this._entries=[],this._onDidChange=new S.Emitter}get onDidChange(){return this._onDidChange.event}register(u,c){let d={selector:u,provider:c,_score:-1,_time:this._clock++};return this._entries.push(d),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),M.toDisposable(()=>{if(d){let r=this._entries.indexOf(d);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),d=void 0)}})}has(u){return this.all(u).length>0}all(u){if(!u)return[];this._updateScores(u);const c=[];for(let d of this._entries)d._score>0&&c.push(d.provider);return c}ordered(u){const c=[];return this._orderedForEach(u,d=>c.push(d.provider)),c}orderedGroups(u){const c=[];let d,r;return this._orderedForEach(u,n=>{d&&r===n._score?d.push(n.provider):(r=n._score,d=[n.provider],c.push(d))}),c}_orderedForEach(u,c){if(!!u){this._updateScores(u);for(const d of this._entries)d._score>0&&c(d)}}_updateScores(u){let c={uri:u.uri.toString(),language:u.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===c.language&&this._lastCandidate.uri===c.uri)){this._lastCandidate=c;for(let d of this._entries)if(d._score=p.score(d.selector,u.uri,u.getLanguageIdentifier().language,v.shouldSynchronizeModel(u)),i(d.selector)&&d._score>0){for(let r of this._entries)r._score=0;d._score=1e3;break}this._entries.sort(_._compareByScoreAndTime)}}static _compareByScoreAndTime(u,c){return u._score<c._score?1:u._score>c._score?-1:u._time<c._time?1:u._time>c._time?-1:0}}e.LanguageFeatureRegistry=_;class s{constructor(u,c,d=Number.MAX_SAFE_INTEGER){this._registry=u,this.min=c,this.max=d,this._cache=new y.LRUCache(50,.7)}_key(u){return u.id+k.hash(this._registry.all(u))}_clamp(u){return u===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(u*1.3)))}get(u){const c=this._key(u),d=this._cache.get(c);return this._clamp(d==null?void 0:d.value)}update(u,c){const d=this._key(u);let r=this._cache.get(d);return r||(r=new w.MovingAverage,this._cache.set(d,r)),r.update(c),this.get(u)}}e.LanguageFeatureRequestDelays=s}),define(Q[18],J([0,1,24,3,135,390,27]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class p{constructor(n,o){this.language=n,this.id=o}}e.LanguageIdentifier=p;class v{static getLanguageId(n){return(n&255)>>>0}static getTokenType(n){return(n&1792)>>>8}static getFontStyle(n){return(n&14336)>>>11}static getForeground(n){return(n&8372224)>>>14}static getBackground(n){return(n&4286578688)>>>23}static getClassNameFromMetadata(n){let o=this.getForeground(n),t="mtk"+o,l=this.getFontStyle(n);return l&1&&(t+=" mtki"),l&2&&(t+=" mtkb"),l&4&&(t+=" mtku"),t}static getInlineStyleFromMetadata(n,o){const t=this.getForeground(n),l=this.getFontStyle(n);let h=`color: ${o[t]};`;return l&1&&(h+="font-style: italic;"),l&2&&(h+="font-weight: bold;"),l&4&&(h+="text-decoration: underline;"),h}}e.TokenMetadata=v,e.completionKindToCssClass=function(){let r=Object.create(null);return r[0]="symbol-method",r[1]="symbol-function",r[2]="symbol-constructor",r[3]="symbol-field",r[4]="symbol-variable",r[5]="symbol-class",r[6]="symbol-struct",r[7]="symbol-interface",r[8]="symbol-module",r[9]="symbol-property",r[10]="symbol-event",r[11]="symbol-operator",r[12]="symbol-unit",r[13]="symbol-value",r[14]="symbol-constant",r[15]="symbol-enum",r[16]="symbol-enum-member",r[17]="symbol-keyword",r[27]="symbol-snippet",r[18]="symbol-text",r[19]="symbol-color",r[20]="symbol-file",r[21]="symbol-reference",r[22]="symbol-customcolor",r[23]="symbol-folder",r[24]="symbol-type-parameter",r[25]="account",r[26]="issues",function(n){const o=r[n];let t=o&&w.iconRegistry.get(o);return t||(console.info("No codicon found for CompletionItemKind "+n),t=w.Codicon.symbolProperty),t.classNames}}(),e.completionKindFromString=function(){let r=Object.create(null);return r.method=0,r.function=1,r.constructor=2,r.field=3,r.variable=4,r.class=5,r.struct=6,r.interface=7,r.module=8,r.property=9,r.event=10,r.operator=11,r.unit=12,r.value=13,r.constant=14,r.enum=15,r["enum-member"]=16,r.enumMember=16,r.keyword=17,r.snippet=27,r.text=18,r.color=19,r.file=20,r.reference=21,r.customcolor=22,r.folder=23,r["type-parameter"]=24,r.typeParameter=24,r.account=25,r.issue=26,function(n,o){let t=r[n];return typeof t=="undefined"&&!o&&(t=9),t}}();var i;(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var _;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(_=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var s;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(s=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function a(r){return r&&S.URI.isUri(r.uri)&&k.Range.isIRange(r.range)&&(k.Range.isIRange(r.originSelectionRange)||k.Range.isIRange(r.targetSelectionRange))}e.isLocationLink=a;var u;(function(r){const n=new Map;n.set("file",0),n.set("module",1),n.set("namespace",2),n.set("package",3),n.set("class",4),n.set("method",5),n.set("property",6),n.set("field",7),n.set("constructor",8),n.set("enum",9),n.set("interface",10),n.set("function",11),n.set("variable",12),n.set("constant",13),n.set("string",14),n.set("number",15),n.set("boolean",16),n.set("array",17),n.set("object",18),n.set("key",19),n.set("null",20),n.set("enum-member",21),n.set("struct",22),n.set("event",23),n.set("operator",24),n.set("type-parameter",25);const o=new Map;o.set(0,"file"),o.set(1,"module"),o.set(2,"namespace"),o.set(3,"package"),o.set(4,"class"),o.set(5,"method"),o.set(6,"property"),o.set(7,"field"),o.set(8,"constructor"),o.set(9,"enum"),o.set(10,"interface"),o.set(11,"function"),o.set(12,"variable"),o.set(13,"constant"),o.set(14,"string"),o.set(15,"number"),o.set(16,"boolean"),o.set(17,"array"),o.set(18,"object"),o.set(19,"key"),o.set(20,"null"),o.set(21,"enum-member"),o.set(22,"struct"),o.set(23,"event"),o.set(24,"operator"),o.set(25,"type-parameter");function t(m){return n.get(m)}r.fromString=t;function l(m){return o.get(m)}r.toString=l;function h(m,C){const g=o.get(m);let f=g&&w.iconRegistry.get("symbol-"+g);return f||(console.info("No codicon found for SymbolKind "+m),f=w.Codicon.symbolProperty),`${C?"inline":"block"} ${f.classNames}`}r.toCssClassName=h})(u=e.SymbolKinds||(e.SymbolKinds={}));class c{constructor(n){this.value=n}}e.FoldingRangeKind=c,c.Comment=new c("comment"),c.Imports=new c("imports"),c.Region=new c("region");var d;(function(r){r[r.Other=0]="Other",r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new M.LanguageFeatureRegistry,e.RenameProviderRegistry=new M.LanguageFeatureRegistry,e.CompletionProviderRegistry=new M.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new M.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new M.LanguageFeatureRegistry,e.HoverProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new M.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new M.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new M.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new M.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new M.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.LinkProviderRegistry=new M.LanguageFeatureRegistry,e.ColorProviderRegistry=new M.LanguageFeatureRegistry,e.SelectionRangeRegistry=new M.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.TokenizationRegistry=new y.TokenizationRegistryImpl}),define(Q[96],J([0,1,18]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class k{constructor(w,p){this._tokens=w,this._tokensCount=this._tokens.length>>>1,this._text=p}static createEmpty(w){const p=(0<<11|1<<14|2<<23)>>>0,v=new Uint32Array(2);return v[0]=w.length,v[1]=p,new k(v,w)}equals(w){return w instanceof k?this.slicedEquals(w,0,this._tokensCount):!1}slicedEquals(w,p,v){if(this._text!==w._text||this._tokensCount!==w._tokensCount)return!1;const i=p<<1,_=i+(v<<1);for(let s=i;s<_;s++)if(this._tokens[s]!==w._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(w){return w>0?this._tokens[w-1<<1]:0}getMetadata(w){return this._tokens[(w<<1)+1]}getLanguageId(w){const p=this._tokens[(w<<1)+1];return S.TokenMetadata.getLanguageId(p)}getStandardTokenType(w){const p=this._tokens[(w<<1)+1];return S.TokenMetadata.getTokenType(p)}getForeground(w){const p=this._tokens[(w<<1)+1];return S.TokenMetadata.getForeground(p)}getClassName(w){const p=this._tokens[(w<<1)+1];return S.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(w,p){const v=this._tokens[(w<<1)+1];return S.TokenMetadata.getInlineStyleFromMetadata(v,p)}getEndOffset(w){return this._tokens[w<<1]}findTokenIndexAtOffset(w){return k.findIndexInTokensArray(this._tokens,w)}inflate(){return this}sliceAndInflate(w,p,v){return new M(this,w,p,v)}static convertToEndOffset(w,p){const i=(w.length>>>1)-1;for(let _=0;_<i;_++)w[_<<1]=w[_+1<<1];w[i<<1]=p}static findIndexInTokensArray(w,p){if(w.length<=2)return 0;let v=0,i=(w.length>>>1)-1;for(;v<i;){const _=v+Math.floor((i-v)/2),s=w[_<<1];if(s===p)return _+1;s<p?v=_+1:s>p&&(i=_)}return v}}e.LineTokens=k;class M{constructor(w,p,v,i){this._source=w,this._startOffset=p,this._endOffset=v,this._deltaOffset=i,this._firstTokenIndex=w.findTokenIndexAtOffset(p),this._tokensCount=0;for(let _=this._firstTokenIndex,s=w.getCount();_<s&&!(w.getStartOffset(_)>=v);_++)this._tokensCount++}equals(w){return w instanceof M?this._startOffset===w._startOffset&&this._endOffset===w._endOffset&&this._deltaOffset===w._deltaOffset&&this._source.slicedEquals(w._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(w){return this._source.getForeground(this._firstTokenIndex+w)}getEndOffset(w){const p=this._source.getEndOffset(this._firstTokenIndex+w);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(w){return this._source.getClassName(this._firstTokenIndex+w)}getInlineStyle(w,p){return this._source.getInlineStyle(this._firstTokenIndex+w,p)}findTokenIndexAtOffset(w){return this._source.findTokenIndexAtOffset(w+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=M}),define(Q[136],J([0,1,19,96,13,3,18]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function p(o){let t=0,l=0,h=0,m=0;for(let C=0,g=o.length;C<g;C++){const f=o.charCodeAt(C);f===13?(t===0&&(l=C),t++,C+1<g&&o.charCodeAt(C+1)===10?(m|=2,C++):m|=3,h=C+1):f===10&&(m|=1,t===0&&(l=C),t++,h=C+1)}return t===0&&(l=o.length),[t,l,o.length-h,m]}e.countEOL=p;function v(o){return(o<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class _{constructor(){this.tokens=[]}add(t,l){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(l);return}}this.tokens.push(new c(t,[l]))}}e.MultilineTokensBuilder=_;class s{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let l=[];for(let h=0;h<this._tokenCount;h++)l.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${l.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const l=this._getStartCharacter(0),h=this._getDeltaLine(t-1),m=this._getEndCharacter(t-1);return new y.Range(0,l+1,h,m+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let l=0,h=this._getTokenCount()-1;for(;l<h;){const m=l+Math.floor((h-l)/2),C=this._getDeltaLine(m);if(C<t)l=m+1;else if(C>t)h=m-1;else{let g=m;for(;g>l&&this._getDeltaLine(g-1)===t;)g--;let f=m;for(;f<h&&this._getDeltaLine(f+1)===t;)f++;return new a(this._tokens.subarray(4*g,4*f+4))}}return this._getDeltaLine(l)===t?new a(this._tokens.subarray(4*l,4*l+4)):null}clear(){this._tokenCount=0}removeTokens(t,l,h,m){const C=this._tokens,g=this._tokenCount;let f=0,b=!1,L=0;for(let N=0;N<g;N++){const D=4*N,I=C[D],T=C[D+1],A=C[D+2],R=C[D+3];if((I>t||I===t&&A>=l)&&(I<h||I===h&&T<=m))b=!0;else{if(f===0&&(L=I),b){const O=4*f;C[O]=I-L,C[O+1]=T,C[O+2]=A,C[O+3]=R}f++}}return this._tokenCount=f,L}split(t,l,h,m){const C=this._tokens,g=this._tokenCount;let f=[],b=[],L=f,N=0,D=0;for(let I=0;I<g;I++){const T=4*I,A=C[T],R=C[T+1],O=C[T+2],P=C[T+3];if(A>t||A===t&&O>=l){if(A<h||A===h&&R<=m)continue;L!==b&&(L=b,N=0,D=A)}L[N++]=A-D,L[N++]=R,L[N++]=O,L[N++]=P}return[new s(new Uint32Array(f)),new s(new Uint32Array(b)),D]}acceptDeleteRange(t,l,h,m,C){const g=this._tokens,f=this._tokenCount,b=m-l;let L=0,N=!1;for(let D=0;D<f;D++){const I=4*D;let T=g[I],A=g[I+1],R=g[I+2];const O=g[I+3];if(T<l||T===l&&R<=h){L++;continue}else if(T===l&&A<h)T===m&&R>C?R-=C-h:R=h;else if(T===l&&A===h)if(T===m&&R>C)R-=C-h;else{N=!0;continue}else if(T<m||T===m&&A<C)if(T===m&&R>C)T===l?(A=h,R=A+(R-C)):(A=0,R=A+(R-C));else{N=!0;continue}else if(T>m){if(b===0&&!N){L=f;break}T-=b}else if(T===m&&A>=C)t&&T===0&&(A+=t,R+=t),T-=b,A-=C-h,R-=C-h;else throw new Error("Not possible!");const P=4*L;g[P]=T,g[P+1]=A,g[P+2]=R,g[P+3]=O,L++}this._tokenCount=L}acceptInsertText(t,l,h,m,C,g){const f=h===0&&m===1&&(g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122),b=this._tokens,L=this._tokenCount;for(let N=0;N<L;N++){const D=4*N;let I=b[D],T=b[D+1],A=b[D+2];if(!(I<t||I===t&&A<l)){if(I===t&&A===l)if(f)A+=1;else continue;else if(I===t&&T<l&&l<A)h===0?A+=m:A=l;else{if(I===t&&T===l&&f)continue;if(I===t)if(I+=h,h===0)T+=m,A+=m;else{const R=A-T;T=C+(T-l),A=T+R}else I+=h}b[D]=I,b[D+1]=T,b[D+2]=A}}}}e.SparseEncodedTokens=s;class a{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=a;class u{constructor(t,l){this.startLineNumber=t,this.tokens=l,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new y.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const l=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(l,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const l=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[m,C,g]=this.tokens.split(l,t.startColumn-1,h,t.endColumn-1);return[new u(this.startLineNumber,m),new u(this.startLineNumber+g,C)]}applyEdit(t,l){const[h,m,C]=p(l);this.acceptEdit(t,h,m,C,l.length>0?l.charCodeAt(0):0)}acceptEdit(t,l,h,m,C){this._acceptDeleteRange(t),this._acceptInsertText(new M.Position(t.startLineNumber,t.startColumn),l,h,m,C),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const l=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const C=h-l;this.startLineNumber-=C;return}const m=this.tokens.getMaxDeltaLine();if(!(l>=m+1)){if(l<0&&h>=m+1){this.startLineNumber=0,this.tokens.clear();return}if(l<0){const C=-l;this.startLineNumber-=C,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,l,t.startColumn-1,h,t.endColumn-1)}}_acceptInsertText(t,l,h,m,C){if(l===0&&h===0)return;const g=t.lineNumber-this.startLineNumber;if(g<0){this.startLineNumber+=l;return}const f=this.tokens.getMaxDeltaLine();g>=f+1||this.tokens.acceptInsertText(g,t.column-1,l,h,m,C)}}e.MultilineTokens2=u;class c{constructor(t,l){this.startLineNumber=t,this.tokens=l}}e.MultilineTokens=c;function d(o){return o instanceof Uint32Array?o:new Uint32Array(o)}class r{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,l){this._pieces=t||[],this._isComplete=l}setPartial(t,l){let h=t;if(l.length>0){const C=l[0].getRange(),g=l[l.length-1].getRange();if(!C||!g)return t;h=t.plusRange(C).plusRange(g)}let m=null;for(let C=0,g=this._pieces.length;C<g;C++){const f=this._pieces[C];if(f.endLineNumber<h.startLineNumber)continue;if(f.startLineNumber>h.endLineNumber){m=m||{index:C};break}if(f.removeTokens(h),f.isEmpty()){this._pieces.splice(C,1),C--,g--;continue}if(f.endLineNumber<h.startLineNumber)continue;if(f.startLineNumber>h.endLineNumber){m=m||{index:C};continue}const[b,L]=f.split(h);if(b.isEmpty()){m=m||{index:C};continue}L.isEmpty()||(this._pieces.splice(C,1,b,L),C++,g++,m=m||{index:C})}return m=m||{index:this._pieces.length},l.length>0&&(this._pieces=S.arrayInsert(this._pieces,m.index,l)),h}isComplete(){return this._isComplete}addSemanticTokens(t,l){const h=this._pieces;if(h.length===0)return l;const m=r._findFirstPieceWithLine(h,t),C=h[m].getLineTokens(t);if(!C)return l;const g=l.getCount(),f=C.getCount();let b=0,L=[],N=0,D=0;const I=(T,A)=>{T!==D&&(D=T,L[N++]=T,L[N++]=A)};for(let T=0;T<f;T++){const A=C.getStartCharacter(T),R=C.getEndCharacter(T),O=C.getMetadata(T),P=((O&1?2048:0)|(O&2?4096:0)|(O&4?8192:0)|(O&8?8372224:0)|(O&16?4286578688:0))>>>0,F=~P>>>0;for(;b<g&&l.getEndOffset(b)<=A;)I(l.getEndOffset(b),l.getMetadata(b)),b++;for(b<g&&l.getStartOffset(b)<A&&I(A,l.getMetadata(b));b<g&&l.getEndOffset(b)<R;)I(l.getEndOffset(b),l.getMetadata(b)&F|O&P),b++;if(b<g)I(R,l.getMetadata(b)&F|O&P),l.getEndOffset(b)===R&&b++;else{const E=Math.min(Math.max(0,b-1),g-1);I(R,l.getMetadata(E)&F|O&P)}}for(;b<g;)I(l.getEndOffset(b),l.getMetadata(b)),b++;return new k.LineTokens(new Uint32Array(L),l.getLineContent())}static _findFirstPieceWithLine(t,l){let h=0,m=t.length-1;for(;h<m;){let C=h+Math.floor((m-h)/2);if(t[C].endLineNumber<l)h=C+1;else if(t[C].startLineNumber>l)m=C-1;else{for(;C>h&&t[C-1].startLineNumber<=l&&l<=t[C-1].endLineNumber;)C--;return C}}return h}acceptEdit(t,l,h,m,C){for(const g of this._pieces)g.acceptEdit(t,l,h,m,C)}}e.TokensStore2=r;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,l,h){let m=null;if(l<this._len&&(m=this._lineTokens[l]),m!==null&&m!==i)return new k.LineTokens(d(m),h);let C=new Uint32Array(2);return C[0]=h.length,C[1]=v(t),new k.LineTokens(C,h)}static _massageTokens(t,l,h){const m=h?d(h):null;if(l===0){let C=!1;if(m&&m.length>1&&(C=w.TokenMetadata.getLanguageId(m[1])!==t),!C)return i}if(!m||m.length===0){const C=new Uint32Array(2);return C[0]=l,C[1]=v(t),C.buffer}return m[m.length-2]=l,m.byteOffset===0&&m.byteLength===m.buffer.byteLength?m.buffer:m}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,l){l!==0&&(t+l>this._len&&(l=this._len-t),this._lineTokens.splice(t,l),this._len-=l)}_insertLines(t,l){if(l===0)return;let h=[];for(let m=0;m<l;m++)h[m]=null;this._lineTokens=S.arrayInsert(this._lineTokens,t,h),this._len+=l}setTokens(t,l,h,m,C){const g=n._massageTokens(t,h,m);this._ensureLine(l);const f=this._lineTokens[l];return this._lineTokens[l]=g,C?!n._equals(f,g):!1}static _equals(t,l){if(!t||!l)return!t&&!l;const h=d(t),m=d(l);if(h.length!==m.length)return!1;for(let C=0,g=h.length;C<g;C++)if(h[C]!==m[C])return!1;return!0}acceptEdit(t,l,h){this._acceptDeleteRange(t),this._acceptInsertText(new M.Position(t.startLineNumber,t.startColumn),l,h)}_acceptDeleteRange(t){const l=t.startLineNumber-1;if(l>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[l]=n._delete(this._lineTokens[l],t.startColumn-1,t.endColumn-1);return}this._lineTokens[l]=n._deleteEnding(this._lineTokens[l],t.startColumn-1);const h=t.endLineNumber-1;let m=null;h<this._len&&(m=n._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[l]=n._append(this._lineTokens[l],m),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,l,h){if(l===0&&h===0)return;const m=t.lineNumber-1;if(!(m>=this._len)){if(l===0){this._lineTokens[m]=n._insert(this._lineTokens[m],t.column-1,h);return}this._lineTokens[m]=n._deleteEnding(this._lineTokens[m],t.column-1),this._lineTokens[m]=n._insert(this._lineTokens[m],t.column-1,h),this._insertLines(t.lineNumber,l)}}static _deleteBeginning(t,l){return t===null||t===i?t:n._delete(t,0,l)}static _deleteEnding(t,l){if(t===null||t===i)return t;const h=d(t),m=h[h.length-2];return n._delete(t,l,m)}static _delete(t,l,h){if(t===null||t===i||l===h)return t;const m=d(t),C=m.length>>>1;if(l===0&&m[m.length-2]===h)return i;const g=k.LineTokens.findIndexInTokensArray(m,l),f=g>0?m[g-1<<1]:0,b=m[g<<1];if(h<b){const T=h-l;for(let A=g;A<C;A++)m[A<<1]-=T;return t}let L,N;f!==l?(m[g<<1]=l,L=g+1<<1,N=l):(L=g<<1,N=f);const D=h-l;for(let T=g+1;T<C;T++){const A=m[T<<1]-D;A>N&&(m[L++]=A,m[L++]=m[(T<<1)+1],N=A)}if(L===m.length)return t;let I=new Uint32Array(L);return I.set(m.subarray(0,L),0),I.buffer}static _append(t,l){if(l===i)return t;if(t===i)return l;if(t===null)return t;if(l===null)return null;const h=d(t),m=d(l),C=m.length>>>1;let g=new Uint32Array(h.length+m.length);g.set(h,0);let f=h.length;const b=h[h.length-2];for(let L=0;L<C;L++)g[f++]=m[L<<1]+b,g[f++]=m[(L<<1)+1];return g.buffer}static _insert(t,l,h){if(t===null||t===i)return t;const m=d(t),C=m.length>>>1;let g=k.LineTokens.findIndexInTokensArray(m,l);g>0&&m[g-1<<1]===l&&g--;for(let f=g;f<C;f++)m[f<<1]+=h;return t}}e.TokensStore=n}),define(Q[240],J([0,1,6,8,3,52,220,136,219,2]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class _ extends i.Disposable{constructor(a,u,c,d,r,n,o){super();this._onDidChangeContent=this._register(new S.Emitter),this._BOM=u,this._mightContainNonBasicASCII=!n,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._pieceTree=new w.PieceTreeBase(a,c,o)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(a){return this._pieceTree.createSnapshot(a?this._BOM:"")}getOffsetAt(a,u){return this._pieceTree.getOffsetAt(a,u)}getPositionAt(a){return this._pieceTree.getPositionAt(a)}getRangeAt(a,u){let c=a+u;const d=this.getPositionAt(a),r=this.getPositionAt(c);return new M.Range(d.lineNumber,d.column,r.lineNumber,r.column)}getValueInRange(a,u=0){if(a.isEmpty())return"";const c=this._getEndOfLine(u);return this._pieceTree.getValueInRange(a,c)}getValueLengthInRange(a,u=0){if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;let c=this.getOffsetAt(a.startLineNumber,a.startColumn);return this.getOffsetAt(a.endLineNumber,a.endColumn)-c}getCharacterCountInRange(a,u=0){if(this._mightContainNonBasicASCII){let c=0;const d=a.startLineNumber,r=a.endLineNumber;for(let n=d;n<=r;n++){const o=this.getLineContent(n),t=n===d?a.startColumn-1:0,l=n===r?a.endColumn-1:o.length;for(let h=t;h<l;h++)k.isHighSurrogate(o.charCodeAt(h))?(c=c+1,h=h+1):c=c+1}return c+=this._getEndOfLine(u).length*(r-d),c}return this.getValueLengthInRange(a,u)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(a){return this._pieceTree.getLineContent(a)}getLineCharCode(a,u){return this._pieceTree.getLineCharCode(a,u)}getLineLength(a){return this._pieceTree.getLineLength(a)}getLineFirstNonWhitespaceColumn(a){const u=k.firstNonWhitespaceIndex(this.getLineContent(a));return u===-1?0:u+1}getLineLastNonWhitespaceColumn(a){const u=k.lastNonWhitespaceIndex(this.getLineContent(a));return u===-1?0:u+2}_getEndOfLine(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(a){this._pieceTree.setEOL(a)}applyEdits(a,u,c){let d=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,o=!0,t=[];for(let b=0;b<a.length;b++){let L=a[b];o&&L._isTracked&&(o=!1);let N=L.range;if(L.text){let R=!0;n||(R=!k.isBasicASCII(L.text),n=R),!d&&R&&(d=k.containsRTL(L.text)),!r&&R&&(r=k.containsUnusualLineTerminators(L.text))}let D="",I=0,T=0,A=0;if(L.text){let R;[I,T,A,R]=p.countEOL(L.text);const O=this.getEOL();R===0||R===(O===`\r
`?2:1)?D=L.text:D=L.text.replace(/\r\n|\r|\n/g,O)}t[b]={sortIndex:b,identifier:L.identifier||null,range:N,rangeOffset:this.getOffsetAt(N.startLineNumber,N.startColumn),rangeLength:this.getValueLengthInRange(N),text:D,eolCount:I,firstLineLength:T,lastLineLength:A,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}t.sort(_._sortOpsAscending);let l=!1;for(let b=0,L=t.length-1;b<L;b++){let N=t[b].range.getEndPosition(),D=t[b+1].range.getStartPosition();if(D.isBeforeOrEqual(N)){if(D.isBefore(N))throw new Error("Overlapping ranges are not allowed!");l=!0}}o&&(t=this._reduceOperations(t));let h=c||u?_._getInverseEditRanges(t):[],m=[];if(u)for(let b=0;b<t.length;b++){let L=t[b],N=h[b];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let D=N.startLineNumber;D<=N.endLineNumber;D++){let I="";D===N.startLineNumber&&(I=this.getLineContent(L.range.startLineNumber),k.firstNonWhitespaceIndex(I)!==-1)||m.push({lineNumber:D,oldContent:I})}}let C=null;if(c){let b=0;C=[];for(let L=0;L<t.length;L++){const N=t[L],D=h[L],I=this.getValueInRange(N.range),T=N.rangeOffset+b;b+=N.text.length-I.length,C[L]={sortIndex:N.sortIndex,identifier:N.identifier,range:D,text:I,textChange:new v.TextChange(N.rangeOffset,I,T,N.text)}}l||C.sort((L,N)=>L.sortIndex-N.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=n;const g=this._doApplyEdits(t);let f=null;if(u&&m.length>0){m.sort((b,L)=>L.lineNumber-b.lineNumber),f=[];for(let b=0,L=m.length;b<L;b++){let N=m[b].lineNumber;if(b>0&&m[b-1].lineNumber===N)continue;let D=m[b].oldContent,I=this.getLineContent(N);I.length===0||I===D||k.firstNonWhitespaceIndex(I)!==-1||f.push(N)}}return this._onDidChangeContent.fire(),new y.ApplyEditsResult(C,g,f)}_reduceOperations(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]}_toSingleEditOperation(a){let u=!1;const c=a[0].range,d=a[a.length-1].range,r=new M.Range(c.startLineNumber,c.startColumn,d.endLineNumber,d.endColumn);let n=c.startLineNumber,o=c.startColumn;const t=[];for(let g=0,f=a.length;g<f;g++){const b=a[g],L=b.range;u=u||b.forceMoveMarkers,t.push(this.getValueInRange(new M.Range(n,o,L.startLineNumber,L.startColumn))),b.text.length>0&&t.push(b.text),n=L.endLineNumber,o=L.endColumn}const l=t.join(""),[h,m,C]=p.countEOL(l);return{sortIndex:0,identifier:a[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:l,eolCount:h,firstLineLength:m,lastLineLength:C,forceMoveMarkers:u,isAutoWhitespaceEdit:!1}}_doApplyEdits(a){a.sort(_._sortOpsDescending);let u=[];for(let c=0;c<a.length;c++){let d=a[c];const r=d.range.startLineNumber,n=d.range.startColumn,o=d.range.endLineNumber,t=d.range.endColumn;if(r===o&&n===t&&d.text.length===0)continue;d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const l=new M.Range(r,n,o,t);u.push({range:l,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}return u}findMatchesLineByLine(a,u,c,d){return this._pieceTree.findMatchesLineByLine(a,u,c,d)}static _getInverseEditRanges(a){let u=[],c=0,d=0,r=null;for(let n=0,o=a.length;n<o;n++){let t=a[n],l,h;r?r.range.endLineNumber===t.range.startLineNumber?(l=c,h=d+(t.range.startColumn-r.range.endColumn)):(l=c+(t.range.startLineNumber-r.range.endLineNumber),h=t.range.startColumn):(l=t.range.startLineNumber,h=t.range.startColumn);let m;if(t.text.length>0){const C=t.eolCount+1;C===1?m=new M.Range(l,h,l,h+t.firstLineLength):m=new M.Range(l,h,l+C-1,t.lastLineLength+1)}else m=new M.Range(l,h,l,h);c=m.endLineNumber,d=m.endColumn,u.push(m),r=t}return u}static _sortOpsAscending(a,u){let c=M.Range.compareRangesUsingEnds(a.range,u.range);return c===0?a.sortIndex-u.sortIndex:c}static _sortOpsDescending(a,u){let c=M.Range.compareRangesUsingEnds(a.range,u.range);return c===0?u.sortIndex-a.sortIndex:-c}}e.PieceTreeTextBuffer=_}),define(Q[548],J([0,1,8,220,240]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class y{constructor(v,i,_,s,a,u,c,d,r){this._chunks=v,this._bom=i,this._cr=_,this._lf=s,this._crlf=a,this._containsRTL=u,this._containsUnusualLineTerminators=c,this._isBasicASCII=d,this._normalizeEOL=r}_getEOL(v){const i=this._cr+this._lf+this._crlf,_=this._cr+this._crlf;return i===0?v===1?`
`:`\r
`:_>i/2?`\r
`:`
`}create(v){const i=this._getEOL(v);let _=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,u=_.length;a<u;a++){let c=_[a].buffer.replace(/\r\n|\r|\n/g,i),d=k.createLineStartsFast(c);_[a]=new k.StringBuffer(c,d)}const s=new M.PieceTreeTextBuffer(_,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}e.PieceTreeTextBufferFactory=y;class w{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&S.startsWithUTF8BOM(v)&&(this.BOM=S.UTF8_BOM_CHARACTER,v=v.substr(1));const i=v.charCodeAt(v.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=i)}_acceptChunk1(v,i){!i&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const i=k.createLineStarts(this._tmpLineStarts,v);this.chunks.push(new k.StringBuffer(v,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=S.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=S.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new y(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);let i=k.createLineStartsFast(v.buffer);v.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=w}),define(Q[77],J([0,1,131,18]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class M{clone(){return this}equals(v){return this===v}}e.NULL_STATE=new M,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.NULL_MODE_ID,0);function y(p,v,i,_){return new S.TokenizationResult([new S.Token(_,"",p)],i)}e.nullTokenize=y;function w(p,v,i,_){let s=new Uint32Array(2);return s[0]=_,s[1]=(p<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new S.TokenizationResult2(s,i===null?e.NULL_STATE:i)}e.nullTokenize2=w}),define(Q[549],J([0,1,19,12,96,13,18,77,2,81,136,17]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class a{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,o){o!==0&&(n+o>this._len&&(o=this._len-n),this._beginState.splice(n,o),this._valid.splice(n,o),this._len-=o)}_insertLines(n,o){if(o===0)return;let t=[],l=[];for(let h=0;h<o;h++)t[h]=null,l[h]=!1;this._beginState=S.arrayInsert(this._beginState,n,t),this._valid=S.arrayInsert(this._valid,n,l),this._len+=o}_setValid(n,o){this._ensureLine(n),this._valid[n]=o}_setBeginState(n,o){this._ensureLine(n),this._beginState[n]=o}setEndState(n,o,t){if(this._setValid(o,!0),this._invalidLineStartIndex=o+1,o===n-1)return;const l=this.getBeginState(o+1);if(l===null||!t.equals(l)){this._setBeginState(o+1,t),this._invalidateLine(o+1);return}let h=o+1;for(;h<n&&this._isValid(h);)h++;this._invalidLineStartIndex=h}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,o){const t=n.endLineNumber-n.startLineNumber,h=Math.min(t,o);for(let m=h;m>=0;m--)this._invalidateLine(n.startLineNumber+m-1);this._acceptDeleteRange(n),this._acceptInsertText(new y.Position(n.startLineNumber,n.startColumn),o)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,o){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,o)}}e.TokenizationStateStore=a;class u extends v.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new a,this._tokenizationSupport=null,this._register(w.TokenizationRegistry.onDidChange(o=>{const t=this._textModel.getLanguageIdentifier();o.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(o=>{if(o.containsEvent(1)){this._resetTokenizationState();return}})),this._register(this._textModel.onDidChangeContentFast(o=>{for(let t=0,l=o.changes.length;t<l;t++){const h=o.changes[t],[m]=_.countEOL(h.text);this._tokenizationStateStore.applyEdits(h.range,m)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,o]=c(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(o),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&s.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(n=this._textModel.getLineCount()){const o=1,t=new _.MultilineTokensBuilder,l=i.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(l.elapsed()>o||this._tokenizeOneInvalidLine(t)>=n););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(n,o){const t=new _.MultilineTokensBuilder;this._tokenizeViewport(t,n,o),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const o=new _.MultilineTokensBuilder;this._updateTokensUntilLine(o,n),this._textModel.setTokens(o.tokens)}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const o=this._tokenizationStateStore.invalidLineStartIndex+1;return n>o?!1:n<o||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const o=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,o),o}_updateTokensUntilLine(n,o){if(!this._tokenizationSupport)return;const t=this._textModel.getLanguageIdentifier(),l=this._textModel.getLineCount(),h=o-1;for(let m=this._tokenizationStateStore.invalidLineStartIndex;m<=h;m++){const C=this._textModel.getLineContent(m+1),g=this._tokenizationStateStore.getBeginState(m),f=d(t,this._tokenizationSupport,C,!0,g);n.add(m+1,f.tokens),this._tokenizationStateStore.setEndState(l,m,f.endState),m=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(n,o,t){if(!this._tokenizationSupport||t<=this._tokenizationStateStore.invalidLineStartIndex)return;if(o<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let l=this._textModel.getLineFirstNonWhitespaceColumn(o),h=[],m=null;for(let f=o-1;l>0&&f>=1;f--){let b=this._textModel.getLineFirstNonWhitespaceColumn(f);if(b!==0&&b<l){if(m=this._tokenizationStateStore.getBeginState(f-1),m)break;h.push(this._textModel.getLineContent(f)),l=b}}m||(m=this._tokenizationSupport.getInitialState());const C=this._textModel.getLanguageIdentifier();let g=m;for(let f=h.length-1;f>=0;f--)g=d(C,this._tokenizationSupport,h[f],!1,g).endState;for(let f=o;f<=t;f++){let b=this._textModel.getLineContent(f),L=d(C,this._tokenizationSupport,b,!0,g);n.add(f,L.tokens),this._tokenizationStateStore.setFakeTokens(f-1),g=L.endState}}}e.TextModelTokenization=u;function c(r){const n=r.getLanguageIdentifier();let o=r.isTooLargeForTokenization()?null:w.TokenizationRegistry.get(n.language),t=null;if(o)try{t=o.getInitialState()}catch(l){k.onUnexpectedError(l),o=null}return[o,t]}function d(r,n,o,t,l){let h=null;if(n)try{h=n.tokenize2(o,t,l.clone(),0)}catch(m){k.onUnexpectedError(m)}return h||(h=p.nullTokenize2(r.id,o,l,0)),M.LineTokens.convertToEndOffset(h.tokens,o.length),h}}),define(Q[31],J([0,1,12,6,2,8,24,35,13,3,21,52,237,377,378,548,380,168,549,132,43,77,169,170,136,29,240]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function L(){return new d.PieceTreeTextBufferBuilder}function N(B){const W=L();return W.acceptChunk(B),W.finish()}e.createTextBufferFactory=N;function D(B,W){return(typeof B=="string"?N(B):B).create(W)}e.createTextBuffer=D;let I=0;const T=999;e.LONG_LINE_BOUNDARY=1e4;class A{constructor(W){this._source=W,this._eos=!1}read(){if(this._eos)return null;let W=[],V=0,z=0;do{let U=this._source.read();if(U===null)return this._eos=!0,V===0?null:W.join("");if(U.length>0&&(W[V++]=U,z+=U.length),z>=64*1024)return W.join("")}while(!0)}}const R=()=>{throw new Error("Invalid change accessor")};class O{constructor(){this._searchCanceledBrand=void 0}}O.INSTANCE=new O;function P(B){return B instanceof O?null:B}class F extends M.Disposable{constructor(W,V,z,U=null,X){super();this._onWillDispose=this._register(new k.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new de),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new k.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new k.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new k.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new k.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new k.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new Y),I++,this.id="$model"+I,this.isForSimpleWidget=V.isForSimpleWidget,typeof U=="undefined"||U===null?this._associatedResource=w.URI.parse("inmemory://model/"+I):this._associatedResource=U,this._undoRedoService=X,this._attachedEditorCount=0;const{textBuffer:te,disposable:se}=D(W,V.defaultEOL);this._buffer=te,this._bufferDisposable=se,this._options=F.resolveOptions(this._buffer,V);const le=this._buffer.getLineCount(),ue=this._buffer.getValueLengthInRange(new i.Range(1,1,le,this._buffer.getLineLength(le)+1),0);V.largeFileOptimizations?this._isTooLargeForTokenization=ue>F.LARGE_FILE_SIZE_THRESHOLD||le>F.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ue>F.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=z||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=l.LanguageConfigurationRegistry.onDidChange(re=>{re.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=y.singleLetterHash(I),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new x,this._commandManager=new a.EditStack(this,X),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new g.TokensStore,this._tokens2=new g.TokensStore2,this._tokenization=new o.TextModelTokenization(this)}static resolveOptions(W,V){if(V.detectIndentation){const z=u.guessIndentation(W,V.tabSize,V.insertSpaces);return new s.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:V.trimAutoWhitespace,defaultEOL:V.defaultEOL})}return new s.TextModelResolvedOptions({tabSize:V.tabSize,indentSize:V.indentSize,insertSpaces:V.insertSpaces,trimAutoWhitespace:V.trimAutoWhitespace,defaultEOL:V.defaultEOL})}onDidChangeRawContentFast(W){return this._eventEmitter.fastEvent(V=>W(V.rawContentChangedEvent))}onDidChangeContentFast(W){return this._eventEmitter.fastEvent(V=>W(V.contentChangedEvent))}onDidChangeContent(W){return this._eventEmitter.slowEvent(V=>W(V.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const W=new b.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);W.dispose(),this._buffer=W}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(W,V){this._isDisposing||this._eventEmitter.fire(new r.InternalModelContentChangeEvent(W,V))}setValue(W){if(this._assertNotDisposed(),W===null)return;const{textBuffer:V,disposable:z}=D(W,this._options.defaultEOL);this._setValueFromTextBuffer(V,z)}_createContentChanged2(W,V,z,U,X,te,se){return{changes:[{range:W,rangeOffset:V,rangeLength:z,text:U}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:X,isRedoing:te,isFlush:se}}_setValueFromTextBuffer(W,V){this._assertNotDisposed();const z=this.getFullModelRange(),U=this.getValueLengthInRange(z),X=this.getLineCount(),te=this.getLineMaxColumn(X);this._buffer=W,this._bufferDisposable.dispose(),this._bufferDisposable=V,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new x,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,X,te),0,U,this.getValue(),!1,!1,!0))}setEOL(W){this._assertNotDisposed();const V=W===1?`\r
`:`
`;if(this._buffer.getEOL()===V)return;const z=this.getFullModelRange(),U=this.getValueLengthInRange(z),X=this.getLineCount(),te=this.getLineMaxColumn(X);this._onBeforeEOLChange(),this._buffer.setEOL(V),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,X,te),0,U,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const W=this.getVersionId(),V=this._decorationsTree.search(0,!1,!1,W);this._ensureNodesHaveRanges(V)}_onAfterEOLChange(){const W=this.getVersionId(),V=this._decorationsTree.collectNodesPostOrder();for(let z=0,U=V.length;z<U;z++){const X=V[z],te=X.cachedAbsoluteStart-X.start,se=this._buffer.getOffsetAt(X.range.startLineNumber,X.range.startColumn),le=this._buffer.getOffsetAt(X.range.endLineNumber,X.range.endColumn);X.cachedAbsoluteStart=se,X.cachedAbsoluteEnd=le,X.cachedVersionId=W,X.start=se-te,X.end=le-te,c.recomputeMaxEnd(X)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let W=0,V=0;const z=this._buffer.getLineCount();for(let U=1;U<=z;U++){const X=this._buffer.getLineLength(U);X>=e.LONG_LINE_BOUNDARY?V+=X:W+=X}return V>W}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(W){this._assertNotDisposed();let V=typeof W.tabSize!="undefined"?W.tabSize:this._options.tabSize,z=typeof W.indentSize!="undefined"?W.indentSize:this._options.indentSize,U=typeof W.insertSpaces!="undefined"?W.insertSpaces:this._options.insertSpaces,X=typeof W.trimAutoWhitespace!="undefined"?W.trimAutoWhitespace:this._options.trimAutoWhitespace,te=new s.TextModelResolvedOptions({tabSize:V,indentSize:z,insertSpaces:U,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:X});if(this._options.equals(te))return;let se=this._options.createChangeEvent(te);this._options=te,this._onDidChangeOptions.fire(se)}detectIndentation(W,V){this._assertNotDisposed();let z=u.guessIndentation(this._buffer,V,W);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}static _normalizeIndentationFromWhitespace(W,V,z){let U=0;for(let te=0;te<W.length;te++)W.charAt(te)==="	"?U+=V:U++;let X="";if(!z){let te=Math.floor(U/V);U=U%V;for(let se=0;se<te;se++)X+="	"}for(let te=0;te<U;te++)X+=" ";return X}static normalizeIndentation(W,V,z){let U=y.firstNonWhitespaceIndex(W);return U===-1&&(U=W.length),F._normalizeIndentationFromWhitespace(W.substring(0,U),V,z)+W.substring(U)}normalizeIndentation(W){return this._assertNotDisposed(),F.normalizeIndentation(W,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(W=null){const V=this.findMatches(y.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(W,V.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(W){this._assertNotDisposed();let V=this._validatePosition(W.lineNumber,W.column,0);return this._buffer.getOffsetAt(V.lineNumber,V.column)}getPositionAt(W){this._assertNotDisposed();let V=Math.min(this._buffer.getLength(),Math.max(0,W));return this._buffer.getPositionAt(V)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(W){this._versionId=W}_overwriteAlternativeVersionId(W){this._alternativeVersionId=W}_overwriteInitialUndoRedoSnapshot(W){this._initialUndoRedoSnapshot=W}getValue(W,V=!1){this._assertNotDisposed();const z=this.getFullModelRange(),U=this.getValueInRange(z,W);return V?this._buffer.getBOM()+U:U}createSnapshot(W=!1){return new A(this._buffer.createSnapshot(W))}getValueLength(W,V=!1){this._assertNotDisposed();const z=this.getFullModelRange(),U=this.getValueLengthInRange(z,W);return V?this._buffer.getBOM().length+U:U}getValueInRange(W,V=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(W),V)}getValueLengthInRange(W,V=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(W),V)}getCharacterCountInRange(W,V=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(W),V)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(W)}getLineLength(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(W)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(W){return this._assertNotDisposed(),1}getLineMaxColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(W)+1}getLineFirstNonWhitespaceColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(W)}getLineLastNonWhitespaceColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(W)}_validateRangeRelaxedNoAllocations(W){const V=this._buffer.getLineCount(),z=W.startLineNumber,U=W.startColumn;let X=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),te=Math.floor(typeof U=="number"&&!isNaN(U)?U:1);if(X<1)X=1,te=1;else if(X>V)X=V,te=this.getLineMaxColumn(X);else if(te<=1)te=1;else{const ce=this.getLineMaxColumn(X);te>=ce&&(te=ce)}const se=W.endLineNumber,le=W.endColumn;let ue=Math.floor(typeof se=="number"&&!isNaN(se)?se:1),re=Math.floor(typeof le=="number"&&!isNaN(le)?le:1);if(ue<1)ue=1,re=1;else if(ue>V)ue=V,re=this.getLineMaxColumn(ue);else if(re<=1)re=1;else{const ce=this.getLineMaxColumn(ue);re>=ce&&(re=ce)}return z===X&&U===te&&se===ue&&le===re&&W instanceof i.Range&&!(W instanceof _.Selection)?W:new i.Range(X,te,ue,re)}_isValidPosition(W,V,z){if(typeof W!="number"||typeof V!="number"||isNaN(W)||isNaN(V)||W<1||V<1||(W|0)!==W||(V|0)!==V)return!1;const U=this._buffer.getLineCount();if(W>U)return!1;if(V===1)return!0;const X=this.getLineMaxColumn(W);if(V>X)return!1;if(z===1){const te=this._buffer.getLineCharCode(W,V-2);if(y.isHighSurrogate(te))return!1}return!0}_validatePosition(W,V,z){const U=Math.floor(typeof W=="number"&&!isNaN(W)?W:1),X=Math.floor(typeof V=="number"&&!isNaN(V)?V:1),te=this._buffer.getLineCount();if(U<1)return new v.Position(1,1);if(U>te)return new v.Position(te,this.getLineMaxColumn(te));if(X<=1)return new v.Position(U,1);const se=this.getLineMaxColumn(U);if(X>=se)return new v.Position(U,se);if(z===1){const le=this._buffer.getLineCharCode(U,X-2);if(y.isHighSurrogate(le))return new v.Position(U,X-1)}return new v.Position(U,X)}validatePosition(W){const V=1;return this._assertNotDisposed(),W instanceof v.Position&&this._isValidPosition(W.lineNumber,W.column,V)?W:this._validatePosition(W.lineNumber,W.column,V)}_isValidRange(W,V){const z=W.startLineNumber,U=W.startColumn,X=W.endLineNumber,te=W.endColumn;if(!this._isValidPosition(z,U,0)||!this._isValidPosition(X,te,0))return!1;if(V===1){const se=U>1?this._buffer.getLineCharCode(z,U-2):0,le=te>1&&te<=this._buffer.getLineLength(X)?this._buffer.getLineCharCode(X,te-2):0,ue=y.isHighSurrogate(se),re=y.isHighSurrogate(le);return!ue&&!re}return!0}validateRange(W){const V=1;if(this._assertNotDisposed(),W instanceof i.Range&&!(W instanceof _.Selection)&&this._isValidRange(W,V))return W;const z=this._validatePosition(W.startLineNumber,W.startColumn,0),U=this._validatePosition(W.endLineNumber,W.endColumn,0),X=z.lineNumber,te=z.column,se=U.lineNumber,le=U.column;if(V===1){const ue=te>1?this._buffer.getLineCharCode(X,te-2):0,re=le>1&&le<=this._buffer.getLineLength(se)?this._buffer.getLineCharCode(se,le-2):0,ce=y.isHighSurrogate(ue),j=y.isHighSurrogate(re);return!ce&&!j?new i.Range(X,te,se,le):X===se&&te===le?new i.Range(X,te-1,se,le-1):ce&&j?new i.Range(X,te-1,se,le+1):ce?new i.Range(X,te-1,se,le):new i.Range(X,te,se,le+1)}return new i.Range(X,te,se,le)}modifyPosition(W,V){this._assertNotDisposed();let z=this.getOffsetAt(W)+V;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const W=this.getLineCount();return new i.Range(1,1,W,this.getLineMaxColumn(W))}findMatchesLineByLine(W,V,z,U){return this._buffer.findMatchesLineByLine(W,V,z,U)}findMatches(W,V,z,U,X,te,se=T){this._assertNotDisposed();let le=null;V!==null&&(Array.isArray(V)||(V=[V]),V.every(ce=>i.Range.isIRange(ce))&&(le=V.map(ce=>this.validateRange(ce)))),le===null&&(le=[this.getFullModelRange()]),le=le.sort((ce,j)=>ce.startLineNumber-j.startLineNumber||ce.startColumn-j.startColumn);const ue=[];ue.push(le.reduce((ce,j)=>i.Range.areIntersecting(ce,j)?ce.plusRange(j):(ue.push(ce),j)));let re;if(!z&&W.indexOf(`
`)<0){const j=new n.SearchParams(W,z,U,X).parseSearchRequest();if(!j)return[];re=ne=>this.findMatchesLineByLine(ne,j,te,se)}else re=ce=>n.TextModelSearch.findMatches(this,new n.SearchParams(W,z,U,X),ce,te,se);return ue.map(re).reduce((ce,j)=>ce.concat(j),[])}findNextMatch(W,V,z,U,X,te){this._assertNotDisposed();const se=this.validatePosition(V);if(!z&&W.indexOf(`
`)<0){const ue=new n.SearchParams(W,z,U,X).parseSearchRequest();if(!ue)return null;const re=this.getLineCount();let ce=new i.Range(se.lineNumber,se.column,re,this.getLineMaxColumn(re)),j=this.findMatchesLineByLine(ce,ue,te,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(W,z,U,X),se,te),j.length>0||(ce=new i.Range(1,1,se.lineNumber,this.getLineMaxColumn(se.lineNumber)),j=this.findMatchesLineByLine(ce,ue,te,1),j.length>0)?j[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(W,z,U,X),se,te)}findPreviousMatch(W,V,z,U,X,te){this._assertNotDisposed();const se=this.validatePosition(V);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(W,z,U,X),se,te)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(W){if((this.getEOL()===`
`?0:1)!==W)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(W)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(W){return W instanceof s.ValidAnnotatedEditOperation?W:new s.ValidAnnotatedEditOperation(W.identifier||null,this.validateRange(W.range),W.text,W.forceMoveMarkers||!1,W.isAutoWhitespaceEdit||!1,W._isTracked||!1)}_validateEditOperations(W){const V=[];for(let z=0,U=W.length;z<U;z++)V[z]=this._validateEditOperation(W[z]);return V}pushEditOperations(W,V,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(W,this._validateEditOperations(V),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(W,V,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let U=V.map(te=>({range:this.validateRange(te.range),text:te.text})),X=!0;if(W)for(let te=0,se=W.length;te<se;te++){let le=W[te],ue=!1;for(let re=0,ce=U.length;re<ce;re++){let j=U[re].range,ne=j.startLineNumber>le.endLineNumber,Z=le.startLineNumber>j.endLineNumber;if(!ne&&!Z){ue=!0;break}}if(!ue){X=!1;break}}if(X)for(let te=0,se=this._trimAutoWhitespaceLines.length;te<se;te++){let le=this._trimAutoWhitespaceLines[te],ue=this.getLineMaxColumn(le),re=!0;for(let ce=0,j=U.length;ce<j;ce++){let ne=U[ce].range,Z=U[ce].text;if(!(le<ne.startLineNumber||le>ne.endLineNumber)&&!(le===ne.startLineNumber&&ne.startColumn===ue&&ne.isEmpty()&&Z&&Z.length>0&&Z.charAt(0)===`
`)&&!(le===ne.startLineNumber&&ne.startColumn===1&&ne.isEmpty()&&Z&&Z.length>0&&Z.charAt(Z.length-1)===`
`)){re=!1;break}}if(re){const ce=new i.Range(le,1,le,ue);V.push(new s.ValidAnnotatedEditOperation(null,ce,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(W,V,z)}_applyUndo(W,V,z,U){const X=W.map(te=>{const se=this.getPositionAt(te.newPosition),le=this.getPositionAt(te.newEnd);return{range:new i.Range(se.lineNumber,se.column,le.lineNumber,le.column),text:te.oldText}});this._applyUndoRedoEdits(X,V,!0,!1,z,U)}_applyRedo(W,V,z,U){const X=W.map(te=>{const se=this.getPositionAt(te.oldPosition),le=this.getPositionAt(te.oldEnd);return{range:new i.Range(se.lineNumber,se.column,le.lineNumber,le.column),text:te.newText}});this._applyUndoRedoEdits(X,V,!1,!0,z,U)}_applyUndoRedoEdits(W,V,z,U,X,te){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=U,this.applyEdits(W,!1),this.setEOL(V),this._overwriteAlternativeVersionId(X)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(te),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(W,V=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(W);return this._doApplyEdits(z,V)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(W,V){const z=this._buffer.getLineCount(),U=this._buffer.applyEdits(W,this._options.trimAutoWhitespace,V),X=this._buffer.getLineCount(),te=U.changes;if(this._trimAutoWhitespaceLines=U.trimAutoWhitespaceLineNumbers,te.length!==0){let se=[],le=z;for(let ue=0,re=te.length;ue<re;ue++){const ce=te[ue],[j,ne,Z]=g.countEOL(ce.text);this._tokens.acceptEdit(ce.range,j,ne),this._tokens2.acceptEdit(ce.range,j,ne,Z,ce.text.length>0?ce.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(ce.rangeOffset,ce.rangeLength,ce.text.length,ce.forceMoveMarkers);const oe=ce.range.startLineNumber,fe=ce.range.endLineNumber,_e=fe-oe,be=j,Le=Math.min(_e,be),Ee=be-_e;for(let Re=Le;Re>=0;Re--){const De=oe+Re,Te=X-le-Ee+De;se.push(new r.ModelRawLineChanged(De,this.getLineContent(Te)))}if(Le<_e){const Re=oe+Le;se.push(new r.ModelRawLinesDeleted(Re+1,fe))}if(Le<be){const Re=oe+Le,De=be-Le,Te=X-le-De+Re+1;let we=[];for(let Se=0;Se<De;Se++){let ye=Te+Se;we[ye-Te]=this.getLineContent(ye)}se.push(new r.ModelRawLinesInserted(Re+1,oe+be,we))}le+=Ee}this._increaseVersionId(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent(se,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:te,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return U.reverseEdits===null?void 0:U.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(W,V=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(V,W)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(W,V){let z={addDecoration:(X,te)=>this._deltaDecorationsImpl(W,[],[{range:X,options:te}])[0],changeDecoration:(X,te)=>{this._changeDecorationImpl(X,te)},changeDecorationOptions:(X,te)=>{this._changeDecorationOptionsImpl(X,ae(te))},removeDecoration:X=>{this._deltaDecorationsImpl(W,[X],[])},deltaDecorations:(X,te)=>X.length===0&&te.length===0?[]:this._deltaDecorationsImpl(W,X,te)},U=null;try{U=V(z)}catch(X){S.onUnexpectedError(X)}return z.addDecoration=R,z.changeDecoration=R,z.changeDecorationOptions=R,z.removeDecoration=R,z.deltaDecorations=R,U}deltaDecorations(W,V,z=0){if(this._assertNotDisposed(),W||(W=[]),W.length===0&&V.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,W,V)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(W){return this.getDecorationRange(W)}_setTrackedRange(W,V,z){const U=W?this._decorations[W]:null;if(!U)return V?this._deltaDecorationsImpl(0,[],[{range:V,options:ie[z]}])[0]:null;if(!V)return this._decorationsTree.delete(U),delete this._decorations[U.id],null;const X=this._validateRangeRelaxedNoAllocations(V),te=this._buffer.getOffsetAt(X.startLineNumber,X.startColumn),se=this._buffer.getOffsetAt(X.endLineNumber,X.endColumn);return this._decorationsTree.delete(U),U.reset(this.getVersionId(),te,se,X),U.setOptions(ie[z]),this._decorationsTree.insert(U),U.id}removeAllDecorationsWithOwnerId(W){if(this._isDisposed)return;const V=this._decorationsTree.collectNodesFromOwner(W);for(let z=0,U=V.length;z<U;z++){const X=V[z];this._decorationsTree.delete(X),delete this._decorations[X.id]}}getDecorationOptions(W){const V=this._decorations[W];return V?V.options:null}getDecorationRange(W){const V=this._decorations[W];if(!V)return null;const z=this.getVersionId();return V.cachedVersionId!==z&&this._decorationsTree.resolveNode(V,z),V.range===null&&(V.range=this._getRangeAt(V.cachedAbsoluteStart,V.cachedAbsoluteEnd)),V.range}getLineDecorations(W,V=0,z=!1){return W<1||W>this.getLineCount()?[]:this.getLinesDecorations(W,W,V,z)}getLinesDecorations(W,V,z=0,U=!1){let X=this.getLineCount(),te=Math.min(X,Math.max(1,W)),se=Math.min(X,Math.max(1,V)),le=this.getLineMaxColumn(se);return this._getDecorationsInRange(new i.Range(te,1,se,le),z,U)}getDecorationsInRange(W,V=0,z=!1){let U=this.validateRange(W);return this._getDecorationsInRange(U,V,z)}getOverviewRulerDecorations(W=0,V=!1){const z=this.getVersionId(),U=this._decorationsTree.search(W,V,!0,z);return this._ensureNodesHaveRanges(U)}getAllDecorations(W=0,V=!1){const z=this.getVersionId(),U=this._decorationsTree.search(W,V,!1,z);return this._ensureNodesHaveRanges(U)}_getDecorationsInRange(W,V,z){const U=this._buffer.getOffsetAt(W.startLineNumber,W.startColumn),X=this._buffer.getOffsetAt(W.endLineNumber,W.endColumn),te=this.getVersionId(),se=this._decorationsTree.intervalSearch(U,X,V,z,te);return this._ensureNodesHaveRanges(se)}_ensureNodesHaveRanges(W){for(let V=0,z=W.length;V<z;V++){const U=W[V];U.range===null&&(U.range=this._getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd))}return W}_getRangeAt(W,V){return this._buffer.getRangeAt(W,V-W)}_changeDecorationImpl(W,V){const z=this._decorations[W];if(!z)return;const U=this._validateRangeRelaxedNoAllocations(V),X=this._buffer.getOffsetAt(U.startLineNumber,U.startColumn),te=this._buffer.getOffsetAt(U.endLineNumber,U.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),X,te,U),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options)}_changeDecorationOptionsImpl(W,V){const z=this._decorations[W];if(!z)return;const U=!!(z.options.overviewRuler&&z.options.overviewRuler.color),X=!!(V.overviewRuler&&V.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(V),U!==X?(this._decorationsTree.delete(z),z.setOptions(V),this._decorationsTree.insert(z)):z.setOptions(V)}_deltaDecorationsImpl(W,V,z){const U=this.getVersionId(),X=V.length;let te=0;const se=z.length;let le=0,ue=new Array(se);for(;te<X||le<se;){let re=null;if(te<X){do re=this._decorations[V[te++]];while(!re&&te<X);re&&(this._decorationsTree.delete(re),this._onDidChangeDecorations.checkAffectedAndFire(re.options))}if(le<se){if(!re){const fe=++this._lastDecorationId,_e=`${this._instanceId};${fe}`;re=new c.IntervalNode(_e,0,0),this._decorations[_e]=re}const ce=z[le],j=this._validateRangeRelaxedNoAllocations(ce.range),ne=ae(ce.options),Z=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),oe=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);re.ownerId=W,re.reset(U,Z,oe,j),re.setOptions(ne),this._onDidChangeDecorations.checkAffectedAndFire(ne),this._decorationsTree.insert(re),ue[le]=re.id,le++}else re&&delete this._decorations[re.id]}return ue}setTokens(W){if(W.length===0)return;let V=[];for(let z=0,U=W.length;z<U;z++){const X=W[z];let te=0,se=0,le=!1;for(let ue=0,re=X.tokens.length;ue<re;ue++){const ce=X.startLineNumber+ue;le?(this._tokens.setTokens(this._languageIdentifier.id,ce-1,this._buffer.getLineLength(ce),X.tokens[ue],!1),se=ce):this._tokens.setTokens(this._languageIdentifier.id,ce-1,this._buffer.getLineLength(ce),X.tokens[ue],!0)&&(le=!0,te=ce,se=ce)}le&&V.push({fromLineNumber:te,toLineNumber:se})}V.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:V})}setSemanticTokens(W,V){this._tokens2.set(W,V),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:W!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(W,V){if(this.hasCompleteSemanticTokens())return;const z=this._tokens2.setPartial(W,V);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:z.startLineNumber,toLineNumber:z.endLineNumber}]})}tokenizeViewport(W,V){W=Math.max(1,W),V=Math.min(this._buffer.getLineCount(),V),this._tokenization.tokenizeViewport(W,V)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(W){this._isDisposing||this._onDidChangeTokens.fire(W)}resetTokenization(){this._tokenization.reset()}forceTokenization(W){if(W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(W)}isCheapToTokenize(W){return this._tokenization.isCheapToTokenize(W)}tokenizeIfCheap(W){this.isCheapToTokenize(W)&&this.forceTokenization(W)}getLineTokens(W){if(W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(W)}_getLineTokens(W){const V=this.getLineContent(W),z=this._tokens.getTokens(this._languageIdentifier.id,W-1,V);return this._tokens2.addSemanticTokens(W,z)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(W){if(this._languageIdentifier.id===W.id)return;let V={oldLanguage:this._languageIdentifier.language,newLanguage:W.language};this._languageIdentifier=W,this._onDidChangeLanguage.fire(V),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(W,V){const z=this.validatePosition(new v.Position(W,V)),U=this.getLineTokens(z.lineNumber);return U.getLanguageId(U.findTokenIndexAtOffset(z.column-1))}getWordAtPosition(W){this._assertNotDisposed();const V=this.validatePosition(W),z=this.getLineContent(V.lineNumber),U=this._getLineTokens(V.lineNumber),X=U.findTokenIndexAtOffset(V.column-1),[te,se]=F._findLanguageBoundaries(U,X),le=t.getWordAtText(V.column,l.LanguageConfigurationRegistry.getWordDefinition(U.getLanguageId(X)),z.substring(te,se),te);if(le&&le.startColumn<=W.column&&W.column<=le.endColumn)return le;if(X>0&&te===V.column-1){const[ue,re]=F._findLanguageBoundaries(U,X-1),ce=t.getWordAtText(V.column,l.LanguageConfigurationRegistry.getWordDefinition(U.getLanguageId(X-1)),z.substring(ue,re),ue);if(ce&&ce.startColumn<=W.column&&W.column<=ce.endColumn)return ce}return null}static _findLanguageBoundaries(W,V){const z=W.getLanguageId(V);let U=0;for(let te=V;te>=0&&W.getLanguageId(te)===z;te--)U=W.getStartOffset(te);let X=W.getLineContent().length;for(let te=V,se=W.getCount();te<se&&W.getLanguageId(te)===z;te++)X=W.getEndOffset(te);return[U,X]}getWordUntilPosition(W){const V=this.getWordAtPosition(W);return V?{word:V.word.substr(0,W.column-V.startColumn),startColumn:V.startColumn,endColumn:W.column}:{word:"",startColumn:W.column,endColumn:W.column}}findMatchingBracketUp(W,V){let z=W.toLowerCase(),U=this.validatePosition(V),X=this._getLineTokens(U.lineNumber),te=X.getLanguageId(X.findTokenIndexAtOffset(U.column-1)),se=l.LanguageConfigurationRegistry.getBracketsSupport(te);if(!se)return null;let le=se.textIsBracket[z];return le?P(this._findMatchingBracketUp(le,U,null)):null}matchBracket(W){return this._matchBracket(this.validatePosition(W))}_establishBracketSearchOffsets(W,V,z,U){const X=V.getCount(),te=V.getLanguageId(U);let se=Math.max(0,W.column-1-z.maxBracketLength);for(let ue=U-1;ue>=0;ue--){const re=V.getEndOffset(ue);if(re<=se)break;if(m.ignoreBracketsInToken(V.getStandardTokenType(ue))||V.getLanguageId(ue)!==te){se=re;break}}let le=Math.min(V.getLineContent().length,W.column-1+z.maxBracketLength);for(let ue=U+1;ue<X;ue++){const re=V.getStartOffset(ue);if(re>=le)break;if(m.ignoreBracketsInToken(V.getStandardTokenType(ue))||V.getLanguageId(ue)!==te){le=re;break}}return{searchStartOffset:se,searchEndOffset:le}}_matchBracket(W){const V=W.lineNumber,z=this._getLineTokens(V),U=this._buffer.getLineContent(V),X=z.findTokenIndexAtOffset(W.column-1);if(X<0)return null;const te=l.LanguageConfigurationRegistry.getBracketsSupport(z.getLanguageId(X));if(te&&!m.ignoreBracketsInToken(z.getStandardTokenType(X))){let{searchStartOffset:se,searchEndOffset:le}=this._establishBracketSearchOffsets(W,z,te,X),ue=null;for(;;){const re=C.BracketsUtils.findNextBracketInRange(te.forwardRegex,V,U,se,le);if(!re)break;if(re.startColumn<=W.column&&W.column<=re.endColumn){const ce=U.substring(re.startColumn-1,re.endColumn-1).toLowerCase(),j=this._matchFoundBracket(re,te.textIsBracket[ce],te.textIsOpenBracket[ce],null);if(j){if(j instanceof O)return null;ue=j}}se=re.endColumn-1}if(ue)return ue}if(X>0&&z.getStartOffset(X)===W.column-1){const se=X-1,le=l.LanguageConfigurationRegistry.getBracketsSupport(z.getLanguageId(se));if(le&&!m.ignoreBracketsInToken(z.getStandardTokenType(se))){let{searchStartOffset:ue,searchEndOffset:re}=this._establishBracketSearchOffsets(W,z,le,se);const ce=C.BracketsUtils.findPrevBracketInRange(le.reversedRegex,V,U,ue,re);if(ce&&ce.startColumn<=W.column&&W.column<=ce.endColumn){const j=U.substring(ce.startColumn-1,ce.endColumn-1).toLowerCase(),ne=this._matchFoundBracket(ce,le.textIsBracket[j],le.textIsOpenBracket[j],null);if(ne)return ne instanceof O?null:ne}}}return null}_matchFoundBracket(W,V,z,U){if(!V)return null;const X=z?this._findMatchingBracketDown(V,W.getEndPosition(),U):this._findMatchingBracketUp(V,W.getStartPosition(),U);return X?X instanceof O?X:[W,X]:null}_findMatchingBracketUp(W,V,z){const U=W.languageIdentifier.id,X=W.reversedRegex;let te=-1,se=0;const le=(ue,re,ce,j)=>{for(;;){if(z&&++se%100==0&&!z())return O.INSTANCE;const ne=C.BracketsUtils.findPrevBracketInRange(X,ue,re,ce,j);if(!ne)break;const Z=re.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase();if(W.isOpen(Z)?te++:W.isClose(Z)&&te--,te===0)return ne;j=ne.startColumn-1}return null};for(let ue=V.lineNumber;ue>=1;ue--){const re=this._getLineTokens(ue),ce=re.getCount(),j=this._buffer.getLineContent(ue);let ne=ce-1,Z=j.length,oe=j.length;ue===V.lineNumber&&(ne=re.findTokenIndexAtOffset(V.column-1),Z=V.column-1,oe=V.column-1);let fe=!0;for(;ne>=0;ne--){const _e=re.getLanguageId(ne)===U&&!m.ignoreBracketsInToken(re.getStandardTokenType(ne));if(_e)fe?Z=re.getStartOffset(ne):(Z=re.getStartOffset(ne),oe=re.getEndOffset(ne));else if(fe&&Z!==oe){const be=le(ue,j,Z,oe);if(be)return be}fe=_e}if(fe&&Z!==oe){const _e=le(ue,j,Z,oe);if(_e)return _e}}return null}_findMatchingBracketDown(W,V,z){const U=W.languageIdentifier.id,X=W.forwardRegex;let te=1,se=0;const le=(re,ce,j,ne)=>{for(;;){if(z&&++se%100==0&&!z())return O.INSTANCE;const Z=C.BracketsUtils.findNextBracketInRange(X,re,ce,j,ne);if(!Z)break;const oe=ce.substring(Z.startColumn-1,Z.endColumn-1).toLowerCase();if(W.isOpen(oe)?te++:W.isClose(oe)&&te--,te===0)return Z;j=Z.endColumn-1}return null},ue=this.getLineCount();for(let re=V.lineNumber;re<=ue;re++){const ce=this._getLineTokens(re),j=ce.getCount(),ne=this._buffer.getLineContent(re);let Z=0,oe=0,fe=0;re===V.lineNumber&&(Z=ce.findTokenIndexAtOffset(V.column-1),oe=V.column-1,fe=V.column-1);let _e=!0;for(;Z<j;Z++){const be=ce.getLanguageId(Z)===U&&!m.ignoreBracketsInToken(ce.getStandardTokenType(Z));if(be)_e||(oe=ce.getStartOffset(Z)),fe=ce.getEndOffset(Z);else if(_e&&oe!==fe){const Le=le(re,ne,oe,fe);if(Le)return Le}_e=be}if(_e&&oe!==fe){const be=le(re,ne,oe,fe);if(be)return be}}return null}findPrevBracket(W){const V=this.validatePosition(W);let z=-1,U=null;for(let X=V.lineNumber;X>=1;X--){const te=this._getLineTokens(X),se=te.getCount(),le=this._buffer.getLineContent(X);let ue=se-1,re=le.length,ce=le.length;if(X===V.lineNumber){ue=te.findTokenIndexAtOffset(V.column-1),re=V.column-1,ce=V.column-1;const ne=te.getLanguageId(ue);z!==ne&&(z=ne,U=l.LanguageConfigurationRegistry.getBracketsSupport(z))}let j=!0;for(;ue>=0;ue--){const ne=te.getLanguageId(ue);if(z!==ne){if(U&&j&&re!==ce){const oe=C.BracketsUtils.findPrevBracketInRange(U.reversedRegex,X,le,re,ce);if(oe)return this._toFoundBracket(U,oe);j=!1}z=ne,U=l.LanguageConfigurationRegistry.getBracketsSupport(z)}const Z=!!U&&!m.ignoreBracketsInToken(te.getStandardTokenType(ue));if(Z)j?re=te.getStartOffset(ue):(re=te.getStartOffset(ue),ce=te.getEndOffset(ue));else if(U&&j&&re!==ce){const oe=C.BracketsUtils.findPrevBracketInRange(U.reversedRegex,X,le,re,ce);if(oe)return this._toFoundBracket(U,oe)}j=Z}if(U&&j&&re!==ce){const ne=C.BracketsUtils.findPrevBracketInRange(U.reversedRegex,X,le,re,ce);if(ne)return this._toFoundBracket(U,ne)}}return null}findNextBracket(W){const V=this.validatePosition(W),z=this.getLineCount();let U=-1,X=null;for(let te=V.lineNumber;te<=z;te++){const se=this._getLineTokens(te),le=se.getCount(),ue=this._buffer.getLineContent(te);let re=0,ce=0,j=0;if(te===V.lineNumber){re=se.findTokenIndexAtOffset(V.column-1),ce=V.column-1,j=V.column-1;const Z=se.getLanguageId(re);U!==Z&&(U=Z,X=l.LanguageConfigurationRegistry.getBracketsSupport(U))}let ne=!0;for(;re<le;re++){const Z=se.getLanguageId(re);if(U!==Z){if(X&&ne&&ce!==j){const fe=C.BracketsUtils.findNextBracketInRange(X.forwardRegex,te,ue,ce,j);if(fe)return this._toFoundBracket(X,fe);ne=!1}U=Z,X=l.LanguageConfigurationRegistry.getBracketsSupport(U)}const oe=!!X&&!m.ignoreBracketsInToken(se.getStandardTokenType(re));if(oe)ne||(ce=se.getStartOffset(re)),j=se.getEndOffset(re);else if(X&&ne&&ce!==j){const fe=C.BracketsUtils.findNextBracketInRange(X.forwardRegex,te,ue,ce,j);if(fe)return this._toFoundBracket(X,fe)}ne=oe}if(X&&ne&&ce!==j){const Z=C.BracketsUtils.findNextBracketInRange(X.forwardRegex,te,ue,ce,j);if(Z)return this._toFoundBracket(X,Z)}}return null}findEnclosingBrackets(W,V){let z;if(typeof V=="undefined")z=null;else{const ne=Date.now();z=()=>Date.now()-ne<=V}const U=this.validatePosition(W),X=this.getLineCount(),te=new Map;let se=[];const le=(ne,Z)=>{if(!te.has(ne)){let oe=[];for(let fe=0,_e=Z?Z.brackets.length:0;fe<_e;fe++)oe[fe]=0;te.set(ne,oe)}se=te.get(ne)};let ue=0;const re=(ne,Z,oe,fe,_e)=>{for(;;){if(z&&++ue%100==0&&!z())return O.INSTANCE;const be=C.BracketsUtils.findNextBracketInRange(ne.forwardRegex,Z,oe,fe,_e);if(!be)break;const Le=oe.substring(be.startColumn-1,be.endColumn-1).toLowerCase(),Ee=ne.textIsBracket[Le];if(Ee&&(Ee.isOpen(Le)?se[Ee.index]++:Ee.isClose(Le)&&se[Ee.index]--,se[Ee.index]===-1))return this._matchFoundBracket(be,Ee,!1,z);fe=be.endColumn-1}return null};let ce=-1,j=null;for(let ne=U.lineNumber;ne<=X;ne++){const Z=this._getLineTokens(ne),oe=Z.getCount(),fe=this._buffer.getLineContent(ne);let _e=0,be=0,Le=0;if(ne===U.lineNumber){_e=Z.findTokenIndexAtOffset(U.column-1),be=U.column-1,Le=U.column-1;const Re=Z.getLanguageId(_e);ce!==Re&&(ce=Re,j=l.LanguageConfigurationRegistry.getBracketsSupport(ce),le(ce,j))}let Ee=!0;for(;_e<oe;_e++){const Re=Z.getLanguageId(_e);if(ce!==Re){if(j&&Ee&&be!==Le){const Te=re(j,ne,fe,be,Le);if(Te)return P(Te);Ee=!1}ce=Re,j=l.LanguageConfigurationRegistry.getBracketsSupport(ce),le(ce,j)}const De=!!j&&!m.ignoreBracketsInToken(Z.getStandardTokenType(_e));if(De)Ee||(be=Z.getStartOffset(_e)),Le=Z.getEndOffset(_e);else if(j&&Ee&&be!==Le){const Te=re(j,ne,fe,be,Le);if(Te)return P(Te)}Ee=De}if(j&&Ee&&be!==Le){const Re=re(j,ne,fe,be,Le);if(Re)return P(Re)}}return null}_toFoundBracket(W,V){if(!V)return null;let z=this.getValueInRange(V);z=z.toLowerCase();let U=W.textIsBracket[z];return U?{range:V,open:U.open,close:U.close,isOpen:W.textIsOpenBracket[z]}:null}static computeIndentLevel(W,V){let z=0,U=0,X=W.length;for(;U<X;){let te=W.charCodeAt(U);if(te===32)z++;else if(te===9)z=z-z%V+V;else break;U++}return U===X?-1:z}_computeIndentLevel(W){return F.computeIndentLevel(this._buffer.getLineContent(W+1),this._options.tabSize)}getActiveIndentGuide(W,V,z){this._assertNotDisposed();const U=this.getLineCount();if(W<1||W>U)throw new Error("Illegal value for lineNumber");const X=l.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),te=Boolean(X&&X.offSide);let se=-2,le=-1,ue=-2,re=-1;const ce=Te=>{if(se!==-1&&(se===-2||se>Te-1)){se=-1,le=-1;for(let we=Te-2;we>=0;we--){let Se=this._computeIndentLevel(we);if(Se>=0){se=we,le=Se;break}}}if(ue===-2){ue=-1,re=-1;for(let we=Te;we<U;we++){let Se=this._computeIndentLevel(we);if(Se>=0){ue=we,re=Se;break}}}};let j=-2,ne=-1,Z=-2,oe=-1;const fe=Te=>{if(j===-2){j=-1,ne=-1;for(let we=Te-2;we>=0;we--){let Se=this._computeIndentLevel(we);if(Se>=0){j=we,ne=Se;break}}}if(Z!==-1&&(Z===-2||Z<Te-1)){Z=-1,oe=-1;for(let we=Te;we<U;we++){let Se=this._computeIndentLevel(we);if(Se>=0){Z=we,oe=Se;break}}}};let _e=0,be=!0,Le=0,Ee=!0,Re=0,De=0;for(let Te=0;be||Ee;Te++){const we=W-Te,Se=W+Te;Te>1&&(we<1||we<V)&&(be=!1),Te>1&&(Se>U||Se>z)&&(Ee=!1),Te>5e4&&(be=!1,Ee=!1);let ye=-1;if(be){const Ce=this._computeIndentLevel(we-1);Ce>=0?(ue=we-1,re=Ce,ye=Math.ceil(Ce/this._options.indentSize)):(ce(we),ye=this._getIndentLevelForWhitespaceLine(te,le,re))}let me=-1;if(Ee){const Ce=this._computeIndentLevel(Se-1);Ce>=0?(j=Se-1,ne=Ce,me=Math.ceil(Ce/this._options.indentSize)):(fe(Se),me=this._getIndentLevelForWhitespaceLine(te,ne,oe))}if(Te===0){De=ye;continue}if(Te===1){if(Se<=U&&me>=0&&De+1===me){be=!1,_e=Se,Le=Se,Re=me;continue}if(we>=1&&ye>=0&&ye-1===De){Ee=!1,_e=we,Le=we,Re=ye;continue}if(_e=W,Le=W,Re=De,Re===0)return{startLineNumber:_e,endLineNumber:Le,indent:Re}}be&&(ye>=Re?_e=we:be=!1),Ee&&(me>=Re?Le=Se:Ee=!1)}return{startLineNumber:_e,endLineNumber:Le,indent:Re}}getLinesIndentGuides(W,V){this._assertNotDisposed();const z=this.getLineCount();if(W<1||W>z)throw new Error("Illegal value for startLineNumber");if(V<1||V>z)throw new Error("Illegal value for endLineNumber");const U=l.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),X=Boolean(U&&U.offSide);let te=new Array(V-W+1),se=-2,le=-1,ue=-2,re=-1;for(let ce=W;ce<=V;ce++){let j=ce-W;const ne=this._computeIndentLevel(ce-1);if(ne>=0){se=ce-1,le=ne,te[j]=Math.ceil(ne/this._options.indentSize);continue}if(se===-2){se=-1,le=-1;for(let Z=ce-2;Z>=0;Z--){let oe=this._computeIndentLevel(Z);if(oe>=0){se=Z,le=oe;break}}}if(ue!==-1&&(ue===-2||ue<ce-1)){ue=-1,re=-1;for(let Z=ce;Z<z;Z++){let oe=this._computeIndentLevel(Z);if(oe>=0){ue=Z,re=oe;break}}}te[j]=this._getIndentLevelForWhitespaceLine(X,le,re)}return te}_getIndentLevelForWhitespaceLine(W,V,z){return V===-1||z===-1?0:V<z?1+Math.floor(V/this._options.indentSize):V===z?Math.ceil(z/this._options.indentSize):W?Math.ceil(z/this._options.indentSize):1+Math.floor(z/this._options.indentSize)}normalizePosition(W,V){return W}getLineIndentColumn(W){return E(this.getLineContent(W))+1}}e.TextModel=F,F.MODEL_SYNC_LIMIT=50*1024*1024,F.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,F.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,F.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:p.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:p.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};function E(B){let W=0;for(const V of B)if(V===" "||V==="	")W++;else break;return W}class x{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree}intervalSearch(W,V,z,U,X){const te=this._decorationsTree0.intervalSearch(W,V,z,U,X),se=this._decorationsTree1.intervalSearch(W,V,z,U,X);return te.concat(se)}search(W,V,z,U){if(z)return this._decorationsTree1.search(W,V,U);{const X=this._decorationsTree0.search(W,V,U),te=this._decorationsTree1.search(W,V,U);return X.concat(te)}}collectNodesFromOwner(W){const V=this._decorationsTree0.collectNodesFromOwner(W),z=this._decorationsTree1.collectNodesFromOwner(W);return V.concat(z)}collectNodesPostOrder(){const W=this._decorationsTree0.collectNodesPostOrder(),V=this._decorationsTree1.collectNodesPostOrder();return W.concat(V)}insert(W){c.getNodeIsInOverviewRuler(W)?this._decorationsTree1.insert(W):this._decorationsTree0.insert(W)}delete(W){c.getNodeIsInOverviewRuler(W)?this._decorationsTree1.delete(W):this._decorationsTree0.delete(W)}resolveNode(W,V){c.getNodeIsInOverviewRuler(W)?this._decorationsTree1.resolveNode(W,V):this._decorationsTree0.resolveNode(W,V)}acceptReplace(W,V,z,U){this._decorationsTree0.acceptReplace(W,V,z,U),this._decorationsTree1.acceptReplace(W,V,z,U)}}function H(B){return B.replace(/[^a-z0-9\-_]/gi," ")}class K{constructor(W){this.color=W.color||"",this.darkColor=W.darkColor||""}}class q extends K{constructor(W){super(W);this._resolvedColor=null,this.position=typeof W.position=="number"?W.position:s.OverviewRulerLane.Center}getColor(W){return this._resolvedColor||(W.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,W):this._resolvedColor=this._resolveColor(this.color,W)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(W,V){if(typeof W=="string")return W;let z=W?V.getColor(W.id):null;return z?z.toString():""}}e.ModelDecorationOverviewRulerOptions=q;class G extends K{constructor(W){super(W);this.position=W.position}getColor(W){return this._resolvedColor||(W.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,W):this._resolvedColor=this._resolveColor(this.color,W)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(W,V){return typeof W=="string"?f.Color.fromHex(W):V.getColor(W.id)}}e.ModelDecorationMinimapOptions=G;class ee{constructor(W){this.description=W.description,this.stickiness=W.stickiness||0,this.zIndex=W.zIndex||0,this.className=W.className?H(W.className):null,this.hoverMessage=W.hoverMessage||null,this.glyphMarginHoverMessage=W.glyphMarginHoverMessage||null,this.isWholeLine=W.isWholeLine||!1,this.showIfCollapsed=W.showIfCollapsed||!1,this.collapseOnReplaceEdit=W.collapseOnReplaceEdit||!1,this.overviewRuler=W.overviewRuler?new q(W.overviewRuler):null,this.minimap=W.minimap?new G(W.minimap):null,this.glyphMarginClassName=W.glyphMarginClassName?H(W.glyphMarginClassName):null,this.linesDecorationsClassName=W.linesDecorationsClassName?H(W.linesDecorationsClassName):null,this.firstLineDecorationClassName=W.firstLineDecorationClassName?H(W.firstLineDecorationClassName):null,this.marginClassName=W.marginClassName?H(W.marginClassName):null,this.inlineClassName=W.inlineClassName?H(W.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=W.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=W.beforeContentClassName?H(W.beforeContentClassName):null,this.afterContentClassName=W.afterContentClassName?H(W.afterContentClassName):null}static register(W){return new ee(W)}static createDynamic(W){return new ee(W)}}e.ModelDecorationOptions=ee,ee.EMPTY=ee.register({description:"empty"});const ie=[ee.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ee.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ee.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ee.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ae(B){return B instanceof ee?B:ee.createDynamic(B)}class de extends M.Disposable{constructor(){super();this._actual=this._register(new k.Emitter),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,this._deferredCnt===0&&this._shouldFire){const W={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(W)}}checkAffectedAndFire(W){this._affectsMinimap||(this._affectsMinimap=!!(W.minimap&&W.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(W.overviewRuler&&W.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=de;class Y extends M.Disposable{constructor(){super();this._fastEmitter=this._register(new k.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new k.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(W=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=W;const V=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(V),this._slowEmitter.fire(V)}}fire(W){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(W):this._deferredEvent=W;return}this._fastEmitter.fire(W),this._slowEmitter.fire(W)}}e.DidChangeContentEmitter=Y}),define(Q[39],J([0,1,12,8,13,3,21,31,43]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const i=()=>!0,_=()=>!1,s=h=>h===" "||h==="	";class a{constructor(m,C,g){this._languageIdentifier=m;const f=g.options,b=f.get(128);this.readOnly=f.get(78),this.tabSize=C.tabSize,this.indentSize=C.indentSize,this.insertSpaces=C.insertSpaces,this.stickyTabStops=f.get(102),this.lineHeight=f.get(56),this.pageSize=Math.max(1,Math.floor(b.height/this.lineHeight)-2),this.useTabStops=f.get(113),this.wordSeparators=f.get(114),this.emptySelectionClipboard=f.get(30),this.copyWithSyntaxHighlighting=f.get(19),this.multiCursorMergeOverlapping=f.get(66),this.multiCursorPaste=f.get(68),this.autoClosingBrackets=f.get(5),this.autoClosingQuotes=f.get(8),this.autoClosingDelete=f.get(6),this.autoClosingOvertype=f.get(7),this.autoSurround=f.get(11),this.autoIndent=f.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:a._getShouldAutoClose(m,this.autoClosingQuotes),bracket:a._getShouldAutoClose(m,this.autoClosingBrackets)},this.autoClosingPairs=v.LanguageConfigurationRegistry.getAutoClosingPairs(m.id);let L=a._getSurroundingPairs(m);if(L)for(const N of L)this.surroundingPairs[N.open]=N.close}static shouldRecreate(m){return m.hasChanged(128)||m.hasChanged(114)||m.hasChanged(30)||m.hasChanged(66)||m.hasChanged(68)||m.hasChanged(5)||m.hasChanged(8)||m.hasChanged(6)||m.hasChanged(7)||m.hasChanged(11)||m.hasChanged(113)||m.hasChanged(56)||m.hasChanged(78)}get electricChars(){if(!this._electricChars){this._electricChars={};let m=a._getElectricCharacters(this._languageIdentifier);if(m)for(const C of m)this._electricChars[C]=!0}return this._electricChars}normalizeIndentation(m){return p.TextModel.normalizeIndentation(m,this.indentSize,this.insertSpaces)}static _getElectricCharacters(m){try{return v.LanguageConfigurationRegistry.getElectricCharacters(m.id)}catch(C){return S.onUnexpectedError(C),null}}static _getShouldAutoClose(m,C){switch(C){case"beforeWhitespace":return s;case"languageDefined":return a._getLanguageDefinedShouldAutoClose(m);case"always":return i;case"never":return _}}static _getLanguageDefinedShouldAutoClose(m){try{const C=v.LanguageConfigurationRegistry.getAutoCloseBeforeSet(m.id);return g=>C.indexOf(g)!==-1}catch(C){return S.onUnexpectedError(C),_}}static _getSurroundingPairs(m){try{return v.LanguageConfigurationRegistry.getSurroundingPairs(m.id)}catch(C){return S.onUnexpectedError(C),null}}}e.CursorConfiguration=a;class u{constructor(m,C,g,f){this.selectionStart=m,this.selectionStartLeftoverVisibleColumns=C,this.position=g,this.leftoverVisibleColumns=f,this.selection=u._computeSelection(this.selectionStart,this.position)}equals(m){return this.selectionStartLeftoverVisibleColumns===m.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===m.leftoverVisibleColumns&&this.position.equals(m.position)&&this.selectionStart.equalsRange(m.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(m,C,g,f){return m?new u(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new M.Position(C,g),f):new u(new y.Range(C,g,C,g),f,new M.Position(C,g),f)}static _computeSelection(m,C){let g,f,b,L;return m.isEmpty()?(g=m.startLineNumber,f=m.startColumn,b=C.lineNumber,L=C.column):C.isBeforeOrEqual(m.getStartPosition())?(g=m.endLineNumber,f=m.endColumn,b=C.lineNumber,L=C.column):(g=m.startLineNumber,f=m.startColumn,b=C.lineNumber,L=C.column),new w.Selection(g,f,b,L)}}e.SingleCursorState=u;class c{constructor(m,C,g){this.model=m,this.coordinatesConverter=C,this.cursorConfig=g}}e.CursorContext=c;class d{constructor(m){this.modelState=m,this.viewState=null}}e.PartialModelCursorState=d;class r{constructor(m){this.modelState=null,this.viewState=m}}e.PartialViewCursorState=r;class n{constructor(m,C){this.modelState=m,this.viewState=C}static fromModelState(m){return new d(m)}static fromViewState(m){return new r(m)}static fromModelSelection(m){const C=m.selectionStartLineNumber,g=m.selectionStartColumn,f=m.positionLineNumber,b=m.positionColumn,L=new u(new y.Range(C,g,C,g),0,new M.Position(f,b),0);return n.fromModelState(L)}static fromModelSelections(m){let C=[];for(let g=0,f=m.length;g<f;g++)C[g]=this.fromModelSelection(m[g]);return C}equals(m){return this.viewState.equals(m.viewState)&&this.modelState.equals(m.modelState)}}e.CursorState=n;class o{constructor(m,C,g){this.type=m,this.commands=C,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}e.EditOperationResult=o;class t{static visibleColumnFromColumn(m,C,g){const f=m.length,b=C-1<f?C-1:f;let L=0,N=0;for(;N<b;){const D=k.getNextCodePoint(m,b,N);if(N+=D>=65536?2:1,D===9)L=t.nextRenderTabStop(L,g);else{let I=k.getGraphemeBreakType(D);for(;N<b;){const T=k.getNextCodePoint(m,b,N),A=k.getGraphemeBreakType(T);if(k.breakBetweenGraphemeBreakType(I,A))break;N+=T>=65536?2:1,I=A}k.isFullWidthCharacter(D)||k.isEmojiImprecise(D)?L=L+2:L=L+1}}return L}static visibleColumnsByColumns(m,C){const g=m.length;let f=new Array;f.push(-1);let b=0,L=0;for(;L<g;){const N=k.getNextCodePoint(m,g,L);if(L+=N>=65536?2:1,f.push(b),N>=65536&&f.push(b),N===9)b=t.nextRenderTabStop(b,C);else{let D=k.getGraphemeBreakType(N);for(;L<g;){const I=k.getNextCodePoint(m,g,L),T=k.getGraphemeBreakType(I);if(k.breakBetweenGraphemeBreakType(D,T))break;L+=I>=65536?2:1,f.push(b),N>=65536&&f.push(b),D=T}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?b=b+2:b=b+1}}return f.push(b),f}static visibleColumnFromColumn2(m,C,g){return this.visibleColumnFromColumn(C.getLineContent(g.lineNumber),g.column,m.tabSize)}static columnFromVisibleColumn(m,C,g){if(C<=0)return 1;const f=m.length;let b=0,L=1,N=0;for(;N<f;){const D=k.getNextCodePoint(m,f,N);N+=D>=65536?2:1;let I;if(D===9)I=t.nextRenderTabStop(b,g);else{let A=k.getGraphemeBreakType(D);for(;N<f;){const R=k.getNextCodePoint(m,f,N),O=k.getGraphemeBreakType(R);if(k.breakBetweenGraphemeBreakType(A,O))break;N+=R>=65536?2:1,A=O}k.isFullWidthCharacter(D)||k.isEmojiImprecise(D)?I=b+2:I=b+1}const T=N+1;if(I>=C){const A=C-b;return I-C<A?T:L}b=I,L=T}return f+1}static columnFromVisibleColumn2(m,C,g,f){let b=this.columnFromVisibleColumn(C.getLineContent(g),f,m.tabSize),L=C.getLineMinColumn(g);if(b<L)return L;let N=C.getLineMaxColumn(g);return b>N?N:b}static nextRenderTabStop(m,C){return m+C-m%C}static nextIndentTabStop(m,C){return m+C-m%C}static prevRenderTabStop(m,C){return Math.max(0,m-1-(m-1)%C)}static prevIndentTabStop(m,C){return Math.max(0,m-1-(m-1)%C)}}e.CursorColumns=t;function l(h){return h==="'"||h==='"'||h==="`"}e.isQuote=l}),define(Q[182],J([0,1,8,39,3,21,43]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const p=Object.create(null);function v(_,s){if(s<=0)return"";p[_]||(p[_]=["",_]);const a=p[_];for(let u=a.length;u<=s;u++)a[u]=a[u-1]+_;return a[s]}e.cachedStringRepeat=v;class i{constructor(s,a){this._opts=a,this._selection=s,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(s,a,u,c,d){const r=k.CursorColumns.visibleColumnFromColumn(s,a,u);if(d){const n=v(" ",c),t=k.CursorColumns.prevIndentTabStop(r,c)/c;return v(n,t)}else{const n="	",t=k.CursorColumns.prevRenderTabStop(r,u)/u;return v(n,t)}}static shiftIndent(s,a,u,c,d){const r=k.CursorColumns.visibleColumnFromColumn(s,a,u);if(d){const n=v(" ",c),t=k.CursorColumns.nextIndentTabStop(r,c)/c;return v(n,t)}else{const n="	",t=k.CursorColumns.nextRenderTabStop(r,u)/u;return v(n,t)}}_addEditOperation(s,a,u){this._useLastEditRangeForCursorEndPosition?s.addTrackedEditOperation(a,u):s.addEditOperation(a,u)}getEditOperations(s,a){const u=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&u!==c&&(c=c-1);const{tabSize:d,indentSize:r,insertSpaces:n}=this._opts,o=u===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(s.getLineContent(u))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,l=0;for(let h=u;h<=c;h++,t=l){l=0;let m=s.getLineContent(h),C=S.firstNonWhitespaceIndex(m);if(this._opts.isUnshift&&(m.length===0||C===0)||!o&&!this._opts.isUnshift&&m.length===0)continue;if(C===-1&&(C=m.length),h>1&&k.CursorColumns.visibleColumnFromColumn(m,C+1,d)%r!=0&&s.isCheapToTokenize(h-1)){let b=w.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,s,new M.Range(h-1,s.getLineMaxColumn(h-1),h-1,s.getLineMaxColumn(h-1)));if(b){if(l=t,b.appendText)for(let L=0,N=b.appendText.length;L<N&&l<r&&b.appendText.charCodeAt(L)===32;L++)l++;b.removeText&&(l=Math.max(0,l-b.removeText));for(let L=0;L<l&&!(C===0||m.charCodeAt(C-1)!==32);L++)C--}}if(this._opts.isUnshift&&C===0)continue;let g;this._opts.isUnshift?g=i.unshiftIndent(m,C+1,d,r,n):g=i.shiftIndent(m,C+1,d,r,n),this._addEditOperation(a,new M.Range(h,1,h,C+1),g),h===u&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=C+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&s.getLineLength(u)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?v(" ",r):"	";for(let l=u;l<=c;l++){const h=s.getLineContent(l);let m=S.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||m===0))&&!(!o&&!this._opts.isUnshift&&h.length===0)&&(m===-1&&(m=h.length),!(this._opts.isUnshift&&m===0)))if(this._opts.isUnshift){m=Math.min(m,r);for(let C=0;C<m;C++)if(h.charCodeAt(C)===9){m=C+1;break}this._addEditOperation(a,new M.Range(l,1,l,m+1),"")}else this._addEditOperation(a,new M.Range(l,1,l,1),t),l===u&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=a.trackSelection(this._selection)}computeCursorState(s,a){if(this._useLastEditRangeForCursorEndPosition){let c=a.getInverseEditOperations()[0];return new y.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const u=a.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return u.startColumn<=c?u:u.getDirection()===0?new y.Selection(u.startLineNumber,c,u.endLineNumber,u.endColumn):new y.Selection(u.endLineNumber,u.endColumn,u.startLineNumber,c)}return u}}e.ShiftCommand=i}),define(Q[241],J([0,1,39]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(y,w,p){const v=y.length;let i=0,_=-1,s=-1;for(let a=0;a<v;a++){if(a===w)return[_,s,i];switch(i%p==0&&(_=a,s=i),y.charCodeAt(a)){case 32:i+=1;break;case 9:i=S.CursorColumns.nextRenderTabStop(i,p);break;default:return[-1,-1,-1]}}return w===v?[_,s,i]:[-1,-1,-1]}static atomicPosition(y,w,p,v){const i=y.length,[_,s,a]=k.whitespaceVisibleColumn(y,w,p);if(a===-1)return-1;let u;switch(v){case 0:u=!0;break;case 1:u=!1;break;case 2:if(a%p==0)return w;u=a%p<=p/2;break}if(u){if(_===-1)return-1;let r=s;for(let n=_;n<i;++n){if(r===s+p)return _;switch(y.charCodeAt(n)){case 32:r+=1;break;case 9:r=S.CursorColumns.nextRenderTabStop(r,p);break;default:return-1}}return r===s+p?_:-1}const c=S.CursorColumns.nextRenderTabStop(a,p);let d=a;for(let r=w;r<i;r++){if(d===c)return r;switch(y.charCodeAt(r)){case 32:d+=1;break;case 9:d=S.CursorColumns.nextRenderTabStop(d,p);break;default:return-1}}return d===c?i:-1}}e.AtomicTabMoveOperations=k}),define(Q[550],J([0,1,39,13,3]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class y{static columnSelect(p,v,i,_,s,a){let u=Math.abs(s-i)+1,c=i>s,d=_>a,r=_<a,n=[];for(let o=0;o<u;o++){let t=i+(c?-o:o),l=S.CursorColumns.columnFromVisibleColumn2(p,v,t,_),h=S.CursorColumns.columnFromVisibleColumn2(p,v,t,a),m=S.CursorColumns.visibleColumnFromColumn2(p,v,new k.Position(t,l)),C=S.CursorColumns.visibleColumnFromColumn2(p,v,new k.Position(t,h));r&&(m>a||C<_)||d&&(C>_||m<a)||n.push(new S.SingleCursorState(new M.Range(t,l,t,l),0,new k.Position(t,h),0))}if(n.length===0)for(let o=0;o<u;o++){const t=i+(c?-o:o),l=v.getLineMaxColumn(t);n.push(new S.SingleCursorState(new M.Range(t,l,t,l),0,new k.Position(t,l),0))}return{viewStates:n,reversed:c,fromLineNumber:i,fromVisualColumn:_,toLineNumber:s,toVisualColumn:a}}static columnSelectLeft(p,v,i){let _=i.toViewVisualColumn;return _>0&&_--,y.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,_)}static columnSelectRight(p,v,i){let _=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),a=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let c=s;c<=a;c++){const d=v.getLineMaxColumn(c),r=S.CursorColumns.visibleColumnFromColumn2(p,v,new k.Position(c,d));_=Math.max(_,r)}let u=i.toViewVisualColumn;return u<_&&u++,this.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,u)}static columnSelectUp(p,v,i,_){const s=_?p.pageSize:1,a=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}static columnSelectDown(p,v,i,_){const s=_?p.pageSize:1,a=Math.min(v.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(p,v,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}}e.ColumnSelection=y}),define(Q[183],J([0,1,39,13,3,8,241]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class p{constructor(_,s,a){this.lineNumber=_,this.column=s,this.leftoverVisibleColumns=a}}e.CursorPosition=p;class v{static leftPosition(_,s){if(s.column>_.getLineMinColumn(s.lineNumber))return s.delta(void 0,-y.prevCharLength(_.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const a=s.lineNumber-1;return new k.Position(a,_.getLineMaxColumn(a))}else return s}static leftPositionAtomicSoftTabs(_,s,a){if(s.column<=_.getLineIndentColumn(s.lineNumber)){const u=_.getLineMinColumn(s.lineNumber),c=_.getLineContent(s.lineNumber),d=w.AtomicTabMoveOperations.atomicPosition(c,s.column-1,a,0);if(d!==-1&&d+1>=u)return new k.Position(s.lineNumber,d+1)}return this.leftPosition(_,s)}static left(_,s,a){const u=_.stickyTabStops?v.leftPositionAtomicSoftTabs(s,a,_.tabSize):v.leftPosition(s,a);return new p(u.lineNumber,u.column,0)}static moveLeft(_,s,a,u,c){let d,r;if(a.hasSelection()&&!u)d=a.selection.startLineNumber,r=a.selection.startColumn;else{const n=a.position.delta(void 0,-(c-1)),o=s.normalizePosition(v.clipPositionColumn(n,s),0),t=v.left(_,s,o);d=t.lineNumber,r=t.column}return a.move(u,d,r,0)}static clipPositionColumn(_,s){return new k.Position(_.lineNumber,v.clipRange(_.column,s.getLineMinColumn(_.lineNumber),s.getLineMaxColumn(_.lineNumber)))}static clipRange(_,s,a){return _<s?s:_>a?a:_}static rightPosition(_,s,a){return a<_.getLineMaxColumn(s)?a=a+y.nextCharLength(_.getLineContent(s),a-1):s<_.getLineCount()&&(s=s+1,a=_.getLineMinColumn(s)),new k.Position(s,a)}static rightPositionAtomicSoftTabs(_,s,a,u,c){if(a<_.getLineIndentColumn(s)){const d=_.getLineContent(s),r=w.AtomicTabMoveOperations.atomicPosition(d,a-1,u,1);if(r!==-1)return new k.Position(s,r+1)}return this.rightPosition(_,s,a)}static right(_,s,a){const u=_.stickyTabStops?v.rightPositionAtomicSoftTabs(s,a.lineNumber,a.column,_.tabSize,_.indentSize):v.rightPosition(s,a.lineNumber,a.column);return new p(u.lineNumber,u.column,0)}static moveRight(_,s,a,u,c){let d,r;if(a.hasSelection()&&!u)d=a.selection.endLineNumber,r=a.selection.endColumn;else{const n=a.position.delta(void 0,c-1),o=s.normalizePosition(v.clipPositionColumn(n,s),1),t=v.right(_,s,o);d=t.lineNumber,r=t.column}return a.move(u,d,r,0)}static down(_,s,a,u,c,d,r){const n=S.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,_.tabSize)+c,o=s.getLineCount(),t=a===o&&u===s.getLineMaxColumn(a);return a=a+d,a>o?(a=o,r?u=s.getLineMaxColumn(a):u=Math.min(s.getLineMaxColumn(a),u)):u=S.CursorColumns.columnFromVisibleColumn2(_,s,a,n),t?c=0:c=n-S.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,_.tabSize),new p(a,u,c)}static moveDown(_,s,a,u,c){let d,r;a.hasSelection()&&!u?(d=a.selection.endLineNumber,r=a.selection.endColumn):(d=a.position.lineNumber,r=a.position.column);let n=v.down(_,s,d,r,a.leftoverVisibleColumns,c,!0);return a.move(u,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(_,s,a){let u=a.selection,c=v.down(_,s,u.selectionStartLineNumber,u.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=v.down(_,s,u.positionLineNumber,u.positionColumn,a.leftoverVisibleColumns,1,!1);return new S.SingleCursorState(new M.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new k.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(_,s,a,u,c,d,r){const n=S.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,_.tabSize)+c,o=a===1&&u===1;return a=a-d,a<1?(a=1,r?u=s.getLineMinColumn(a):u=Math.min(s.getLineMaxColumn(a),u)):u=S.CursorColumns.columnFromVisibleColumn2(_,s,a,n),o?c=0:c=n-S.CursorColumns.visibleColumnFromColumn(s.getLineContent(a),u,_.tabSize),new p(a,u,c)}static moveUp(_,s,a,u,c){let d,r;a.hasSelection()&&!u?(d=a.selection.startLineNumber,r=a.selection.startColumn):(d=a.position.lineNumber,r=a.position.column);let n=v.up(_,s,d,r,a.leftoverVisibleColumns,c,!0);return a.move(u,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(_,s,a){let u=a.selection,c=v.up(_,s,u.selectionStartLineNumber,u.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=v.up(_,s,u.positionLineNumber,u.positionColumn,a.leftoverVisibleColumns,1,!1);return new S.SingleCursorState(new M.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new k.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(_,s){return _.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(_,s,a,u){let c=a.position.lineNumber;for(;c>1&&this._isBlankLine(s,c);)c--;for(;c>1&&!this._isBlankLine(s,c);)c--;return a.move(u,c,s.getLineMinColumn(c),0)}static moveToNextBlankLine(_,s,a,u){const c=s.getLineCount();let d=a.position.lineNumber;for(;d<c&&this._isBlankLine(s,d);)d++;for(;d<c&&!this._isBlankLine(s,d);)d++;return a.move(u,d,s.getLineMinColumn(d),0)}static moveToBeginningOfLine(_,s,a,u){let c=a.position.lineNumber,d=s.getLineMinColumn(c),r=s.getLineFirstNonWhitespaceColumn(c)||d,n;return a.position.column===r?n=d:n=r,a.move(u,c,n,0)}static moveToEndOfLine(_,s,a,u,c){let d=a.position.lineNumber,r=s.getLineMaxColumn(d);return a.move(u,d,r,c?1073741824-r:0)}static moveToBeginningOfBuffer(_,s,a,u){return a.move(u,1,1,0)}static moveToEndOfBuffer(_,s,a,u){let c=s.getLineCount(),d=s.getLineMaxColumn(c);return a.move(u,c,d,0)}}e.MoveOperations=v}),define(Q[184],J([0,1,8,94,39,183,3,13]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(_,s,a,u){let c=[],d=_!==3;for(let r=0,n=u.length;r<n;r++){const o=u[r];let t=o;if(t.isEmpty()){let l=o.getPosition(),h=y.MoveOperations.right(s,a,l);t=new w.Range(h.lineNumber,h.column,l.lineNumber,l.column)}if(t.isEmpty()){c[r]=null;continue}t.startLineNumber!==t.endLineNumber&&(d=!0),c[r]=new k.ReplaceCommand(t,"")}return[d,c]}static isAutoClosingPairDelete(_,s,a,u,c,d,r){if(s==="never"&&a==="never"||_==="never")return!1;for(let n=0,o=d.length;n<o;n++){const t=d[n],l=t.getPosition();if(!t.isEmpty())return!1;const h=c.getLineContent(l.lineNumber);if(l.column<2||l.column>=h.length+1)return!1;const m=h.charAt(l.column-2),C=u.get(m);if(!C)return!1;if(M.isQuote(m)){if(a==="never")return!1}else if(s==="never")return!1;const g=h.charAt(l.column-1);let f=!1;for(const b of C)b.open===m&&b.close===g&&(f=!0);if(!f)return!1;if(_==="auto"){let b=!1;for(let L=0,N=r.length;L<N;L++){const D=r[L];if(l.lineNumber===D.startLineNumber&&l.column===D.startColumn){b=!0;break}}if(!b)return!1}}return!0}static _runAutoClosingPairDelete(_,s,a){let u=[];for(let c=0,d=a.length;c<d;c++){const r=a[c].getPosition(),n=new w.Range(r.lineNumber,r.column-1,r.lineNumber,r.column+1);u[c]=new k.ReplaceCommand(n,"")}return[!0,u]}static deleteLeft(_,s,a,u,c){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,a,u,c))return this._runAutoClosingPairDelete(s,a,u);const d=[];let r=_!==2;for(let n=0,o=u.length;n<o;n++){let t=v.getDeleteRange(u[n],a,s);if(t.isEmpty()){d[n]=null;continue}t.startLineNumber!==t.endLineNumber&&(r=!0),d[n]=new k.ReplaceCommand(t,"")}return[r,d]}static getDeleteRange(_,s,a){if(!_.isEmpty())return _;const u=_.getPosition();if(a.useTabStops&&u.column>1){const c=s.getLineContent(u.lineNumber),d=S.firstNonWhitespaceIndex(c),r=d===-1?c.length+1:d+1;if(u.column<=r){const n=M.CursorColumns.visibleColumnFromColumn2(a,s,u),o=M.CursorColumns.prevIndentTabStop(n,a.indentSize),t=M.CursorColumns.columnFromVisibleColumn2(a,s,u.lineNumber,o);return new w.Range(u.lineNumber,t,u.lineNumber,u.column)}}return w.Range.fromPositions(v.getPositionAfterDeleteLeft(u,s),u)}static getPositionAfterDeleteLeft(_,s){if(_.column>1){const a=S.getLeftDeleteOffset(_.column-1,s.getLineContent(_.lineNumber));return _.with(void 0,a+1)}else if(_.lineNumber>1){const a=_.lineNumber-1;return new p.Position(a,s.getLineMaxColumn(a))}else return _}static cut(_,s,a){let u=[];for(let c=0,d=a.length;c<d;c++){const r=a[c];if(r.isEmpty())if(_.emptySelectionClipboard){let n=r.getPosition(),o,t,l,h;n.lineNumber<s.getLineCount()?(o=n.lineNumber,t=1,l=n.lineNumber+1,h=1):n.lineNumber>1?(o=n.lineNumber-1,t=s.getLineMaxColumn(n.lineNumber-1),l=n.lineNumber,h=s.getLineMaxColumn(n.lineNumber)):(o=n.lineNumber,t=1,l=n.lineNumber,h=s.getLineMaxColumn(n.lineNumber));let m=new w.Range(o,t,l,h);m.isEmpty()?u[c]=null:u[c]=new k.ReplaceCommand(m,"")}else u[c]=null;else u[c]=new k.ReplaceCommand(r,"")}return new M.EditOperationResult(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(Q[185],J([0,1,12,8,94,182,375,39,107,3,21,110,43]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class u{static indent(l,h,m){if(h===null||m===null)return[];let C=[];for(let g=0,f=m.length;g<f;g++)C[g]=new y.ShiftCommand(m[g],{isUnshift:!1,tabSize:l.tabSize,indentSize:l.indentSize,insertSpaces:l.insertSpaces,useTabStops:l.useTabStops,autoIndent:l.autoIndent});return C}static outdent(l,h,m){let C=[];for(let g=0,f=m.length;g<f;g++)C[g]=new y.ShiftCommand(m[g],{isUnshift:!0,tabSize:l.tabSize,indentSize:l.indentSize,insertSpaces:l.insertSpaces,useTabStops:l.useTabStops,autoIndent:l.autoIndent});return C}static shiftIndent(l,h,m){return m=m||1,y.ShiftCommand.shiftIndent(h,h.length+m,l.tabSize,l.indentSize,l.insertSpaces)}static unshiftIndent(l,h,m){return m=m||1,y.ShiftCommand.unshiftIndent(h,h.length+m,l.tabSize,l.indentSize,l.insertSpaces)}static _distributedPaste(l,h,m,C){let g=[];for(let f=0,b=m.length;f<b;f++)g[f]=new M.ReplaceCommand(m[f],C[f]);return new p.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(l,h,m,C,g){let f=[];for(let b=0,L=m.length;b<L;b++){const N=m[b];let D=N.getPosition();if(g&&!N.isEmpty()&&(g=!1),g&&C.indexOf(`
`)!==C.length-1&&(g=!1),g){let I=new i.Range(D.lineNumber,1,D.lineNumber,1);f[b]=new M.ReplaceCommandThatPreservesSelection(I,C,N,!0)}else f[b]=new M.ReplaceCommand(N,C)}return new p.EditOperationResult(0,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(l,h,m,C,g){if(C||h.length===1)return null;if(g&&g.length===h.length)return g;if(l.multiCursorPaste==="spread"){m.charCodeAt(m.length-1)===10&&(m=m.substr(0,m.length-1)),m.charCodeAt(m.length-1)===13&&(m=m.substr(0,m.length-1));let f=k.splitLines(m);if(f.length===h.length)return f}return null}static paste(l,h,m,C,g,f){const b=this._distributePasteToCursors(l,m,C,g,f);return b?(m=m.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(l,h,m,b)):this._simplePaste(l,h,m,C,g)}static _goodIndentForLine(l,h,m){let C=null,g="";const f=a.LanguageConfigurationRegistry.getInheritIndentForLine(l.autoIndent,h,m,!1);if(f)C=f.action,g=f.indentation;else if(m>1){let b;for(b=m-1;b>=1;b--){const D=h.getLineContent(b);if(k.lastNonWhitespaceIndex(D)>=0)break}if(b<1)return null;const L=h.getLineMaxColumn(b),N=a.LanguageConfigurationRegistry.getEnterAction(l.autoIndent,h,new i.Range(b,L,b,L));N&&(g=N.indentation+N.appendText)}return C&&(C===s.IndentAction.Indent&&(g=u.shiftIndent(l,g)),C===s.IndentAction.Outdent&&(g=u.unshiftIndent(l,g)),g=l.normalizeIndentation(g)),g||null}static _replaceJumpToNextIndent(l,h,m,C){let g="",f=m.getStartPosition();if(l.insertSpaces){let b=p.CursorColumns.visibleColumnFromColumn2(l,h,f),L=l.indentSize,N=L-b%L;for(let D=0;D<N;D++)g+=" "}else g="	";return new M.ReplaceCommand(m,g,C)}static tab(l,h,m){let C=[];for(let g=0,f=m.length;g<f;g++){const b=m[g];if(b.isEmpty()){let L=h.getLineContent(b.startLineNumber);if(/^\s*$/.test(L)&&h.isCheapToTokenize(b.startLineNumber)){let N=this._goodIndentForLine(l,h,b.startLineNumber);N=N||"	";let D=l.normalizeIndentation(N);if(!L.startsWith(D)){C[g]=new M.ReplaceCommand(new i.Range(b.startLineNumber,1,b.startLineNumber,L.length+1),D,!0);continue}}C[g]=this._replaceJumpToNextIndent(l,h,b,!0)}else{if(b.startLineNumber===b.endLineNumber){let L=h.getLineMaxColumn(b.startLineNumber);if(b.startColumn!==1||b.endColumn!==L){C[g]=this._replaceJumpToNextIndent(l,h,b,!1);continue}}C[g]=new y.ShiftCommand(b,{isUnshift:!1,tabSize:l.tabSize,indentSize:l.indentSize,insertSpaces:l.insertSpaces,useTabStops:l.useTabStops,autoIndent:l.autoIndent})}}return C}static compositionType(l,h,m,C,g,f,b,L){const N=C.map(D=>this._compositionType(m,D,g,f,b,L));return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:r(l,4),shouldPushStackElementAfter:!1})}static _compositionType(l,h,m,C,g,f){if(!h.isEmpty())return null;const b=h.getPosition(),L=Math.max(1,b.column-C),N=Math.min(l.getLineMaxColumn(b.lineNumber),b.column+g),D=new i.Range(b.lineNumber,L,b.lineNumber,N);return l.getValueInRange(D)===m&&f===0?null:new M.ReplaceCommandWithOffsetCursorState(D,m,0,f)}static _typeCommand(l,h,m){return m?new M.ReplaceCommandWithoutChangingPosition(l,h,!0):new M.ReplaceCommand(l,h,!0)}static _enter(l,h,m,C){if(l.autoIndent===0)return u._typeCommand(C,`
`,m);if(!h.isCheapToTokenize(C.getStartPosition().lineNumber)||l.autoIndent===1){let L=h.getLineContent(C.startLineNumber),N=k.getLeadingWhitespace(L).substring(0,C.startColumn-1);return u._typeCommand(C,`
`+l.normalizeIndentation(N),m)}const g=a.LanguageConfigurationRegistry.getEnterAction(l.autoIndent,h,C);if(g){if(g.indentAction===s.IndentAction.None)return u._typeCommand(C,`
`+l.normalizeIndentation(g.indentation+g.appendText),m);if(g.indentAction===s.IndentAction.Indent)return u._typeCommand(C,`
`+l.normalizeIndentation(g.indentation+g.appendText),m);if(g.indentAction===s.IndentAction.IndentOutdent){const L=l.normalizeIndentation(g.indentation),N=l.normalizeIndentation(g.indentation+g.appendText),D=`
`+N+`
`+L;return m?new M.ReplaceCommandWithoutChangingPosition(C,D,!0):new M.ReplaceCommandWithOffsetCursorState(C,D,-1,N.length-L.length,!0)}else if(g.indentAction===s.IndentAction.Outdent){const L=u.unshiftIndent(l,g.indentation);return u._typeCommand(C,`
`+l.normalizeIndentation(L+g.appendText),m)}}const f=h.getLineContent(C.startLineNumber),b=k.getLeadingWhitespace(f).substring(0,C.startColumn-1);if(l.autoIndent>=4){const L=a.LanguageConfigurationRegistry.getIndentForEnter(l.autoIndent,h,C,{unshiftIndent:N=>u.unshiftIndent(l,N),shiftIndent:N=>u.shiftIndent(l,N),normalizeIndentation:N=>l.normalizeIndentation(N)});if(L){let N=p.CursorColumns.visibleColumnFromColumn2(l,h,C.getEndPosition());const D=C.endColumn,I=h.getLineContent(C.endLineNumber),T=k.firstNonWhitespaceIndex(I);if(T>=0?C=C.setEndPosition(C.endLineNumber,Math.max(C.endColumn,T+1)):C=C.setEndPosition(C.endLineNumber,h.getLineMaxColumn(C.endLineNumber)),m)return new M.ReplaceCommandWithoutChangingPosition(C,`
`+l.normalizeIndentation(L.afterEnter),!0);{let A=0;return D<=T+1&&(l.insertSpaces||(N=Math.ceil(N/l.indentSize)),A=Math.min(N+1-l.normalizeIndentation(L.afterEnter).length-1,0)),new M.ReplaceCommandWithOffsetCursorState(C,`
`+l.normalizeIndentation(L.afterEnter),0,A,!0)}}}return u._typeCommand(C,`
`+l.normalizeIndentation(b),m)}static _isAutoIndentType(l,h,m){if(l.autoIndent<4)return!1;for(let C=0,g=m.length;C<g;C++)if(!h.isCheapToTokenize(m[C].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(l,h,m,C){const g=a.LanguageConfigurationRegistry.getIndentationAtPosition(h,m.startLineNumber,m.startColumn),f=a.LanguageConfigurationRegistry.getIndentActionForType(l.autoIndent,h,m,C,{shiftIndent:b=>u.shiftIndent(l,b),unshiftIndent:b=>u.unshiftIndent(l,b)});if(f===null)return null;if(f!==l.normalizeIndentation(g)){const b=h.getLineFirstNonWhitespaceColumn(m.startLineNumber);return b===0?u._typeCommand(new i.Range(m.startLineNumber,1,m.endLineNumber,m.endColumn),l.normalizeIndentation(f)+C,!1):u._typeCommand(new i.Range(m.startLineNumber,1,m.endLineNumber,m.endColumn),l.normalizeIndentation(f)+h.getLineContent(m.startLineNumber).substring(b-1,m.startColumn-1)+C,!1)}return null}static _isAutoClosingOvertype(l,h,m,C,g){if(l.autoClosingOvertype==="never"||!l.autoClosingPairs.autoClosingPairsCloseSingleChar.has(g))return!1;for(let f=0,b=m.length;f<b;f++){const L=m[f];if(!L.isEmpty())return!1;const N=L.getPosition(),D=h.getLineContent(N.lineNumber);if(D.charAt(N.column-1)!==g)return!1;const T=p.isQuote(g);if((N.column>2?D.charCodeAt(N.column-2):0)===92&&T)return!1;if(l.autoClosingOvertype==="auto"){let R=!1;for(let O=0,P=C.length;O<P;O++){const F=C[O];if(N.lineNumber===F.startLineNumber&&N.column===F.startColumn){R=!0;break}}if(!R)return!1}}return!0}static _runAutoClosingOvertype(l,h,m,C,g){let f=[];for(let b=0,L=C.length;b<L;b++){const D=C[b].getPosition(),I=new i.Range(D.lineNumber,D.column,D.lineNumber,D.column+1);f[b]=new M.ReplaceCommand(I,g)}return new p.EditOperationResult(4,f,{shouldPushStackElementBefore:r(l,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(l,h){const m=h.charAt(0),C=l.autoClosingPairs.autoClosingPairsOpenByStart.get(m)||[],g=l.autoClosingPairs.autoClosingPairsCloseByStart.get(m)||[],f=C.some(L=>h.startsWith(L.open)),b=g.some(L=>h.startsWith(L.close));return!f&&b}static _findAutoClosingPairOpen(l,h,m,C){const g=l.autoClosingPairs.autoClosingPairsOpenByEnd.get(C);if(!g)return null;let f=null;for(const b of g)if(f===null||b.open.length>f.open.length){let L=!0;for(const N of m)if(h.getValueInRange(new i.Range(N.lineNumber,N.column-b.open.length+1,N.lineNumber,N.column))+C!==b.open){L=!1;break}L&&(f=b)}return f}static _findSubAutoClosingPairClose(l,h){if(h.open.length<=1)return"";const m=h.close.charAt(h.close.length-1),C=l.autoClosingPairs.autoClosingPairsCloseByEnd.get(m)||[];let g=null;for(const f of C)f.open!==h.open&&h.open.includes(f.open)&&h.close.endsWith(f.close)&&(!g||f.open.length>g.open.length)&&(g=f);return g?g.close:""}static _getAutoClosingPairClose(l,h,m,C,g){const f=p.isQuote(C),b=f?l.autoClosingQuotes:l.autoClosingBrackets;if(b==="never")return null;const L=this._findAutoClosingPairOpen(l,h,m.map(T=>T.getPosition()),C);if(!L)return null;const N=this._findSubAutoClosingPairClose(l,L);let D=!0;const I=f?l.shouldAutoCloseBefore.quote:l.shouldAutoCloseBefore.bracket;for(let T=0,A=m.length;T<A;T++){const R=m[T];if(!R.isEmpty())return null;const O=R.getPosition(),P=h.getLineContent(O.lineNumber),F=P.substring(O.column-1);if(F.startsWith(N)||(D=!1),P.length>O.column-1){const H=P.charAt(O.column-1);if(!u._isBeforeClosingBrace(l,F)&&!I(H))return null}if(!h.isCheapToTokenize(O.lineNumber))return null;if(L.open.length===1&&f&&b!=="always"){const H=v.getMapForWordSeparators(l.wordSeparators);if(g&&O.column>1&&H.get(P.charCodeAt(O.column-2))===0||!g&&O.column>2&&H.get(P.charCodeAt(O.column-3))===0)return null}h.forceTokenization(O.lineNumber);const E=h.getLineTokens(O.lineNumber);let x=!1;try{x=a.LanguageConfigurationRegistry.shouldAutoClosePair(L,E,g?O.column:O.column-1)}catch(H){S.onUnexpectedError(H)}if(!x)return null}return D?L.close.substring(0,L.close.length-N.length):L.close}static _runAutoClosingOpenCharType(l,h,m,C,g,f,b){let L=[];for(let N=0,D=C.length;N<D;N++){const I=C[N];L[N]=new c(I,g,f,b)}return new p.EditOperationResult(4,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(l,h){return p.isQuote(h)?l.autoSurround==="quotes"||l.autoSurround==="languageDefined":l.autoSurround==="brackets"||l.autoSurround==="languageDefined"}static _isSurroundSelectionType(l,h,m,C){if(!u._shouldSurroundChar(l,C)||!l.surroundingPairs.hasOwnProperty(C))return!1;const g=p.isQuote(C);for(let f=0,b=m.length;f<b;f++){const L=m[f];if(L.isEmpty())return!1;let N=!0;for(let D=L.startLineNumber;D<=L.endLineNumber;D++){const I=h.getLineContent(D),T=D===L.startLineNumber?L.startColumn-1:0,A=D===L.endLineNumber?L.endColumn-1:I.length,R=I.substring(T,A);if(/[^ \t]/.test(R)){N=!1;break}}if(N)return!1;if(g&&L.startLineNumber===L.endLineNumber&&L.startColumn+1===L.endColumn){const D=h.getValueInRange(L);if(p.isQuote(D))return!1}}return!0}static _runSurroundSelectionType(l,h,m,C,g){let f=[];for(let b=0,L=C.length;b<L;b++){const N=C[b],D=h.surroundingPairs[g];f[b]=new w.SurroundSelectionCommand(N,g,D)}return new p.EditOperationResult(0,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(l,h,m){return!!(m.length===1&&h.isCheapToTokenize(m[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(l,h,m,C,g){if(!h.electricChars.hasOwnProperty(g)||!C.isEmpty())return null;let f=C.getPosition();m.forceTokenization(f.lineNumber);let b=m.getLineTokens(f.lineNumber),L;try{L=a.LanguageConfigurationRegistry.onElectricCharacter(g,b,f.column)}catch(N){return S.onUnexpectedError(N),null}if(!L)return null;if(L.matchOpenBracket){let N=(b.getLineContent()+g).lastIndexOf(L.matchOpenBracket)+1,D=m.findMatchingBracketUp(L.matchOpenBracket,{lineNumber:f.lineNumber,column:N});if(D){if(D.startLineNumber===f.lineNumber)return null;let I=m.getLineContent(D.startLineNumber),T=k.getLeadingWhitespace(I),A=h.normalizeIndentation(T),R=m.getLineContent(f.lineNumber),O=m.getLineFirstNonWhitespaceColumn(f.lineNumber)||f.column,P=R.substring(O-1,f.column-1),F=A+P+g,E=new i.Range(f.lineNumber,1,f.lineNumber,f.column);const x=new M.ReplaceCommand(E,F);return new p.EditOperationResult(d(F,l),[x],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(l,h,m,C,g,f){if(!C||_.Selection.selectionsArrEqual(C,g))return null;let b=null;for(const N of g){if(!N.isEmpty())return null;const D=N.getPosition(),I=m.getValueInRange(new i.Range(D.lineNumber,D.column-1,D.lineNumber,D.column));if(b===null)b=I;else if(b!==I)return null}if(!b)return null;if(this._isAutoClosingOvertype(h,m,g,f,b)){const N=g.map(D=>new M.ReplaceCommand(new i.Range(D.positionLineNumber,D.positionColumn,D.positionLineNumber,D.positionColumn+1),"",!1));return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const L=this._getAutoClosingPairClose(h,m,g,b,!1);return L!==null?this._runAutoClosingOpenCharType(l,h,m,g,b,!1,L):null}static typeWithInterceptors(l,h,m,C,g,f,b){if(!l&&b===`
`){let D=[];for(let I=0,T=g.length;I<T;I++)D[I]=u._enter(m,C,!1,g[I]);return new p.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!l&&this._isAutoIndentType(m,C,g)){let D=[],I=!1;for(let T=0,A=g.length;T<A;T++)if(D[T]=this._runAutoIndentType(m,C,g[T],b),!D[T]){I=!0;break}if(!I)return new p.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!l&&this._isAutoClosingOvertype(m,C,g,f,b))return this._runAutoClosingOvertype(h,m,C,g,b);if(!l){const D=this._getAutoClosingPairClose(m,C,g,b,!0);if(D)return this._runAutoClosingOpenCharType(h,m,C,g,b,!0,D)}if(this._isSurroundSelectionType(m,C,g,b))return this._runSurroundSelectionType(h,m,C,g,b);if(!l&&this._isTypeInterceptorElectricChar(m,C,g)){const D=this._typeInterceptorElectricChar(h,m,C,g[0],b);if(D)return D}let L=[];for(let D=0,I=g.length;D<I;D++)L[D]=new M.ReplaceCommand(g[D],b);const N=d(b,h);return new p.EditOperationResult(N,L,{shouldPushStackElementBefore:r(h,N),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(l,h,m,C,g){let f=[];for(let L=0,N=C.length;L<N;L++)f[L]=new M.ReplaceCommand(C[L],g);const b=d(g,l);return new p.EditOperationResult(b,f,{shouldPushStackElementBefore:r(l,b),shouldPushStackElementAfter:!1})}static lineInsertBefore(l,h,m){if(h===null||m===null)return[];let C=[];for(let g=0,f=m.length;g<f;g++){let b=m[g].positionLineNumber;if(b===1)C[g]=new M.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{b--;let L=h.getLineMaxColumn(b);C[g]=this._enter(l,h,!1,new i.Range(b,L,b,L))}}return C}static lineInsertAfter(l,h,m){if(h===null||m===null)return[];let C=[];for(let g=0,f=m.length;g<f;g++){const b=m[g].positionLineNumber;let L=h.getLineMaxColumn(b);C[g]=this._enter(l,h,!1,new i.Range(b,L,b,L))}return C}static lineBreakInsert(l,h,m){let C=[];for(let g=0,f=m.length;g<f;g++)C[g]=this._enter(l,h,!0,m[g]);return C}}e.TypeOperations=u;class c extends M.ReplaceCommandWithOffsetCursorState{constructor(l,h,m,C){super(l,(m?h:"")+C,0,-C.length);this._openCharacter=h,this._closeCharacter=C,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(l,h){let C=h.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(C.startLineNumber,C.endColumn-this._closeCharacter.length,C.endLineNumber,C.endColumn),this.enclosingRange=new i.Range(C.startLineNumber,C.endColumn-this._openCharacter.length-this._closeCharacter.length,C.endLineNumber,C.endColumn),super.computeCursorState(l,h)}}e.TypeWithAutoClosingCommand=c;function d(t,l){return t===" "?l===5||l===6?6:5:4}function r(t,l){return o(t)&&!o(l)?!0:t===5?!1:n(t)!==n(l)}function n(t){return t===6||t===5?"space":t}function o(t){return t===4||t===5||t===6}}),define(Q[137],J([0,1,8,39,184,107,13,3]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(a,u,c,d,r){return{start:d,end:r,wordType:u,nextCharClass:c}}static _findPreviousWordOnLine(a,u,c){let d=u.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(d,a,c)}static _doFindPreviousWordOnLine(a,u,c){let d=0;for(let r=c.column-2;r>=0;r--){let n=a.charCodeAt(r),o=u.get(n);if(o===0){if(d===2)return this._createWord(a,d,o,r+1,this._findEndOfWord(a,u,d,r+1));d=1}else if(o===2){if(d===1)return this._createWord(a,d,o,r+1,this._findEndOfWord(a,u,d,r+1));d=2}else if(o===1&&d!==0)return this._createWord(a,d,o,r+1,this._findEndOfWord(a,u,d,r+1))}return d!==0?this._createWord(a,d,1,0,this._findEndOfWord(a,u,d,0)):null}static _findEndOfWord(a,u,c,d){let r=a.length;for(let n=d;n<r;n++){let o=a.charCodeAt(n),t=u.get(o);if(t===1||c===1&&t===2||c===2&&t===0)return n}return r}static _findNextWordOnLine(a,u,c){let d=u.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(d,a,c)}static _doFindNextWordOnLine(a,u,c){let d=0,r=a.length;for(let n=c.column-1;n<r;n++){let o=a.charCodeAt(n),t=u.get(o);if(t===0){if(d===2)return this._createWord(a,d,t,this._findStartOfWord(a,u,d,n-1),n);d=1}else if(t===2){if(d===1)return this._createWord(a,d,t,this._findStartOfWord(a,u,d,n-1),n);d=2}else if(t===1&&d!==0)return this._createWord(a,d,t,this._findStartOfWord(a,u,d,n-1),n)}return d!==0?this._createWord(a,d,1,this._findStartOfWord(a,u,d,r-1),r):null}static _findStartOfWord(a,u,c,d){for(let r=d;r>=0;r--){let n=a.charCodeAt(r),o=u.get(n);if(o===1||c===1&&o===2||c===2&&o===0)return r+1}return 0}static moveWordLeft(a,u,c,d){let r=c.lineNumber,n=c.column;n===1&&r>1&&(r=r-1,n=u.getLineMaxColumn(r));let o=v._findPreviousWordOnLine(a,u,new w.Position(r,n));if(d===0)return new w.Position(r,o?o.start+1:1);if(d===1)return o&&o.wordType===2&&o.end-o.start==1&&o.nextCharClass===0&&(o=v._findPreviousWordOnLine(a,u,new w.Position(r,o.start+1))),new w.Position(r,o?o.start+1:1);if(d===3){for(;o&&o.wordType===2;)o=v._findPreviousWordOnLine(a,u,new w.Position(r,o.start+1));return new w.Position(r,o?o.start+1:1)}return o&&n<=o.end+1&&(o=v._findPreviousWordOnLine(a,u,new w.Position(r,o.start+1))),new w.Position(r,o?o.end+1:1)}static _moveWordPartLeft(a,u){const c=u.lineNumber,d=a.getLineMaxColumn(c);if(u.column===1)return c>1?new w.Position(c-1,a.getLineMaxColumn(c-1)):u;const r=a.getLineContent(c);for(let n=u.column-1;n>1;n--){const o=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(o===95&&t!==95)return new w.Position(c,n);if(S.isLowerAsciiLetter(o)&&S.isUpperAsciiLetter(t))return new w.Position(c,n);if(S.isUpperAsciiLetter(o)&&S.isUpperAsciiLetter(t)&&n+1<d){const l=r.charCodeAt(n);if(S.isLowerAsciiLetter(l))return new w.Position(c,n)}}return new w.Position(c,1)}static moveWordRight(a,u,c,d){let r=c.lineNumber,n=c.column,o=!1;n===u.getLineMaxColumn(r)&&r<u.getLineCount()&&(o=!0,r=r+1,n=1);let t=v._findNextWordOnLine(a,u,new w.Position(r,n));if(d===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=v._findNextWordOnLine(a,u,new w.Position(r,t.end+1))),t?n=t.end+1:n=u.getLineMaxColumn(r);else if(d===3){for(o&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=v._findNextWordOnLine(a,u,new w.Position(r,t.end+1));t?n=t.start+1:n=u.getLineMaxColumn(r)}else t&&!o&&n>=t.start+1&&(t=v._findNextWordOnLine(a,u,new w.Position(r,t.end+1))),t?n=t.start+1:n=u.getLineMaxColumn(r);return new w.Position(r,n)}static _moveWordPartRight(a,u){const c=u.lineNumber,d=a.getLineMaxColumn(c);if(u.column===d)return c<a.getLineCount()?new w.Position(c+1,1):u;const r=a.getLineContent(c);for(let n=u.column+1;n<d;n++){const o=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(o!==95&&t===95)return new w.Position(c,n);if(S.isLowerAsciiLetter(o)&&S.isUpperAsciiLetter(t))return new w.Position(c,n);if(S.isUpperAsciiLetter(o)&&S.isUpperAsciiLetter(t)&&n+1<d){const l=r.charCodeAt(n);if(S.isLowerAsciiLetter(l))return new w.Position(c,n)}}return new w.Position(c,d)}static _deleteWordLeftWhitespace(a,u){const c=a.getLineContent(u.lineNumber),d=u.column-2,r=S.lastNonWhitespaceIndex(c,d);return r+1<d?new p.Range(u.lineNumber,r+2,u.lineNumber,u.column):null}static deleteWordLeft(a,u){const c=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;if(M.DeleteOperations.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const m=a.selection.getPosition();return new p.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const o=new w.Position(r.positionLineNumber,r.positionColumn);let t=o.lineNumber,l=o.column;if(t===1&&l===1)return null;if(n){let m=this._deleteWordLeftWhitespace(d,o);if(m)return m}let h=v._findPreviousWordOnLine(c,d,o);return u===0?h?l=h.start+1:l>1?l=1:(t--,l=d.getLineMaxColumn(t)):(h&&l<=h.end+1&&(h=v._findPreviousWordOnLine(c,d,new w.Position(t,h.start+1))),h?l=h.end+1:l>1?l=1:(t--,l=d.getLineMaxColumn(t))),new p.Range(t,l,o.lineNumber,o.column)}static deleteInsideWord(a,u,c){if(!c.isEmpty())return c;const d=new w.Position(c.positionLineNumber,c.positionColumn);let r=this._deleteInsideWordWhitespace(u,d);return r||this._deleteInsideWordDetermineDeleteRange(a,u,d)}static _charAtIsWhitespace(a,u){const c=a.charCodeAt(u);return c===32||c===9}static _deleteInsideWordWhitespace(a,u){const c=a.getLineContent(u.lineNumber),d=c.length;if(d===0)return null;let r=Math.max(u.column-2,0);if(!this._charAtIsWhitespace(c,r))return null;let n=Math.min(u.column-1,d-1);if(!this._charAtIsWhitespace(c,n))return null;for(;r>0&&this._charAtIsWhitespace(c,r-1);)r--;for(;n+1<d&&this._charAtIsWhitespace(c,n+1);)n++;return new p.Range(u.lineNumber,r+1,u.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(a,u,c){const d=u.getLineContent(c.lineNumber),r=d.length;if(r===0)return c.lineNumber>1?new p.Range(c.lineNumber-1,u.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<u.getLineCount()?new p.Range(c.lineNumber,1,c.lineNumber+1,1):new p.Range(c.lineNumber,1,c.lineNumber,1);const n=m=>m.start+1<=c.column&&c.column<=m.end+1,o=(m,C)=>(m=Math.min(m,c.column),C=Math.max(C,c.column),new p.Range(c.lineNumber,m,c.lineNumber,C)),t=m=>{let C=m.start+1,g=m.end+1,f=!1;for(;g-1<r&&this._charAtIsWhitespace(d,g-1);)f=!0,g++;if(!f)for(;C>1&&this._charAtIsWhitespace(d,C-2);)C--;return o(C,g)},l=v._findPreviousWordOnLine(a,u,c);if(l&&n(l))return t(l);const h=v._findNextWordOnLine(a,u,c);return h&&n(h)?t(h):l&&h?o(l.end+1,h.start+1):l?o(l.start+1,l.end+1):h?o(h.start+1,h.end+1):o(1,r+1)}static _deleteWordPartLeft(a,u){if(!u.isEmpty())return u;const c=u.getPosition(),d=v._moveWordPartLeft(a,c);return new p.Range(c.lineNumber,c.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(a,u){let c=a.length;for(let d=u;d<c;d++){let r=a.charAt(d);if(r!==" "&&r!=="	")return d}return c}static _deleteWordRightWhitespace(a,u){const c=a.getLineContent(u.lineNumber),d=u.column-1,r=this._findFirstNonWhitespaceChar(c,d);return d+1<r?new p.Range(u.lineNumber,u.column,u.lineNumber,r+1):null}static deleteWordRight(a,u){const c=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;const o=new w.Position(r.positionLineNumber,r.positionColumn);let t=o.lineNumber,l=o.column;const h=d.getLineCount(),m=d.getLineMaxColumn(t);if(t===h&&l===m)return null;if(n){let g=this._deleteWordRightWhitespace(d,o);if(g)return g}let C=v._findNextWordOnLine(c,d,o);return u===2?C?l=C.end+1:l<m||t===h?l=m:(t++,C=v._findNextWordOnLine(c,d,new w.Position(t,1)),C?l=C.start+1:l=d.getLineMaxColumn(t)):(C&&l>=C.start+1&&(C=v._findNextWordOnLine(c,d,new w.Position(t,C.end+1))),C?l=C.start+1:l<m||t===h?l=m:(t++,C=v._findNextWordOnLine(c,d,new w.Position(t,1)),C?l=C.start+1:l=d.getLineMaxColumn(t))),new p.Range(t,l,o.lineNumber,o.column)}static _deleteWordPartRight(a,u){if(!u.isEmpty())return u;const c=u.getPosition(),d=v._moveWordPartRight(a,c);return new p.Range(c.lineNumber,c.column,d.lineNumber,d.column)}static _createWordAtPosition(a,u,c){const d=new p.Range(u,c.start+1,u,c.end+1);return{word:a.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(a,u,c){const d=y.getMapForWordSeparators(u),r=v._findPreviousWordOnLine(d,a,c);if(r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end)return v._createWordAtPosition(a,c.lineNumber,r);const n=v._findNextWordOnLine(d,a,c);return n&&n.wordType===1&&n.start<=c.column-1&&c.column-1<=n.end?v._createWordAtPosition(a,c.lineNumber,n):null}static word(a,u,c,d,r){const n=y.getMapForWordSeparators(a.wordSeparators);let o=v._findPreviousWordOnLine(n,u,r),t=v._findNextWordOnLine(n,u,r);if(!d){let g,f;return o&&o.wordType===1&&o.start<=r.column-1&&r.column-1<=o.end?(g=o.start+1,f=o.end+1):t&&t.wordType===1&&t.start<=r.column-1&&r.column-1<=t.end?(g=t.start+1,f=t.end+1):(o?g=o.end+1:g=1,t?f=t.start+1:f=u.getLineMaxColumn(r.lineNumber)),new k.SingleCursorState(new p.Range(r.lineNumber,g,r.lineNumber,f),0,new w.Position(r.lineNumber,f),0)}let l,h;o&&o.wordType===1&&o.start<r.column-1&&r.column-1<o.end?(l=o.start+1,h=o.end+1):t&&t.wordType===1&&t.start<r.column-1&&r.column-1<t.end?(l=t.start+1,h=t.end+1):(l=r.column,h=r.column);let m=r.lineNumber,C;if(c.selectionStart.containsPosition(r))C=c.selectionStart.endColumn;else if(r.isBeforeOrEqual(c.selectionStart.getStartPosition())){C=l;let g=new w.Position(m,C);c.selectionStart.containsPosition(g)&&(C=c.selectionStart.endColumn)}else{C=h;let g=new w.Position(m,C);c.selectionStart.containsPosition(g)&&(C=c.selectionStart.startColumn)}return c.move(!0,m,C,0)}}e.WordOperations=v;class i extends v{static deleteWordPartLeft(a){const u=_([v.deleteWordLeft(a,0),v.deleteWordLeft(a,2),v._deleteWordPartLeft(a.model,a.selection)]);return u.sort(p.Range.compareRangesUsingEnds),u[2]}static deleteWordPartRight(a){const u=_([v.deleteWordRight(a,0),v.deleteWordRight(a,2),v._deleteWordPartRight(a.model,a.selection)]);return u.sort(p.Range.compareRangesUsingStarts),u[0]}static moveWordPartLeft(a,u,c){const d=_([v.moveWordLeft(a,u,c,0),v.moveWordLeft(a,u,c,2),v._moveWordPartLeft(u,c)]);return d.sort(w.Position.compare),d[2]}static moveWordPartRight(a,u,c){const d=_([v.moveWordRight(a,u,c,0),v.moveWordRight(a,u,c,2),v._moveWordPartRight(u,c)]);return d.sort(w.Position.compare),d[0]}}e.WordPartOperations=i;function _(s){return s.filter(a=>Boolean(a))}}),define(Q[242],J([0,1,20,39,183,137,13,3]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(s,a,u){let c=[],d=0;for(let r=0,n=a.length;r<n;r++){const o=a[r];c[d++]=new k.CursorState(o.modelState,o.viewState),u?c[d++]=k.CursorState.fromModelState(M.MoveOperations.translateDown(s.cursorConfig,s.model,o.modelState)):c[d++]=k.CursorState.fromViewState(M.MoveOperations.translateDown(s.cursorConfig,s,o.viewState))}return c}static addCursorUp(s,a,u){let c=[],d=0;for(let r=0,n=a.length;r<n;r++){const o=a[r];c[d++]=new k.CursorState(o.modelState,o.viewState),u?c[d++]=k.CursorState.fromModelState(M.MoveOperations.translateUp(s.cursorConfig,s.model,o.modelState)):c[d++]=k.CursorState.fromViewState(M.MoveOperations.translateUp(s.cursorConfig,s,o.viewState))}return c}static moveToBeginningOfLine(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=this._moveToLineStart(s,n,u)}return c}static _moveToLineStart(s,a,u){const c=a.viewState.position.column,d=a.modelState.position.column,r=c===d,n=a.viewState.position.lineNumber,o=s.getLineFirstNonWhitespaceColumn(n);return!r&&!(c===o)?this._moveToLineStartByView(s,a,u):this._moveToLineStartByModel(s,a,u)}static _moveToLineStartByView(s,a,u){return k.CursorState.fromViewState(M.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,a.viewState,u))}static _moveToLineStartByModel(s,a,u){return k.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,a.modelState,u))}static moveToEndOfLine(s,a,u,c){let d=[];for(let r=0,n=a.length;r<n;r++){const o=a[r];d[r]=this._moveToLineEnd(s,o,u,c)}return d}static _moveToLineEnd(s,a,u,c){const d=a.viewState.position,r=s.getLineMaxColumn(d.lineNumber),n=d.column===r,o=a.modelState.position,t=s.model.getLineMaxColumn(o.lineNumber),l=r-d.column==t-o.column;return n||l?this._moveToLineEndByModel(s,a,u,c):this._moveToLineEndByView(s,a,u,c)}static _moveToLineEndByView(s,a,u,c){return k.CursorState.fromViewState(M.MoveOperations.moveToEndOfLine(s.cursorConfig,s,a.viewState,u,c))}static _moveToLineEndByModel(s,a,u,c){return k.CursorState.fromModelState(M.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,a.modelState,u,c))}static expandLineSelection(s,a){let u=[];for(let c=0,d=a.length;c<d;c++){const r=a[c],n=r.modelState.selection.startLineNumber,o=s.model.getLineCount();let t=r.modelState.selection.endLineNumber,l;t===o?l=s.model.getLineMaxColumn(o):(t++,l=1),u[c]=k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(n,1,n,1),0,new w.Position(t,l),0))}return u}static moveToBeginningOfBuffer(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=k.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,n.modelState,u))}return c}static moveToEndOfBuffer(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=k.CursorState.fromModelState(M.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,n.modelState,u))}return c}static selectAll(s,a){const u=s.model.getLineCount(),c=s.model.getLineMaxColumn(u);return k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(1,1,1,1),0,new w.Position(u,c),0))}static line(s,a,u,c,d){const r=s.model.validatePosition(c),n=d?s.coordinatesConverter.validateViewPosition(new w.Position(d.lineNumber,d.column),r):s.coordinatesConverter.convertModelPositionToViewPosition(r);if(!u||!a.modelState.hasSelection()){const t=s.model.getLineCount();let l=r.lineNumber+1,h=1;return l>t&&(l=t,h=s.model.getLineMaxColumn(l)),k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(r.lineNumber,1,l,h),0,new w.Position(l,h),0))}const o=a.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<o)return k.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),n.lineNumber,1,0));if(r.lineNumber>o){const t=s.getLineCount();let l=n.lineNumber+1,h=1;return l>t&&(l=t,h=s.getLineMaxColumn(l)),k.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),l,h,0))}else{const t=a.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(a.modelState.move(a.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(s,a,u,c){const d=s.model.validatePosition(c);return k.CursorState.fromModelState(y.WordOperations.word(s.cursorConfig,s.model,a.modelState,u,d))}static cancelSelection(s,a){if(!a.modelState.hasSelection())return new k.CursorState(a.modelState,a.viewState);const u=a.viewState.position.lineNumber,c=a.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new p.Range(u,c,u,c),0,new w.Position(u,c),0))}static moveTo(s,a,u,c,d){const r=s.model.validatePosition(c),n=d?s.coordinatesConverter.validateViewPosition(new w.Position(d.lineNumber,d.column),r):s.coordinatesConverter.convertModelPositionToViewPosition(r);return k.CursorState.fromViewState(a.viewState.move(u,n.lineNumber,n.column,0))}static simpleMove(s,a,u,c,d,r){switch(u){case 0:return r===4?this._moveHalfLineLeft(s,a,c):this._moveLeft(s,a,c,d);case 1:return r===4?this._moveHalfLineRight(s,a,c):this._moveRight(s,a,c,d);case 2:return r===2?this._moveUpByViewLines(s,a,c,d):this._moveUpByModelLines(s,a,c,d);case 3:return r===2?this._moveDownByViewLines(s,a,c,d):this._moveDownByModelLines(s,a,c,d);case 4:return r===2?a.map(n=>k.CursorState.fromViewState(M.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,n.viewState,c))):a.map(n=>k.CursorState.fromModelState(M.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,n.modelState,c)));case 5:return r===2?a.map(n=>k.CursorState.fromViewState(M.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,n.viewState,c))):a.map(n=>k.CursorState.fromModelState(M.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,n.modelState,c)));case 6:return this._moveToViewMinColumn(s,a,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,a,c);case 8:return this._moveToViewCenterColumn(s,a,c);case 9:return this._moveToViewMaxColumn(s,a,c);case 10:return this._moveToViewLastNonWhitespaceColumn(s,a,c);default:return null}}static viewportMove(s,a,u,c,d){const r=s.getCompletelyVisibleViewRange(),n=s.coordinatesConverter.convertViewRangeToModelRange(r);switch(u){case 11:{const o=this._firstLineNumberInRange(s.model,n,d),t=s.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(s,a[0],c,o,t)]}case 13:{const o=this._lastLineNumberInRange(s.model,n,d),t=s.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(s,a[0],c,o,t)]}case 12:{const o=Math.round((n.startLineNumber+n.endLineNumber)/2),t=s.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(s,a[0],c,o,t)]}case 14:{let o=[];for(let t=0,l=a.length;t<l;t++){const h=a[t];o[t]=this.findPositionInViewportIfOutside(s,h,r,c)}return o}default:return null}}static findPositionInViewportIfOutside(s,a,u,c){let d=a.viewState.position.lineNumber;if(u.startLineNumber<=d&&d<=u.endLineNumber-1)return new k.CursorState(a.modelState,a.viewState);{d>u.endLineNumber-1&&(d=u.endLineNumber-1),d<u.startLineNumber&&(d=u.startLineNumber);const r=s.getLineFirstNonWhitespaceColumn(d);return this._moveToViewPosition(s,a,c,d,r)}}static _firstLineNumberInRange(s,a,u){let c=a.startLineNumber;return a.startColumn!==s.getLineMinColumn(c)&&c++,Math.min(a.endLineNumber,c+u-1)}static _lastLineNumberInRange(s,a,u){let c=a.startLineNumber;return a.startColumn!==s.getLineMinColumn(c)&&c++,Math.max(c,a.endLineNumber-u+1)}static _moveLeft(s,a,u,c){return a.map(d=>k.CursorState.fromViewState(M.MoveOperations.moveLeft(s.cursorConfig,s,d.viewState,u,c)))}static _moveHalfLineLeft(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=Math.round(s.getLineContent(o).length/2);c[d]=k.CursorState.fromViewState(M.MoveOperations.moveLeft(s.cursorConfig,s,n.viewState,u,t))}return c}static _moveRight(s,a,u,c){return a.map(d=>k.CursorState.fromViewState(M.MoveOperations.moveRight(s.cursorConfig,s,d.viewState,u,c)))}static _moveHalfLineRight(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=Math.round(s.getLineContent(o).length/2);c[d]=k.CursorState.fromViewState(M.MoveOperations.moveRight(s.cursorConfig,s,n.viewState,u,t))}return c}static _moveDownByViewLines(s,a,u,c){let d=[];for(let r=0,n=a.length;r<n;r++){const o=a[r];d[r]=k.CursorState.fromViewState(M.MoveOperations.moveDown(s.cursorConfig,s,o.viewState,u,c))}return d}static _moveDownByModelLines(s,a,u,c){let d=[];for(let r=0,n=a.length;r<n;r++){const o=a[r];d[r]=k.CursorState.fromModelState(M.MoveOperations.moveDown(s.cursorConfig,s.model,o.modelState,u,c))}return d}static _moveUpByViewLines(s,a,u,c){let d=[];for(let r=0,n=a.length;r<n;r++){const o=a[r];d[r]=k.CursorState.fromViewState(M.MoveOperations.moveUp(s.cursorConfig,s,o.viewState,u,c))}return d}static _moveUpByModelLines(s,a,u,c){let d=[];for(let r=0,n=a.length;r<n;r++){const o=a[r];d[r]=k.CursorState.fromModelState(M.MoveOperations.moveUp(s.cursorConfig,s.model,o.modelState,u,c))}return d}static _moveToViewPosition(s,a,u,c,d){return k.CursorState.fromViewState(a.viewState.move(u,c,d,0))}static _moveToModelPosition(s,a,u,c,d){return k.CursorState.fromModelState(a.modelState.move(u,c,d,0))}static _moveToViewMinColumn(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=s.getLineMinColumn(o);c[d]=this._moveToViewPosition(s,n,u,o,t)}return c}static _moveToViewFirstNonWhitespaceColumn(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=s.getLineFirstNonWhitespaceColumn(o);c[d]=this._moveToViewPosition(s,n,u,o,t)}return c}static _moveToViewCenterColumn(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=Math.round((s.getLineMaxColumn(o)+s.getLineMinColumn(o))/2);c[d]=this._moveToViewPosition(s,n,u,o,t)}return c}static _moveToViewMaxColumn(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=s.getLineMaxColumn(o);c[d]=this._moveToViewPosition(s,n,u,o,t)}return c}static _moveToViewLastNonWhitespaceColumn(s,a,u){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],o=n.viewState.position.lineNumber,t=s.getLineLastNonWhitespaceColumn(o);c[d]=this._moveToViewPosition(s,n,u,o,t)}return c}}e.CursorMoveCommands=v;var i;(function(_){const s=function(u){if(!S.isObject(u))return!1;let c=u;return!(!S.isString(c.to)||!S.isUndefined(c.select)&&!S.isBoolean(c.select)||!S.isUndefined(c.by)&&!S.isString(c.by)||!S.isUndefined(c.value)&&!S.isNumber(c.value))};_.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},_.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},_.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(u){if(!u.to)return null;let c;switch(u.to){case _.RawDirection.Left:c=0;break;case _.RawDirection.Right:c=1;break;case _.RawDirection.Up:c=2;break;case _.RawDirection.Down:c=3;break;case _.RawDirection.PrevBlankLine:c=4;break;case _.RawDirection.NextBlankLine:c=5;break;case _.RawDirection.WrappedLineStart:c=6;break;case _.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case _.RawDirection.WrappedLineColumnCenter:c=8;break;case _.RawDirection.WrappedLineEnd:c=9;break;case _.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case _.RawDirection.ViewPortTop:c=11;break;case _.RawDirection.ViewPortBottom:c=13;break;case _.RawDirection.ViewPortCenter:c=12;break;case _.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let d=0;switch(u.by){case _.RawUnit.Line:d=1;break;case _.RawUnit.WrappedLine:d=2;break;case _.RawUnit.Character:d=3;break;case _.RawUnit.HalfLine:d=4;break}return{direction:c,unit:d,select:!!u.select,value:u.value||1}}_.parse=a})(i=e.CursorMove||(e.CursorMove={}))}),define(Q[551],J([0,1,39,13,3,21]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OneCursor=void 0;class w{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new S.SingleCursorState(new M.Range(1,1,1,1),0,new k.Position(1,1),0),new S.SingleCursorState(new M.Range(1,1,1,1),0,new k.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new S.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const i=v.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new y.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new y.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,i,_){this._setState(v,i,_)}_setState(v,i,_){if(i){const s=v.model.validateRange(i.selectionStart),a=i.selectionStart.equalsRange(s)?i.selectionStartLeftoverVisibleColumns:0,u=v.model.validatePosition(i.position),c=i.position.equals(u)?i.leftoverVisibleColumns:0;i=new S.SingleCursorState(s,a,u,c)}else{if(!_)return;const s=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(_.selectionStart)),a=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(_.position));i=new S.SingleCursorState(s,_.selectionStartLeftoverVisibleColumns,a,_.leftoverVisibleColumns)}if(_){const s=v.coordinatesConverter.validateViewRange(_.selectionStart,i.selectionStart),a=v.coordinatesConverter.validateViewPosition(_.position,i.position);_=new S.SingleCursorState(s,i.selectionStartLeftoverVisibleColumns,a,i.leftoverVisibleColumns)}else{const s=v.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),a=v.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),u=new M.Range(s.lineNumber,s.column,a.lineNumber,a.column),c=v.coordinatesConverter.convertModelPositionToViewPosition(i.position);_=new S.SingleCursorState(u,i.selectionStartLeftoverVisibleColumns,c,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=_,this._updateTrackedRange(v)}}e.OneCursor=w}),define(Q[552],J([0,1,39,551,21]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class y{constructor(p){this.context=p,this.primaryCursor=new k.OneCursor(p),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let p=0,v=this.secondaryCursors.length;p<v;p++)this.secondaryCursors[p].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let p=0,v=this.secondaryCursors.length;p<v;p++)this.secondaryCursors[p].stopTrackingSelection(this.context)}updateContext(p){this.context=p}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let p=0,v=this.secondaryCursors.length;p<v;p++)this.secondaryCursors[p].ensureValidState(this.context)}readSelectionFromMarkers(){let p=[];p[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].readSelectionFromMarkers(this.context);return p}getAll(){let p=[];p[0]=this.primaryCursor.asCursorState();for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].asCursorState();return p}getViewPositions(){let p=[];p[0]=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].viewState.position;return p}getTopMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++){const _=this.secondaryCursors[v].viewState.position;_.isBefore(p)&&(p=_)}return p}getBottomMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++){const _=this.secondaryCursors[v].viewState.position;p.isBeforeOrEqual(_)&&(p=_)}return p}getSelections(){let p=[];p[0]=this.primaryCursor.modelState.selection;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].modelState.selection;return p}getViewSelections(){let p=[];p[0]=this.primaryCursor.viewState.selection;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v].viewState.selection;return p}setSelections(p){this.setStates(S.CursorState.fromModelSelections(p))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(p){p!==null&&(this.primaryCursor.setState(this.context,p[0].modelState,p[0].viewState),this._setSecondaryStates(p.slice(1)))}_setSecondaryStates(p){const v=this.secondaryCursors.length,i=p.length;if(v<i){let _=i-v;for(let s=0;s<_;s++)this._addSecondaryCursor()}else if(v>i){let _=v-i;for(let s=0;s<_;s++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let _=0;_<i;_++)this.secondaryCursors[_].setState(this.context,p[_].modelState,p[_].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new k.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(p){this.lastAddedCursorIndex>=p+1&&this.lastAddedCursorIndex--,this.secondaryCursors[p].dispose(this.context),this.secondaryCursors.splice(p,1)}_getAll(){let p=[];p[0]=this.primaryCursor;for(let v=0,i=this.secondaryCursors.length;v<i;v++)p[v+1]=this.secondaryCursors[v];return p}normalize(){if(this.secondaryCursors.length===0)return;let p=this._getAll(),v=[];for(let i=0,_=p.length;i<_;i++)v.push({index:i,selection:p[i].modelState.selection});v.sort((i,_)=>i.selection.startLineNumber===_.selection.startLineNumber?i.selection.startColumn-_.selection.startColumn:i.selection.startLineNumber-_.selection.startLineNumber);for(let i=0;i<v.length-1;i++){const _=v[i],s=v[i+1],a=_.selection,u=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(u.isEmpty()||a.isEmpty()?c=u.getStartPosition().isBeforeOrEqual(a.getEndPosition()):c=u.getStartPosition().isBefore(a.getEndPosition()),c){const d=_.index<s.index?i:i+1,r=_.index<s.index?i+1:i,n=v[r].index,o=v[d].index,t=v[r].selection,l=v[d].selection;if(!t.equalsSelection(l)){const h=t.plusRange(l),m=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,C=l.selectionStartLineNumber===l.startLineNumber&&l.selectionStartColumn===l.startColumn;let g;n===this.lastAddedCursorIndex?(g=m,this.lastAddedCursorIndex=o):g=C;let f;g?f=new M.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):f=new M.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),v[d].selection=f;const b=S.CursorState.fromModelSelection(f);p[o].setState(this.context,b.modelState,b.viewState)}for(const h of v)h.index>n&&h.index--;p.splice(n,1),v.splice(r,1),this._removeSecondaryCursor(n-1),i--}}}}e.CursorCollection=y}),define(Q[243],J([0,1,12,8,552,39,184,185,3,21,172,2,175]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.CursorModelState=void 0;class u{constructor(o,t){this.modelVersionId=o.getVersionId(),this.cursorState=t.getCursorStates()}equals(o){if(!o||this.modelVersionId!==o.modelVersionId||this.cursorState.length!==o.cursorState.length)return!1;for(let t=0,l=this.cursorState.length;t<l;t++)if(!this.cursorState[t].equals(o.cursorState[t]))return!1;return!0}}e.CursorModelState=u;class c{constructor(o,t,l){this._model=o,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=l}static getAllAutoClosedCharacters(o){let t=[];for(const l of o)t=t.concat(l.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let o=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const l=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);l&&o.push(l)}return o}isValid(o){let t=[];for(let l=0;l<this._autoClosedEnclosingDecorations.length;l++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[l]);if(h&&(t.push(h),h.startLineNumber!==h.endLineNumber))return!1}t.sort(v.Range.compareRangesUsingStarts),o.sort(v.Range.compareRangesUsingStarts);for(let l=0;l<o.length;l++)if(l>=t.length||!t[l].strictContainsRange(o[l]))return!1;return!0}}class d extends s.Disposable{constructor(o,t,l,h){super();this._model=o,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=l,this.context=new y.CursorContext(this._model,this._coordinatesConverter,h),this._cursors=new M.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=s.dispose(this._autoClosedActions),super.dispose()}updateConfiguration(o){this.context=new y.CursorContext(this._model,this._coordinatesConverter,o),this._cursors.updateContext(this.context)}onLineMappingChanged(o){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(o,"viewModel",0,this.getCursorStates())}setHasFocus(o){this._hasFocus=o}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let o=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const l=this._autoClosedActions[t];l.isValid(o)||(l.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(o,t,l,h){let m=!1;h!==null&&h.length>d.MAX_CURSOR_COUNT&&(h=h.slice(0,d.MAX_CURSOR_COUNT),m=!0);const C=new u(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,t,l,C,m)}setCursorColumnSelectData(o){this._columnSelectData=o}revealPrimary(o,t,l,h){const m=this._cursors.getViewPositions();if(m.length>1){this._emitCursorRevealRange(o,t,null,this._cursors.getViewSelections(),0,l,h);return}else{const C=m[0],g=new v.Range(C.lineNumber,C.column,C.lineNumber,C.column);this._emitCursorRevealRange(o,t,g,null,0,l,h)}}_revealPrimaryCursor(o,t,l,h,m){const C=this._cursors.getViewPositions();if(C.length>1)this._emitCursorRevealRange(o,t,null,this._cursors.getViewSelections(),l,h,m);else{const g=C[0],f=new v.Range(g.lineNumber,g.column,g.lineNumber,g.column);this._emitCursorRevealRange(o,t,f,null,l,h,m)}}_emitCursorRevealRange(o,t,l,h,m,C,g){o.emitViewEvent(new _.ViewRevealRangeRequestEvent(t,l,h,m,C,g))}saveState(){let o=[];const t=this._cursors.getSelections();for(let l=0,h=t.length;l<h;l++){const m=t[l];o.push({inSelectionMode:!m.isEmpty(),selectionStart:{lineNumber:m.selectionStartLineNumber,column:m.selectionStartColumn},position:{lineNumber:m.positionLineNumber,column:m.positionColumn}})}return o}restoreState(o,t){let l=[];for(let h=0,m=t.length;h<m;h++){const C=t[h];let g=1,f=1;C.position&&C.position.lineNumber&&(g=C.position.lineNumber),C.position&&C.position.column&&(f=C.position.column);let b=g,L=f;C.selectionStart&&C.selectionStart.lineNumber&&(b=C.selectionStart.lineNumber),C.selectionStart&&C.selectionStart.column&&(L=C.selectionStart.column),l.push({selectionStartLineNumber:b,selectionStartColumn:L,positionLineNumber:g,positionColumn:f})}this.setStates(o,"restoreState",0,y.CursorState.fromModelSelections(l)),this.revealPrimary(o,"restoreState",!0,1)}onModelContentChanged(o,t){if(this._knownModelVersionId=t.versionId,this._isHandling)return;const l=t.containsEvent(1);if(this._prevEditOperationType=0,l)this._cursors.dispose(),this._cursors=new M.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const h=y.CursorState.fromModelSelections(t.resultingSelection);this.setStates(o,"modelChange",t.isUndoing?5:t.isRedoing?6:2,h)&&this._revealPrimaryCursor(o,"modelChange",0,!0,0)}else{const h=this._cursors.readSelectionFromMarkers();this.setStates(o,"modelChange",2,y.CursorState.fromModelSelections(h))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const o=this._cursors.getPrimaryCursor(),t=o.viewState.selectionStart.getStartPosition(),l=o.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:y.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:l.lineNumber,toViewVisualColumn:y.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,l)}}getSelections(){return this._cursors.getSelections()}setSelections(o,t,l,h){this.setStates(o,t,h,y.CursorState.fromModelSelections(l))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(o){this._prevEditOperationType=o}_pushAutoClosedAction(o,t){let l=[],h=[];for(let g=0,f=o.length;g<f;g++)l.push({range:o[g],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:t[g],options:{description:"auto-closed-enclosing",stickiness:1}});const m=this._model.deltaDecorations([],l),C=this._model.deltaDecorations([],h);this._autoClosedActions.push(new c(this._model,m,C))}_executeEditOperation(o){if(!o)return;o.shouldPushStackElementBefore&&this._model.pushStackElement();const t=r.executeCommands(this._model,this._cursors.getSelections(),o.commands);if(t){this._interpretCommandResult(t);let l=[],h=[];for(let m=0;m<o.commands.length;m++){const C=o.commands[m];C instanceof p.TypeWithAutoClosingCommand&&C.enclosingRange&&C.closeCharacterRange&&(l.push(C.closeCharacterRange),h.push(C.enclosingRange))}l.length>0&&this._pushAutoClosedAction(l,h),this._prevEditOperationType=o.type}o.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(o){(!o||o.length===0)&&(o=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(o),this._cursors.normalize()}_emitStateChangedIfNecessary(o,t,l,h,m){const C=new u(this._model,this);if(C.equals(h))return!1;const g=this._cursors.getSelections(),f=this._cursors.getViewSelections();if(o.emitViewEvent(new _.ViewCursorStateChangedEvent(f,g)),!h||h.cursorState.length!==C.cursorState.length||C.cursorState.some((b,L)=>!b.modelState.equals(h.cursorState[L].modelState))){const b=h?h.cursorState.map(N=>N.modelState.selection):null,L=h?h.modelVersionId:0;o.emitOutgoingEvent(new a.CursorStateChangedEvent(b,g,L,C.modelVersionId,t||"keyboard",l,m))}return!0}_findAutoClosingPairs(o){if(!o.length)return null;let t=[];for(let l=0,h=o.length;l<h;l++){const m=o[l];if(!m.text||m.text.indexOf(`
`)>=0)return null;const C=m.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!C)return null;const g=C[1],f=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(g);if(!f||f.length!==1)return null;const b=f[0].open,L=m.text.length-C[2].length-1,N=m.text.lastIndexOf(b,L-1);if(N===-1)return null;t.push([N,L])}return t}executeEdits(o,t,l,h){let m=null;t==="snippet"&&(m=this._findAutoClosingPairs(l)),m&&(l[0]._isTracked=!0);let C=[],g=[];const f=this._model.pushEditOperations(this.getSelections(),l,b=>{if(m)for(let N=0,D=m.length;N<D;N++){const[I,T]=m[N],A=b[N],R=A.range.startLineNumber,O=A.range.startColumn-1+I,P=A.range.startColumn-1+T;C.push(new v.Range(R,P+1,R,P+2)),g.push(new v.Range(R,O+1,R,P+2))}const L=h(b);return L&&(this._isHandling=!0),L});f&&(this._isHandling=!1,this.setSelections(o,t,f,0)),C.length>0&&this._pushAutoClosedAction(C,g)}_executeEdit(o,t,l,h=0){if(this.context.cursorConfig.readOnly)return;const m=new u(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),o()}catch(C){S.onUnexpectedError(C)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,l,h,m,!1)&&this._revealPrimaryCursor(t,l,0,!0,0)}setIsDoingComposition(o){this._isDoingComposition=o}getAutoClosedCharacters(){return c.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(o){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(o,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(p.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},o,t)}type(o,t,l){this._executeEdit(()=>{if(l==="keyboard"){const h=t.length;let m=0;for(;m<h;){const C=k.nextCharLength(t,m),g=t.substr(m,C);this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),g)),m+=C}}else this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},o,l)}compositionType(o,t,l,h,m,C){if(t.length===0&&l===0&&h===0){if(m!==0){const g=this.getSelections().map(f=>{const b=f.getPosition();return new i.Selection(b.lineNumber,b.column+m,b.lineNumber,b.column+m)});this.setSelections(o,C,g,0)}return}this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,l,h,m))},o,C)}paste(o,t,l,h,m){this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),t,l,h||[]))},o,m,4)}cut(o,t){this._executeEdit(()=>{this._executeEditOperation(w.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},o,t)}executeCommand(o,t,l){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new y.EditOperationResult(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,l)}executeCommands(o,t,l){this._executeEdit(()=>{this._executeEditOperation(new y.EditOperationResult(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,l)}}e.Cursor=d,d.MAX_CURSOR_COUNT=1e4;class r{static executeCommands(o,t,l){const h={model:o,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},m=this._innerExecuteCommands(h,l);for(let C=0,g=h.trackedRanges.length;C<g;C++)h.model._setTrackedRange(h.trackedRanges[C],null,0);return m}static _innerExecuteCommands(o,t){if(this._arrayIsEmpty(t))return null;const l=this._getEditOperations(o,t);if(l.operations.length===0)return null;const h=l.operations,m=this._getLoserCursorMap(h);if(m.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let C=[];for(let b=0,L=h.length;b<L;b++)m.hasOwnProperty(h[b].identifier.major.toString())||C.push(h[b]);l.hadTrackedEditOperation&&C.length>0&&(C[0]._isTracked=!0);let g=o.model.pushEditOperations(o.selectionsBefore,C,b=>{let L=[];for(let I=0;I<o.selectionsBefore.length;I++)L[I]=[];for(const I of b)!I.identifier||L[I.identifier.major].push(I);const N=(I,T)=>I.identifier.minor-T.identifier.minor;let D=[];for(let I=0;I<o.selectionsBefore.length;I++)L[I].length>0?(L[I].sort(N),D[I]=t[I].computeCursorState(o.model,{getInverseEditOperations:()=>L[I],getTrackedSelection:T=>{const A=parseInt(T,10),R=o.model._getTrackedRange(o.trackedRanges[A]);return o.trackedRangesDirection[A]===0?new i.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new i.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):D[I]=o.selectionsBefore[I];return D});g||(g=o.selectionsBefore);let f=[];for(let b in m)m.hasOwnProperty(b)&&f.push(parseInt(b,10));f.sort((b,L)=>L-b);for(const b of f)g.splice(b,1);return g}static _arrayIsEmpty(o){for(let t=0,l=o.length;t<l;t++)if(o[t])return!1;return!0}static _getEditOperations(o,t){let l=[],h=!1;for(let m=0,C=t.length;m<C;m++){const g=t[m];if(g){const f=this._getEditOperationsFromCommand(o,m,g);l=l.concat(f.operations),h=h||f.hadTrackedEditOperation}}return{operations:l,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(o,t,l){let h=[],m=0;const C=(N,D,I=!1)=>{v.Range.isEmpty(N)&&D===""||h.push({identifier:{major:t,minor:m++},range:N,text:D,forceMoveMarkers:I,isAutoWhitespaceEdit:l.insertsAutoWhitespace})};let g=!1;const L={addEditOperation:C,addTrackedEditOperation:(N,D,I)=>{g=!0,C(N,D,I)},trackSelection:(N,D)=>{const I=i.Selection.liftSelection(N);let T;if(I.isEmpty())if(typeof D=="boolean")D?T=2:T=3;else{const O=o.model.getLineMaxColumn(I.startLineNumber);I.startColumn===O?T=2:T=3}else T=1;const A=o.trackedRanges.length,R=o.model._setTrackedRange(null,I,T);return o.trackedRanges[A]=R,o.trackedRangesDirection[A]=I.getDirection(),A.toString()}};try{l.getEditOperations(o.model,L)}catch(N){return S.onUnexpectedError(N),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:g}}static _getLoserCursorMap(o){o=o.slice(0),o.sort((l,h)=>-v.Range.compareRangesUsingEnds(l.range,h.range));let t={};for(let l=1;l<o.length;l++){const h=o[l-1],m=o[l];if(v.Range.getStartPosition(h.range).isBefore(v.Range.getEndPosition(m.range))){let C;h.identifier.major>m.identifier.major?C=h.identifier.major:C=m.identifier.major,t[C.toString()]=!0;for(let g=0;g<o.length;g++)o[g].identifier.major===C&&(o.splice(g,1),g<l&&l--,g--);l>0&&l--}}return t}}}),define(Q[244],J([0,1,8,96,77]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const y={getInitialState:()=>M.NULL_STATE,tokenize2:(i,_,s,a)=>M.nullTokenize2(0,i,s,a)};function w(i,_=y){return v(i,_||y)}e.tokenizeToString=w;function p(i,_,s,a,u,c,d){let r="<div>",n=a,o=0;for(let t=0,l=_.getCount();t<l;t++){const h=_.getEndOffset(t);if(h<=a)continue;let m="";for(;n<h&&n<u;n++){const C=i.charCodeAt(n);switch(C){case 9:let g=c-(n+o)%c;for(o+=g-1;g>0;)m+=d?"&#160;":" ",g--;break;case 60:m+="&lt;";break;case 62:m+="&gt;";break;case 38:m+="&amp;";break;case 0:m+="&#00;";break;case 65279:case 8232:case 8233:case 133:m+="\uFFFD";break;case 13:m+="&#8203";break;case 32:m+=d?"&#160;":" ";break;default:m+=String.fromCharCode(C)}}if(r+=`<span style="${_.getInlineStyle(t,s)}">${m}</span>`,h>u||n>=u)break}return r+="</div>",r}e.tokenizeLineToHTML=p;function v(i,_){let s='<div class="monaco-tokenized-source">',a=S.splitLines(i),u=_.getInitialState();for(let c=0,d=a.length;c<d;c++){let r=a[c];c>0&&(s+="<br/>");let n=_.tokenize2(r,!0,u,0);k.LineTokens.convertToEndOffset(n.tokens,r.length);let t=new k.LineTokens(n.tokens,r).inflate(),l=0;for(let h=0,m=t.getCount();h<m;h++){const C=t.getClassName(h),g=t.getEndOffset(h);s+=`<span class="${C}">${S.escape(r.substring(l,g))}</span>`,l=g}u=n.endState}return s+="</div>",s}}),define(Q[68],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=S.createDecorator("textModelService")}),define(Q[138],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=S.createDecorator("textResourceConfigurationService"),e.ITextResourcePropertiesService=S.createDecorator("textResourcePropertiesService")}),define(Q[245],J([0,1,6,217,18]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y{constructor(){this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),M.TokenizationRegistry.onDidChange(p=>{p.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new y),this._INSTANCE}_updateColorMap(){const p=M.TokenizationRegistry.getColorMap();if(!p){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let i=1;i<p.length;i++){const _=p[i].rgba;this._colors[i]=new k.RGBA8(_.r,_.g,_.b,Math.round(_.a*255))}let v=p[2].getRelativeLuminance();this._backgroundIsLight=v>=.5,this._onDidChange.fire(void 0)}getColor(p){return(p<1||p>=this._colors.length)&&(p=2),this._colors[p]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(Q[553],J([0,1,19,13,3,31,172,223,63]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class i{constructor(C){this._lines=C}convertViewPositionToModelPosition(C){return this._lines.convertViewPositionToModelPosition(C.lineNumber,C.column)}convertViewRangeToModelRange(C){return this._lines.convertViewRangeToModelRange(C)}validateViewPosition(C,g){return this._lines.validateViewPosition(C.lineNumber,C.column,g)}validateViewRange(C,g){return this._lines.validateViewRange(C,g)}convertModelPositionToViewPosition(C){return this._lines.convertModelPositionToViewPosition(C.lineNumber,C.column)}convertModelRangeToViewRange(C){return this._lines.convertModelRangeToViewRange(C)}modelPositionIsVisible(C){return this._lines.modelPositionIsVisible(C.lineNumber,C.column)}getModelLineViewLineCount(C){return this._lines.getModelLineViewLineCount(C)}}e.CoordinatesConverter=i;class _{constructor(C){this._counts=C,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(C){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,C-1)}_ensureValid(){if(!this._isValid){for(let C=this._validEndIndex+1,g=this._counts.length;C<g;C++){const f=this._counts[C],b=C>0?this._modelToView[C-1]:0;this._modelToView[C]=b+f;for(let L=0;L<f;L++)this._viewToModel[b+L]=C}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(C,g){this._counts[C]!==g&&(this._counts[C]=g,this._invalidate(C))}removeValues(C,g){this._counts.splice(C,g),this._invalidate(C)}insertValues(C,g){this._counts=S.arrayInsert(this._counts,C,g),this._invalidate(C)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(C){return this._ensureValid(),this._modelToView[C]}getIndexOf(C){this._ensureValid();const g=this._viewToModel[C],f=g>0?this._modelToView[g-1]:0;return new p.PrefixSumIndexOfResult(g,C-f)}}class s{constructor(C,g,f,b,L,N,D,I){this.model=C,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=f,this.fontInfo=b,this.tabSize=L,this.wrappingStrategy=N,this.wrappingColumn=D,this.wrappingIndent=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new i(this)}_constructLines(C,g){this.lines=[],C&&(this.hiddenAreasIds=[]);let f=this.model.getLinesContent();const b=f.length,L=this.createLineBreaksComputer();for(let P=0;P<b;P++)L.addRequest(f[P],g?g[P]:null);const N=L.finalize();let D=[],I=this.hiddenAreasIds.map(P=>this.model.getDecorationRange(P)).sort(M.Range.compareRangesUsingStarts),T=1,A=0,R=-1,O=R+1<I.length?A+1:b+2;for(let P=0;P<b;P++){let F=P+1;F===O&&(R++,T=I[R].startLineNumber,A=I[R].endLineNumber,O=R+1<I.length?A+1:b+2);let E=F>=T&&F<=A,x=o(N[P],!E);D[P]=x.getViewLineCount(),this.lines[P]=x}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new _(D)}getHiddenAreas(){return this.hiddenAreasIds.map(C=>this.model.getDecorationRange(C))}_reduceRanges(C){if(C.length===0)return[];let g=C.map(N=>this.model.validateRange(N)).sort(M.Range.compareRangesUsingStarts),f=[],b=g[0].startLineNumber,L=g[0].endLineNumber;for(let N=1,D=g.length;N<D;N++){let I=g[N];I.startLineNumber>L+1?(f.push(new M.Range(b,1,L,1)),b=I.startLineNumber,L=I.endLineNumber):I.endLineNumber>L&&(L=I.endLineNumber)}return f.push(new M.Range(b,1,L,1)),f}setHiddenAreas(C){let g=this._reduceRanges(C),f=this.hiddenAreasIds.map(R=>this.model.getDecorationRange(R)).sort(M.Range.compareRangesUsingStarts);if(g.length===f.length){let R=!1;for(let O=0;O<g.length;O++)if(!g[O].equalsRange(f[O])){R=!0;break}if(!R)return!1}let b=[];for(const R of g)b.push({range:R,options:y.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,b);let L=g,N=1,D=0,I=-1,T=I+1<L.length?D+1:this.lines.length+2,A=!1;for(let R=0;R<this.lines.length;R++){let O=R+1;O===T&&(I++,N=L[I].startLineNumber,D=L[I].endLineNumber,T=I+1<L.length?D+1:this.lines.length+2);let P=!1;if(O>=N&&O<=D?this.lines[R].isVisible()&&(this.lines[R]=this.lines[R].setVisible(!1),P=!0):(A=!0,this.lines[R].isVisible()||(this.lines[R]=this.lines[R].setVisible(!0),P=!0)),P){let F=this.lines[R].getViewLineCount();this.prefixSumComputer.changeValue(R,F)}}return A||this.setHiddenAreas([]),!0}modelPositionIsVisible(C,g){return C<1||C>this.lines.length?!1:this.lines[C-1].isVisible()}getModelLineViewLineCount(C){return C<1||C>this.lines.length?1:this.lines[C-1].getViewLineCount()}setTabSize(C){return this.tabSize===C?!1:(this.tabSize=C,this._constructLines(!1,null),!0)}setWrappingSettings(C,g,f,b){const L=this.fontInfo.equals(C),N=this.wrappingStrategy===g,D=this.wrappingColumn===f,I=this.wrappingIndent===b;if(L&&N&&D&&I)return!1;const T=L&&N&&!D&&I;this.fontInfo=C,this.wrappingStrategy=g,this.wrappingColumn=f,this.wrappingIndent=b;let A=null;if(T){A=[];for(let R=0,O=this.lines.length;R<O;R++)A[R]=this.lines[R].getLineBreakData()}return this._constructLines(!1,A),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(C,g,f){if(C<=this._validModelVersionId)return null;let b=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,L=this.prefixSumComputer.getAccumulatedValue(f-1);return this.lines.splice(g-1,f-g+1),this.prefixSumComputer.removeValues(g-1,f-g+1),new w.ViewLinesDeletedEvent(b,L)}onModelLinesInserted(C,g,f,b){if(C<=this._validModelVersionId)return null;const L=g>2&&!this.lines[g-2].isVisible();let N=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,D=0,I=[],T=[];for(let A=0,R=b.length;A<R;A++){let O=o(b[A],!L);I.push(O);let P=O.getViewLineCount();D+=P,T[A]=P}return this.lines=this.lines.slice(0,g-1).concat(I).concat(this.lines.slice(g-1)),this.prefixSumComputer.insertValues(g-1,T),new w.ViewLinesInsertedEvent(N,N+D-1)}onModelLineChanged(C,g,f){if(C<=this._validModelVersionId)return[!1,null,null,null];let b=g-1,L=this.lines[b].getViewLineCount(),N=this.lines[b].isVisible(),D=o(f,N);this.lines[b]=D;let I=this.lines[b].getViewLineCount(),T=!1,A=0,R=-1,O=0,P=-1,F=0,E=-1;L>I?(A=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,R=A+I-1,F=R+1,E=F+(L-I)-1,T=!0):L<I?(A=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,R=A+L-1,O=R+1,P=O+(I-L)-1,T=!0):(A=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,R=A+I-1),this.prefixSumComputer.changeValue(b,I);const x=A<=R?new w.ViewLinesChangedEvent(A,R):null,H=O<=P?new w.ViewLinesInsertedEvent(O,P):null,K=F<=E?new w.ViewLinesDeletedEvent(F,E):null;return[T,x,H,K]}acceptVersionId(C){this._validModelVersionId=C,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(C){if(C<1)return 1;const g=this.getViewLineCount();return C>g?g:C|0}getActiveIndentGuide(C,g,f){C=this._toValidViewLineNumber(C),g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f);const b=this.convertViewPositionToModelPosition(C,this.getViewLineMinColumn(C)),L=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),N=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),D=this.model.getActiveIndentGuide(b.lineNumber,L.lineNumber,N.lineNumber),I=this.convertModelPositionToViewPosition(D.startLineNumber,1),T=this.convertModelPositionToViewPosition(D.endLineNumber,this.model.getLineMaxColumn(D.endLineNumber));return{startLineNumber:I.lineNumber,endLineNumber:T.lineNumber,indent:D.indent}}getViewLinesIndentGuides(C,g){C=this._toValidViewLineNumber(C),g=this._toValidViewLineNumber(g);const f=this.convertViewPositionToModelPosition(C,this.getViewLineMinColumn(C)),b=this.convertViewPositionToModelPosition(g,this.getViewLineMaxColumn(g));let L=[],N=[],D=[];const I=f.lineNumber-1,T=b.lineNumber-1;let A=null;for(let F=I;F<=T;F++){const E=this.lines[F];if(E.isVisible()){let x=E.getViewLineNumberOfModelPosition(0,F===I?f.column:1),H=E.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(F+1)),K=H-x+1,q=0;K>1&&E.getViewLineMinColumn(this.model,F+1,H)===1&&(q=x===0?1:2),N.push(K),D.push(q),A===null&&(A=new k.Position(F+1,0))}else A!==null&&(L=L.concat(this.model.getLinesIndentGuides(A.lineNumber,F)),A=null)}A!==null&&(L=L.concat(this.model.getLinesIndentGuides(A.lineNumber,b.lineNumber)),A=null);const R=g-C+1;let O=new Array(R),P=0;for(let F=0,E=L.length;F<E;F++){let x=L[F],H=Math.min(R-P,N[F]),K=D[F],q;K===2?q=0:K===1?q=1:q=H;for(let G=0;G<H;G++)G===q&&(x=0),O[P++]=x}return O}getViewLineContent(C){C=this._toValidViewLineNumber(C);let g=this.prefixSumComputer.getIndexOf(C-1),f=g.index,b=g.remainder;return this.lines[f].getViewLineContent(this.model,f+1,b)}getViewLineLength(C){C=this._toValidViewLineNumber(C);let g=this.prefixSumComputer.getIndexOf(C-1),f=g.index,b=g.remainder;return this.lines[f].getViewLineLength(this.model,f+1,b)}getViewLineMinColumn(C){C=this._toValidViewLineNumber(C);let g=this.prefixSumComputer.getIndexOf(C-1),f=g.index,b=g.remainder;return this.lines[f].getViewLineMinColumn(this.model,f+1,b)}getViewLineMaxColumn(C){C=this._toValidViewLineNumber(C);let g=this.prefixSumComputer.getIndexOf(C-1),f=g.index,b=g.remainder;return this.lines[f].getViewLineMaxColumn(this.model,f+1,b)}getViewLineData(C){C=this._toValidViewLineNumber(C);let g=this.prefixSumComputer.getIndexOf(C-1),f=g.index,b=g.remainder;return this.lines[f].getViewLineData(this.model,f+1,b)}getViewLinesData(C,g,f){C=this._toValidViewLineNumber(C),g=this._toValidViewLineNumber(g);let b=this.prefixSumComputer.getIndexOf(C-1),L=C,N=b.index,D=b.remainder,I=[];for(let T=N,A=this.model.getLineCount();T<A;T++){let R=this.lines[T];if(!R.isVisible())continue;let O=T===N?D:0,P=R.getViewLineCount()-O,F=!1;L+P>g&&(F=!0,P=g-L+1);let E=O+P;if(R.getViewLinesData(this.model,T+1,O,E,L-C,f,I),L+=P,F)break}return I}validateViewPosition(C,g,f){C=this._toValidViewLineNumber(C);let b=this.prefixSumComputer.getIndexOf(C-1),L=b.index,N=b.remainder,D=this.lines[L],I=D.getViewLineMinColumn(this.model,L+1,N),T=D.getViewLineMaxColumn(this.model,L+1,N);g<I&&(g=I),g>T&&(g=T);let A=D.getModelColumnOfViewPosition(N,g);return this.model.validatePosition(new k.Position(L+1,A)).equals(f)?new k.Position(C,g):this.convertModelPositionToViewPosition(f.lineNumber,f.column)}validateViewRange(C,g){const f=this.validateViewPosition(C.startLineNumber,C.startColumn,g.getStartPosition()),b=this.validateViewPosition(C.endLineNumber,C.endColumn,g.getEndPosition());return new M.Range(f.lineNumber,f.column,b.lineNumber,b.column)}convertViewPositionToModelPosition(C,g){C=this._toValidViewLineNumber(C);let f=this.prefixSumComputer.getIndexOf(C-1),b=f.index,L=f.remainder,N=this.lines[b].getModelColumnOfViewPosition(L,g);return this.model.validatePosition(new k.Position(b+1,N))}convertViewRangeToModelRange(C){const g=this.convertViewPositionToModelPosition(C.startLineNumber,C.startColumn),f=this.convertViewPositionToModelPosition(C.endLineNumber,C.endColumn);return new M.Range(g.lineNumber,g.column,f.lineNumber,f.column)}convertModelPositionToViewPosition(C,g){const f=this.model.validatePosition(new k.Position(C,g)),b=f.lineNumber,L=f.column;let N=b-1,D=!1;for(;N>0&&!this.lines[N].isVisible();)N--,D=!0;if(N===0&&!this.lines[N].isVisible())return new k.Position(1,1);const I=1+(N===0?0:this.prefixSumComputer.getAccumulatedValue(N-1));let T;return D?T=this.lines[N].getViewPositionOfModelPosition(I,this.model.getLineMaxColumn(N+1)):T=this.lines[b-1].getViewPositionOfModelPosition(I,L),T}convertModelRangeToViewRange(C){let g=this.convertModelPositionToViewPosition(C.startLineNumber,C.startColumn),f=this.convertModelPositionToViewPosition(C.endLineNumber,C.endColumn);return C.startLineNumber===C.endLineNumber&&g.lineNumber!==f.lineNumber&&f.column===this.getViewLineMinColumn(f.lineNumber)?new M.Range(g.lineNumber,g.column,f.lineNumber-1,this.getViewLineMaxColumn(f.lineNumber-1)):new M.Range(g.lineNumber,g.column,f.lineNumber,f.column)}_getViewLineNumberForModelPosition(C,g){let f=C-1;if(this.lines[f].isVisible()){const L=1+(f===0?0:this.prefixSumComputer.getAccumulatedValue(f-1));return this.lines[f].getViewLineNumberOfModelPosition(L,g)}for(;f>0&&!this.lines[f].isVisible();)f--;if(f===0&&!this.lines[f].isVisible())return 1;const b=1+(f===0?0:this.prefixSumComputer.getAccumulatedValue(f-1));return this.lines[f].getViewLineNumberOfModelPosition(b,this.model.getLineMaxColumn(f+1))}getAllOverviewRulerDecorations(C,g,f){const b=this.model.getOverviewRulerDecorations(C,g),L=new h;for(const N of b){const D=N.options.overviewRuler,I=D?D.position:0;if(I===0)continue;const T=D.getColor(f),A=this._getViewLineNumberForModelPosition(N.range.startLineNumber,N.range.startColumn),R=this._getViewLineNumberForModelPosition(N.range.endLineNumber,N.range.endColumn);L.accept(T,A,R,I)}return L.result}getDecorationsInRange(C,g,f){const b=this.convertViewPositionToModelPosition(C.startLineNumber,C.startColumn),L=this.convertViewPositionToModelPosition(C.endLineNumber,C.endColumn);if(L.lineNumber-b.lineNumber<=C.endLineNumber-C.startLineNumber)return this.model.getDecorationsInRange(new M.Range(b.lineNumber,1,L.lineNumber,L.column),g,f);let N=[];const D=b.lineNumber-1,I=L.lineNumber-1;let T=null;for(let P=D;P<=I;P++)if(this.lines[P].isVisible())T===null&&(T=new k.Position(P+1,P===D?b.column:1));else if(T!==null){const E=this.model.getLineMaxColumn(P);N=N.concat(this.model.getDecorationsInRange(new M.Range(T.lineNumber,T.column,P,E),g,f)),T=null}T!==null&&(N=N.concat(this.model.getDecorationsInRange(new M.Range(T.lineNumber,T.column,L.lineNumber,L.column),g,f)),T=null),N.sort((P,F)=>{const E=M.Range.compareRangesUsingStarts(P.range,F.range);return E===0?P.id<F.id?-1:P.id>F.id?1:0:E});let A=[],R=0,O=null;for(const P of N){const F=P.id;O!==F&&(O=F,A[R++]=P)}return A}normalizePosition(C,g){const f=this._toValidViewLineNumber(C.lineNumber),b=this.prefixSumComputer.getIndexOf(f-1),L=b.index,N=b.remainder;return this.lines[L].normalizePosition(this.model,L+1,N,C,g)}getLineIndentColumn(C){const g=this._toValidViewLineNumber(C),f=this.prefixSumComputer.getIndexOf(g-1),b=f.index;return f.remainder===0?this.model.getLineIndentColumn(b+1):0}}e.SplitLinesCollection=s;class a{constructor(){}isVisible(){return!0}setVisible(C){return C?this:u.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(C,g,f){return C.getLineContent(g)}getViewLineLength(C,g,f){return C.getLineLength(g)}getViewLineMinColumn(C,g,f){return C.getLineMinColumn(g)}getViewLineMaxColumn(C,g,f){return C.getLineMaxColumn(g)}getViewLineData(C,g,f){let b=C.getLineTokens(g),L=b.getLineContent();return new v.ViewLineData(L,!1,1,L.length+1,0,b.inflate())}getViewLinesData(C,g,f,b,L,N,D){if(!N[L]){D[L]=null;return}D[L]=this.getViewLineData(C,g,0)}getModelColumnOfViewPosition(C,g){return g}getViewPositionOfModelPosition(C,g){return new k.Position(C,g)}getViewLineNumberOfModelPosition(C,g){return C}normalizePosition(C,g,f,b,L){return b}}a.INSTANCE=new a;class u{constructor(){}isVisible(){return!1}setVisible(C){return C?a.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(C,g,f){throw new Error("Not supported")}getViewLineLength(C,g,f){throw new Error("Not supported")}getViewLineMinColumn(C,g,f){throw new Error("Not supported")}getViewLineMaxColumn(C,g,f){throw new Error("Not supported")}getViewLineData(C,g,f){throw new Error("Not supported")}getViewLinesData(C,g,f,b,L,N,D){throw new Error("Not supported")}getModelColumnOfViewPosition(C,g){throw new Error("Not supported")}getViewPositionOfModelPosition(C,g){throw new Error("Not supported")}getViewLineNumberOfModelPosition(C,g){throw new Error("Not supported")}normalizePosition(C,g,f,b,L){throw new Error("Not supported")}}u.INSTANCE=new u;class c{constructor(C,g){this._lineBreakData=C,this._isVisible=g}isVisible(){return this._isVisible}setVisible(C){return this._isVisible=C,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(C){return v.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,C,0)}getInputEndOffsetOfOutputLineIndex(C,g,f){return f+1===this._lineBreakData.breakOffsets.length?C.getLineMaxColumn(g)-1:v.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,f+1,0)}getViewLineContent(C,g,f){if(!this._isVisible)throw new Error("Not supported");let b=this.getInputStartOffsetOfOutputLineIndex(f),L=this.getInputEndOffsetOfOutputLineIndex(C,g,f),N=C.getValueInRange({startLineNumber:g,startColumn:b+1,endLineNumber:g,endColumn:L+1});return f>0&&(N=r(this._lineBreakData.wrappedTextIndentLength)+N),N}getViewLineLength(C,g,f){if(!this._isVisible)throw new Error("Not supported");let b=this.getInputStartOffsetOfOutputLineIndex(f),N=this.getInputEndOffsetOfOutputLineIndex(C,g,f)-b;return f>0&&(N=this._lineBreakData.wrappedTextIndentLength+N),N}getViewLineMinColumn(C,g,f){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(f)}_getViewLineMinColumn(C){return C>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(C,g,f){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(C,g,f)+1}getViewLineData(C,g,f){if(!this._isVisible)throw new Error("Not supported");let b=this.getInputStartOffsetOfOutputLineIndex(f),L=this.getInputEndOffsetOfOutputLineIndex(C,g,f),N=C.getValueInRange({startLineNumber:g,startColumn:b+1,endLineNumber:g,endColumn:L+1});f>0&&(N=r(this._lineBreakData.wrappedTextIndentLength)+N);let D=f>0?this._lineBreakData.wrappedTextIndentLength+1:1,I=N.length+1,T=f+1<this.getViewLineCount(),A=0;f>0&&(A=this._lineBreakData.wrappedTextIndentLength);let R=C.getLineTokens(g);const O=f===0?0:this._lineBreakData.breakOffsetsVisibleColumn[f-1];return new v.ViewLineData(N,T,D,I,O,R.sliceAndInflate(b,L,A))}getViewLinesData(C,g,f,b,L,N,D){if(!this._isVisible)throw new Error("Not supported");for(let I=f;I<b;I++){let T=L+I-f;if(!N[T]){D[T]=null;continue}D[T]=this.getViewLineData(C,g,I)}}getModelColumnOfViewPosition(C,g){if(!this._isVisible)throw new Error("Not supported");let f=g-1;return C>0&&(f<this._lineBreakData.wrappedTextIndentLength?f=0:f-=this._lineBreakData.wrappedTextIndentLength),v.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,C,f)+1}getViewPositionOfModelPosition(C,g){if(!this._isVisible)throw new Error("Not supported");let f=v.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1),b=f.outputLineIndex,L=f.outputOffset+1;return b>0&&(L+=this._lineBreakData.wrappedTextIndentLength),new k.Position(C+b,L)}getViewLineNumberOfModelPosition(C,g){if(!this._isVisible)throw new Error("Not supported");const f=v.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1);return C+f.outputLineIndex}normalizePosition(C,g,f,b,L){if(L===0){if(f>0&&b.column===this._getViewLineMinColumn(f))return new k.Position(b.lineNumber-1,this.getViewLineMaxColumn(C,g,f-1))}else if(L===1){const N=this.getViewLineCount()-1;if(f<N&&b.column===this.getViewLineMaxColumn(C,g,f))return new k.Position(b.lineNumber+1,this._getViewLineMinColumn(f+1))}return b}}e.SplitLine=c;let d=[""];function r(m){if(m>=d.length)for(let C=1;C<=m;C++)d[C]=n(C);return d[m]}function n(m){return new Array(m+1).join(" ")}function o(m,C){return m===null?C?a.INSTANCE:u.INSTANCE:new c(m,C)}class t{constructor(C){this._lines=C}_validPosition(C){return this._lines.model.validatePosition(C)}_validRange(C){return this._lines.model.validateRange(C)}convertViewPositionToModelPosition(C){return this._validPosition(C)}convertViewRangeToModelRange(C){return this._validRange(C)}validateViewPosition(C,g){return this._validPosition(g)}validateViewRange(C,g){return this._validRange(g)}convertModelPositionToViewPosition(C){return this._validPosition(C)}convertModelRangeToViewRange(C){return this._validRange(C)}modelPositionIsVisible(C){const g=this._lines.model.getLineCount();return!(C.lineNumber<1||C.lineNumber>g)}getModelLineViewLineCount(C){return 1}}e.IdentityCoordinatesConverter=t;class l{constructor(C){this.model=C}dispose(){}createCoordinatesConverter(){return new t(this)}getHiddenAreas(){return[]}setHiddenAreas(C){return!1}setTabSize(C){return!1}setWrappingSettings(C,g,f,b){return!1}createLineBreaksComputer(){let C=[];return{addRequest:(g,f)=>{C.push(null)},finalize:()=>C}}onModelFlushed(){}onModelLinesDeleted(C,g,f){return new w.ViewLinesDeletedEvent(g,f)}onModelLinesInserted(C,g,f,b){return new w.ViewLinesInsertedEvent(g,f)}onModelLineChanged(C,g,f){return[!1,new w.ViewLinesChangedEvent(g,g),null,null]}acceptVersionId(C){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(C,g,f){return{startLineNumber:C,endLineNumber:C,indent:0}}getViewLinesIndentGuides(C,g){const f=g-C+1;let b=new Array(f);for(let L=0;L<f;L++)b[L]=0;return b}getViewLineContent(C){return this.model.getLineContent(C)}getViewLineLength(C){return this.model.getLineLength(C)}getViewLineMinColumn(C){return this.model.getLineMinColumn(C)}getViewLineMaxColumn(C){return this.model.getLineMaxColumn(C)}getViewLineData(C){let g=this.model.getLineTokens(C),f=g.getLineContent();return new v.ViewLineData(f,!1,1,f.length+1,0,g.inflate())}getViewLinesData(C,g,f){const b=this.model.getLineCount();C=Math.min(Math.max(1,C),b),g=Math.min(Math.max(1,g),b);let L=[];for(let N=C;N<=g;N++){let D=N-C;f[D]||(L[D]=null),L[D]=this.getViewLineData(N)}return L}getAllOverviewRulerDecorations(C,g,f){const b=this.model.getOverviewRulerDecorations(C,g),L=new h;for(const N of b){const D=N.options.overviewRuler,I=D?D.position:0;if(I===0)continue;const T=D.getColor(f),A=N.range.startLineNumber,R=N.range.endLineNumber;L.accept(T,A,R,I)}return L.result}getDecorationsInRange(C,g,f){return this.model.getDecorationsInRange(C,g,f)}normalizePosition(C,g){return this.model.normalizePosition(C,g)}getLineIndentColumn(C){return this.model.getLineIndentColumn(C)}}e.IdentityLinesCollection=l;class h{constructor(){this.result=Object.create(null)}accept(C,g,f,b){let L=this.result[C];if(L){const N=L[L.length-3],D=L[L.length-1];if(N===b&&D+1>=g){f>D&&(L[L.length-1]=f);return}L.push(b,g,f)}else this.result[C]=[b,g,f]}}}),define(Q[554],J([0,1,29,2,8,35,13,3,18,244,245,172,406,553,63,465,15,17,243,39,175]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const h=!0;class m extends k.Disposable{constructor(g,f,b,L,N,D){super();if(this._editorId=g,this._configuration=f,this.model=b,this._eventDispatcher=new l.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new r.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new r.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,h&&this.model.isTooLargeForTokenization())this._lines=new u.IdentityLinesCollection(this.model);else{const I=this._configuration.options,T=I.get(40),A=I.get(122),R=I.get(129),O=I.get(121);this._lines=new u.SplitLinesCollection(this.model,L,N,T,this.model.getOptions().tabSize,A,R.wrappingColumn,O)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new o.Cursor(b,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),D)),this._register(this.viewLayout.onDidScroll(I=>{I.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new s.ViewScrollChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new l.ScrollChangedEvent(I.oldScrollWidth,I.oldScrollLeft,I.oldScrollHeight,I.oldScrollTop,I.scrollWidth,I.scrollLeft,I.scrollHeight,I.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(I=>{this._eventDispatcher.emitOutgoingEvent(I)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(I=>{try{const T=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(T,I)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(_.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new s.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),f=this.coordinatesConverter.convertViewPositionToModelPosition(new w.Position(g.startLineNumber,1)),b=this.coordinatesConverter.convertViewPositionToModelPosition(new w.Position(g.endLineNumber,1));this.model.tokenizeViewport(f.lineNumber,b.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new s.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new l.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new s.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new s.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new s.ViewThemeChangedEvent)}_onConfigurationChanged(g,f){let b=null;if(this._viewportStartLine!==-1){let R=new w.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));b=this.coordinatesConverter.convertViewPositionToModelPosition(R)}let L=!1;const N=this._configuration.options,D=N.get(40),I=N.get(122),T=N.get(129),A=N.get(121);if(this._lines.setWrappingSettings(D,I,T.wrappingColumn,A)&&(g.emitViewEvent(new s.ViewFlushedEvent),g.emitViewEvent(new s.ViewLineMappingChangedEvent),g.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(L=!0),this._updateConfigurationViewLineCount.schedule()),f.hasChanged(78)&&(this._decorations.reset(),g.emitViewEvent(new s.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new s.ViewConfigurationChangedEvent(f)),this.viewLayout.onConfigurationChanged(f),L&&b){const R=this.coordinatesConverter.convertModelPositionToViewPosition(b),O=this.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber);this.viewLayout.setScrollPosition({scrollTop:O+this._viewportStartLineDelta},1)}t.CursorConfiguration.shouldRecreate(f)&&(this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(g=>{try{const f=this._eventDispatcher.beginEmitViewEvents();let b=!1,L=!1;const N=g.changes,D=g.versionId,I=this._lines.createLineBreaksComputer();for(const R of N)switch(R.changeType){case 4:{for(const O of R.detail)I.addRequest(O,null);break}case 2:{I.addRequest(R.detail,null);break}}const T=I.finalize();let A=0;for(const R of N)switch(R.changeType){case 1:{this._lines.onModelFlushed(),f.emitViewEvent(new s.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),b=!0;break}case 3:{const O=this._lines.onModelLinesDeleted(D,R.fromLineNumber,R.toLineNumber);O!==null&&(f.emitViewEvent(O),this.viewLayout.onLinesDeleted(O.fromLineNumber,O.toLineNumber)),b=!0;break}case 4:{const O=T.slice(A,A+R.detail.length);A+=R.detail.length;const P=this._lines.onModelLinesInserted(D,R.fromLineNumber,R.toLineNumber,O);P!==null&&(f.emitViewEvent(P),this.viewLayout.onLinesInserted(P.fromLineNumber,P.toLineNumber)),b=!0;break}case 2:{const O=T[A];A++;const[P,F,E,x]=this._lines.onModelLineChanged(D,R.lineNumber,O);L=P,F&&f.emitViewEvent(F),E&&(f.emitViewEvent(E),this.viewLayout.onLinesInserted(E.fromLineNumber,E.toLineNumber)),x&&(f.emitViewEvent(x),this.viewLayout.onLinesDeleted(x.fromLineNumber,x.toLineNumber));break}case 5:break}this._lines.acceptVersionId(D),this.viewLayout.onHeightMaybeChanged(),!b&&L&&(f.emitViewEvent(new s.ViewLineMappingChangedEvent),f.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const f=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(f){const b=this.coordinatesConverter.convertModelPositionToViewPosition(f.getStartPosition()),L=this.viewLayout.getVerticalOffsetForLineNumber(b.lineNumber);this.viewLayout.setScrollPosition({scrollTop:L+this._viewportStartLineDelta},1)}}try{const f=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(f,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let f=[];for(let b=0,L=g.ranges.length;b<L;b++){const N=g.ranges[b],D=this.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(N.fromLineNumber,1)).lineNumber,I=this.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(N.toLineNumber,this.model.getLineMaxColumn(N.toLineNumber))).lineNumber;f[b]={fromLineNumber:D,toLineNumber:I}}this._eventDispatcher.emitSingleViewEvent(new s.ViewTokensChangedEvent(f)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new s.ViewLanguageConfigurationEvent),this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const f=this._eventDispatcher.beginEmitViewEvents();f.emitViewEvent(new s.ViewFlushedEvent),f.emitViewEvent(new s.ViewLineMappingChangedEvent),f.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new s.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const f=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(f.emitViewEvent(new s.ViewFlushedEvent),f.emitViewEvent(new s.ViewLineMappingChangedEvent),f.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(128),f=this._configuration.options.get(56),b=Math.max(20,Math.round(g.height/f)),L=this.viewLayout.getLinesViewportData(),N=Math.max(1,L.completelyVisibleStartLineNumber-b),D=Math.min(this.getLineCount(),L.completelyVisibleEndLineNumber+b);return this._toModelVisibleRanges(new p.Range(N,this.getLineMinColumn(N),D,this.getLineMaxColumn(D)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const f=this.coordinatesConverter.convertViewRangeToModelRange(g),b=this._lines.getHiddenAreas();if(b.length===0)return[f];let L=[],N=0,D=f.startLineNumber,I=f.startColumn,T=f.endLineNumber,A=f.endColumn;for(let R=0,O=b.length;R<O;R++){const P=b[R].startLineNumber,F=b[R].endLineNumber;F<D||P>T||(D<P&&(L[N++]=new p.Range(D,I,P-1,this.model.getLineMaxColumn(P-1))),D=F+1,I=1)}return(D<T||D===T&&I<A)&&(L[N++]=new p.Range(D,I,T,A)),L}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),f=g.completelyVisibleStartLineNumber,b=g.completelyVisibleEndLineNumber;return new p.Range(f,this.getLineMinColumn(f),b,this.getLineMaxColumn(b))}getCompletelyVisibleViewRangeAtScrollTop(g){const f=this.viewLayout.getLinesViewportDataAtScrollTop(g),b=f.completelyVisibleStartLineNumber,L=f.completelyVisibleEndLineNumber;return new p.Range(b,this.getLineMinColumn(b),L,this.getLineMaxColumn(L))}saveState(){const g=this.viewLayout.saveState(),f=g.scrollTop,b=this.viewLayout.getLineNumberAtVerticalOffset(f),L=this.coordinatesConverter.convertViewPositionToModelPosition(new w.Position(b,this.getLineMinColumn(b))),N=this.viewLayout.getVerticalOffsetForLineNumber(b)-f;return{scrollLeft:g.scrollLeft,firstPosition:L,firstPositionDeltaTop:N}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const f=this.model.validatePosition(g.firstPosition),b=this.coordinatesConverter.convertModelPositionToViewPosition(f),L=this.viewLayout.getVerticalOffsetForLineNumber(b.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:L}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,f,b){this._viewportStartLine=g;let L=this.coordinatesConverter.convertViewPositionToModelPosition(new w.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new p.Range(L.lineNumber,L.column,L.lineNumber,L.column),1);const N=this.viewLayout.getVerticalOffsetForLineNumber(g),D=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=D-N}getActiveIndentGuide(g,f,b){return this._lines.getActiveIndentGuide(g,f,b)}getLinesIndentGuides(g,f){return this._lines.getViewLinesIndentGuides(g,f)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const f=M.firstNonWhitespaceIndex(this.getLineContent(g));return f===-1?0:f+1}getLineLastNonWhitespaceColumn(g){const f=M.lastNonWhitespaceIndex(this.getLineContent(g));return f===-1?0:f+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getViewLineRenderingData(g,f){let b=this.model.mightContainRTL(),L=this.model.mightContainNonBasicASCII(),N=this.getTabSize(),D=this._lines.getViewLineData(f),T=this._decorations.getDecorationsViewportData(g).inlineDecorations[f-g.startLineNumber];return new c.ViewLineRenderingData(D.minColumn,D.maxColumn,D.content,D.continuesWithWrappedLine,b,L,D.tokens,T,N,D.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,f,b){let L=this._lines.getViewLinesData(g,f,b);return new c.MinimapLinesRenderingData(this.getTabSize(),L)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,y.filterValidationDecorations(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const f of g){const b=f.options.overviewRuler;b&&b.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const f of g){const b=f.options.minimap;b&&b.invalidateCachedColor()}}getValueInRange(g,f){const b=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(b,f)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,f,b){const L=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(f<0?f-=b:f+=b);const D=this.model.getOffsetAt(L)+f;return this.model.getPositionAt(D)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,f,b){const L=b?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(p.Range.compareRangesUsingStarts);let N=!1,D=!1;for(const T of g)T.isEmpty()?N=!0:D=!0;if(!D){if(!f)return"";const T=g.map(R=>R.startLineNumber);let A="";for(let R=0;R<T.length;R++)R>0&&T[R-1]===T[R]||(A+=this.model.getLineContent(T[R])+L);return A}if(N&&f){let T=[],A=0;for(const R of g){const O=R.startLineNumber;R.isEmpty()?O!==A&&T.push(this.model.getLineContent(O)):T.push(this.model.getValueInRange(R,b?2:0)),A=O}return T.length===1?T[0]:T}let I=[];for(const T of g)T.isEmpty()||I.push(this.model.getValueInRange(T,b?2:0));return I.length===1?I[0]:I}getRichTextToCopy(g,f){const b=this.model.getLanguageIdentifier();if(b.id===1||g.length!==1)return null;let L=g[0];if(L.isEmpty()){if(!f)return null;const R=L.startLineNumber;L=new p.Range(R,this.model.getLineMinColumn(R),R,this.model.getLineMaxColumn(R))}const N=this._configuration.options.get(40),D=this._getColorMap(),T=/[:;\\\/<>]/.test(N.fontFamily)||N.fontFamily===y.EDITOR_FONT_DEFAULTS.fontFamily;let A;return T?A=y.EDITOR_FONT_DEFAULTS.fontFamily:(A=N.fontFamily,A=A.replace(/"/g,"'"),/[,']/.test(A)||/[+ ]/.test(A)&&(A=`'${A}'`),A=`${A}, ${y.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:b.language,html:`<div style="color: ${D[1]};background-color: ${D[2]};font-family: ${A};font-weight: ${N.fontWeight};font-size: ${N.fontSize}px;line-height: ${N.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(L,D)+"</div>"}}_getHTMLToCopy(g,f){const b=g.startLineNumber,L=g.startColumn,N=g.endLineNumber,D=g.endColumn,I=this.getTabSize();let T="";for(let A=b;A<=N;A++){const R=this.model.getLineTokens(A),O=R.getLineContent(),P=A===b?L-1:0,F=A===N?D-1:O.length;O===""?T+="<br>":T+=i.tokenizeLineToHTML(O,R.inflate(),f,P,F,I,n.isWindows)}return T}_getColorMap(){let g=v.TokenizationRegistry.getColorMap(),f=["#000000"];if(g)for(let b=1,L=g.length;b<L;b++)f[b]=S.Color.Format.CSS.formatHex(g[b]);return f}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,f,b){this._withViewEventsCollector(L=>this._cursor.setStates(L,g,f,b))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,f,b=0){this._withViewEventsCollector(L=>this._cursor.setSelections(L,g,f,b))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(f=>this._cursor.restoreState(f,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new l.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,f,b){this._executeCursorEdit(L=>this._cursor.executeEdits(L,g,f,b))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(f=>this._cursor.endComposition(f,g))}type(g,f){this._executeCursorEdit(b=>this._cursor.type(b,g,f))}compositionType(g,f,b,L,N){this._executeCursorEdit(D=>this._cursor.compositionType(D,g,f,b,L,N))}paste(g,f,b,L){this._executeCursorEdit(N=>this._cursor.paste(N,g,f,b,L))}cut(g){this._executeCursorEdit(f=>this._cursor.cut(f,g))}executeCommand(g,f){this._executeCursorEdit(b=>this._cursor.executeCommand(b,g,f))}executeCommands(g,f){this._executeCursorEdit(b=>this._cursor.executeCommands(b,g,f))}revealPrimaryCursor(g,f){this._withViewEventsCollector(b=>this._cursor.revealPrimary(b,g,f,0))}revealTopMostCursor(g){const f=this._cursor.getTopMostViewPosition(),b=new p.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._withViewEventsCollector(L=>L.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,b,null,0,!0,0)))}revealBottomMostCursor(g){const f=this._cursor.getBottomMostViewPosition(),b=new p.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._withViewEventsCollector(L=>L.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,b,null,0,!0,0)))}revealRange(g,f,b,L,N){this._withViewEventsCollector(D=>D.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,b,null,L,f,N)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,f){this.viewLayout.setScrollPosition({scrollTop:g},f)}setScrollPosition(g,f){this.viewLayout.setScrollPosition(g,f)}deltaScrollNow(g,f){this.viewLayout.deltaScrollNow(g,f)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new s.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new l.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const f=this._eventDispatcher.beginEmitViewEvents();g(f)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(g,f){return this._lines.normalizePosition(g,f)}getLineIndentColumn(g){return this._lines.getLineIndentColumn(g)}}e.ViewModel=m}),define(Q[246],J([0,1,19,23,12,50,3,18,53,135]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class _{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,r){let n;typeof d=="string"?n=`${r.id}/${d}`:(n=`${r.id}/${d.name}`,r.children.get(n)!==void 0&&(n=`${r.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let o=n;for(let t=0;r.children.get(o)!==void 0;t++)o=`${n}_${t}`;return o}static empty(d){return d.children.size===0}}e.TreeElement=_;class s extends _{constructor(d,r,n){super();this.id=d,this.parent=r,this.symbol=n,this.children=new Map}}e.OutlineElement=s;class a extends _{constructor(d,r,n,o){super();this.id=d,this.parent=r,this.label=n,this.order=o,this.children=new Map}}e.OutlineGroup=a;class u extends _{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,r){let n=this._keys.for(d,!0),o=u._requests.get(n);if(!o){let t=new k.CancellationTokenSource;o={promiseCnt:0,source:t,promise:u._create(d,t.token),model:void 0},u._requests.set(n,o);const l=Date.now();o.promise.then(()=>{this._requestDurations.update(d,Date.now()-l)})}return o.model?Promise.resolve(o.model):(o.promiseCnt+=1,r.onCancellationRequested(()=>{--o.promiseCnt==0&&(o.source.cancel(),u._requests.delete(n))}),new Promise((t,l)=>{o.promise.then(h=>{o.model=h,t(h)},h=>{u._requests.delete(n),l(h)})}))}static _create(d,r){const n=new k.CancellationTokenSource(r),o=new u(d.uri),t=p.DocumentSymbolProviderRegistry.ordered(d),l=t.map((m,C)=>{var g;let f=_.findId(`provider_${C}`,o),b=new a(f,o,(g=m.displayName)!==null&&g!==void 0?g:"Unknown Outline Provider",C);return Promise.resolve(m.provideDocumentSymbols(d,n.token)).then(L=>{for(const N of L||[])u._makeOutlineElement(N,b);return b},L=>(M.onUnexpectedExternalError(L),b)).then(L=>{_.empty(L)?L.remove():o._groups.set(f,L)})}),h=p.DocumentSymbolProviderRegistry.onDidChange(()=>{const m=p.DocumentSymbolProviderRegistry.ordered(d);S.equals(m,t)||n.cancel()});return Promise.all(l).then(()=>n.token.isCancellationRequested&&!r.isCancellationRequested?u._create(d,r):o._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(d,r){let n=_.findId(d,r),o=new s(n,r,d);if(d.children)for(const t of d.children)u._makeOutlineElement(t,o);r.children.set(o.id,o)}_compact(){let d=0;for(const[r,n]of this._groups)n.children.size===0?this._groups.delete(r):d+=1;if(d!==1)this.children=this._groups;else{let r=v.Iterable.first(this._groups.values());for(let[,n]of r.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const d=[];for(const r of this.children.values())r instanceof s?d.push(r.symbol):d.push(...v.Iterable.map(r.children.values(),n=>n.symbol));return d.sort((r,n)=>w.Range.compareRangesUsingStarts(r.range,n.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),r=[];return u._flattenDocumentSymbols(r,d,""),r.sort((n,o)=>w.Range.compareRangesUsingStarts(n.range,o.range))}static _flattenDocumentSymbols(d,r,n){for(const o of r)d.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||n,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&u._flattenDocumentSymbols(d,o.children,o.name)}}e.OutlineModel=u,u._requestDurations=new i.LanguageFeatureRequestDelays(p.DocumentSymbolProviderRegistry,350),u._requests=new y.LRUCache(9,.75),u._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,d){return`${c.id}/${d?c.getVersionId():""}/${this._hash(p.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let d="";for(const r of c){let n=this._data.get(r);typeof n=="undefined"&&(n=this._counter++,this._data.set(r,n)),d+=n}return d}}}),define(Q[555],J([0,1,176,31,43]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const y=5e3;e.ID_INDENT_PROVIDER="indent";class w{constructor(_){this.editorModel=_,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(_){let s=M.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),a=s&&!!s.offSide,u=s&&s.markers;return Promise.resolve(v(this.editorModel,a,u))}}e.IndentRangeProvider=w;class p{constructor(_){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=_}insertFirst(_,s,a){if(_>S.MAX_LINE_NUMBER||s>S.MAX_LINE_NUMBER)return;let u=this._length;this._startIndexes[u]=_,this._endIndexes[u]=s,this._length++,a<1e3&&(this._indentOccurrences[a]=(this._indentOccurrences[a]||0)+1)}toIndentRanges(_){if(this._length<=this._foldingRangesLimit){let s=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let u=this._length-1,c=0;u>=0;u--,c++)s[c]=this._startIndexes[u],a[c]=this._endIndexes[u];return new S.FoldingRegions(s,a)}else{let s=0,a=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){let n=this._indentOccurrences[r];if(n){if(n+s>this._foldingRangesLimit){a=r;break}s+=n}}const u=_.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,n=0;r>=0;r--){let o=this._startIndexes[r],t=_.getLineContent(o),l=k.TextModel.computeIndentLevel(t,u);(l<a||l===a&&s++<this._foldingRangesLimit)&&(c[n]=o,d[n]=this._endIndexes[r],n++)}return new S.FoldingRegions(c,d)}}}e.RangesCollector=p;function v(i,_,s,a=y){const u=i.getOptions().tabSize;let c=new p(a),d;s&&(d=new RegExp(`(${s.start.source})|(?:${s.end.source})`));let r=[],n=i.getLineCount()+1;r.push({indent:-1,endAbove:n,line:n});for(let o=i.getLineCount();o>0;o--){let t=i.getLineContent(o),l=k.TextModel.computeIndentLevel(t,u),h=r[r.length-1];if(l===-1){_&&(h.endAbove=o);continue}let m;if(d&&(m=t.match(d)))if(m[1]){let C=r.length-1;for(;C>0&&r[C].indent!==-2;)C--;if(C>0){r.length=C+1,h=r[C],c.insertFirst(o,h.line,l),h.line=o,h.indent=l,h.endAbove=o;continue}}else{r.push({indent:-2,endAbove:o,line:o});continue}if(h.indent>l){do r.pop(),h=r[r.length-1];while(h.indent>l);let C=h.endAbove-1;C-o>=1&&c.insertFirst(o,C,l)}h.indent===l?h.endAbove=o:r.push({indent:l,endAbove:o,line:o})}return c.toIndentRanges(i)}e.computeRanges=v}),define(Q[556],J([0,1,8,182,3,21,110,43,231]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(s,a,u){this._selection=s,this._isMovingDown=a,this._autoIndent=u,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(s,a){let u=s.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===u){this._selectionId=a.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=a.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,s.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:d,indentSize:r,insertSpaces:n}=s.getOptions();let o=this.buildIndentConverter(d,r,n),t={getLineTokens:l=>s.getLineTokens(l),getLanguageIdentifier:()=>s.getLanguageIdentifier(),getLanguageIdAtPosition:(l,h)=>s.getLanguageIdAtPosition(l,h),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&s.getLineMaxColumn(c.startLineNumber)===1){let l=c.startLineNumber,h=this._isMovingDown?l+1:l-1;s.getLineMaxColumn(h)===1?a.addEditOperation(new M.Range(1,1,1,1),null):(a.addEditOperation(new M.Range(l,1,l,1),s.getLineContent(h)),a.addEditOperation(new M.Range(h,1,h,s.getLineMaxColumn(h)),null)),c=new y.Selection(h,1,h,1)}else{let l,h;if(this._isMovingDown){l=c.endLineNumber+1,h=s.getLineContent(l),a.addEditOperation(new M.Range(l-1,s.getLineMaxColumn(l-1),l,s.getLineMaxColumn(l)),null);let m=h;if(this.shouldAutoIndent(s,c)){let C=this.matchEnterRule(s,o,d,l,c.startLineNumber-1);if(C!==null){let f=S.getLeadingWhitespace(s.getLineContent(l)),b=C+v.getSpaceCnt(f,d);m=v.generateIndent(b,d,n)+this.trimLeft(h)}else{t.getLineContent=b=>b===c.startLineNumber?s.getLineContent(l):s.getLineContent(b);let f=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(l,1),c.startLineNumber,o);if(f!==null){let b=S.getLeadingWhitespace(s.getLineContent(l)),L=v.getSpaceCnt(f,d),N=v.getSpaceCnt(b,d);L!==N&&(m=v.generateIndent(L,d,n)+this.trimLeft(h))}}a.addEditOperation(new M.Range(c.startLineNumber,1,c.startLineNumber,1),m+`
`);let g=this.matchEnterRuleMovingDown(s,o,d,c.startLineNumber,l,m);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(s,a,c,d,n,g);else{t.getLineContent=b=>b===c.startLineNumber?m:b>=c.startLineNumber+1&&b<=c.endLineNumber+1?s.getLineContent(b-1):s.getLineContent(b);let f=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(l,1),c.startLineNumber+1,o);if(f!==null){const b=S.getLeadingWhitespace(s.getLineContent(c.startLineNumber)),L=v.getSpaceCnt(f,d),N=v.getSpaceCnt(b,d);if(L!==N){const D=L-N;this.getIndentEditsOfMovingBlock(s,a,c,d,n,D)}}}}else a.addEditOperation(new M.Range(c.startLineNumber,1,c.startLineNumber,1),m+`
`)}else if(l=c.startLineNumber-1,h=s.getLineContent(l),a.addEditOperation(new M.Range(l,1,l+1,1),null),a.addEditOperation(new M.Range(c.endLineNumber,s.getLineMaxColumn(c.endLineNumber),c.endLineNumber,s.getLineMaxColumn(c.endLineNumber)),`
`+h),this.shouldAutoIndent(s,c)){t.getLineContent=C=>C===l?s.getLineContent(c.startLineNumber):s.getLineContent(C);let m=this.matchEnterRule(s,o,d,c.startLineNumber,c.startLineNumber-2);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(s,a,c,d,n,m);else{let C=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(c.startLineNumber,1),l,o);if(C!==null){let g=S.getLeadingWhitespace(s.getLineContent(c.startLineNumber)),f=v.getSpaceCnt(C,d),b=v.getSpaceCnt(g,d);if(f!==b){let L=f-b;this.getIndentEditsOfMovingBlock(s,a,c,d,n,L)}}}}}this._selectionId=a.trackSelection(c)}buildIndentConverter(s,a,u){return{shiftIndent:c=>k.ShiftCommand.shiftIndent(c,c.length+1,s,a,u),unshiftIndent:c=>k.ShiftCommand.unshiftIndent(c,c.length+1,s,a,u)}}parseEnterResult(s,a,u,c,d){if(d){let r=d.indentation;d.indentAction===w.IndentAction.None||d.indentAction===w.IndentAction.Indent?r=d.indentation+d.appendText:d.indentAction===w.IndentAction.IndentOutdent?r=d.indentation:d.indentAction===w.IndentAction.Outdent&&(r=a.unshiftIndent(d.indentation)+d.appendText);let n=s.getLineContent(c);if(this.trimLeft(n).indexOf(this.trimLeft(r))>=0){let o=S.getLeadingWhitespace(s.getLineContent(c)),t=S.getLeadingWhitespace(r),l=p.LanguageConfigurationRegistry.getIndentMetadata(s,c);l!==null&&l&2&&(t=a.unshiftIndent(t));let h=v.getSpaceCnt(t,u),m=v.getSpaceCnt(o,u);return h-m}}return null}matchEnterRuleMovingDown(s,a,u,c,d,r){if(S.lastNonWhitespaceIndex(r)>=0){let n=s.getLineMaxColumn(d),o=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new M.Range(d,n,d,n));return this.parseEnterResult(s,a,u,c,o)}else{let n=c-1;for(;n>=1;){let l=s.getLineContent(n);if(S.lastNonWhitespaceIndex(l)>=0)break;n--}if(n<1||c>s.getLineCount())return null;let o=s.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new M.Range(n,o,n,o));return this.parseEnterResult(s,a,u,c,t)}}matchEnterRule(s,a,u,c,d,r){let n=d;for(;n>=1;){let l;if(n===d&&r!==void 0?l=r:l=s.getLineContent(n),S.lastNonWhitespaceIndex(l)>=0)break;n--}if(n<1||c>s.getLineCount())return null;let o=s.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new M.Range(n,o,n,o));return this.parseEnterResult(s,a,u,c,t)}trimLeft(s){return s.replace(/^\s+/,"")}shouldAutoIndent(s,a){if(this._autoIndent<4||!s.isCheapToTokenize(a.startLineNumber))return!1;let u=s.getLanguageIdAtPosition(a.startLineNumber,1),c=s.getLanguageIdAtPosition(a.endLineNumber,1);return!(u!==c||p.LanguageConfigurationRegistry.getIndentRulesSupport(u)===null)}getIndentEditsOfMovingBlock(s,a,u,c,d,r){for(let n=u.startLineNumber;n<=u.endLineNumber;n++){let o=s.getLineContent(n),t=S.getLeadingWhitespace(o),h=v.getSpaceCnt(t,c)+r,m=v.generateIndent(h,c,d);m!==t&&(a.addEditOperation(new M.Range(n,1,n,t.length+1),m),n===u.endLineNumber&&u.endColumn<=t.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(s,a){let u=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(u=u.setEndPosition(u.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&u.startLineNumber<u.endLineNumber&&(u=u.setEndPosition(u.endLineNumber,2)),u}}e.MoveLinesCommand=i}),define(Q[557],J([0,1,7,105,29,123,2,41,3,31,361]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const _=new M.Color(new M.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:_,arrowColor:_,keepEditorSelection:!1},a="vs.editor.contrib.zoneWidget";class u{constructor(o,t,l,h,m,C){this.id="",this.domNode=o,this.afterLineNumber=t,this.afterColumn=l,this.heightInLines=h,this._onDomNodeTop=m,this._onComputedHeight=C}onDomNodeTop(o){this._onDomNodeTop(o)}onComputedHeight(o){this._onComputedHeight(o)}}e.ViewZoneDelegate=u;class c{constructor(o,t){this._id=o,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class d{constructor(o){this._editor=o,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),S.removeCSSRulesContainingSelector(this._ruleName)}set color(o){this._color!==o&&(this._color=o,this._updateStyle())}set height(o){this._height!==o&&(this._height=o,this._updateStyle())}_updateStyle(){S.removeCSSRulesContainingSelector(this._ruleName),S.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(o){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:v.Range.fromPositions(o),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new y.IdGenerator(".arrow-decoration-");class r{constructor(o,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new w.DisposableStore,this.container=null,this._isShowing=!1,this.editor=o,this.options=p.deepClone(t),p.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const h=this._getWidth(l);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(o=>{this._viewZone&&o.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(o){o.frameColor&&(this.options.frameColor=o.frameColor),o.arrowColor&&(this.options.arrowColor=o.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let o=this.options.frameColor.toString();this.container.style.borderTopColor=o,this.container.style.borderBottomColor=o}if(this._arrow&&this.options.arrowColor){let o=this.options.arrowColor.toString();this._arrow.color=o}}_getWidth(o){return o.width-o.minimap.minimapWidth-o.verticalScrollbarWidth}_getLeft(o){return o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?o.minimap.minimapWidth:0}_onViewZoneTop(o){this.domNode.style.top=o+"px"}_onViewZoneHeight(o){if(this.domNode.style.height=`${o}px`,this.container){let t=o-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const l=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(l))}this._resizeSash&&this._resizeSash.layout()}get position(){const[o]=this._positionMarkerId;if(!o)return;const t=this.editor.getModel();if(!t)return;const l=t.getDecorationRange(o);if(!!l)return l.getStartPosition()}show(o,t){const l=v.Range.isIRange(o)?v.Range.lift(o):v.Range.fromPositions(o);this._isShowing=!0,this._showImpl(l,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:l,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(o=>{this._viewZone&&o.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let o=this.editor.getOption(56),t=0;if(this.options.showArrow){let l=Math.round(o/3);t+=2*l}if(this.options.showFrame){let l=Math.round(o/9);t+=2*l}return t}_showImpl(o,t){const l=o.getStartPosition(),h=this.editor.getLayoutInfo(),m=this._getWidth(h);this.domNode.style.width=`${m}px`,this.domNode.style.left=this._getLeft(h)+"px";const C=document.createElement("div");C.style.overflow="hidden";const g=this.editor.getOption(56),f=Math.max(12,this.editor.getLayoutInfo().height/g*.8);t=Math.min(t,f);let b=0,L=0;if(this._arrow&&this.options.showArrow&&(b=Math.round(g/3),this._arrow.height=b,this._arrow.show(l)),this.options.showFrame&&(L=Math.round(g/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new u(C,l.lineNumber,l.column,t,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new c(a+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}let N=t*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=b+"px",this.container.style.height=N+"px",this.container.style.overflow="hidden"),this._doLayout(N,m),this.options.keepEditorSelection||this.editor.setSelection(o);const D=this.editor.getModel();if(D){const I=o.endLineNumber+1;I<=D.getLineCount()?this.revealLine(I,!1):this.revealLine(D.getLineCount(),!0)}}revealLine(o,t){t?this.editor.revealLineInCenter(o,0):this.editor.revealLine(o,0)}setCssClass(o,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(o))}_onWidth(o){}_doLayout(o,t){}_relayout(o){this._viewZone&&this._viewZone.heightInLines!==o&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=o,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let o;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(o={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{o=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(o){let l=(t.currentY-o.startY)/this.editor.getOption(56),h=l<0?Math.ceil(l):Math.floor(l),m=o.heightInLines+h;m>5&&m<35&&this._relayout(m)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const o=this.editor.getLayoutInfo();return o.width-o.minimap.minimapWidth}}e.ZoneWidget=r}),define(Q[247],J([0,1,131,18,77,234]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const w=5;class p{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,t){return this._INSTANCE.create(o,t)}create(o,t){if(o!==null&&o.depth>=this._maxCacheDepth)return new v(o,t);let l=v.getStackElementId(o);l.length>0&&(l+="|"),l+=t;let h=this._entries[l];return h||(h=new v(o,t),this._entries[l]=h,h)}}p._INSTANCE=new p(w);class v{constructor(o,t){this.parent=o,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(o){let t="";for(;o!==null;)t.length>0&&(t+="|"),t+=o.state,o=o.parent;return t}static _equals(o,t){for(;o!==null&&t!==null;){if(o===t)return!0;if(o.state!==t.state)return!1;o=o.parent,t=t.parent}return o===null&&t===null}equals(o){return v._equals(this,o)}push(o){return p.create(this,o)}pop(){return this.parent}popall(){let o=this;for(;o.parent;)o=o.parent;return o}switchTo(o){return p.create(this.parent,o)}}class i{constructor(o,t){this.modeId=o,this.state=t}equals(o){return this.modeId===o.modeId&&this.state.equals(o.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class _{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,t){return this._INSTANCE.create(o,t)}create(o,t){if(t!==null)return new s(o,t);if(o!==null&&o.depth>=this._maxCacheDepth)return new s(o,t);let l=v.getStackElementId(o),h=this._entries[l];return h||(h=new s(o,null),this._entries[l]=h,h)}}_._INSTANCE=new _(w);class s{constructor(o,t){this.stack=o,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:_.create(this.stack,this.embeddedModeData)}equals(o){return!(o instanceof s)||!this.stack.equals(o.stack)?!1:this.embeddedModeData===null&&o.embeddedModeData===null?!0:this.embeddedModeData===null||o.embeddedModeData===null?!1:this.embeddedModeData.equals(o.embeddedModeData)}}class a{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(o,t){this._language=t}emit(o,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new S.Token(o,t,this._language)))}nestedModeTokenize(o,t,l,h){const m=l.modeId,C=l.state,g=k.TokenizationRegistry.get(m);if(!g)return this.enterMode(h,m),this.emit(h,""),C;let f=g.tokenize(o,t,C,h);return this._tokens=this._tokens.concat(f.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,f.endState}finalize(o){return new S.TokenizationResult(this._tokens,o)}}class u{constructor(o,t){this._modeService=o,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(o,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(o,t){let l=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(o),this._tokens.push(l))}static _merge(o,t,l){let h=o!==null?o.length:0,m=t.length,C=l!==null?l.length:0;if(h===0&&m===0&&C===0)return new Uint32Array(0);if(h===0&&m===0)return l;if(m===0&&C===0)return o;let g=new Uint32Array(h+m+C);o!==null&&g.set(o);for(let f=0;f<m;f++)g[h+f]=t[f];return l!==null&&g.set(l,h+m),g}nestedModeTokenize(o,t,l,h){const m=l.modeId,C=l.state,g=k.TokenizationRegistry.get(m);if(!g)return this.enterMode(h,m),this.emit(h,""),C;let f=g.tokenize2(o,t,C,h);return this._prependTokens=u._merge(this._prependTokens,this._tokens,f.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,f.endState}finalize(o){return new S.TokenizationResult2(u._merge(this._prependTokens,this._tokens,null),o)}}class c{constructor(o,t,l,h){this._modeService=o,this._standaloneThemeService=t,this._modeId=l,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let m=!1;this._tokenizationRegistryListener=k.TokenizationRegistry.onDidChange(C=>{if(m)return;let g=!1;for(let f=0,b=C.changedLanguages.length;f<b;f++){let L=C.changedLanguages[f];if(this._embeddedModes[L]){g=!0;break}}g&&(m=!0,k.TokenizationRegistry.fire([this._modeId]),m=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let o=[];for(let t in this._embeddedModes){const l=k.TokenizationRegistry.get(t);if(l){if(l instanceof c){const m=l.getLoadStatus();m.loaded===!1&&o.push(m.promise)}continue}const h=k.TokenizationRegistry.getPromise(t);h&&o.push(h)}return o.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(o).then(t=>{})}}getInitialState(){let o=p.create(null,this._lexer.start);return _.create(o,null)}tokenize(o,t,l,h){let m=new a,C=this._tokenize(o,t,l,h,m);return m.finalize(C)}tokenize2(o,t,l,h){let m=new u(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),C=this._tokenize(o,t,l,h,m);return m.finalize(C)}_tokenize(o,t,l,h,m){return l.embeddedModeData?this._nestedTokenize(o,t,l,h,m):this._myTokenize(o,t,l,h,m)}_findLeavingNestedModeOffset(o,t){let l=this._lexer.tokenizer[t.stack.state];if(!l&&(l=y.findRules(this._lexer,t.stack.state),!l))throw y.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,m=!1;for(const C of l){if(!y.isIAction(C.action)||C.action.nextEmbedded!=="@pop")continue;m=!0;let g=C.regex,f=C.regex.source;if(f.substr(0,4)==="^(?:"&&f.substr(f.length-1,1)===")"){let L=(g.ignoreCase?"i":"")+(g.unicode?"u":"");g=new RegExp(f.substr(4,f.length-5),L)}let b=o.search(g);b===-1||b!==0&&C.matchOnlyAtLineStart||(h===-1||b<h)&&(h=b)}if(!m)throw y.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(o,t,l,h,m){let C=this._findLeavingNestedModeOffset(o,l);if(C===-1){let b=m.nestedModeTokenize(o,t,l.embeddedModeData,h);return _.create(l.stack,new i(l.embeddedModeData.modeId,b))}let g=o.substring(0,C);g.length>0&&m.nestedModeTokenize(g,!1,l.embeddedModeData,h);let f=o.substring(C);return this._myTokenize(f,t,l,h+C,m)}_safeRuleName(o){return o?o.name:"(unknown)"}_myTokenize(o,t,l,h,m){m.enterMode(h,this._modeId);const C=o.length,g=t&&this._lexer.includeLF?o+`
`:o,f=g.length;let b=l.embeddedModeData,L=l.stack,N=0,D=null,I=!0;for(;I||N<f;){const T=N,A=L.depth,R=D?D.groups.length:0,O=L.state;let P=null,F=null,E=null,x=null,H=null;if(D){P=D.matches;const G=D.groups.shift();F=G.matched,E=G.action,x=D.rule,D.groups.length===0&&(D=null)}else{if(!I&&N>=f)break;I=!1;let G=this._lexer.tokenizer[O];if(!G&&(G=y.findRules(this._lexer,O),!G))throw y.createError(this._lexer,"tokenizer state is not defined: "+O);let ee=g.substr(N);for(const ie of G)if((N===0||!ie.matchOnlyAtLineStart)&&(P=ee.match(ie.regex),P)){F=P[0],E=ie.action;break}}if(P||(P=[""],F=""),E||(N<f&&(P=[g.charAt(N)],F=P[0]),E=this._lexer.defaultToken),F===null)break;for(N+=F.length;y.isFuzzyAction(E)&&y.isIAction(E)&&E.test;)E=E.test(F,P,O,N===f);let K=null;if(typeof E=="string"||Array.isArray(E))K=E;else if(E.group)K=E.group;else if(E.token!==null&&E.token!==void 0){if(E.tokenSubst?K=y.substituteMatches(this._lexer,E.token,F,P,O):K=E.token,E.nextEmbedded)if(E.nextEmbedded==="@pop"){if(!b)throw y.createError(this._lexer,"cannot pop embedded mode if not inside one");b=null}else{if(b)throw y.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");H=y.substituteMatches(this._lexer,E.nextEmbedded,F,P,O)}if(E.goBack&&(N=Math.max(0,N-E.goBack)),E.switchTo&&typeof E.switchTo=="string"){let G=y.substituteMatches(this._lexer,E.switchTo,F,P,O);if(G[0]==="@"&&(G=G.substr(1)),y.findRules(this._lexer,G))L=L.switchTo(G);else throw y.createError(this._lexer,"trying to switch to a state '"+G+"' that is undefined in rule: "+this._safeRuleName(x))}else{if(E.transform&&typeof E.transform=="function")throw y.createError(this._lexer,"action.transform not supported");if(E.next)if(E.next==="@push"){if(L.depth>=this._lexer.maxStack)throw y.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(O)}else if(E.next==="@pop"){if(L.depth<=1)throw y.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(x));L=L.pop()}else if(E.next==="@popall")L=L.popall();else{let G=y.substituteMatches(this._lexer,E.next,F,P,O);if(G[0]==="@"&&(G=G.substr(1)),y.findRules(this._lexer,G))L=L.push(G);else throw y.createError(this._lexer,"trying to set a next state '"+G+"' that is undefined in rule: "+this._safeRuleName(x))}}E.log&&typeof E.log=="string"&&y.log(this._lexer,this._lexer.languageId+": "+y.substituteMatches(this._lexer,E.log,F,P,O))}if(K===null)throw y.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(x));const q=G=>{let ee=this._modeService.getModeIdForLanguageName(G);ee&&(G=ee);const ie=this._getNestedEmbeddedModeData(G);if(N<f){const ae=o.substr(N);return this._nestedTokenize(ae,t,_.create(L,ie),h+N,m)}else return _.create(L,ie)};if(Array.isArray(K)){if(D&&D.groups.length>0)throw y.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(x));if(P.length!==K.length+1)throw y.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(x));let G=0;for(let ee=1;ee<P.length;ee++)G+=P[ee].length;if(G!==F.length)throw y.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(x));D={rule:x,matches:P,groups:[]};for(let ee=0;ee<K.length;ee++)D.groups[ee]={action:K[ee],matched:P[ee+1]};N-=F.length;continue}else{if(K==="@rematch"&&(N-=F.length,F="",P=null,K="",H!==null))return q(H);if(F.length===0){if(f===0||A!==L.depth||O!==L.state||(D?D.groups.length:0)!==R)continue;throw y.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(x))}let G=null;if(y.isString(K)&&K.indexOf("@brackets")===0){let ee=K.substr("@brackets".length),ie=d(this._lexer,F);if(!ie)throw y.createError(this._lexer,"@brackets token returned but no bracket defined as: "+F);G=y.sanitize(ie.token+ee)}else{let ee=K===""?"":K+this._lexer.tokenPostfix;G=y.sanitize(ee)}T<C&&m.emit(T+h,G)}if(H!==null)return q(H)}return _.create(L,b)}_getNestedEmbeddedModeData(o){let t=this._locateMode(o);if(t){let l=k.TokenizationRegistry.get(t);if(l)return new i(t,l.getInitialState())}return new i(t||M.NULL_MODE_ID,M.NULL_STATE)}_locateMode(o){if(!o||!this._modeService.isRegisteredMode(o))return null;if(o===this._modeId)return o;let t=this._modeService.getModeId(o);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=c;function d(n,o){if(!o)return null;o=y.fixCase(n,o);let t=n.brackets;for(const l of t){if(l.open===o)return{token:l.token,bracketType:1};if(l.close===o)return{token:l.token,bracketType:-1}}return null}function r(n,o,t,l){return new c(n,o,t,l)}e.createTokenizationSupport=r}),define(Q[558],J([0,1,15,8,96,18,112,63,247]),function($,e,S,k,M,y,w,p,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const _=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:d=>d});class s{static colorizeElement(r,n,o,t){t=t||{};let l=t.theme||"vs",h=t.mimeType||o.getAttribute("lang")||o.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();r.setTheme(l);let m=o.firstChild?o.firstChild.nodeValue:"";o.className+=" "+l;let C=g=>{var f;const b=(f=_==null?void 0:_.createHTML(g))!==null&&f!==void 0?f:g;o.innerHTML=b};return this.colorize(n,m||"",h,t).then(C,g=>console.error(g))}static colorize(r,n,o,t){let l=4;t&&typeof t.tabSize=="number"&&(l=t.tabSize),k.startsWithUTF8BOM(n)&&(n=n.substr(1));let h=k.splitLines(n),m=r.getModeId(o);if(!m)return Promise.resolve(u(h,l));r.triggerMode(m);const C=y.TokenizationRegistry.get(m);if(C)return a(h,l,C);const g=y.TokenizationRegistry.getPromise(m);return g?new Promise((f,b)=>{g.then(L=>{a(h,l,L).then(f,b)},b)}):new Promise((f,b)=>{let L=null,N=null;const D=()=>{L&&(L.dispose(),L=null),N&&(N.dispose(),N=null);const I=y.TokenizationRegistry.get(m);if(I){a(h,l,I).then(f,b);return}f(u(h,l))};N=new S.TimeoutTimer,N.cancelAndSet(D,500),L=y.TokenizationRegistry.onDidChange(I=>{I.changedLanguages.indexOf(m)>=0&&D()})})}static colorizeLine(r,n,o,t,l=4){const h=p.ViewLineRenderingData.isBasicASCII(r,n),m=p.ViewLineRenderingData.containsRTL(r,h,o);return w.renderViewLine2(new w.RenderLineInput(!1,!0,r,!1,h,m,0,t,[],l,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,n,o=4){let t=r.getLineContent(n);r.forceTokenization(n);let h=r.getLineTokens(n).inflate();return this.colorizeLine(t,r.mightContainNonBasicASCII(),r.mightContainRTL(),h,o)}}e.Colorizer=s;function a(d,r,n){return new Promise((o,t)=>{const l=()=>{const h=c(d,r,n);if(n instanceof v.MonarchTokenizer){const m=n.getLoadStatus();if(m.loaded===!1){m.promise.then(l,t);return}}o(h)};l()})}function u(d,r){let n=[];const o=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=o;for(let l=0,h=d.length;l<h;l++){let m=d[l];t[0]=m.length;const C=new M.LineTokens(t,m),g=p.ViewLineRenderingData.isBasicASCII(m,!0),f=p.ViewLineRenderingData.containsRTL(m,g,!0);let b=w.renderViewLine2(new w.RenderLineInput(!1,!0,m,!1,g,f,0,C,[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(b.html),n.push("<br/>")}return n.join("")}function c(d,r,n){let o=[],t=n.getInitialState();for(let l=0,h=d.length;l<h;l++){let m=d[l],C=n.tokenize2(m,!0,t,0);M.LineTokens.convertToEndOffset(C.tokens,m.length);let g=new M.LineTokens(C.tokens,m);const f=p.ViewLineRenderingData.isBasicASCII(m,!0),b=p.ViewLineRenderingData.containsRTL(m,f,!0);let L=w.renderViewLine2(new w.RenderLineInput(!1,!0,m,!1,f,b,0,g.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(L.html),o.push("<br/>"),t=C.endState}return o.join("")}}),define(Q[117],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=S.createDecorator("themeService")}),define(Q[85],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=S.createDecorator("clipboardService")}),define(Q[26],J([0,1,2,20,9,6,72,53]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=M.createDecorator("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,i){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:v,handler:i})}if(v.description){const c=[];for(let r of v.description.args)c.push(r.constraint);const d=v.handler;v.handler=function(r,...n){return k.validateConstraints(n,c),d(r,...n)}}const{id:_}=v;let s=this._commands.get(_);s||(s=new w.LinkedList,this._commands.set(_,s));let a=s.unshift(v),u=S.toDisposable(()=>{a();const c=this._commands.get(_);(c==null?void 0:c.isEmpty())&&this._commands.delete(_)});return this._onDidRegisterCommand.fire(_),u}registerCommandAlias(v,i){return e.CommandsRegistry.registerCommand(v,(_,...s)=>_.get(e.ICommandService).executeCommand(i,...s))}getCommand(v){const i=this._commands.get(v);if(!(!i||i.isEmpty()))return p.Iterable.first(i)}getCommands(){const v=new Map;for(const i of this._commands.keys()){const _=this.getCommand(i);_&&v.set(i,_)}return v}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(Q[248],J([0,1,23,12,24,18,36,26,20,391,3]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(r){return r&&!!r.data}e.isSemanticTokens=s;function a(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=a;function u(r,n,o){const t=c(r);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(r,n,o))}:null}e.getDocumentSemanticTokens=u;function c(r){const n=y.DocumentSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}function d(r){const n=y.DocumentRangeSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=d,p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[o]=n;v.assertType(o instanceof M.URI);const t=r.get(w.IModelService).getModel(o);if(!t)return;const l=c(t);return l?l.getLegend():r.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",o)})),p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[o]=n;v.assertType(o instanceof M.URI);const t=r.get(w.IModelService).getModel(o);if(!t)return;const l=u(t,null,S.CancellationToken.None);if(!l)return r.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",o,t.getFullModelRange());const{provider:h,request:m}=l;let C;try{C=yield m}catch(f){k.onUnexpectedExternalError(f);return}if(!C||!s(C))return;const g=i.encodeSemanticTokensDto({id:0,type:"full",data:C.data});return C.resultId&&h.releaseDocumentSemanticTokens(C.resultId),g})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[o]=n;v.assertType(o instanceof M.URI);const t=r.get(w.IModelService).getModel(o);if(!t)return;const l=d(t);if(!!l)return l.getLegend()})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[o,t]=n;v.assertType(o instanceof M.URI),v.assertType(_.Range.isIRange(t));const l=r.get(w.IModelService).getModel(o);if(!l)return;const h=d(l);if(!h)return;let m;try{m=yield h.provideDocumentRangeSemanticTokens(l,_.Range.lift(t),S.CancellationToken.None)}catch(C){k.onUnexpectedExternalError(C);return}if(!(!m||!s(m)))return i.encodeSemanticTokensDto({id:0,type:"full",data:m.data})}))}),define(Q[249],J([0,1,23,12,24,18,36,2,26,20]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class _{constructor(){this.lenses=[],this._disposables=new p.DisposableStore}dispose(){this._disposables.dispose()}add(u,c){this._disposables.add(u);for(const d of u.lenses)this.lenses.push({symbol:d,provider:c})}}e.CodeLensModel=_;function s(a,u){return Ie(this,void 0,void 0,function*(){const c=y.CodeLensProviderRegistry.ordered(a),d=new Map,r=new _,n=c.map((o,t)=>Ie(this,void 0,void 0,function*(){d.set(o,t);try{const l=yield Promise.resolve(o.provideCodeLenses(a,u));l&&r.add(l,o)}catch(l){k.onUnexpectedExternalError(l)}}));return yield Promise.all(n),r.lenses=r.lenses.sort((o,t)=>o.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:o.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:d.get(o.provider)<d.get(t.provider)?-1:d.get(o.provider)>d.get(t.provider)?1:o.symbol.range.startColumn<t.symbol.range.startColumn?-1:o.symbol.range.startColumn>t.symbol.range.startColumn?1:0),r})}e.getCodeLensModel=s,v.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...u){let[c,d]=u;i.assertType(M.URI.isUri(c)),i.assertType(typeof d=="number"||!d);const r=a.get(w.IModelService).getModel(c);if(!r)throw k.illegalArgument();const n=[],o=new p.DisposableStore;return s(r,S.CancellationToken.None).then(t=>{o.add(t);let l=[];for(const h of t.lenses)d==null||Boolean(h.symbol.command)?n.push(h.symbol):d-- >0&&h.provider.resolveCodeLens&&l.push(Promise.resolve(h.provider.resolveCodeLens(r,h.symbol,S.CancellationToken.None)).then(m=>n.push(m||h.symbol)));return Promise.all(l)}).then(()=>n).finally(()=>{setTimeout(()=>o.dispose(),100)})})}),define(Q[250],J([0,1,23,12,24,3,18,36,26]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(s,a){const u=[],d=w.ColorProviderRegistry.ordered(s).reverse().map(r=>Promise.resolve(r.provideDocumentColors(s,a)).then(n=>{if(Array.isArray(n))for(let o of n)u.push({colorInfo:o,provider:r})}));return Promise.all(d).then(()=>u)}e.getColors=i;function _(s,a,u,c){return Promise.resolve(u.provideColorPresentations(s,a,c))}e.getColorPresentations=_,v.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(s,...a){const[u]=a;if(!(u instanceof M.URI))throw k.illegalArgument();const c=s.get(p.IModelService).getModel(u);if(!c)throw k.illegalArgument();const d=[],n=w.ColorProviderRegistry.ordered(c).reverse().map(o=>Promise.resolve(o.provideDocumentColors(c,S.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let l of t)d.push({range:l.range,color:[l.color.red,l.color.green,l.color.blue,l.color.alpha]})}));return Promise.all(n).then(()=>d)}),v.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(s,...a){const[u,c]=a,{uri:d,range:r}=c;if(!(d instanceof M.URI)||!Array.isArray(u)||u.length!==4||!y.Range.isIRange(r))throw k.illegalArgument();const[n,o,t,l]=u,h=s.get(p.IModelService).getModel(d);if(!h)throw k.illegalArgument();const m={range:r,color:{red:n,green:o,blue:t,alpha:l}},C=[],f=w.ColorProviderRegistry.ordered(h).reverse().map(b=>Promise.resolve(b.provideColorPresentations(h,m,S.CancellationToken.None)).then(L=>{Array.isArray(L)&&C.push(...L)}));return Promise.all(f).then(()=>C)})}),define(Q[559],J([0,1,24,36,23,68,246,26,20]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(_,s,a){return Ie(this,void 0,void 0,function*(){const u=yield w.OutlineModel.create(_,a);return s?u.asListOfDocumentSymbols():u.getTopLevelSymbols()})}e.getDocumentSymbols=i,p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(_,...s){return Ie(this,void 0,void 0,function*(){const[a]=s;v.assertType(S.URI.isUri(a));const u=_.get(k.IModelService).getModel(a);if(u)return i(u,!1,M.CancellationToken.None);const c=yield _.get(y.ITextModelService).createModelReference(a);try{return yield i(c.object.textEditorModel,!1,M.CancellationToken.None)}finally{c.dispose()}})})}),define(Q[560],J([0,1,23,12,24,3,18,36,26,2,19,20]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class a{constructor(r,n){this._link=r,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return Ie(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=a;class u{constructor(r){this._disposables=new i.DisposableStore;let n=[];for(const[o,t]of r){const l=o.links.map(h=>new a(h,t));n=u._union(n,l),i.isDisposable(o)&&this._disposables.add(o)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,n){let o=[],t,l,h,m;for(t=0,h=0,l=r.length,m=n.length;t<l&&h<m;){const C=r[t],g=n[h];if(y.Range.areIntersectingOrTouching(C.range,g.range)){t++;continue}y.Range.compareRangesUsingStarts(C.range,g.range)<0?(o.push(C),t++):(o.push(g),h++)}for(;t<l;t++)o.push(r[t]);for(;h<m;h++)o.push(n[h]);return o}}e.LinksList=u;function c(d,r){const n=[],o=w.LinkProviderRegistry.ordered(d).reverse().map((t,l)=>Promise.resolve(t.provideLinks(d,r)).then(h=>{h&&(n[l]=[h,t])},k.onUnexpectedExternalError));return Promise.all(o).then(()=>{const t=new u(_.coalesce(n));return r.isCancellationRequested?(t.dispose(),new u([])):t})}e.getLinks=c,v.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...r)=>Ie(void 0,void 0,void 0,function*(){let[n,o]=r;s.assertType(n instanceof M.URI),typeof o!="number"&&(o=0);const t=d.get(p.IModelService).getModel(n);if(!t)return[];const l=yield c(t,S.CancellationToken.None);if(!l)return[];for(let m=0;m<Math.min(o,l.links.length);m++)yield l.links[m].resolve(S.CancellationToken.None);const h=l.links.slice(0);return l.dispose(),h}))}),define(Q[16],J([0,1,8,9,17]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let y=M.userAgent||"";const w=new Map;w.set("false",!1),w.set("true",!0),w.set("isMac",M.isMacintosh),w.set("isLinux",M.isLinux),w.set("isWindows",M.isWindows),w.set("isWeb",M.isWeb),w.set("isMacNative",M.isMacintosh&&!M.isWeb),w.set("isEdge",y.indexOf("Edg/")>=0),w.set("isFirefox",y.indexOf("Firefox")>=0),w.set("isChrome",y.indexOf("Chrome")>=0),w.set("isSafari",y.indexOf("Safari")>=0);const p=Object.prototype.hasOwnProperty;class v{static has(I){return a.create(I)}static equals(I,T){return u.create(I,T)}static regex(I,T){return m.create(I,T)}static not(I){return n.create(I)}static and(...I){return g.create(I)}static or(...I){return f.create(I)}static deserialize(I,T=!1){if(!!I)return this._deserializeOrExpression(I,T)}static _deserializeOrExpression(I,T){let A=I.split("||");return f.create(A.map(R=>this._deserializeAndExpression(R,T)))}static _deserializeAndExpression(I,T){let A=I.split("&&");return g.create(A.map(R=>this._deserializeOne(R,T)))}static _deserializeOne(I,T){if(I=I.trim(),I.indexOf("!=")>=0){let A=I.split("!=");return r.create(A[0].trim(),this._deserializeValue(A[1],T))}if(I.indexOf("==")>=0){let A=I.split("==");return u.create(A[0].trim(),this._deserializeValue(A[1],T))}if(I.indexOf("=~")>=0){let A=I.split("=~");return m.create(A[0].trim(),this._deserializeRegexValue(A[1],T))}if(I.indexOf(" in ")>=0){let A=I.split(" in ");return c.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(I)){const A=I.split(">=");return t.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(I)){const A=I.split(">");return o.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(I)){const A=I.split("<=");return h.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(I)){const A=I.split("<");return l.create(A[0].trim(),A[1].trim())}return/^\!\s*/.test(I)?n.create(I.substr(1).trim()):a.create(I)}static _deserializeValue(I,T){if(I=I.trim(),I==="true")return!0;if(I==="false")return!1;let A=/^'([^']*)'$/.exec(I);return A?A[1].trim():I}static _deserializeRegexValue(I,T){if(S.isFalsyOrWhitespace(I)){if(T)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let A=I.indexOf("/"),R=I.lastIndexOf("/");if(A===R||A<0){if(T)throw new Error(`bad regexp-value '${I}', missing /-enclosure`);return console.warn(`bad regexp-value '${I}', missing /-enclosure`),null}let O=I.slice(A+1,R),P=I[R+1]==="i"?"i":"";try{return new RegExp(O,P)}catch(F){if(T)throw new Error(`bad regexp-value '${I}', parse error: ${F}`);return console.warn(`bad regexp-value '${I}', parse error: ${F}`),null}}}e.ContextKeyExpr=v;function i(D,I){return D.cmp(I)}class _{constructor(){this.type=0}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!1}serialize(){return"false"}keys(){return[]}negate(){return s.INSTANCE}}e.ContextKeyFalseExpr=_,_.INSTANCE=new _;class s{constructor(){this.type=1}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!0}serialize(){return"true"}keys(){return[]}negate(){return _.INSTANCE}}e.ContextKeyTrueExpr=s,s.INSTANCE=new s;class a{constructor(I){this.key=I,this.type=2}static create(I){const T=w.get(I);return typeof T=="boolean"?T?s.INSTANCE:_.INSTANCE:new a(I)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!!I.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return n.create(this.key)}}e.ContextKeyDefinedExpr=a;class u{constructor(I,T){this.key=I,this.value=T,this.type=4}static create(I,T){if(typeof T=="boolean")return T?a.create(I):n.create(I);const A=w.get(I);return typeof A=="boolean"?T===(A?"true":"false")?s.INSTANCE:_.INSTANCE:new u(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return r.create(this.key,this.value)}}e.ContextKeyEqualsExpr=u;class c{constructor(I,T){this.key=I,this.valueKey=T,this.type=10}static create(I,T){return new c(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.valueKey,I.key,I.valueKey)}equals(I){return I.type===this.type?this.key===I.key&&this.valueKey===I.valueKey:!1}evaluate(I){const T=I.getValue(this.valueKey),A=I.getValue(this.key);return Array.isArray(T)?T.indexOf(A)>=0:typeof A=="string"&&typeof T=="object"&&T!==null?p.call(T,A):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return d.create(this)}}e.ContextKeyInExpr=c;class d{constructor(I){this._actual=I,this.type=11}static create(I){return new d(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class r{constructor(I,T){this.key=I,this.value=T,this.type=5}static create(I,T){if(typeof T=="boolean")return T?n.create(I):a.create(I);const A=w.get(I);return typeof A=="boolean"?T===(A?"true":"false")?_.INSTANCE:s.INSTANCE:new r(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return u.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=r;class n{constructor(I){this.key=I,this.type=3}static create(I){const T=w.get(I);return typeof T=="boolean"?T?_.INSTANCE:s.INSTANCE:new n(I)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!I.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return a.create(this.key)}}e.ContextKeyNotExpr=n;class o{constructor(I,T){this.key=I,this.value=T,this.type=12}static create(I,T){return new o(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=o;class t{constructor(I,T){this.key=I,this.value=T,this.type=13}static create(I,T){return new t(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return l.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=t;class l{constructor(I,T){this.key=I,this.value=T,this.type=14}static create(I,T){return new l(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return t.create(this.key,this.value)}}e.ContextKeySmallerExpr=l;class h{constructor(I,T){this.key=I,this.value=T,this.type=15}static create(I,T){return new h(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:N(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return o.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class m{constructor(I,T){this.key=I,this.regexp=T,this.type=7}static create(I,T){return new m(I,T)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.key<I.key)return-1;if(this.key>I.key)return 1;const T=this.regexp?this.regexp.source:"",A=I.regexp?I.regexp.source:"";return T<A?-1:T>A?1:0}equals(I){if(I.type===this.type){const T=this.regexp?this.regexp.source:"",A=I.regexp?I.regexp.source:"";return this.key===I.key&&T===A}return!1}evaluate(I){let T=I.getValue(this.key);return this.regexp?this.regexp.test(T):!1}serialize(){const I=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${I}`}keys(){return[this.key]}negate(){return C.create(this)}}e.ContextKeyRegexExpr=m;class C{constructor(I){this._actual=I,this.type=8}static create(I){return new C(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=C;class g{constructor(I){this.expr=I,this.type=6}static create(I){return g._normalizeArr(I)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let T=0,A=this.expr.length;T<A;T++){const R=i(this.expr[T],I.expr[T]);if(R!==0)return R}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let T=0,A=this.expr.length;T<A;T++)if(!this.expr[T].equals(I.expr[T]))return!1;return!0}return!1}evaluate(I){for(let T=0,A=this.expr.length;T<A;T++)if(!this.expr[T].evaluate(I))return!1;return!0}static _normalizeArr(I){const T=[];let A=!1;for(const R of I)if(!!R){if(R.type===1){A=!0;continue}if(R.type===0)return _.INSTANCE;if(R.type===6){T.push(...R.expr);continue}T.push(R)}if(T.length===0&&A)return s.INSTANCE;if(T.length!==0){if(T.length===1)return T[0];for(T.sort(i);T.length>1;){const R=T[T.length-1];if(R.type!==9)break;T.pop();const O=T.pop(),P=f.create(R.expr.map(F=>g.create([F,O])));P&&(T.push(P),T.sort(i))}return T.length===1?T[0]:new g(T)}}serialize(){return this.expr.map(I=>I.serialize()).join(" && ")}keys(){const I=[];for(let T of this.expr)I.push(...T.keys());return I}negate(){let I=[];for(let T of this.expr)I.push(T.negate());return f.create(I)}}e.ContextKeyAndExpr=g;class f{constructor(I){this.expr=I,this.type=9}static create(I){const T=f._normalizeArr(I);if(T.length!==0)return T.length===1?T[0]:new f(T)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let T=0,A=this.expr.length;T<A;T++){const R=i(this.expr[T],I.expr[T]);if(R!==0)return R}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let T=0,A=this.expr.length;T<A;T++)if(!this.expr[T].equals(I.expr[T]))return!1;return!0}return!1}evaluate(I){for(let T=0,A=this.expr.length;T<A;T++)if(this.expr[T].evaluate(I))return!0;return!1}static _normalizeArr(I){let T=[],A=!1;if(I){for(let R=0,O=I.length;R<O;R++){const P=I[R];if(!!P){if(P.type===0){A=!0;continue}if(P.type===1)return[s.INSTANCE];if(P.type===9){T=T.concat(P.expr);continue}T.push(P)}}if(T.length===0&&A)return[_.INSTANCE];T.sort(i)}return T}serialize(){return this.expr.map(I=>I.serialize()).join(" || ")}keys(){const I=[];for(let T of this.expr)I.push(...T.keys());return I}negate(){let I=[];for(let A of this.expr)I.push(A.negate());const T=A=>A.type===9?A.expr:[A];for(;I.length>1;){const A=I.shift(),R=I.shift(),O=[];for(const P of T(A))for(const F of T(R))O.push(v.and(P,F));I.unshift(v.or(...O))}return I[0]}}e.ContextKeyOrExpr=f;class b extends a{constructor(I,T,A){super(I);this._defaultValue=T,typeof A=="object"?b._info.push(Object.assign(Object.assign({},A),{key:I})):A!==!0&&b._info.push({key:I,description:A,type:T!=null?typeof T:void 0})}static all(){return b._info.values()}bindTo(I){return I.createKey(this.key,this._defaultValue)}getValue(I){return I.getContextKeyValue(this.key)}toNegated(){return v.not(this.key)}isEqualTo(I){return v.equals(this.key,I)}}e.RawContextKey=b,b._info=[],e.IContextKeyService=k.createDecorator("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function L(D,I){return D<I?-1:D>I?1:0}function N(D,I,T,A){return D<T?-1:D>T?1:I<A?-1:I>A?1:0}}),define(Q[25],J([0,1,466,16]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var M;(function(y){y.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),y.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,S.localize(0,null)),y.focus=new k.RawContextKey("editorFocus",!1,S.localize(1,null)),y.textInputFocus=new k.RawContextKey("textInputFocus",!1,S.localize(2,null)),y.readOnly=new k.RawContextKey("editorReadonly",!1,S.localize(3,null)),y.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,S.localize(4,null)),y.columnSelection=new k.RawContextKey("editorColumnSelection",!1,S.localize(5,null)),y.writable=y.readOnly.toNegated(),y.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,S.localize(6,null)),y.hasOnlyEmptySelection=y.hasNonEmptySelection.toNegated(),y.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,S.localize(7,null)),y.hasSingleSelection=y.hasMultipleSelections.toNegated(),y.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,S.localize(8,null)),y.tabDoesNotMoveFocus=y.tabMovesFocus.toNegated(),y.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),y.canUndo=new k.RawContextKey("canUndo",!1,!0),y.canRedo=new k.RawContextKey("canRedo",!1,!0),y.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,S.localize(9,null)),y.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,S.localize(10,null)),y.notInCompositeEditor=y.inCompositeEditor.toNegated(),y.languageId=new k.RawContextKey("editorLangId","",S.localize(11,null)),y.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,S.localize(12,null)),y.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,S.localize(13,null)),y.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,S.localize(14,null)),y.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,S.localize(15,null)),y.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,S.localize(16,null)),y.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,S.localize(17,null)),y.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,S.localize(18,null)),y.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,S.localize(19,null)),y.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,S.localize(20,null)),y.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,S.localize(21,null)),y.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,S.localize(22,null)),y.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,S.localize(23,null)),y.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,S.localize(24,null)),y.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,S.localize(25,null)),y.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,S.localize(26,null)),y.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,S.localize(27,null)),y.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,S.localize(28,null)),y.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,S.localize(29,null))})(M=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(Q[186],J([0,1,12,13,18,16,23,26,24,20,68]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new y.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new y.RawContextKey("parameterHintsMultipleSignatures",!1)};function s(a,u,c,d){return Ie(this,void 0,void 0,function*(){const r=M.SignatureHelpProviderRegistry.ordered(a);for(const n of r)try{const o=yield n.provideSignatureHelp(a,u,d,c);if(o)return o}catch(o){S.onUnexpectedExternalError(o)}})}e.provideSignatureHelp=s,p.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(a,...u)=>Ie(void 0,void 0,void 0,function*(){const[c,d,r]=u;i.assertType(v.URI.isUri(c)),i.assertType(k.Position.isIPosition(d)),i.assertType(typeof r=="string"||!r);const n=yield a.get(_.ITextModelService).createModelReference(c);try{const o=yield s(n.object.textEditorModel,k.Position.lift(d),{triggerKind:M.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:r},w.CancellationToken.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{n.dispose()}}))}),define(Q[561],J([0,1,15,12,6,2,93,18,186]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(a){a.Default={type:0};class u{constructor(r,n){this.request=r,this.previouslyActiveHints=n,this.type=2}}a.Pending=u;class c{constructor(r){this.hints=r,this.type=1}}a.Active=c})(i||(i={}));class _ extends y.Disposable{constructor(u,c=_.DEFAULT_DELAY){super();this._onChangedHints=this._register(new M.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new y.MutableDisposable),this.triggerChars=new w.CharacterSet,this.retriggerChars=new w.CharacterSet,this.triggerId=0,this.editor=u,this.throttledDelayer=new S.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(p.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(u){this._state.type===2&&this._state.request.cancel(),this._state=u}cancel(u=!1){this.state=i.Default,this.throttledDelayer.cancel(),u||this._onChangedHints.fire(void 0)}trigger(u,c){const d=this.editor.getModel();if(!d||!p.SignatureHelpProviderRegistry.has(d))return;const r=++this.triggerId;this._pendingTriggers.push(u),this.throttledDelayer.trigger(()=>this.doTrigger(r),c).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const u=this.state.hints.signatures.length,c=this.state.hints.activeSignature,d=c%u==u-1,r=this.editor.getOption(73).cycle;if((u<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?0:c+1)}previous(){if(this.state.type!==1)return;const u=this.state.hints.signatures.length,c=this.state.hints.activeSignature,d=c===0,r=this.editor.getOption(73).cycle;if((u<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?u-1:c-1)}updateActiveSignature(u){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:u})),this._onChangedHints.fire(this.state.hints))}doTrigger(u){return Ie(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const n={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:c,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const o=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending(S.createCancelablePromise(l=>v.provideSignatureHelp(o,t,n,l)),d);try{const l=yield this.state.request;return u!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return u===this.triggerId&&(this.state=i.Default),k.onUnexpectedError(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new w.CharacterSet,this.retriggerChars=new w.CharacterSet;const u=this.editor.getModel();if(!!u)for(const c of p.SignatureHelpProviderRegistry.ordered(u)){for(const d of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(u){if(!this.triggerOnType)return;const c=u.length-1,d=u.charCodeAt(c);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:u.charAt(c)})}onCursorChange(u){u.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(73).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=_,_.DEFAULT_DELAY=120;function s(a,u){switch(u.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return u;case p.SignatureHelpTriggerKind.ContentChange:return a;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return u}}});var pe=this&&this.__param||function($,e){return function(S,k){e(S,k,$)}};define(Q[562],J([0,1,16]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let k=class lt{constructor(y,w){this._editor=y,this._index=0,this._ckOtherSuggestions=lt.OtherSuggestions.bindTo(w)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:w},p){if(y.items.length===0){this.reset();return}if(lt._moveIndex(!0,y,w)===w){this.reset();return}this._acceptNext=p,this._model=y,this._index=w,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,w,p){let v=p;for(;v=(v+w.items.length+(y?1:-1))%w.items.length,!(v===p||!w.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(!!this._model)try{this._ignore=!0,this._index=lt._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};k.OtherSuggestions=new S.RawContextKey("hasOtherSuggestions",!1),k=Me([pe(1,S.IContextKeyService)],k),e.SuggestAlternatives=k}),define(Q[563],J([0,1,16]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let k=class Rt{constructor(y,w){this._editor=y,this._enabled=!1,this._ckAtEnd=Rt.AtEnd.bindTo(w),this._configListener=this._editor.onDidChangeConfiguration(p=>p.hasChanged(109)&&this._update()),this._update()}dispose(){var y;this._configListener.dispose(),(y=this._selectionListener)===null||y===void 0||y.dispose(),this._ckAtEnd.reset()}_update(){const y=this._editor.getOption(109)==="on";if(this._enabled!==y)if(this._enabled=y,this._enabled){const w=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const p=this._editor.getModel(),v=this._editor.getSelection(),i=p.getWordAtPosition(v.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(w),w()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};k.AtEnd=new S.RawContextKey("atEndOfWord",!1),k=Me([pe(1,S.IContextKeyService)],k),e.WordContextKey=k}),define(Q[65],J([0,1,9,16]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=S.createDecorator("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new k.RawContextKey("accessibilityModeEnabled",!1)}),define(Q[251],J([0,1,535,16,17]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new k.RawContextKey("isWindows",M.isWindows,S.localize(0,null)),e.InputFocusedContextKey="inputFocus"}),define(Q[69],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=S.createDecorator("contextViewService"),e.IContextMenuService=S.createDecorator("contextMenuService")}),define(Q[118],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=S.createDecorator("dialogService")}),define(Q[139],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class S{constructor(...M){this._entries=new Map;for(let[y,w]of M)this.set(y,w)}set(M,y){const w=this._entries.get(M);return this._entries.set(M,y),w}has(M){return this._entries.has(M)}get(M){return this._entries.get(M)}}e.ServiceCollection=S}),define(Q[564],J([0,1,12,547,239,9,139,15]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const v=!1;class i extends Error{constructor(u){var c;super("cyclic dependency between services");this.message=(c=u.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${u.toString()}`}}class _{constructor(u=new w.ServiceCollection,c=!1,d){this._activeInstantiations=new Set,this._services=u,this._strict=c,this._parent=d,this._services.set(y.IInstantiationService,this)}createChild(u){return new _(u,this._strict,this)}invokeFunction(u,...c){let d=s.traceInvocation(u),r=!1;try{return u({get:(o,t)=>{if(r)throw S.illegalState("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(o,d);if(!l&&t!==y.optional)throw new Error(`[invokeFunction] unknown service '${o}'`);return l}},...c)}finally{r=!0,d.stop()}}createInstance(u,...c){let d,r;return u instanceof M.SyncDescriptor?(d=s.traceCreation(u.ctor),r=this._createInstance(u.ctor,u.staticArguments.concat(c),d)):(d=s.traceCreation(u),r=this._createInstance(u,c,d)),d.stop(),r}_createInstance(u,c=[],d){let r=y._util.getServiceDependencies(u).sort((t,l)=>t.index-l.index),n=[];for(const t of r){let l=this._getOrCreateServiceInstance(t.id,d);if(!l&&this._strict&&!t.optional)throw new Error(`[createInstance] ${u.name} depends on UNKNOWN service ${t.id}.`);n.push(l)}let o=r.length>0?r[0].index:c.length;if(c.length!==o){console.warn(`[createInstance] First service dependency of ${u.name} at position ${o+1} conflicts with ${c.length} static arguments`);let t=o-c.length;t>0?c=c.concat(new Array(t)):c=c.slice(0,o)}return new u(...[...c,...n])}_setServiceInstance(u,c){if(this._services.get(u)instanceof M.SyncDescriptor)this._services.set(u,c);else if(this._parent)this._parent._setServiceInstance(u,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(u){let c=this._services.get(u);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(u):c}_getOrCreateServiceInstance(u,c){let d=this._getServiceInstanceOrDescriptor(u);return d instanceof M.SyncDescriptor?this._safeCreateAndCacheServiceInstance(u,d,c.branch(u,!0)):(c.branch(u,!1),d)}_safeCreateAndCacheServiceInstance(u,c,d){if(this._activeInstantiations.has(u))throw new Error(`illegal state - RECURSIVELY instantiating service '${u}'`);this._activeInstantiations.add(u);try{return this._createAndCacheServiceInstance(u,c,d)}finally{this._activeInstantiations.delete(u)}}_createAndCacheServiceInstance(u,c,d){const r=new k.Graph(t=>t.id.toString());let n=0;const o=[{id:u,desc:c,_trace:d}];for(;o.length;){const t=o.pop();if(r.lookupOrInsertNode(t),n++>1e3)throw new i(r);for(let l of y._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(l.id);if(!h&&!l.optional&&console.warn(`[createInstance] ${u} depends on ${l.id} which is NOT registered.`),h instanceof M.SyncDescriptor){const m={id:l.id,desc:h,_trace:t._trace.branch(l.id,!0)};r.insertEdge(t,m),o.push(m)}}}for(;;){const t=r.roots();if(t.length===0){if(!r.isEmpty())throw new i(r);break}for(const{data:l}of t){if(this._getServiceInstanceOrDescriptor(l.id)instanceof M.SyncDescriptor){const m=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,m)}r.removeNode(l)}}return this._getServiceInstanceOrDescriptor(u)}_createServiceInstanceWithOwner(u,c,d=[],r,n){if(this._services.get(u)instanceof M.SyncDescriptor)return this._createServiceInstance(c,d,r,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(u,c,d,r,n);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(u,c=[],d,r){if(d){const n=new p.IdleValue(()=>this._createInstance(u,c,r));return new Proxy(Object.create(null),{get(o,t){if(t in o)return o[t];let l=n.value,h=l[t];return typeof h!="function"||(h=h.bind(l),o[t]=h),h},set(o,t,l){return n.value[t]=l,!0}})}else return this._createInstance(u,c,r)}}e.InstantiationService=_;class s{constructor(u,c){this.type=u,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(u){return v?new s(1,u.name||u.toString().substring(0,42).replace(/\n/g,"")):s._None}static traceCreation(u){return v?new s(0,u.name):s._None}branch(u,c){let d=new s(2,u.toString());return this._dep.push([u,c,d]),d}stop(){let u=Date.now()-this._start;s._totals+=u;let c=!1;function d(n,o){let t=[],l=new Array(n+1).join("	");for(const[h,m,C]of o._dep)if(m&&C){c=!0,t.push(`${l}CREATES -> ${h}`);let g=d(n+1,C);g&&t.push(g)}else t.push(`${l}uses -> ${h}`);return t.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${u.toFixed(2)}ms (grand total ${s._totals.toFixed(2)}ms)`];(u>2||c)&&console.log(r.join(`
`))}}s._None=new class extends s{constructor(){super(-1,null)}stop(){}branch(){return this}},s._totals=0}),define(Q[565],J([0,1,536,15,6,2]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class w extends y.Disposable{constructor(v,i,_,s,a){super();this._contextKeyService=v,this._commandService=i,this._telemetryService=_,this._notificationService=s,this._logService=a,this._onDidUpdateKeybindings=this._register(new M.Emitter),this._currentChord=null,this._currentChordChecker=new k.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new k.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:M.Event.None}dispose(){super.dispose()}_log(v){this._logging&&this._logService.info(`[KeybindingService]: ${v}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(v,i){const _=this._getResolver().lookupPrimaryKeybinding(v,i);if(!!_)return _.resolvedKeybinding}dispatchEvent(v,i){return this._dispatch(v,i)}softDispatch(v,i){const _=this.resolveKeyboardEvent(v);if(_.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[s]=_.getDispatchParts();if(s===null)return null;const a=this._contextKeyService.getContext(i),u=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,u,s)}_enterChordMode(v,i){this._currentChord={keypress:v,label:i},this._currentChordStatusMessage=this._notificationService.status(S.localize(0,null,i));const _=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-_>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(v,i){return this._doDispatch(this.resolveKeyboardEvent(v),i,!1)}_singleModifierDispatch(v,i){const _=this.resolveKeyboardEvent(v),[s]=_.getSingleModifierDispatchParts();return s!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${s}.`),this._currentSingleModifier=s,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):s!==null&&s===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${s} ${s}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(_,i,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(v,i,_=!1){let s=!1;if(v.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,u=null;if(_){const[n]=v.getSingleModifierDispatchParts();a=n,u=n}else[a]=v.getDispatchParts(),u=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),s;const c=this._contextKeyService.getContext(i),d=v.getLabel(),r=this._getResolver().resolve(c,u,a);return this._logService.trace("KeybindingService#dispatch",d,r==null?void 0:r.commandId),r&&r.enterChord?(s=!0,this._enterChordMode(a,d),s):(this._currentChord&&(!r||!r.commandId)&&(this._notificationService.status(S.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),s=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(s=!0),typeof r.commandArgs=="undefined"?this._commandService.executeCommand(r.commandId).then(void 0,n=>this._notificationService.warn(n)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,n=>this._notificationService.warn(n)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),s)}mightProducePrintableCharacter(v){return v.ctrlKey||v.metaKey?!1:v.keyCode>=31&&v.keyCode<=56||v.keyCode>=21&&v.keyCode<=30}}e.AbstractKeybindingService=w}),define(Q[566],J([0,1,12,180,40]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class y extends M.ResolvedKeybinding{constructor(p,v){super();if(v.length===0)throw S.illegalArgument("parts");this._os=p,this._parts=v}getLabel(){return k.UILabelProvider.toLabel(this._os,this._parts,p=>this._getLabel(p))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._parts,p=>this._getAriaLabel(p))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(p=>this._getPart(p))}_getPart(p){return new M.ResolvedKeybindingPart(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchParts(){return this._parts.map(p=>this._getDispatchPart(p))}getSingleModifierDispatchParts(){return this._parts.map(p=>this._getSingleModifierDispatchPart(p))}}e.BaseResolvedKeybinding=y}),define(Q[37],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=S.createDecorator("keybindingService")}),define(Q[252],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class S{constructor(w,p,v){this._log=v,this._defaultKeybindings=w,this._defaultBoundCommands=new Map;for(let i=0,_=w.length;i<_;i++){const s=w[i].command;s&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=S.combine(w,p);for(let i=0,_=this._keybindings.length;i<_;i++){let s=this._keybindings[i];s.keypressParts.length!==0&&(s.when&&s.when.type===0||this._addKeyPress(s.keypressParts[0],s))}}static _isTargetedForRemoval(w,p,v,i,_){return!(w.command!==i||p&&w.keypressParts[0]!==p||v&&w.keypressParts[1]!==v||_&&(!w.when||!_.equals(w.when)))}static combine(w,p){w=w.slice(0);let v=[];for(const i of p){if(!i.command||i.command.length===0||i.command.charAt(0)!=="-"){v.push(i);continue}const _=i.command.substr(1),s=i.keypressParts[0],a=i.keypressParts[1],u=i.when;for(let c=w.length-1;c>=0;c--)this._isTargetedForRemoval(w[c],s,a,_,u)&&w.splice(c,1)}return w.concat(v)}_addKeyPress(w,p){const v=this._map.get(w);if(typeof v=="undefined"){this._map.set(w,[p]),this._addToLookupMap(p);return}for(let i=v.length-1;i>=0;i--){let _=v[i];if(_.command===p.command)continue;const s=_.keypressParts.length>1,a=p.keypressParts.length>1;s&&a&&_.keypressParts[1]!==p.keypressParts[1]||S.whenIsEntirelyIncluded(_.when,p.when)&&this._removeFromLookupMap(_)}v.push(p),this._addToLookupMap(p)}_addToLookupMap(w){if(!w.command)return;let p=this._lookupMap.get(w.command);typeof p=="undefined"?(p=[w],this._lookupMap.set(w.command,p)):p.push(w)}_removeFromLookupMap(w){if(!w.command)return;let p=this._lookupMap.get(w.command);if(typeof p!="undefined"){for(let v=0,i=p.length;v<i;v++)if(p[v]===w){p.splice(v,1);return}}}static whenIsEntirelyIncluded(w,p){return p?w?this._implies(w,p):!1:!0}static _implies(w,p){const v=w.negate(),i=s=>s.type===9?s.expr:[s];let _=i(v).concat(i(p));for(let s=0;s<_.length;s++){const u=_[s].negate();for(let c=s+1;c<_.length;c++){const d=_[c];if(u.equals(d))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(w,p){let v=this._lookupMap.get(w);if(typeof v=="undefined"||v.length===0)return null;const i=p&&Array.from(v).reverse().find(_=>p.contextMatchesRules(_.when));return i??v[v.length-1]}resolve(w,p,v){this._log(`| Resolving ${v}${p?` chorded from ${p}`:""}`);let i=null;if(p!==null){const s=this._map.get(p);if(typeof s=="undefined")return this._log("\\ No keybinding entries."),null;i=[];for(let a=0,u=s.length;a<u;a++){let c=s[a];c.keypressParts[1]===v&&i.push(c)}}else{const s=this._map.get(v);if(typeof s=="undefined")return this._log("\\ No keybinding entries."),null;i=s}let _=this._findCommand(w,i);return _?p===null&&_.keypressParts.length>1&&_.keypressParts[1]!==null?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${k(_.when)}, source: ${M(_)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${_.command}, when: ${k(_.when)}, source: ${M(_)}.`),{enterChord:!1,leaveChord:_.keypressParts.length>1,commandId:_.command,commandArgs:_.commandArgs,bubble:_.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(w,p){for(let v=p.length-1;v>=0;v--){let i=p[v];if(!!S.contextMatchesRules(w,i.when))return i}return null}static contextMatchesRules(w,p){return p?p.evaluate(w):!0}}e.KeybindingResolver=S;function k(y){return y?`${y.serialize()}`:"no when condition"}function M(y){return y.extensionId?y.isBuiltinExtension?`built-in extension ${y.extensionId}`:`user extension ${y.extensionId}`:y.isDefault?"built-in":"user"}}),define(Q[567],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class S{constructor(y,w,p,v,i,_,s){this.resolvedKeybinding=y,this.keypressParts=y?k(y.getDispatchParts()):[],y&&this.keypressParts.length===0&&(this.keypressParts=k(y.getSingleModifierDispatchParts())),this.bubble=w?w.charCodeAt(0)===94:!1,this.command=this.bubble?w.substr(1):w,this.commandArgs=p,this.when=v,this.isDefault=i,this.extensionId=_,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=S;function k(M){let y=[];for(let w=0,p=M.length;w<p;w++){const v=M[w];if(!v)return y;y.push(v)}return y}e.removeElementsAfterNulls=k}),define(Q[568],J([0,1,40,566]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class M extends k.BaseResolvedKeybinding{constructor(w,p){super(p,w.parts)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return S.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":S.KeyCodeUtils.toString(w.keyCode)}_getDispatchPart(w){return M.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let p="";return w.ctrlKey&&(p+="ctrl+"),w.shiftKey&&(p+="shift+"),w.altKey&&(p+="alt+"),w.metaKey&&(p+="meta+"),p+=S.KeyCodeUtils.toString(w.keyCode),p}_getSingleModifierDispatchPart(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}}e.USLayoutResolvedKeybinding=M}),define(Q[119],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=S.createDecorator("labelService")}),define(Q[140],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=S.createDecorator("layoutService")}),define(Q[569],J([0,1,206,2,140]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let y=class extends k.Disposable{constructor(p){super();this.layoutService=p,this.currentViewDisposable=k.Disposable.None,this.container=p.container,this.contextView=this._register(new S.ContextView(this.container,1)),this.layout(),this._register(p.onDidLayout(()=>this.layout()))}setContainer(p,v){this.contextView.setContainer(p,v||1)}showContextView(p,v,i){v?v!==this.container&&(this.container=v,this.setContainer(v,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(p);const _=k.toDisposable(()=>{this.currentViewDisposable===_&&this.hideContextView()});return this.currentViewDisposable=_,_}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(p){this.contextView.hide(p)}};y=Me([pe(0,M.ILayoutService)],y),e.ContextViewService=y}),define(Q[70],J([0,1,9,2,6]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=S.createDecorator("logService");var y;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(y=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=y.Info;class w extends k.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new M.Emitter)}setLevel(_){this.level!==_&&(this.level=_,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=w;class p extends w{constructor(_=e.DEFAULT_LOG_LEVEL){super();this.setLevel(_)}trace(_,...s){this.getLevel()<=y.Trace&&console.log("%cTRACE","color: #888",_,...s)}debug(_,...s){this.getLevel()<=y.Debug&&console.log("%cDEBUG","background: #eee; color: #888",_,...s)}info(_,...s){this.getLevel()<=y.Info&&console.log("%c INFO","color: #33f",_,...s)}error(_,...s){this.getLevel()<=y.Error&&console.log("%c  ERR","color: #f33",_,...s)}dispose(){}}e.ConsoleLogger=p;class v extends k.Disposable{constructor(_){super();this.logger=_,this._register(_)}getLevel(){return this.logger.getLevel()}trace(_,...s){this.logger.trace(_,...s)}debug(_,...s){this.logger.debug(_,...s)}info(_,...s){this.logger.info(_,...s)}error(_,...s){this.logger.error(_,...s)}}e.LogService=v}),define(Q[253],J([0,1,15,2,203,300,3,18,43,397,36,138,8,19,70,81,12]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,o=5*60*1e3;function t(L,N){let D=L.getModel(N);return!(!D||D.isTooLargeForSyncing())}let l=class extends k.Disposable{constructor(N,D,I){super();this._modelService=N,this._workerManager=this._register(new m(this._modelService)),this._logService=I,this._register(p.LinkProviderRegistry.register("*",{provideLinks:(T,A)=>t(this._modelService,T.uri)?this._workerManager.withWorker().then(R=>R.computeLinks(T.uri)).then(R=>R&&{links:R}):Promise.resolve({links:[]})})),this._register(p.CompletionProviderRegistry.register("*",new h(this._workerManager,D,this._modelService)))}dispose(){super.dispose()}canComputeDiff(N,D){return t(this._modelService,N)&&t(this._modelService,D)}computeDiff(N,D,I,T){return this._workerManager.withWorker().then(A=>A.computeDiff(N,D,I,T))}computeMoreMinimalEdits(N,D){if(u.isNonEmptyArray(D)){if(!t(this._modelService,N))return Promise.resolve(D);const I=d.StopWatch.create(!0),T=this._workerManager.withWorker().then(A=>A.computeMoreMinimalEdits(N,D));return T.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",N.toString(!0),I.elapsed())),Promise.race([T,S.timeout(1e3).then(()=>D)])}else return Promise.resolve(void 0)}canNavigateValueSet(N){return t(this._modelService,N)}navigateValueSet(N,D,I){return this._workerManager.withWorker().then(T=>T.navigateValueSet(N,D,I))}canComputeWordRanges(N){return t(this._modelService,N)}computeWordRanges(N,D){return this._workerManager.withWorker().then(I=>I.computeWordRanges(N,D))}};l=Me([pe(0,_.IModelService),pe(1,s.ITextResourceConfigurationService),pe(2,c.ILogService)],l),e.EditorWorkerServiceImpl=l;class h{constructor(N,D,I){this._debugDisplayName="wordbasedCompletions",this._workerManager=N,this._configurationService=D,this._modelService=I}provideCompletionItems(N,D){return Ie(this,void 0,void 0,function*(){const I=this._configurationService.getValue(N.uri,D,"editor");if(!I.wordBasedSuggestions)return;const T=[];if(I.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,N.uri)&&T.push(N.uri);else for(const x of this._modelService.getModels())!t(this._modelService,x.uri)||(x===N?T.unshift(x.uri):(I.wordBasedSuggestionsMode==="allDocuments"||x.getLanguageIdentifier().id===N.getLanguageIdentifier().id)&&T.push(x.uri));if(T.length===0)return;const A=v.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),R=N.getWordAtPosition(D),O=R?new w.Range(D.lineNumber,R.startColumn,D.lineNumber,R.endColumn):w.Range.fromPositions(D),P=O.setEndPosition(D.lineNumber,D.column),E=yield(yield this._workerManager.withWorker()).textualSuggest(T,R==null?void 0:R.word,A);if(!!E)return{duration:E.duration,suggestions:E.words.map(x=>({kind:18,label:x,insertText:x,range:{insert:P,replace:O}}))}})}}class m extends k.Disposable{constructor(N){super();this._modelService=N,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new S.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2)),this._register(this._modelService.onModelRemoved(I=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new b(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class C extends k.Disposable{constructor(N,D,I){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=N,this._modelService=D,!I){let T=new S.IntervalTimer;T.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(T)}}dispose(){for(let N in this._syncedModels)k.dispose(this._syncedModels[N]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(N){for(const D of N){let I=D.toString();this._syncedModels[I]||this._beginModelSync(D),this._syncedModels[I]&&(this._syncedModelsLastUsedTime[I]=new Date().getTime())}}_checkStopModelSync(){let N=new Date().getTime(),D=[];for(let I in this._syncedModelsLastUsedTime)N-this._syncedModelsLastUsedTime[I]>n&&D.push(I);for(const I of D)this._stopModelSync(I)}_beginModelSync(N){let D=this._modelService.getModel(N);if(!D||D.isTooLargeForSyncing())return;let I=N.toString();this._proxy.acceptNewModel({url:D.uri.toString(),lines:D.getLinesContent(),EOL:D.getEOL(),versionId:D.getVersionId()});const T=new k.DisposableStore;T.add(D.onDidChangeContent(A=>{this._proxy.acceptModelChanged(I.toString(),A)})),T.add(D.onWillDispose(()=>{this._stopModelSync(I)})),T.add(k.toDisposable(()=>{this._proxy.acceptRemovedModel(I)})),this._syncedModels[I]=T}_stopModelSync(N){let D=this._syncedModels[N];delete this._syncedModels[N],delete this._syncedModelsLastUsedTime[N],k.dispose(D)}}class g{constructor(N){this._instance=N,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class f{constructor(N){this._workerClient=N}fhr(N,D){return this._workerClient.fhr(N,D)}}e.EditorWorkerHost=f;class b extends k.Disposable{constructor(N,D,I){super();this._disposed=!1,this._modelService=N,this._keepIdleModels=D,this._workerFactory=new y.DefaultWorkerFactory(I),this._worker=null,this._modelManager=null}fhr(N,D){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new M.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new f(this)))}catch(N){M.logOnceWebWorkerWarning(N),this._worker=new g(new i.EditorSimpleWorker(new f(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,N=>(M.logOnceWebWorkerWarning(N),this._worker=new g(new i.EditorSimpleWorker(new f(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(N){return this._modelManager||(this._modelManager=this._register(new C(N,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(N){return this._disposed?Promise.reject(r.canceled()):this._getProxy().then(D=>(this._getOrCreateModelManager(D).ensureSyncedResources(N),D))}computeDiff(N,D,I,T){return this._withSyncedResources([N,D]).then(A=>A.computeDiff(N.toString(),D.toString(),I,T))}computeMoreMinimalEdits(N,D){return this._withSyncedResources([N]).then(I=>I.computeMoreMinimalEdits(N.toString(),D))}computeLinks(N){return this._withSyncedResources([N]).then(D=>D.computeLinks(N.toString()))}textualSuggest(N,D,I){return Ie(this,void 0,void 0,function*(){const T=yield this._withSyncedResources(N),A=I.source,R=a.regExpFlags(I);return T.textualSuggest(N.map(O=>O.toString()),D,A,R)})}computeWordRanges(N,D){return this._withSyncedResources([N]).then(I=>{let T=this._modelService.getModel(N);if(!T)return Promise.resolve(null);let A=v.LanguageConfigurationRegistry.getWordDefinition(T.getLanguageIdentifier().id),R=A.source,O=a.regExpFlags(A);return I.computeWordRanges(N.toString(),D,R,O)})}navigateValueSet(N,D,I){return this._withSyncedResources([N]).then(T=>{let A=this._modelService.getModel(N);if(!A)return null;let R=v.LanguageConfigurationRegistry.getWordDefinition(A.getLanguageIdentifier().id),O=R.source,P=a.regExpFlags(R);return T.navigateValueSet(N.toString(),D,I,O,P)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=b}),define(Q[254],J([0,1,18,70,136]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class y{constructor(_,s,a){this._legend=_,this._themeService=s,this._logService=a,this._hashTable=new v,this._hasWarnedOverlappingTokens=!1}getMetadata(_,s,a){const u=this._hashTable.get(_,s,a.id);let c;if(u)c=u.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${_} / ${s}: foreground ${S.TokenMetadata.getForeground(c)}, fontStyle ${S.TokenMetadata.getFontStyle(c).toString(2)}`);else{let d=this._legend.tokenTypes[_];const r=[];if(d){let n=s;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&r.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${s.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const o=this._themeService.getColorTheme().getTokenStyleMetadata(d,r,a.language);typeof o=="undefined"?c=2147483647:(c=0,typeof o.italic!="undefined"&&(c|=(o.italic?1:0)<<11|1),typeof o.bold!="undefined"&&(c|=(o.bold?2:0)<<11|2),typeof o.underline!="undefined"&&(c|=(o.underline?4:0)<<11|4),o.foreground&&(c|=o.foreground<<14|8),c===0&&(c=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${_} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,d="not-in-legend";this._hashTable.add(_,s,a.id,c),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${_} (${d}) / ${s} (${r.join(" ")}): foreground ${S.TokenMetadata.getForeground(c)}, fontStyle ${S.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(_,s){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${_}, column ${s}`))}}e.SemanticTokensProviderStyling=y;function w(i,_,s){const a=i.data,u=i.data.length/5|0,c=Math.max(Math.ceil(u/1024),400),d=[];let r=0,n=1,o=0;for(;r<u;){const t=r;let l=Math.min(t+c,u);if(l<u){let N=l;for(;N-1>t&&a[5*N]===0;)N--;if(N-1===t){let D=l;for(;D+1<u&&a[5*D]===0;)D++;l=D}else l=N}let h=new Uint32Array((l-t)*4),m=0,C=0,g=0,f=0,b=0;for(;r<l;){const N=5*r,D=a[N],I=a[N+1],T=n+D,A=D===0?o+I:I,R=a[N+2],O=a[N+3],P=a[N+4],F=_.getMetadata(O,P,s);F!==2147483647&&(C===0&&(C=T),g===T&&b>A&&(_.warnOverlappingSemanticTokens(T,A+1),f<A?h[m-4+2]=A:m-=4),h[m]=T-C,h[m+1]=A,h[m+2]=A+R,h[m+3]=F,m+=4,g=T,f=A,b=A+R),n=T,o=A,r++}m!==h.length&&(h=h.subarray(0,m));const L=new M.MultilineTokens2(C,new M.SparseEncodedTokens(h));d.push(L)}return d}e.toMultilineTokens2=w;class p{constructor(_,s,a,u){this.tokenTypeIndex=_,this.tokenModifierSet=s,this.languageId=a,this.metadata=u,this.next=null}}class v{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(_,s){for(let a=0;a<s;a++)_[a]=null}_hash2(_,s){return(_<<5)-_+s|0}_hashFunc(_,s,a){return this._hash2(this._hash2(_,s),a)%this._currentLength}get(_,s,a){const u=this._hashFunc(_,s,a);let c=this._elements[u];for(;c;){if(c.tokenTypeIndex===_&&c.tokenModifierSet===s&&c.languageId===a)return c;c=c.next}return null}add(_,s,a,u){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength);for(const d of c){let r=d;for(;r;){const n=r.next;r.next=null,this._add(r),r=n}}}this._add(new p(_,s,a,u))}_add(_){const s=this._hashFunc(_.tokenTypeIndex,_.tokenModifierSet,_.languageId);_.next=this._elements[s],this._elements[s]=_}}v._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(Q[570],J([0,1,253,20]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function M(w,p){return new y(w,p)}e.createWebWorker=M;class y extends S.EditorWorkerClient{constructor(p,v){super(p,v.keepIdleModels||!1,v.label);this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(p,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,v))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const v=this._foreignModuleHost?k.getAllMethodNames(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(i=>{this._foreignModuleCreateData=null;const _=(u,c)=>p.fmr(u,c),s=(u,c)=>function(){const d=Array.prototype.slice.call(arguments,0);return c(u,d)};let a={};for(const u of i)a[u]=s(u,_);return a})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(v=>this.getProxy())}}}),define(Q[86],J([0,1,9,538,74]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var y;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(y=e.MarkerSeverity||(e.MarkerSeverity={})),function(p){function v(u,c){return c-u}p.compare=v;const i=Object.create(null);i[p.Error]=k.localize(0,null),i[p.Warning]=k.localize(1,null),i[p.Info]=k.localize(2,null);function _(u){return i[u]||""}p.toString=_;function s(u){switch(u){case M.default.Error:return p.Error;case M.default.Warning:return p.Warning;case M.default.Info:return p.Info;case M.default.Ignore:return p.Hint}}p.fromSeverity=s;function a(u){switch(u){case p.Error:return M.default.Error;case p.Warning:return M.default.Warning;case p.Info:return M.default.Info;case p.Hint:return M.default.Ignore}}p.toSeverity=a}(y=e.MarkerSeverity||(e.MarkerSeverity={}));var w;(function(p){const v="";function i(s){return _(s,!0)}p.makeKey=i;function _(s,a){let u=[v];return s.source?u.push(s.source.replace("\xA6","\\\xA6")):u.push(v),s.code?typeof s.code=="string"?u.push(s.code.replace("\xA6","\\\xA6")):u.push(s.code.value.replace("\xA6","\\\xA6")):u.push(v),s.severity!==void 0&&s.severity!==null?u.push(y.toString(s.severity)):u.push(v),s.message&&a?u.push(s.message.replace("\xA6","\\\xA6")):u.push(v),s.startLineNumber!==void 0&&s.startLineNumber!==null?u.push(s.startLineNumber.toString()):u.push(v),s.startColumn!==void 0&&s.startColumn!==null?u.push(s.startColumn.toString()):u.push(v),s.endLineNumber!==void 0&&s.endLineNumber!==null?u.push(s.endLineNumber.toString()):u.push(v),s.endColumn!==void 0&&s.endColumn!==null?u.push(s.endColumn.toString()):u.push(v),u.push(v),u.join("\xA6")}p.makeKeyOptionalMessage=_})(w=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=S.createDecorator("markerService")}),define(Q[571],J([0,1,86,24,6,2,3,8,19,9,75,72]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class a{constructor(r,n,o){this.marker=r,this.index=n,this.total=o}}e.MarkerCoordinate=a;let u=class At{constructor(r,n){this._markerService=n,this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,k.URI.isUri(r)?this._resourceFilter=t=>t.toString()===r.toString():r&&(this._resourceFilter=r);const o=()=>{this._markers=this._markerService.read({resource:k.URI.isUri(r)?r:void 0,severities:S.MarkerSeverity.Error|S.MarkerSeverity.Warning|S.MarkerSeverity.Info}),typeof r=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(At._compareMarker)};o(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(l=>this._resourceFilter(l)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(r){return!this._resourceFilter&&!r?!0:!this._resourceFilter||!r?!1:this._resourceFilter(r)}get selected(){const r=this._markers[this._nextIdx];return r&&new a(r,this._nextIdx+1,this._markers.length)}_initIdx(r,n,o){let t=!1,l=this._markers.findIndex(h=>h.resource.toString()===r.uri.toString());l<0&&(l=v.binarySearch(this._markers,{resource:r.uri},(h,m)=>p.compare(h.resource.toString(),m.resource.toString())),l<0&&(l=~l));for(let h=l;h<this._markers.length;h++){let m=w.Range.lift(this._markers[h]);if(m.isEmpty()){const C=r.getWordAtPosition(m.getStartPosition());C&&(m=new w.Range(m.startLineNumber,C.startColumn,m.startLineNumber,C.endColumn))}if(n&&(m.containsPosition(n)||n.isBeforeOrEqual(m.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==r.uri.toString())break}t||(this._nextIdx=o?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(r,n,o){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,o,r):r?this._nextIdx=(this._nextIdx+1)%this._markers.length:r||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(r,n){let o=this._markers.findIndex(t=>t.resource.toString()===r.toString());if(!(o<0)){for(;o<this._markers.length;o++)if(w.Range.containsPosition(this._markers[o],n))return new a(this._markers[o],o+1,this._markers.length)}}static _compareMarker(r,n){let o=p.compare(r.resource.toString(),n.resource.toString());return o===0&&(o=S.MarkerSeverity.compare(r.severity,n.severity)),o===0&&(o=w.Range.compareRangesUsingStarts(r,n)),o}};u=Me([pe(1,S.IMarkerService)],u),e.MarkerList=u,e.IMarkerNavigationService=i.createDecorator("IMarkerNavigationService");let c=class{constructor(r){this._markerService=r,this._provider=new s.LinkedList}getMarkerList(r){for(let n of this._provider){const o=n.getMarkerList(r);if(o)return o}return new u(r,this._markerService)}};c=Me([pe(0,S.IMarkerService)],c),_.registerSingleton(e.IMarkerNavigationService,c,!0)}),define(Q[572],J([0,1,19,44,24,6,86,50,53]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new p.ResourceMap,this._byOwner=new Map}set(u,c,d){let r=this._byResource.get(u);r||(r=new Map,this._byResource.set(u,r)),r.set(c,d);let n=this._byOwner.get(c);n||(n=new p.ResourceMap,this._byOwner.set(c,n)),n.set(u,d)}get(u,c){let d=this._byResource.get(u);return d==null?void 0:d.get(c)}delete(u,c){let d=!1,r=!1,n=this._byResource.get(u);n&&(d=n.delete(c));let o=this._byOwner.get(c);if(o&&(r=o.delete(u)),d!==r)throw new Error("illegal state");return d&&r}values(u){var c,d,r,n;return typeof u=="string"?(d=(c=this._byOwner.get(u))===null||c===void 0?void 0:c.values())!==null&&d!==void 0?d:v.Iterable.empty():M.URI.isUri(u)?(n=(r=this._byResource.get(u))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:v.Iterable.empty():v.Iterable.map(v.Iterable.concat(...this._byOwner.values()),o=>o[1])}}class _{constructor(u){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new p.ResourceMap,this._service=u,this._subscription=u.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(u){for(const c of u){const d=this._data.get(c);d&&this._substract(d);const r=this._resourceStats(c);this._add(r),this._data.set(c,r)}}_resourceStats(u){const c={errors:0,warnings:0,infos:0,unknowns:0};if(u.scheme===k.Schemas.inMemory||u.scheme===k.Schemas.walkThrough||u.scheme===k.Schemas.walkThroughSnippet)return c;for(const{severity:d}of this._service.read({resource:u}))d===w.MarkerSeverity.Error?c.errors+=1:d===w.MarkerSeverity.Warning?c.warnings+=1:d===w.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(u){this.errors-=u.errors,this.warnings-=u.warnings,this.infos-=u.infos,this.unknowns-=u.unknowns}_add(u){this.errors+=u.errors,this.warnings+=u.warnings,this.infos+=u.infos,this.unknowns+=u.unknowns}}class s{constructor(){this._onMarkerChanged=new y.Emitter,this.onMarkerChanged=y.Event.debounce(this._onMarkerChanged.event,s._debouncer,0),this._data=new i,this._stats=new _(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(u,c){for(const d of c||[])this.changeOne(u,d,[])}changeOne(u,c,d){if(S.isFalsyOrEmpty(d))this._data.delete(c,u)&&this._onMarkerChanged.fire([c]);else{const r=[];for(const n of d){const o=s._toMarker(u,c,n);o&&r.push(o)}this._data.set(c,u,r),this._onMarkerChanged.fire([c])}}static _toMarker(u,c,d){let{code:r,severity:n,message:o,source:t,startLineNumber:l,startColumn:h,endLineNumber:m,endColumn:C,relatedInformation:g,tags:f}=d;if(!!o)return l=l>0?l:1,h=h>0?h:1,m=m>=l?m:l,C=C>0?C:h,{resource:c,owner:u,code:r,severity:n,message:o,source:t,startLineNumber:l,startColumn:h,endLineNumber:m,endColumn:C,relatedInformation:g,tags:f}}read(u=Object.create(null)){let{owner:c,resource:d,severities:r,take:n}=u;if((!n||n<0)&&(n=-1),c&&d){const o=this._data.get(d,c);if(o){const t=[];for(const l of o)if(s._accept(l,r)){const h=t.push(l);if(n>0&&h===n)break}return t}else return[]}else if(!c&&!d){const o=[];for(let t of this._data.values())for(let l of t)if(s._accept(l,r)){const h=o.push(l);if(n>0&&h===n)return o}return o}else{const o=this._data.values(d??c),t=[];for(const l of o)for(const h of l)if(s._accept(h,r)){const m=t.push(h);if(n>0&&m===n)return t}return t}}static _accept(u,c){return c===void 0||(c&u.severity)===u.severity}static _debouncer(u,c){u||(s._dedupeMap=new p.ResourceMap,u=[]);for(const d of c)s._dedupeMap.has(d)||(s._dedupeMap.set(d,!0),u.push(d));return u}}e.MarkerService=s}),define(Q[34],J([0,1,74,9]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=S.default,e.INotificationService=k.createDecorator("notificationService");class M{}e.NoOpNotification=M}),define(Q[59],J([0,1,2,8,24,9]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=y.createDecorator("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return S.Disposable.None},registerValidator(){return S.Disposable.None},registerExternalUriResolver(){return S.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return S.Disposable.None},open(){return Ie(this,void 0,void 0,function*(){return!1})},resolveExternalUri(p){return Ie(this,void 0,void 0,function*(){return{resolved:p,dispose(){}}})}});function w(p,v){return M.URI.isUri(p)?k.equalsIgnoreCase(p.scheme,v):k.startsWithIgnoreCase(p,v+":")}e.matchesScheme=w}),define(Q[141],J([0,1,296,59,58,12,244,6,2,18]),function($,e,S,k,M,y,w,p,v,i){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let s=class Pt{constructor(u,c,d){this._options=u,this._modeService=c,this._openerService=d,this._onDidRenderAsync=new p.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(u,c,d){const r=new v.DisposableStore;let n;return u?n=S.renderMarkdown(u,Object.assign(Object.assign({},this._getRenderOptions(u,r)),c),d):n=document.createElement("span"),{element:n,dispose:()=>r.dispose()}}_getRenderOptions(u,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(d,r)=>Ie(this,void 0,void 0,function*(){var n,o,t,l;let h;d?h=this._modeService.getModeIdForLanguageName(d):this._options.editor&&(h=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),h||(h="plaintext"),this._modeService.triggerMode(h);const m=(o=yield i.TokenizationRegistry.getPromise(h))!==null&&o!==void 0?o:void 0,C=document.createElement("span");C.innerHTML=(l=(t=Pt._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(r,m))!==null&&l!==void 0?l:w.tokenizeToString(r,m);let g=this._options.codeBlockFontFamily;return this._options.editor&&(g=this._options.editor.getOption(40).fontFamily),g&&(C.style.fontFamily=g),C}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:u.isTrusted}).catch(y.onUnexpectedError),disposeables:c}}}};s._ttpTokenizer=(_=window.trustedTypes)===null||_===void 0?void 0:_.createPolicy("tokenizeToString",{createHTML(a,u){return w.tokenizeToString(a,u)}}),s=Me([pe(1,M.IModeService),pe(2,k.IOpenerService)],s),e.MarkdownRenderer=s}),define(Q[573],J([0,1,7,23,72,50,201,44,45,24,28,26,545,59]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(o){this._commandService=o}open(o,t){return Ie(this,void 0,void 0,function*(){if(!u.matchesScheme(o,p.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof o=="string"&&(o=i.URI.parse(o));let l=[];try{l=w.parse(decodeURIComponent(o.query))}catch(h){try{l=w.parse(o.query)}catch(m){}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(o.path,...l),!0})}};c=Me([pe(0,s.ICommandService)],c);let d=class{constructor(o){this._editorService=o}open(o,t){return Ie(this,void 0,void 0,function*(){typeof o=="string"&&(o=i.URI.parse(o));let l;const h=/^L?(\d+)(?:,(\d+))?/.exec(o.fragment);return h&&(l={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},o=o.with({fragment:""})),o.scheme===p.Schemas.file&&(o=v.normalizePath(o)),yield this._editorService.openCodeEditor({resource:o,options:Object.assign({selection:l,context:(t==null?void 0:t.fromUserGesture)?a.EditorOpenContext.USER:a.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};d=Me([pe(0,_.ICodeEditorService)],d);let r=class{constructor(o,t){this._openers=new M.LinkedList,this._validators=new M.LinkedList,this._resolvers=new M.LinkedList,this._resolvedUriTargets=new y.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new M.LinkedList,this._defaultExternalOpener={openExternal:l=>Ie(this,void 0,void 0,function*(){return u.matchesScheme(l,p.Schemas.http)||u.matchesScheme(l,p.Schemas.https)?S.windowOpenNoOpener(l):window.location.href=l,!0})},this._openers.push({open:(l,h)=>Ie(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||u.matchesScheme(l,p.Schemas.mailto)||u.matchesScheme(l,p.Schemas.http)||u.matchesScheme(l,p.Schemas.https)?(yield this._doOpenExternal(l,h),!0):!1})}),this._openers.push(new c(t)),this._openers.push(new d(o))}registerOpener(o){return{dispose:this._openers.unshift(o)}}registerValidator(o){return{dispose:this._validators.push(o)}}registerExternalUriResolver(o){return{dispose:this._resolvers.push(o)}}setDefaultExternalOpener(o){this._defaultExternalOpener=o}registerExternalOpener(o){return{dispose:this._externalOpeners.push(o)}}open(o,t){var l;return Ie(this,void 0,void 0,function*(){const h=typeof o=="string"?i.URI.parse(o):o,m=(l=this._resolvedUriTargets.get(h))!==null&&l!==void 0?l:o;for(const C of this._validators)if(!(yield C.shouldOpen(m)))return!1;for(const C of this._openers)if(yield C.open(o,t))return!0;return!1})}resolveExternalUri(o,t){return Ie(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const h=yield l.resolveExternalUri(o,t);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,o),h}catch(h){}throw new Error("Could not resolve external URI: "+o.toString())})}_doOpenExternal(o,t){return Ie(this,void 0,void 0,function*(){const l=typeof o=="string"?i.URI.parse(o):o;let h;try{h=(yield this.resolveExternalUri(l,t)).resolved}catch(C){h=l}let m;if(typeof o=="string"&&l.toString()===h.toString()?m=o:m=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const C=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const g of this._externalOpeners)if(yield g.openExternal(m,{sourceUri:l,preferredOpenerId:C},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(m,{sourceUri:l},k.CancellationToken.None)})}dispose(){this._validators.clear()}};r=Me([pe(0,_.ICodeEditorService),pe(1,s.ICommandService)],r),e.OpenerService=r}),define(Q[574],J([0,1,7,82,2,229,416,141,59,19]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class _{constructor(u){this._editor=u,this._lineNumber=-1,this._result=[]}setLineNumber(u){this._lineNumber=u,this._result=[]}clearResult(){this._result=[]}computeSync(){const u=r=>({value:r}),c=this._editor.getLineDecorations(this._lineNumber),d=[];if(!c)return d;for(const r of c){if(!r.options.glyphMarginClassName)continue;const n=r.options.glyphMarginHoverMessage;!n||k.isEmptyMarkdownString(n)||d.push(...i.asArray(n).map(u))}return d}onResult(u,c){this._result=this._result.concat(u)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class s extends w.GlyphHoverWidget{constructor(u,c,d=v.NullOpenerService){super(s.ID,u);this._renderDisposeables=this._register(new M.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new p.MarkdownRenderer({editor:this._editor},c,d)),this._computer=new _(this._editor),this._hoverOperation=new y.HoverOperation(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(u){this._lastLineNumber!==u&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=u,this._computer.setLineNumber(u),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(u){this._messages=u,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(u,c){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const r of c){const n=this._markdownRenderer.render(r.value);this._renderDisposeables.add(n),d.appendChild(S.$("div.hover-row",void 0,n.element))}this.updateContents(d),this.showAt(u)}}e.ModesGlyphHoverWidget=s,s.ID="editor.contrib.modesGlyphHoverWidget"}),define(Q[255],J([0,1,523,2,7,62,141,82,27,6,233,9]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function a(d){return!!d&&Boolean(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}e.canExpandCompletionItem=a;let u=class{constructor(r,n){this._editor=r,this._onDidClose=new i.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new i.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new k.DisposableStore,this._renderDisposeable=new k.DisposableStore,this._borderWidth=1,this._size=new M.Dimension(330,0),this.domNode=M.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(w.MarkdownRenderer,{editor:r}),this._body=M.$(".body"),this._scrollbar=new y.DomScrollableElement(this._body,{}),M.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=M.append(this._body,M.$(".header")),this._close=M.append(this._header,M.$("span"+v.Codicon.close.cssSelector)),this._close.title=S.localize(0,null),this._type=M.append(this._header,M.$("p.type")),this._docs=M.append(this._body,M.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),n=r.get(40),o=n.fontFamily,t=r.get(105)||n.fontSize,l=r.get(106)||n.lineHeight,h=n.fontWeight,m=`${t}px`,C=`${l}px`;this.domNode.style.fontSize=m,this.domNode.style.lineHeight=C,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=o,this._close.style.height=C,this._close.style.width=C}getLayoutInfo(){const r=this._editor.getOption(106)||this._editor.getOption(40).lineHeight,n=this._borderWidth,o=n*2;return{lineHeight:r,borderWidth:n,borderHeight:o,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=S.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,n){var o,t;this._renderDisposeable.clear();let{detail:l,documentation:h}=r.completion;if(n){let m="";m+=`score: ${r.score[0]}
`,m+=`prefix: ${(o=r.word)!==null&&o!==void 0?o:"(no prefix)"}
`,m+=`word: ${r.completion.filterText?r.completion.filterText+" (filterText)":r.textLabel}
`,m+=`distance: ${r.distance} (localityBonus-setting)
`,m+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,m+=`commit_chars: ${(t=r.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,h=new p.MarkdownString().appendCodeblock("empty",m),l=`Provider: ${r.provider._debugDisplayName}`}if(!n&&!a(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const m=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=m,this._type.title=m,M.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(m))}else M.clearNode(this._type),this._type.title="",M.hide(this._type),this.domNode.classList.add("no-type");if(M.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),M.clearNode(this._docs);const m=this._markdownRenderer.render(h);this._docs.appendChild(m.element),this._renderDisposeable.add(m),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=m=>{m.preventDefault(),m.stopPropagation()},this._close.onclick=m=>{m.preventDefault(),m.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,n){const o=new M.Dimension(r,n);M.Dimension.equals(o,this._size)||(this._size=o,M.size(this.domNode,r,n)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};u=Me([pe(1,s.IInstantiationService)],u),e.SuggestDetailsWidget=u;class c{constructor(r,n){this.widget=r,this._editor=n,this._disposables=new k.DisposableStore,this._added=!1,this._resizable=new _.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o,t,l=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{o=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(m=>{if(o&&t){this.widget.layout(m.dimension.width,m.dimension.height);let C=!1;m.west&&(h=t.width-m.dimension.width,C=!0),m.north&&(l=t.height-m.dimension.height,C=!0),C&&this._applyTopLeft({top:o.top+l,left:o.left+h})}m.done&&(o=void 0,t=void 0,l=0,h=0,this._userSize=m.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var m;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(m=this._userSize)!==null&&m!==void 0?m:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r){var n;const o=M.getDomNodePagePosition(r);this._anchorBox=o,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(r,n){const o=M.getClientArea(document.body),t=this.widget.getLayoutInfo();let l,h,m=new M.Dimension(220,2*t.lineHeight),C=0,g=r.top,f=r.top+r.height-t.borderHeight,b,L,N=o.width-(r.left+r.width+t.borderWidth+t.horizontalPadding);C=-t.borderWidth+r.left+r.width,L=!0,l=new M.Dimension(N,o.height-r.top-t.borderHeight-t.verticalPadding),h=l.with(void 0,r.top+r.height-t.borderHeight-t.verticalPadding),n.width>N&&(r.left>N&&(N=r.left-t.borderWidth-t.horizontalPadding,L=!1,C=Math.max(t.horizontalPadding,r.left-n.width-t.borderWidth),l=l.with(N),h=l.with(void 0,h.height)),r.width>N*1.3&&o.height-(r.top+r.height)>r.height&&(N=r.width,C=r.left,g=-t.borderWidth+r.top+r.height,l=new M.Dimension(r.width-t.borderHeight,o.height-r.top-r.height-t.verticalPadding),h=l.with(void 0,r.top-t.verticalPadding),m=m.with(l.width)));let D=n.height,I=Math.max(l.height,h.height);D>I&&(D=I);let T;D<=l.height?(b=!0,T=l):(b=!1,T=h),this._applyTopLeft({left:C,top:b?g:f-D}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!b,L,b,!L),this._resizable.minSize=m,this._resizable.maxSize=T,this._resizable.layout(D,Math.min(T.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(Q[60],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class k{constructor(y){this.callback=y}report(y){this._value=y,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=S.createDecorator("editorProgressService")}),define(Q[575],J([0,1,23,2,15]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(y=e.TriggerAction||(e.TriggerAction={}));function w(i){const _=i;return Array.isArray(_.items)}function p(i){const _=i;return!!_.picks&&_.additionalPicks instanceof Promise}class v extends k.Disposable{constructor(_,s){super();this.prefix=_,this.options=s}provide(_,s){var a;const u=new k.DisposableStore;_.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),_.matchOnLabel=_.matchOnDescription=_.matchOnDetail=_.sortByLabel=!1;let c;const d=u.add(new k.MutableDisposable),r=()=>Ie(this,void 0,void 0,function*(){const n=d.value=new k.DisposableStore;c==null||c.dispose(!0),_.busy=!1,c=new S.CancellationTokenSource(s);const o=c.token,t=_.value.substr(this.prefix.length).trim(),l=this._getPicks(t,n,o),h=(m,C)=>{var g;let f,b;if(w(m)?(f=m.items,b=m.active):f=m,f.length===0){if(C)return!1;t.length>0&&((g=this.options)===null||g===void 0?void 0:g.noResultsPick)&&(f=[this.options.noResultsPick])}return _.items=f,b&&(_.activeItems=[b]),!0};if(l!==null)if(p(l)){let m=!1,C=!1;yield Promise.all([(()=>Ie(this,void 0,void 0,function*(){yield M.timeout(v.FAST_PICKS_RACE_DELAY),!o.isCancellationRequested&&(C||(m=h(l.picks,!0)))}))(),(()=>Ie(this,void 0,void 0,function*(){_.busy=!0;try{const g=yield l.additionalPicks;if(o.isCancellationRequested)return;let f,b;w(l.picks)?(f=l.picks.items,b=l.picks.active):f=l.picks;let L,N;if(w(g)?(L=g.items,N=g.active):L=g,L.length>0||!m){let D;if(!b&&!N){const I=_.activeItems[0];I&&f.indexOf(I)!==-1&&(D=I)}h({items:[...f,...L],active:b||N||D})}}finally{o.isCancellationRequested||(_.busy=!1),C=!0}}))()])}else if(!(l instanceof Promise))h(l);else{_.busy=!0;try{const m=yield l;if(o.isCancellationRequested)return;h(m)}finally{o.isCancellationRequested||(_.busy=!1)}}});return u.add(_.onDidChangeValue(()=>r())),r(),u.add(_.onDidAccept(n=>{const[o]=_.selectedItems;typeof(o==null?void 0:o.accept)=="function"&&(n.inBackground||_.hide(),o.accept(_.keyMods,n))})),u.add(_.onDidTriggerItemButton(({button:n,item:o})=>Ie(this,void 0,void 0,function*(){var t,l;if(typeof o.trigger=="function"){const h=(l=(t=o.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&l!==void 0?l:-1;if(h>=0){const m=o.trigger(h,_.keyMods),C=typeof m=="number"?m:yield m;if(s.isCancellationRequested)return;switch(C){case y.NO_ACTION:break;case y.CLOSE_PICKER:_.hide();break;case y.REFRESH_PICKER:r();break;case y.REMOVE_ITEM:const g=_.items.indexOf(o);if(g!==-1){const f=_.items.slice();f.splice(g,1),_.items=f}break}}}}))),u}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var pt=this&&this.__createBinding||(Object.create?function($,e,S,k){k===void 0&&(k=S),Object.defineProperty($,k,{enumerable:!0,get:function(){return e[S]}})}:function($,e,S,k){k===void 0&&(k=S),$[k]=e[S]}),Ct=this&&this.__exportStar||function($,e){for(var S in $)S!=="default"&&!Object.prototype.hasOwnProperty.call(e,S)&&pt(e,$,S)};define(Q[78],J([0,1,9,204]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Ct(k,e),e.IQuickInputService=S.createDecorator("quickInputService")}),define(Q[32],J([0,1,20,197]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class M{constructor(){this.data=new Map}add(w,p){k.ok(S.isString(w)),k.ok(S.isObject(p)),k.ok(!this.data.has(w),"There is already an extension with this id"),this.data.set(w,p)}as(w){return this.data.get(w)||null}}e.Registry=new M}),define(Q[142],J([0,1,468,6,18,43,32]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(i){return this._languages.push(i),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let _=0,s=this._languages.length;_<s;_++)if(this._languages[_]===i){this._languages.splice(_,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=p,e.ModesRegistry=new p,w.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new M.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[S.localize(0,null),"text"],mimetypes:["text/plain"]}),y.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(Q[576],J([0,1,44,45,142,238]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function w(i,_,s,a){const u=a===y.FileKind.ROOT_FOLDER?["rootfolder-icon"]:a===y.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(s){let c;if(s.scheme===S.Schemas.data?c=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_LABEL):c=v(k.basenameOrAuthority(s).toLowerCase()),a===y.FileKind.FOLDER)u.push(`${c}-name-folder-icon`);else{if(c){if(u.push(`${c}-name-file-icon`),c.length<=255){const r=c.split(".");for(let n=1;n<r.length;n++)u.push(`${r.slice(n).join(".")}-ext-file-icon`)}u.push("ext-file-icon")}const d=p(i,_,s);d&&u.push(`${v(d)}-lang-file-icon`)}}return u}e.getIconClasses=w;function p(i,_,s){if(!s)return null;let a=null;if(s.scheme===S.Schemas.data){const c=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_MIME);c&&(a=_.getModeId(c))}else{const u=i.getModel(s);u&&(a=u.getModeId())}return a&&a!==M.PLAINTEXT_MODE_ID?a:_.getModeIdByFilepathOrFirstLine(s)}e.detectModeId=p;function v(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=v}),define(Q[187],J([0,1,32,6]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function M(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class y{constructor(){this._onDidChangeSchema=new k.Emitter,this.schemasById={}}registerSchema(v,i){this.schemasById[M(v)]=i,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const w=new y;S.Registry.add(e.Extensions.JSONContribution,w)}),define(Q[97],J([0,1,533,6,32,20,187]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const p=M.Registry.as(w.Extensions.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:S.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(d,r=!0){this.registerConfigurations([d],r)}registerConfigurations(d,r=!0){const n=[];d.forEach(o=>{n.push(...this.validateAndRegisterProperties(o,r,o.extensionInfo)),this.configurationContributors.push(o),this.registerJSONConfiguration(o)}),p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(d){for(const r of d)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(d,r=!0,n,o=3){var t;o=y.isUndefinedOrNull(d.scope)?o:d.scope;let l=[],h=d.properties;if(h)for(let C in h){if(r&&u(C)){delete h[C];continue}const g=h[C];if(this.updatePropertyDefaultValue(C,g),e.OVERRIDE_PROPERTY_PATTERN.test(C)?g.scope=void 0:(g.scope=y.isUndefinedOrNull(g.scope)?o:g.scope,g.restricted=y.isUndefinedOrNull(g.restricted)?!!((t=n==null?void 0:n.restrictedConfigurations)===null||t===void 0?void 0:t.includes(C)):g.restricted),h[C].hasOwnProperty("included")&&!h[C].included){this.excludedConfigurationProperties[C]=h[C],delete h[C];continue}else this.configurationProperties[C]=h[C];!h[C].deprecationMessage&&h[C].markdownDeprecationMessage&&(h[C].deprecationMessage=h[C].markdownDeprecationMessage),l.push(C)}let m=d.allOf;if(m)for(let C of m)l.push(...this.validateAndRegisterProperties(C,r,n,o));return l}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(d){const r=n=>{let o=n.properties;if(o)for(const l in o)this.updateSchema(l,o[l]);let t=n.allOf;t&&t.forEach(r)};r(d)}updateSchema(d,r){switch(e.allSettings.properties[d]=r,r.scope){case 1:e.applicationSettings.properties[d]=r;break;case 2:e.machineSettings.properties[d]=r;break;case 6:e.machineOverridableSettings.properties[d]=r;break;case 3:e.windowSettings.properties[d]=r;break;case 4:e.resourceSettings.properties[d]=r;break;case 5:e.resourceSettings.properties[d]=r,this.resourceLanguageSettingsSchema.properties[d]=r;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const r=`[${d}]`,n={type:"object",description:S.localize(1,null),errorMessage:S.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,n),e.allSettings.properties[r]=n,e.applicationSettings.properties[r]=n,e.machineSettings.properties[r]=n,e.machineOverridableSettings.properties[r]=n,e.windowSettings.properties[r]=n,e.resourceSettings.properties[r]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,r){let n=this.defaultValues[d];y.isUndefined(n)&&(n=r.default),y.isUndefined(n)&&(n=s(r.type)),r.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function _(c){return c.substring(1,c.length-1)}e.overrideIdentifierFromKey=_;function s(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=s;const a=new v;M.Registry.add(e.Extensions.Configuration,a);function u(c){return c.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(c)?S.localize(4,null,c):a.getConfigurationProperties()[c]!==void 0?S.localize(5,null,c):null:S.localize(3,null)}e.validateProperty=u}),define(Q[188],J([0,1,463,6,2,41,19,35,130,165,97,32,198]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new k.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}};const u=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(N){return this._values[N]}get(N){return this._values[N]}_write(N,D){this._values[N]=D}}e.ComputedEditorOptions=c;class d{constructor(){this._values=[]}_read(N){return this._values[N]}_write(N,D){this._values[N]=D}}class r{static readOptions(N){const D=N,I=new d;for(const T of p.editorOptionsRegistry){const A=T.name==="_never_"?void 0:D[T.name];I._write(T.id,A)}return I}static validateOptions(N){const D=new p.ValidatedEditorOptions;for(const I of p.editorOptionsRegistry)D._write(I.id,I.validate(N._read(I.id)));return D}static computeOptions(N,D){const I=new c;for(const T of p.editorOptionsRegistry)I._write(T.id,T.compute(D,I,N._read(T.id)));return I}static _deepEquals(N,D){if(typeof N!="object"||typeof D!="object")return N===D;if(Array.isArray(N)||Array.isArray(D))return Array.isArray(N)&&Array.isArray(D)?w.equals(N,D):!1;for(let I in N)if(!r._deepEquals(N[I],D[I]))return!1;return!0}static checkEquals(N,D){const I=[];let T=!1;for(const A of p.editorOptionsRegistry){const R=!r._deepEquals(N._read(A.id),D._read(A.id));I[A.id]=R,R&&(T=!0)}return T?new p.ConfigurationChangedEvent(I):null}}function n(L){const N=L.wordWrap;N===!0?L.wordWrap="on":N===!1&&(L.wordWrap="off");const D=L.lineNumbers;D===!0?L.lineNumbers="on":D===!1&&(L.lineNumbers="off"),L.autoClosingBrackets===!1&&(L.autoClosingBrackets="never",L.autoClosingQuotes="never",L.autoSurround="never"),L.cursorBlinking==="visible"&&(L.cursorBlinking="solid");const A=L.renderWhitespace;A===!0?L.renderWhitespace="boundary":A===!1&&(L.renderWhitespace="none");const R=L.renderLineHighlight;R===!0?L.renderLineHighlight="line":R===!1&&(L.renderLineHighlight="none");const O=L.acceptSuggestionOnEnter;O===!0?L.acceptSuggestionOnEnter="on":O===!1&&(L.acceptSuggestionOnEnter="off");const P=L.tabCompletion;P===!1?L.tabCompletion="off":P===!0&&(L.tabCompletion="onlySnippets");const F=L.suggest;if(F&&typeof F.filteredTypes=="object"&&F.filteredTypes){const q={};q.method="showMethods",q.function="showFunctions",q.constructor="showConstructors",q.deprecated="showDeprecated",q.field="showFields",q.variable="showVariables",q.class="showClasses",q.struct="showStructs",q.interface="showInterfaces",q.module="showModules",q.property="showProperties",q.event="showEvents",q.operator="showOperators",q.unit="showUnits",q.value="showValues",q.constant="showConstants",q.enum="showEnums",q.enumMember="showEnumMembers",q.keyword="showKeywords",q.text="showWords",q.color="showColors",q.file="showFiles",q.reference="showReferences",q.folder="showFolders",q.typeParameter="showTypeParameters",q.snippet="showSnippets",a.forEach(q,G=>{const ee=F.filteredTypes[G.key];ee===!1&&(F[G.value]=ee)})}const E=L.hover;E===!0?L.hover={enabled:!0}:E===!1&&(L.hover={enabled:!1});const x=L.parameterHints;x===!0?L.parameterHints={enabled:!0}:x===!1&&(L.parameterHints={enabled:!1});const H=L.autoIndent;H===!0?L.autoIndent="full":H===!1&&(L.autoIndent="advanced");const K=L.matchBrackets;K===!0?L.matchBrackets="always":K===!1&&(L.matchBrackets="never")}function o(L){const N=y.deepClone(L);return n(N),N}class t extends M.Disposable{constructor(N,D){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=N,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new p.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=o(D),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._register(v.EditorZoom.onDidChangeZoomLevel(I=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(I=>this._recomputeOptions()))}observeReferenceElement(N){}updatePixelRatio(){}_recomputeOptions(){const N=this.options,D=this._computeInternalOptions();if(!N)this.options=D;else{const I=r.checkEquals(N,D);if(I===null)return;this.options=D,this._onDidChangeFast.fire(I),this._onDidChange.fire(I)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const N=this._getEnvConfiguration(),D=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,N.zoomLevel,N.pixelRatio,this.isSimpleWidget),I={memory:this._computeOptionsMemory,outerWidth:N.outerWidth,outerHeight:N.outerHeight,fontInfo:this.readConfiguration(D),extraEditorClassName:N.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:N.emptySelectionClipboard,pixelRatio:N.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:N.accessibilitySupport};return r.computeOptions(this._validatedOptions,I)}static _subsetEquals(N,D){for(const I in D)if(u.call(D,I)){const T=D[I],A=N[I];if(A===T)continue;if(Array.isArray(A)&&Array.isArray(T)){if(!w.equals(A,T))return!1;continue}if(A&&typeof A=="object"&&T&&typeof T=="object"){if(!this._subsetEquals(A,T))return!1;continue}return!1}return!0}updateOptions(N){if(typeof N=="undefined")return;const D=o(N);t._subsetEquals(this._rawOptions,D)||(this._rawOptions=y.mixin(this._rawOptions,D||{}),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(N){this._isDominatedByLongLines=N,this._recomputeOptions()}setMaxLineNumber(N){const D=t._digitCount(N);this._lineNumbersDigitCount!==D&&(this._lineNumbersDigitCount=D,this._recomputeOptions())}setViewLineCount(N){this._viewLineCount!==N&&(this._viewLineCount=N,this._recomputeOptions())}static _digitCount(N){let D=0;for(;N;)N=Math.floor(N/10),D++;return D||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:S.localize(0,null),scope:5});const l=s.Registry.as(_.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:p.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:S.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:S.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:S.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:S.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:S.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:S.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[S.localize(7,null),S.localize(8,null),S.localize(9,null)],description:S.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[S.localize(11,null),S.localize(12,null),S.localize(13,null)],default:"configuredByTheme",description:S.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:S.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:S.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:S.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:S.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:S.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:S.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:S.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[S.localize(22,null),S.localize(23,null),S.localize(24,null)]}}});function m(L){return typeof L.type!="undefined"||typeof L.anyOf!="undefined"}for(const L of p.editorOptionsRegistry){const N=L.schema;if(typeof N!="undefined")if(m(N))h.properties[`editor.${L.name}`]=N;else for(let D in N)u.call(N,D)&&(h.properties[D]=N[D])}let C=null;function g(){return C===null&&(C=Object.create(null),Object.keys(h.properties).forEach(L=>{C[L]=!0})),C}function f(L){return g()[`editor.${L}`]||!1}e.isEditorConfigurationKey=f;function b(L){return g()[`diffEditor.${L}`]||!1}e.isDiffEditorConfigurationKey=b,l.registerConfiguration(h)}),define(Q[66],J([0,1,38,6,2,17,369,213,188,35,165]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class s{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const n=r.getId();return!!this._values[n]}get(r){const n=r.getId();return this._values[n]}put(r,n){const o=r.getId();this._keys[o]=r,this._values[o]=n}remove(r){const n=r.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function a(){u.INSTANCE.clearCache()}e.clearAllFontInfos=a;class u extends M.Disposable{constructor(){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new s,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new s,this._onDidChange.fire()}_writeToCache(r,n){this._cache.put(r,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let n=!1;for(const o of r)o.isTrusted||(n=!0,this._cache.remove(o));n&&this._onDidChange.fire()}readConfiguration(r){if(!this._cache.has(r)){let n=u._actualReadConfiguration(r);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new _.FontInfo({zoomLevel:S.getZoomLevel(),pixelRatio:S.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(r,n)}return this._cache.get(r)}static createRequest(r,n,o,t){const l=new w.CharWidthRequest(r,n);return o.push(l),t&&t.push(l),l}static _actualReadConfiguration(r){const n=[],o=[],t=this.createRequest("n",0,n,o),l=this.createRequest("\uFF4D",0,n,null),h=this.createRequest(" ",0,n,o),m=this.createRequest("0",0,n,o),C=this.createRequest("1",0,n,o),g=this.createRequest("2",0,n,o),f=this.createRequest("3",0,n,o),b=this.createRequest("4",0,n,o),L=this.createRequest("5",0,n,o),N=this.createRequest("6",0,n,o),D=this.createRequest("7",0,n,o),I=this.createRequest("8",0,n,o),T=this.createRequest("9",0,n,o),A=this.createRequest("\u2192",0,n,o),R=this.createRequest("\uFFEB",0,n,null),O=this.createRequest("\xB7",0,n,o),P=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,o),this.createRequest("/",0,n,o),this.createRequest("-",0,n,o),this.createRequest("_",0,n,o),this.createRequest("i",0,n,o),this.createRequest("l",0,n,o),this.createRequest("m",0,n,o),this.createRequest("|",1,n,o),this.createRequest("_",1,n,o),this.createRequest("i",1,n,o),this.createRequest("l",1,n,o),this.createRequest("m",1,n,o),this.createRequest("n",1,n,o),this.createRequest("|",2,n,o),this.createRequest("_",2,n,o),this.createRequest("i",2,n,o),this.createRequest("l",2,n,o),this.createRequest("m",2,n,o),this.createRequest("n",2,n,o),w.readCharWidths(r,n);const F=Math.max(m.width,C.width,g.width,f.width,b.width,L.width,N.width,D.width,I.width,T.width);let E=r.fontFeatureSettings===i.EditorFontLigatures.OFF;const x=o[0].width;for(let q=1,G=o.length;E&&q<G;q++){const ee=x-o[q].width;if(ee<-.001||ee>.001){E=!1;break}}let H=!0;E&&R.width!==x&&(H=!1),R.width>A.width&&(H=!1);const K=S.getTimeSinceLastZoomLevelChanged()>2e3;return new _.FontInfo({zoomLevel:S.getZoomLevel(),pixelRatio:S.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:l.width,canUseHalfwidthRightwardsArrow:H,spaceWidth:h.width,middotWidth:O.width,wsmiddotWidth:P.width,maxDigitWidth:F},K)}}u.INSTANCE=new u;class c extends v.CommonEditorConfiguration{constructor(r,n,o=null,t){super(r,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new p.ElementSizeObserver(o,n.dimension,()=>this._recomputeOptions())),this._register(u.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(S.onDidChangeZoomLevel(l=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,n){r.style.fontFamily=n.getMassagedFontFamily(),r.style.fontWeight=n.fontWeight,r.style.fontSize=n.fontSize+"px",r.style.fontFeatureSettings=n.fontFeatureSettings,r.style.lineHeight=n.lineHeight+"px",r.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(r,n){r.setFontFamily(n.getMassagedFontFamily()),r.setFontWeight(n.fontWeight),r.setFontSize(n.fontSize),r.setFontFeatureSettings(n.fontFeatureSettings),r.setLineHeight(n.lineHeight),r.setLetterSpacing(n.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!S.isSafari&&!S.isWebkitWebView&&(r+="no-user-select "),S.isSafari&&(r+="no-minimap-shadow "),y.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:S.isWebKit||S.isFirefox,pixelRatio:S.getPixelRatio(),zoomLevel:S.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return u.INSTANCE.readConfiguration(r)}}e.Configuration=c}),define(Q[577],J([0,1,83,8,66,63]),function($,e,S,k,M,y){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const p=(w=window.trustedTypes)===null||w===void 0?void 0:w.createPolicy("domLineBreaksComputer",{createHTML:c=>c});class v{static create(){return new v}constructor(){}createLineBreaksComputer(d,r,n,o){r=r|0,n=+n;let t=[];return{addRequest:(l,h)=>{t.push(l)},finalize:()=>i(t,d,r,n,o)}}}e.DOMLineBreaksComputerFactory=v;function i(c,d,r,n,o){var t;if(n===-1){const R=[];for(let O=0,P=c.length;O<P;O++)R[O]=null;return R}const l=Math.round(n*d.typicalHalfwidthCharacterWidth);(o===2||o===3)&&(o=1);const h=document.createElement("div");M.Configuration.applyFontInfoSlow(h,d);const m=S.createStringBuilder(1e4),C=[],g=[],f=[],b=[],L=[];for(let R=0;R<c.length;R++){const O=c[R];let P=0,F=0,E=l;if(o!==0)if(P=k.firstNonWhitespaceIndex(O),P===-1)P=0;else{for(let q=0;q<P;q++)F+=O.charCodeAt(q)===9?r-F%r:1;const K=Math.ceil(d.spaceWidth*F);K+d.typicalFullwidthCharacterWidth>l?(P=0,F=0):E=l-K}const x=O.substr(P),H=_(x,F,r,E,m);C[R]=P,g[R]=F,f[R]=x,b[R]=H[0],L[R]=H[1]}const N=m.build(),D=(t=p==null?void 0:p.createHTML(N))!==null&&t!==void 0?t:N;h.innerHTML=D,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);let I=document.createRange();const T=Array.prototype.slice.call(h.children,0);let A=[];for(let R=0;R<c.length;R++){const O=T[R],P=s(I,O,f[R],b[R]);if(P===null){A[R]=null;continue}const F=C[R],E=g[R],x=L[R],H=[];for(let K=0,q=P.length;K<q;K++)H[K]=x[P[K]];if(F!==0)for(let K=0,q=P.length;K<q;K++)P[K]+=F;A[R]=new y.LineBreakData(P,H,E)}return document.body.removeChild(h),A}function _(c,d,r,n,o){o.appendASCIIString('<div style="width:'),o.appendASCIIString(String(n)),o.appendASCIIString('px;">');const t=c.length;let l=d,h=0,m=[],C=[],g=0<t?c.charCodeAt(0):0;o.appendASCIIString("<span>");for(let f=0;f<t;f++){f!==0&&f%16384==0&&o.appendASCIIString("</span><span>"),m[f]=h,C[f]=l;const b=g;g=f+1<t?c.charCodeAt(f+1):0;let L=1,N=1;switch(b){case 9:L=r-l%r,N=L;for(let D=1;D<=L;D++)D<L?o.write1(160):o.appendASCII(32);break;case 32:g===32?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:k.isFullWidthCharacter(b)&&N++,b<32?o.write1(9216+b):o.write1(b)}h+=L,l+=N}return o.appendASCIIString("</span>"),m[c.length]=h,C[c.length]=l,o.appendASCIIString("</div>"),[m,C]}function s(c,d,r,n){if(r.length<=1)return null;const o=Array.prototype.slice.call(d.children,0),t=[];try{a(c,o,n,0,null,r.length-1,null,t)}catch(l){return console.log(l),null}return t.length===0?null:(t.push(r.length),t)}function a(c,d,r,n,o,t,l,h){if(n===t||(o=o||u(c,d,r[n],r[n+1]),l=l||u(c,d,r[t],r[t+1]),Math.abs(o[0].top-l[0].top)<=.1))return;if(n+1===t){h.push(t);return}const m=n+(t-n)/2|0,C=u(c,d,r[m],r[m+1]);a(c,d,r,n,o,m,C,h),a(c,d,r,m,C,t,l,h)}function u(c,d,r,n){return c.setStart(d[r/16384|0].firstChild,r%16384),c.setEnd(d[n/16384|0].firstChild,n%16384),c.getClientRects()}}),define(Q[578],J([0,1,30,66,167,46]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class w extends y.ViewPart{constructor(s){super(s);this._visibleLines=new M.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,a=this._dynamicOverlays.length;s<a;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,a=this._dynamicOverlays.length;s<a;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const a=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let c=a;c<=u;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(s);return!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const a=this._dynamicOverlays.filter(u=>u.shouldRender());for(let u=0,c=a.length;u<c;u++){const d=a[u];d.prepareRender(s),d.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=w;class p{constructor(s,a){this._configuration=s,this._lineHeight=this._configuration.options.get(56),this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=S.createFastDomNode(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(56)}renderLine(s,a,u,c){let d="";for(let r=0,n=this._dynamicOverlays.length;r<n;r++)d+=this._dynamicOverlays[r].render(u.startLineNumber,s);return this._renderedContent===d?!1:(this._renderedContent=d,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(a)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(d),c.appendASCIIString("</div>"),!0)}layoutLine(s,a){this._domNode&&(this._domNode.setTop(a),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=p;class v extends w{constructor(s){super(s);const u=this._context.configuration.options.get(128);this._contentWidth=u.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const u=this._context.configuration.options.get(128);return this._contentWidth=u.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class i extends w{constructor(s){super(s);const a=this._context.configuration.options,u=a.get(128);this._contentLeft=u.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),k.Configuration.applyFontInfo(this.domNode,a.get(40))}onConfigurationChanged(s){const a=this._context.configuration.options;k.Configuration.applyFontInfo(this.domNode,a.get(40));const u=a.get(128);return this._contentLeft=u.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const a=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(a),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(Q[579],J([0,1,7,30,8,66,35,13,3,128]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class _{constructor(u,c,d,r,n,o){this.top=u,this.left=c,this.width=d,this.height=r,this.textContent=n,this.textContentClassName=o}}class s{constructor(u){this._context=u;const c=this._context.configuration.options,d=c.get(40);this._cursorStyle=c.get(22),this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=k.createFastDomNode(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),y.Configuration.applyFontInfo(this._domNode,d),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(u){const c=this._context.configuration.options,d=c.get(40);return this._cursorStyle=c.get(22),this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),y.Configuration.applyFontInfo(this._domNode,d),!0}onCursorPositionChanged(u){return this._position=u,!0}_prepareRender(u){let c="";if(this._cursorStyle===w.TextEditorCursorStyle.Line||this._cursorStyle===w.TextEditorCursorStyle.LineThin){const g=u.visibleRangeForPosition(this._position);if(!g||g.outsideRenderedLine)return null;let f;if(this._cursorStyle===w.TextEditorCursorStyle.Line){if(f=S.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2){const N=this._context.model.getLineContent(this._position.lineNumber),D=M.nextCharLength(N,this._position.column-1);c=N.substr(this._position.column-1,D)}}else f=S.computeScreenAwareSize(1);let b=g.left;f>=2&&b>=1&&(b-=1);const L=u.getVerticalOffsetForLineNumber(this._position.lineNumber)-u.bigNumbersDelta;return new _(L,b,f,this._lineHeight,c,"")}const d=this._context.model.getLineContent(this._position.lineNumber),r=M.nextCharLength(d,this._position.column-1),n=u.linesVisibleRangesForRange(new v.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!n||n.length===0)return null;const o=n[0];if(o.outsideRenderedLine||o.ranges.length===0)return null;const t=o.ranges[0],l=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===w.TextEditorCursorStyle.Block){const g=this._context.model.getViewLineData(this._position.lineNumber);c=d.substr(this._position.column-1,r);const f=g.tokens.findTokenIndexAtOffset(this._position.column-1);h=g.tokens.getClassName(f)}let m=u.getVerticalOffsetForLineNumber(this._position.lineNumber)-u.bigNumbersDelta,C=this._lineHeight;return(this._cursorStyle===w.TextEditorCursorStyle.Underline||this._cursorStyle===w.TextEditorCursorStyle.UnderlineThin)&&(m+=this._lineHeight-2,C=2),new _(m,t.left,l,C,c,h)}prepareRender(u){this._renderData=this._prepareRender(u)}render(u){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(Q[580],J([0,1,12,6,2,297,8,18,142,77,97,32]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const a=Object.prototype.hasOwnProperty;class u extends M.Disposable{constructor(d=!0,r=!1){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=r,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(v.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const d=v.ModesRegistry.getLanguages();this._registerLanguages(d)}_registerLanguages(d){for(const r of d)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let n=this._languages[r];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(o=>{this._lowercaseNameMap[o.toLowerCase()]=n.identifier}),n.mimetypes.forEach(o=>{this._mimeTypesMap[o]=n.identifier})}),s.Registry.as(_.Extensions.Configuration).registerOverrideIdentifiers(v.ModesRegistry.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_getLanguageId(d){if(this._languageToLanguageId[d])return this._languageToLanguageId[d];const r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=d,this._languageToLanguageId[d]=r,r}_registerLanguage(d){const r=d.id;let n;if(a.call(this._languages,r))n=this._languages[r];else{const o=this._getLanguageId(r);n={identifier:new p.LanguageIdentifier(r,o),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=n}this._mergeLanguage(n,d)}_mergeLanguage(d,r){const n=r.id;let o=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(d.mimetypes.push(...r.mimetypes),o=r.mimetypes[0]),o||(o=`text/x-${n}`,d.mimetypes.push(o)),Array.isArray(r.extensions)){r.configuration?d.extensions=r.extensions.concat(d.extensions):d.extensions=d.extensions.concat(r.extensions);for(let h of r.extensions)y.registerTextMime({id:n,mime:o,extension:h},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let h of r.filenames)y.registerTextMime({id:n,mime:o,filename:h},this._warnOnOverwrite),d.filenames.push(h);if(Array.isArray(r.filenamePatterns))for(let h of r.filenamePatterns)y.registerTextMime({id:n,mime:o,filepattern:h},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let h=r.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let m=new RegExp(h);w.regExpLeadsToEndlessLoop(m)||y.registerTextMime({id:n,mime:o,firstline:m},this._warnOnOverwrite)}catch(m){S.onUnexpectedError(m)}}d.aliases.push(n);let t=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?t=[null]:t=r.aliases),t!==null)for(const h of t)!h||h.length===0||d.aliases.push(h);let l=t!==null&&t.length>0;if(!(l&&t[0]===null)){let h=(l?t[0]:null)||n;(l||!d.name)&&(d.name=h)}r.configuration&&d.configurationFiles.push(r.configuration)}isRegisteredMode(d){return a.call(this._mimeTypesMap,d)?!0:a.call(this._languages,d)}getModeIdForLanguageNameLowercase(d){return a.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d].language:null}extractModeIds(d){return d?d.split(",").map(r=>r.trim()).map(r=>a.call(this._mimeTypesMap,r)?this._mimeTypesMap[r].language:r).filter(r=>a.call(this._languages,r)):[]}getLanguageIdentifier(d){if(d===i.NULL_MODE_ID||d===0)return i.NULL_LANGUAGE_IDENTIFIER;let r;if(typeof d=="string")r=d;else if(r=this._languageIdToLanguage[d],!r)return null;return a.call(this._languages,r)?this._languages[r].identifier:null}getModeIdsFromFilepathOrFirstLine(d,r){if(!d&&!r)return[];let n=y.guessMimeTypes(d,r);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=u}),define(Q[581],J([0,1,6,2,381,77,580,19]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class v{constructor(s,a){this._selector=a,this.languageIdentifier=this._selector();let u;this._onDidChange=new S.Emitter({onFirstListenerAdd:()=>{u=s(()=>this._evaluate())},onLastListenerRemove:()=>{u.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let s=this._selector();s.id!==this.languageIdentifier.id&&(this.languageIdentifier=s,this._onDidChange.fire(this.languageIdentifier))}}class i extends k.Disposable{constructor(s=!1){super();this._onDidCreateMode=this._register(new S.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new S.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new w.LanguagesRegistry(!0,s)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(s){return this._registry.isRegisteredMode(s)}getModeIdForLanguageName(s){return this._registry.getModeIdForLanguageNameLowercase(s)}getModeIdByFilepathOrFirstLine(s,a){const u=this._registry.getModeIdsFromFilepathOrFirstLine(s,a);return p.firstOrDefault(u,null)}getModeId(s){const a=this._registry.extractModeIds(s);return p.firstOrDefault(a,null)}getLanguageIdentifier(s){return this._registry.getLanguageIdentifier(s)}create(s){return new v(this.onLanguagesMaybeChanged,()=>{const a=this.getModeId(s);return this._createModeAndGetLanguageIdentifier(a)})}createByFilepathOrFirstLine(s,a){return new v(this.onLanguagesMaybeChanged,()=>{const u=this.getModeIdByFilepathOrFirstLine(s,a);return this._createModeAndGetLanguageIdentifier(u)})}_createModeAndGetLanguageIdentifier(s){const a=this.getLanguageIdentifier(s||"plaintext")||y.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(a.language),a}triggerMode(s){const a=this.getModeId(s);this._getOrCreateMode(a||"plaintext")}_getOrCreateMode(s){if(!this._instantiatedModes.hasOwnProperty(s)){let a=this.getLanguageIdentifier(s)||y.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[s]=new M.FrankensteinMode(a),this._onDidCreateMode.fire(this._instantiatedModes[s])}return this._instantiatedModes[s]}}e.ModeServiceImpl=i}),define(Q[47],J([0,1,32,9,97]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=k.createDecorator("configurationService");function y(a,u){const c=Object.create(null);for(let d in a)w(c,d,a[d],u);return c}e.toValuesTree=y;function w(a,u,c,d){const r=u.split("."),n=r.pop();let o=a;for(let t=0;t<r.length;t++){let l=r[t],h=o[l];switch(typeof h){case"undefined":h=o[l]=Object.create(null);break;case"object":break;default:d(`Ignoring ${u} as ${r.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}o=h}if(typeof o=="object"&&o!==null)try{o[n]=c}catch(t){d(`Ignoring ${u} as ${r.join(".")} is ${JSON.stringify(o)}`)}else d(`Ignoring ${u} as ${r.join(".")} is ${JSON.stringify(o)}`)}e.addToValueTree=w;function p(a,u){const c=u.split(".");v(a,c)}e.removeFromValueTree=p;function v(a,u){const c=u.shift();if(u.length===0){delete a[c];return}if(Object.keys(a).indexOf(c)!==-1){const d=a[c];typeof d=="object"&&!Array.isArray(d)&&(v(d,u),Object.keys(d).length===0&&delete a[c])}}function i(a,u,c){function d(o,t){let l=o;for(const h of t){if(typeof l!="object"||l===null)return;l=l[h]}return l}const r=u.split("."),n=d(a,r);return typeof n=="undefined"?c:n}e.getConfigurationValue=i;function _(){const a=S.Registry.as(M.Extensions.Configuration).getConfigurationProperties();return Object.keys(a)}e.getConfigurationKeys=_;function s(){const a=Object.create(null),u=S.Registry.as(M.Extensions.Configuration).getConfigurationProperties();for(let c in u){let d=u[c].default;w(a,c,d,r=>console.error(`Conflict in default settings: ${r}`))}return a}e.getDefaultValues=s}),define(Q[582],J([0,1,2,65,6,16,47]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let p=class extends S.Disposable{constructor(i,_){super();this._contextKeyService=i,this._configurationService=_,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new M.Emitter,this._accessibilityModeEnabledContext=k.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire())})),s(),this.onDidChangeScreenReaderOptimized(()=>s())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};p=Me([pe(0,y.IContextKeyService),pe(1,w.IConfigurationService)],p),e.AccessibilityService=p}),define(Q[583],J([0,1,50,19,20,41,24,97,47]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(c={},d=[],r=[]){this._contents=c,this._keys=d,this._overrides=r,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?v.getConfigurationValue(this.contents,c):this.contents}override(c){const d=this.getContentsForOverrideIdentifer(c);if(!d||typeof d!="object"||!Object.keys(d).length)return this;let r={};for(const n of k.distinct([...Object.keys(this.contents),...Object.keys(d)])){let o=this.contents[n],t=d[n];t&&(typeof o=="object"&&typeof t=="object"?(o=y.deepClone(o),this.mergeContents(o,t)):o=t),r[n]=o}return new i(r,this.keys,this.overrides)}merge(...c){const d=y.deepClone(this.contents),r=y.deepClone(this.overrides),n=[...this.keys];for(const o of c){this.mergeContents(d,o.contents);for(const t of o.overrides){const[l]=r.filter(h=>k.equals(h.identifiers,t.identifiers));l?this.mergeContents(l.contents,t.contents):r.push(y.deepClone(t))}for(const t of o.keys)n.indexOf(t)===-1&&n.push(t)}return new i(d,n,r)}freeze(){return this.isFrozen=!0,this}mergeContents(c,d){for(const r of Object.keys(d)){if(r in c&&M.isObject(c[r])&&M.isObject(d[r])){this.mergeContents(c[r],d[r]);continue}c[r]=y.deepClone(d[r])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?y.deepFreeze(c):c}getContentsForOverrideIdentifer(c){for(const d of this.overrides)if(d.identifiers.indexOf(c)!==-1)return d.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,d){this.addKey(c),v.addToValueTree(this.contents,c,d,r=>{throw new Error(r)})}removeValue(c){this.removeKey(c)&&v.removeFromValueTree(this.contents,c)}addKey(c){let d=this.keys.length;for(let r=0;r<d;r++)c.indexOf(this.keys[r])===0&&(d=r);this.keys.splice(d,1,c)}removeKey(c){let d=this.keys.indexOf(c);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=i;class _ extends i{constructor(){const c=v.getDefaultValues(),d=v.getConfigurationKeys(),r=[];for(const n of Object.keys(c))p.OVERRIDE_PROPERTY_PATTERN.test(n)&&r.push({identifiers:[p.overrideIdentifierFromKey(n).trim()],keys:Object.keys(c[n]),contents:v.toValuesTree(c[n],o=>console.error(`Conflict in default settings file: ${o}`))});super(c,d,r)}}e.DefaultConfigurationModel=_;class s{constructor(c,d,r=new i,n=new i,o=new S.ResourceMap,t=new i,l=new S.ResourceMap,h=!0){this._defaultConfiguration=c,this._localUserConfiguration=d,this._remoteUserConfiguration=r,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=t,this._memoryConfigurationByResource=l,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new S.ResourceMap,this._userConfiguration=null}getValue(c,d,r){return this.getConsolidateConfigurationModel(d,r).getValue(c)}updateValue(c,d,r={}){let n;r.resource?(n=this._memoryConfigurationByResource.get(r.resource),n||(n=new i,this._memoryConfigurationByResource.set(r.resource,n))):n=this._memoryConfiguration,d===void 0?n.removeValue(c):n.setValue(c,d),r.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(c,d){let r=this.getConsolidatedConfigurationModelForResource(c,d);return c.overrideIdentifier?r.override(c.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:c},d){let r=this.getWorkspaceConsolidatedConfiguration();if(d&&c){const n=d.getFolder(c);n&&(r=this.getFolderConsolidatedConfiguration(n.uri)||r);const o=this._memoryConfigurationByResource.get(c);o&&(r=r.merge(o))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let d=this._foldersConsolidatedConfigurations.get(c);if(!d){const r=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(c);n?(d=r.merge(n),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(c,d)):d=r}return d}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,d)=>{const{contents:r,overrides:n,keys:o}=this._folderConfigurations.get(d);return c.push([d,{contents:r,overrides:n,keys:o}]),c},[])}}static parse(c){const d=this.parseConfigurationModel(c.defaults),r=this.parseConfigurationModel(c.user),n=this.parseConfigurationModel(c.workspace),o=c.folders.reduce((t,l)=>(t.set(w.URI.revive(l[0]),this.parseConfigurationModel(l[1])),t),new S.ResourceMap);return new s(d,r,new i,n,o,new i,new S.ResourceMap,!1)}static parseConfigurationModel(c){return new i(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=s;class a{constructor(c,d,r,n){this.change=c,this.previous=d,this.currentConfiguraiton=r,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;c.keys.forEach(l=>o.add(l)),c.overrides.forEach(([,l])=>l.forEach(h=>o.add(h))),this.affectedKeys=[...o.values()];const t=new i;this.affectedKeys.forEach(l=>t.setValue(l,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=s.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,d){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(d){const n=this.previousConfiguration?this.previousConfiguration.getValue(c,d,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,o=this.currentConfiguraiton.getValue(c,d,this.currentWorkspace);return!y.equals(n,o)}return!0}return!1}doesAffectedKeysTreeContains(c,d){let r=v.toValuesTree({[d]:!0},()=>{}),n;for(;typeof r=="object"&&(n=Object.keys(r)[0]);){if(c=c[n],!c)return!1;r=r[n]}return!0}}e.ConfigurationChangeEvent=a}),define(Q[584],J([0,1,6,53,2,50,534,26,47,16,252]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const s="data-keybinding-context";class a{constructor(g,f){this._id=g,this._parent=f,this._value=Object.create(null),this._value._contextId=g}setValue(g,f){return this._value[g]!==f?(this._value[g]=f,!0):!1}removeValue(g){return g in this._value?(delete this._value[g],!0):!1}getValue(g){const f=this._value[g];return typeof f=="undefined"&&this._parent?this._parent.getValue(g):f}}e.Context=a;class u extends a{constructor(){super(-1,null)}setValue(g,f){return!1}removeValue(g){return!1}getValue(g){}}u.INSTANCE=new u;class c extends a{constructor(g,f,b){super(g,null);this._configurationService=f,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(L=>{if(L.source===6){const N=Array.from(k.Iterable.map(this._values,([D])=>D));this._values.clear(),b.fire(new n(N))}else{const N=[];for(const D of L.affectedKeys){const I=`config.${D}`,T=this._values.findSuperstr(I);T!==void 0&&(N.push(...k.Iterable.map(T,([A])=>A)),this._values.deleteSuperstr(I)),this._values.has(I)&&(N.push(I),this._values.delete(I))}b.fire(new n(N))}})}dispose(){this._listener.dispose()}getValue(g){if(g.indexOf(c._keyPrefix)!==0)return super.getValue(g);if(this._values.has(g))return this._values.get(g);const f=g.substr(c._keyPrefix.length),b=this._configurationService.getValue(f);let L;switch(typeof b){case"number":case"boolean":case"string":L=b;break;default:Array.isArray(b)?L=JSON.stringify(b):L=b}return this._values.set(g,L),L}setValue(g,f){return super.setValue(g,f)}removeValue(g){return super.removeValue(g)}}c._keyPrefix="config.";class d{constructor(g,f,b){this._service=g,this._key=f,this._defaultValue=b,this.reset()}set(g){this._service.setContext(this._key,g)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class r{constructor(g){this.key=g}affectsSome(g){return g.has(this.key)}}class n{constructor(g){this.keys=g}affectsSome(g){for(const f of this.keys)if(g.has(f))return!0;return!1}}class o{constructor(g){this.events=g}affectsSome(g){for(const f of this.events)if(f.affectsSome(g))return!0;return!1}}class t{constructor(g){this._onDidChangeContext=new S.PauseableEmitter({merge:f=>new o(f)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=g}createKey(g,f){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,g,f)}bufferChangeEvents(g){this._onDidChangeContext.pause();try{g()}finally{this._onDidChangeContext.resume()}}createScoped(g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,g)}contextMatchesRules(g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const f=this.getContextValuesContainer(this._myContextId);return _.KeybindingResolver.contextMatchesRules(f,g)}getContextKeyValue(g){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(g)}setContext(g,f){if(this._isDisposed)return;const b=this.getContextValuesContainer(this._myContextId);!b||b.setValue(g,f)&&this._onDidChangeContext.fire(new r(g))}removeContext(g){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(g)&&this._onDidChangeContext.fire(new r(g))}getContext(g){return this._isDisposed?u.INSTANCE:this.getContextValuesContainer(m(g))}}e.AbstractContextKeyService=t;let l=class extends t{constructor(g){super(0);this._contexts=new Map,this._toDispose=new M.DisposableStore,this._lastContextId=0;const f=new c(this._myContextId,g,this._onDidChangeContext);this._contexts.set(this._myContextId,f),this._toDispose.add(f)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(g){return this._isDisposed?u.INSTANCE:this._contexts.get(g)||u.INSTANCE}createChildContext(g=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let f=++this._lastContextId;return this._contexts.set(f,new a(f,this.getContextValuesContainer(g))),f}disposeContext(g){this._isDisposed||this._contexts.delete(g)}};l=Me([pe(0,v.IConfigurationService)],l),e.ContextKeyService=l;class h extends t{constructor(g,f){super(g.createChildContext());if(this._parentChangeListener=new M.MutableDisposable,this._parent=g,this._updateParentChangeListener(),this._domNode=f,this._domNode.hasAttribute(s)){let b="";this._domNode.classList&&(b=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${b?": "+b:""}`)}this._domNode.setAttribute(s,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(s),this._isDisposed=!0)}getContextValuesContainer(g){return this._isDisposed?u.INSTANCE:this._parent.getContextValuesContainer(g)}createChildContext(g=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(g)}disposeContext(g){this._isDisposed||this._parent.disposeContext(g)}}function m(C){for(;C;){if(C.hasAttribute(s)){const g=C.getAttribute(s);return g?parseInt(g,10):NaN}C=C.parentElement}return 0}p.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(C,g,f){C.get(i.IContextKeyService).createKey(String(g),f)}),p.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((C,g)=>C.key.localeCompare(g.key))},description:{description:w.localize(0,null),args:[]}}),p.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const C=[],g=new Set;for(let f of i.RawContextKey.all())g.has(f.key)||(g.add(f.key),C.push(f));C.sort((f,b)=>f.key.localeCompare(b.key)),console.log(JSON.stringify(C,void 0,2))})}),define(Q[87],J([0,1,40,17,26,32]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(k.OS===1){if(i&&i.win)return i.win}else if(k.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const _=w.bindToCurrentPlatform(i);if(_&&_.primary){const s=S.createKeybinding(_.primary,k.OS);s&&this._registerDefaultKeybinding(s,i.id,i.args,i.weight,0,i.when)}if(_&&Array.isArray(_.secondary))for(let s=0,a=_.secondary.length;s<a;s++){const u=_.secondary[s],c=S.createKeybinding(u,k.OS);c&&this._registerDefaultKeybinding(c,i.id,i.args,i.weight,-s-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),M.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,_){i.ctrlKey&&i.altKey&&!i.metaKey&&w._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",_)}_registerDefaultKeybinding(i,_,s,a,u,c){k.OS===1&&this._assertNoCtrlAlt(i.parts[0],_),this._coreKeybindings.push({keybinding:i,command:_,commandArgs:s,when:c,weight1:a,weight2:u,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},y.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function p(v,i){return v.weight1!==i.weight1?v.weight1-i.weight1:v.command<i.command?-1:v.command>i.command?1:v.weight2-i.weight2}}),define(Q[585],J([0,1,16,442,87,443]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function w(a,u,c){new S.RawContextKey(c,u).bindTo(a)}function p(a,u){return a.createScoped(u.target)}function v(a,u){return a.getContext(document.activeElement).getValue(u)}function i(a,u){const c=p(a,u);w(c,u,e.HistoryNavigationWidgetContext);const d=new S.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(c);return{scopedContextKeyService:c,historyNavigationEnablement:d}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let _=class extends k.FindInput{constructor(u,c,d,r,n=!1){super(u,c,n,d);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};_=Me([pe(3,S.IContextKeyService)],_),e.ContextScopedFindInput=_;let s=class extends y.ReplaceInput{constructor(u,c,d,r,n=!1){super(u,c,n,d);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};s=Me([pe(3,S.IContextKeyService)],s),e.ContextScopedReplaceInput=s,M.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:S.ContextKeyExpr.and(S.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),S.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(a,u)=>{const c=v(a.get(S.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showPreviousValue()}}),M.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:S.ContextKeyExpr.and(S.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),S.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(a,u)=>{const c=v(a.get(S.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showNextValue()}})}),define(Q[98],J([0,1,32,19,2]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var y;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(y=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class w{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((i,_)=>_.prefix.length-i.prefix.length),M.toDisposable(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return k.coalesce([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(_=>v.startsWith(_.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=w,S.Registry.add(e.Extensions.Quickaccess,new w)}),define(Q[586],J([0,1,78,98,32,540,2]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let p=class dt{constructor(i){this.quickInputService=i,this.registry=M.Registry.as(k.Extensions.Quickaccess)}provide(i){const _=new w.DisposableStore;_.add(i.onDidAccept(()=>{const[u]=i.selectedItems;u&&this.quickInputService.quickAccess.show(u.prefix,{preserveValue:!0})})),_.add(i.onDidChangeValue(u=>{const c=this.registry.getQuickAccessProvider(u.substr(dt.PREFIX.length));c&&c.prefix&&c.prefix!==dt.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:s,globalProviders:a}=this.getQuickAccessProviders();return i.items=s.length===0||a.length===0?[...s.length===0?a:s]:[{label:y.localize(0,null),type:"separator"},...a,{label:y.localize(1,null),type:"separator"},...s],_}getQuickAccessProviders(){const i=[],_=[];for(const s of this.registry.getQuickAccessProviders().sort((a,u)=>a.prefix.localeCompare(u.prefix)))if(s.prefix!==dt.PREFIX)for(const a of s.helpEntries){const u=a.prefix||s.prefix,c=u||"\u2026";(a.needsEditor?_:i).push({prefix:u,label:c,ariaLabel:y.localize(2,null,c,a.description),description:a.description})}return{editorProviders:_,globalProviders:i}}};p.PREFIX="?",p=Me([pe(0,S.IQuickInputService)],p),e.HelpQuickAccessProvider=p}),define(Q[587],J([0,1,32,98,64,586]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),S.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:y.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:M.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(Q[588],J([0,1,78,2,98,32,23,9,90]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends k.Disposable{constructor(s,a){super();this.quickInputService=s,this.instantiationService=a,this.registry=y.Registry.as(M.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",a){this.doShowOrPick(s,!1,a)}doShowOrPick(s,a,u){var c;const[d,r]=this.getOrInstantiateProvider(s),n=this.visibleQuickAccess,o=n==null?void 0:n.descriptor;if(n&&r&&o===r){s!==r.prefix&&!(u==null?void 0:u.preserveValue)&&(n.picker.value=s),this.adjustValueSelection(n.picker,r,u);return}if(r&&!(u==null?void 0:u.preserveValue)){let g;if(n&&o&&o!==r){const f=n.value.substr(o.prefix.length);f&&(g=`${r.prefix}${f}`)}if(!g){const f=d==null?void 0:d.defaultFilterValue;f===M.DefaultQuickAccessFilterValue.LAST?g=this.lastAcceptedPickerValues.get(r):typeof f=="string"&&(g=`${r.prefix}${f}`)}typeof g=="string"&&(s=g)}const t=new k.DisposableStore,l=t.add(this.quickInputService.createQuickPick());l.value=s,this.adjustValueSelection(l,r,u),l.placeholder=r==null?void 0:r.placeholder,l.quickNavigate=u==null?void 0:u.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!n,(typeof(u==null?void 0:u.itemActivation)=="number"||(u==null?void 0:u.quickNavigateConfiguration))&&(l.itemActivation=(c=u==null?void 0:u.itemActivation)!==null&&c!==void 0?c:S.ItemActivation.SECOND),l.contextKey=r==null?void 0:r.contextKey,l.filterValue=g=>g.substring(r?r.prefix.length:0),(r==null?void 0:r.placeholder)&&(l.ariaLabel=r==null?void 0:r.placeholder);let h,m;a&&(h=new Promise(g=>m=g),t.add(v.once(l.onWillAccept)(g=>{g.veto(),l.hide()}))),t.add(this.registerPickerListeners(l,d,r,s));const C=t.add(new w.CancellationTokenSource);if(d&&t.add(d.provide(l,C.token)),v.once(l.onDidHide)(()=>{l.selectedItems.length===0&&C.cancel(),t.dispose(),m==null||m(l.selectedItems)}),l.show(),a)return h}adjustValueSelection(s,a,u){var c;let d;(u==null?void 0:u.preserveValue)?d=[s.value.length,s.value.length]:d=[(c=a==null?void 0:a.prefix.length)!==null&&c!==void 0?c:0,s.value.length],s.valueSelection=d}registerPickerListeners(s,a,u,c){const d=new k.DisposableStore,r=this.visibleQuickAccess={picker:s,descriptor:u,value:c};return d.add(k.toDisposable(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(s.onDidChangeValue(n=>{const[o]=this.getOrInstantiateProvider(n);o!==a?this.show(n,{preserveValue:!0}):r.value=n})),u&&d.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(u,s.value)})),d}getOrInstantiateProvider(s){const a=this.registry.getQuickAccessProvider(s);if(!a)return[void 0,void 0];let u=this.mapProviderToDescriptor.get(a);return u||(u=this.instantiationService.createInstance(a.ctor),this.mapProviderToDescriptor.set(a,u)),[u,a]}};i=Me([pe(0,S.IQuickInputService),pe(1,p.IInstantiationService)],i),e.QuickAccessController=i}),define(Q[79],J([0,1,9,6,2,20,299]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const p="__$__targetStorageMarker";e.IStorageService=S.createDecorator("storageService");var v;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends M.Disposable{constructor(a={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=a,this._onDidChangeValue=this._register(new k.PauseableEmitter),this._onDidChangeTarget=this._register(new k.PauseableEmitter),this._onWillSaveState=this._register(new k.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(a,u){u===p?(a===0?this._globalKeyTargets=void 0:a===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:a})):this._onDidChangeValue.fire({scope:a,key:u,target:this.getKeyTargets(a)[u]})}get(a,u,c){var d;return(d=this.getStorage(u))===null||d===void 0?void 0:d.get(a,c)}getBoolean(a,u,c){var d;return(d=this.getStorage(u))===null||d===void 0?void 0:d.getBoolean(a,c)}getNumber(a,u,c){var d;return(d=this.getStorage(u))===null||d===void 0?void 0:d.getNumber(a,c)}store(a,u,c,d){if(y.isUndefinedOrNull(u)){this.remove(a,c);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(a,c,d),(r=this.getStorage(c))===null||r===void 0||r.set(a,u)})}remove(a,u){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(a,u,void 0),(c=this.getStorage(u))===null||c===void 0||c.delete(a)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,u,c){var d,r;const n=this.getKeyTargets(u);typeof c=="number"?n[a]!==c&&(n[a]=c,(d=this.getStorage(u))===null||d===void 0||d.set(p,JSON.stringify(n))):typeof n[a]=="number"&&(delete n[a],(r=this.getStorage(u))===null||r===void 0||r.set(p,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(a){return a===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(a){const u=this.get(p,a);if(u)try{return JSON.parse(u)}catch(c){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class _ extends i{constructor(){super();this.globalStorage=new w.Storage(new w.InMemoryStorageDatabase),this.workspaceStorage=new w.Storage(new w.InMemoryStorageDatabase),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.globalStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a)))}getStorage(a){return a===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=_}),define(Q[589],J([0,1,9,75,249,50,79,3,15,90]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=S.createDecorator("ICodeLensCache");class _{constructor(u,c){this.lineCount=u,this.data=c}}let s=class{constructor(u){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.LRUCache(20,.75);const c="codelens/cache";v.runWhenIdle(()=>u.remove(c,1));const d="codelens/cache2",r=u.get(d,1,"{}");this._deserialize(r),i.once(u.onWillSaveState)(n=>{n.reason===w.WillSaveStateReason.SHUTDOWN&&u.store(d,this._serialize(),1,1)})}put(u,c){const d=c.lenses.map(o=>{var t;return{range:o.symbol.range,command:o.symbol.command&&{id:"",title:(t=o.symbol.command)===null||t===void 0?void 0:t.title}}}),r=new M.CodeLensModel;r.add({lenses:d,dispose:()=>{}},this._fakeProvider);const n=new _(u.getLineCount(),r);this._cache.set(u.uri.toString(),n)}get(u){const c=this._cache.get(u.uri.toString());return c&&c.lineCount===u.getLineCount()?c.data:void 0}delete(u){this._cache.delete(u.uri.toString())}_serialize(){const u=Object.create(null);for(const[c,d]of this._cache){const r=new Set;for(const n of d.data.lenses)r.add(n.symbol.range.startLineNumber);u[c]={lineCount:d.lineCount,lines:[...r.values()]}}return JSON.stringify(u)}_deserialize(u){try{const c=JSON.parse(u);for(const d in c){const r=c[d],n=[];for(const t of r.lines)n.push({range:new p.Range(t,1,t,11)});const o=new M.CodeLensModel;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(d,new _(r.lineCount,o))}}catch(c){}}};s=Me([pe(0,w.IStorageService)],s),e.CodeLensCache=s,k.registerSingleton(e.ICodeLensCache,s)}),define(Q[590],J([0,1,50,79,18,2,15,9,47,75,58]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(n){this.name=n}select(n,o,t){if(t.length===0)return 0;let l=t[0].score[0];for(let h=0;h<t.length;h++){const{score:m,completion:C}=t[h];if(m[0]!==l)break;if(C.preselect)return h}return 0}}e.Memory=s;class a extends s{constructor(){super("first")}memorize(n,o,t){}toJSON(){}fromJSON(){}}e.NoMemory=a;class u extends s{constructor(){super("recentlyUsed");this._cache=new S.LRUCache(300,.66),this._seq=0}memorize(n,o,t){const l=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(l,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,o,t){if(t.length===0)return 0;const l=n.getLineContent(o.lineNumber).substr(o.column-10,o.column-1);if(/\s$/.test(l))return super.select(n,o,t);let h=t[0].score[0],m=-1,C=-1,g=-1;for(let f=0;f<t.length&&t[f].score[0]===h;f++){const b=`${n.getLanguageIdentifier().language}/${t[f].textLabel}`,L=this._cache.peek(b);if(L&&L.touch>g&&L.type===t[f].completion.kind&&L.insertText===t[f].completion.insertText&&(g=L.touch,C=f),t[f].completion.preselect&&m===-1)return m=f}return C!==-1?C:m!==-1?m:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let o=0;for(const[t,l]of n)l.touch=o,l.type=typeof l.type=="number"?l.type:M.completionKindFromString(l.type),this._cache.set(t,l);this._seq=this._cache.size}}e.LRUMemory=u;class c extends s{constructor(){super("recentlyUsedByPrefix");this._trie=S.TernarySearchTree.forStrings(),this._seq=0}memorize(n,o,t){const{word:l}=n.getWordUntilPosition(o),h=`${n.getLanguageIdentifier().language}/${l}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,o,t){let{word:l}=n.getWordUntilPosition(o);if(!l)return super.select(n,o,t);let h=`${n.getLanguageIdentifier().language}/${l}`,m=this._trie.get(h);if(m||(m=this._trie.findSubstr(h)),m)for(let C=0;C<t.length;C++){let{kind:g,insertText:f}=t[C].completion;if(g===m.type&&f===m.insertText)return C}return super.select(n,o,t)}toJSON(){let n=[];return this._trie.forEach((o,t)=>n.push([t,o])),n.sort((o,t)=>-(o[1].touch-t[1].touch)).forEach((o,t)=>o[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[o,t]of n)t.type=typeof t.type=="number"?t.type:M.completionKindFromString(t.type),this._trie.set(o,t)}}}e.PrefixMemory=c;let d=class ut{constructor(n,o,t){this._storageService=n,this._modeService=o,this._configService=t,this._disposables=new y.DisposableStore,this._persistSoon=new w.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(l=>{l.reason===k.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,o,t){this._withStrategy(n,o).memorize(n,o,t),this._persistSoon.schedule()}select(n,o,t){return this._withStrategy(n,o).select(n,o,t)}_withStrategy(n,o){var t,l;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(o.lineNumber,o.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((l=this._strategy)===null||l===void 0?void 0:l.name)!==h){this._saveState();const m=ut._strategyCtors.get(h)||a;this._strategy=new m;try{const g=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,f=this._storageService.get(`${ut._storagePrefix}/${h}`,g);f&&this._strategy.fromJSON(JSON.parse(f))}catch(C){}}return this._strategy}_saveState(){if(this._strategy){const o=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${ut._storagePrefix}/${this._strategy.name}`,t,o,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",u],["first",a]]),d._storagePrefix="suggest/memories",d=Me([pe(0,k.IStorageService),pe(1,_.IModeService),pe(2,v.IConfigurationService)],d),e.SuggestMemoryService=d,e.ISuggestMemoryService=p.createDecorator("ISuggestMemories"),i.registerSingleton(e.ISuggestMemoryService,d,!0)}),define(Q[88],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=S.createDecorator("telemetryService")}),define(Q[591],J([0,1,539,575,2,67,20,50,79,47,9,37,26,88,12,118,74,447]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let o=class ct extends k.PickerQuickAccessProvider{constructor(h,m,C,g,f,b){super(ct.PREFIX,h);this.instantiationService=m,this.keybindingService=C,this.commandService=g,this.telemetryService=f,this.dialogService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(t)),this.options=h}_getPicks(h,m,C){return Ie(this,void 0,void 0,function*(){const g=yield this.getCommandPicks(m,C);if(C.isCancellationRequested)return[];const f=[];for(const D of g){const I=w.withNullAsUndefined(ct.WORD_FILTER(h,D.label)),T=D.commandAlias?w.withNullAsUndefined(ct.WORD_FILTER(h,D.commandAlias)):void 0;I||T?(D.highlights={label:I,detail:this.options.showAlias?T:void 0},f.push(D)):h===D.commandId&&f.push(D)}const b=new Map;for(const D of f){const I=b.get(D.label);I?(D.description=D.commandId,I.description=I.commandId):b.set(D.label,D)}f.sort((D,I)=>{const T=this.commandsHistory.peek(D.commandId),A=this.commandsHistory.peek(I.commandId);return T&&A?T>A?-1:1:T?-1:A?1:D.label.localeCompare(I.label)});const L=[];let N=!1;for(let D=0;D<f.length;D++){const I=f[D],T=this.keybindingService.lookupKeybinding(I.commandId),A=T?S.localize(0,null,I.label,T.getAriaLabel()):I.label;D===0&&this.commandsHistory.peek(I.commandId)&&(L.push({type:"separator",label:S.localize(1,null)}),N=!0),D!==0&&N&&!this.commandsHistory.peek(I.commandId)&&(L.push({type:"separator",label:S.localize(2,null)}),N=!1),L.push(Object.assign(Object.assign({},I),{ariaLabel:A,detail:this.options.showAlias&&I.commandAlias!==I.label?I.commandAlias:void 0,keybinding:T,accept:()=>Ie(this,void 0,void 0,function*(){this.commandsHistory.push(I.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:I.commandId,from:"quick open"});try{yield this.commandService.executeCommand(I.commandId)}catch(R){c.isPromiseCanceledError(R)||this.dialogService.show(r.default.Error,S.localize(3,null,I.label,n.toErrorMessage(R)),[S.localize(4,null)])}})}))}return L})}};o.PREFIX=">",o.WORD_FILTER=y.or(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),o=Me([pe(1,_.IInstantiationService),pe(2,s.IKeybindingService),pe(3,a.ICommandService),pe(4,u.ITelemetryService),pe(5,d.IDialogService)],o),e.AbstractCommandsQuickAccessProvider=o;let t=class qe extends M.Disposable{constructor(h,m){super();this.storageService=h,this.configurationService=m,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=qe.getConfiguredCommandHistoryLength(this.configurationService),qe.cache&&qe.cache.limit!==this.configuredCommandsHistoryLength&&(qe.cache.limit=this.configuredCommandsHistoryLength,qe.saveState(this.storageService))}load(){const h=this.storageService.get(qe.PREF_KEY_CACHE,0);let m;if(h)try{m=JSON.parse(h)}catch(g){}const C=qe.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(m){let g;m.usesLRU?g=m.entries:g=m.entries.sort((f,b)=>f.value-b.value),g.forEach(f=>C.set(f.key,f.value))}qe.counter=this.storageService.getNumber(qe.PREF_KEY_COUNTER,0,qe.counter)}push(h){!qe.cache||(qe.cache.set(h,qe.counter++),qe.saveState(this.storageService))}peek(h){var m;return(m=qe.cache)===null||m===void 0?void 0:m.peek(h)}static saveState(h){if(!qe.cache)return;const m={usesLRU:!0,entries:[]};qe.cache.forEach((C,g)=>m.entries.push({key:g,value:C})),h.store(qe.PREF_KEY_CACHE,JSON.stringify(m),0,0),h.store(qe.PREF_KEY_COUNTER,qe.counter,0,0)}static getConfiguredCommandHistoryLength(h){var m,C;const f=(C=(m=h.getValue().workbench)===null||m===void 0?void 0:m.commandPalette)===null||C===void 0?void 0:C.history;return typeof f=="number"?f:qe.DEFAULT_COMMANDS_HISTORY_LENGTH}};t.DEFAULT_COMMANDS_HISTORY_LENGTH=50,t.PREF_KEY_CACHE="commandPalette.mru.cache",t.PREF_KEY_COUNTER="commandPalette.mru.counter",t.counter=1,t=Me([pe(0,v.IStorageService),pe(1,i.IConfigurationService)],t),e.CommandsHistory=t}),define(Q[592],J([0,1,591,103]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class M extends S.AbstractCommandsQuickAccessProvider{constructor(w,p,v,i,_,s){super(w,p,v,i,_,s)}getCodeEditorCommandPicks(){const w=this.activeTextEditorControl;if(!w)return[];const p=[];for(const v of w.getSupportedActions())p.push({commandId:v.id,commandAlias:v.alias,label:k.stripIcons(v.label)||v.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=M}),define(Q[22],J([0,1,32,29,6,541,187,15,20]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new M.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(m,C,g,f=!1,b){let L={id:m,description:g,defaults:C,needsTransparency:f,deprecationMessage:b};this.colorsById[m]=L;let N={type:"string",description:g,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return b&&(N.deprecationMessage=b),this.colorSchema.properties[m]=N,this.colorReferenceSchema.enum.push(m),this.colorReferenceSchema.enumDescriptions.push(g),this._onDidChangeSchema.fire(),m}resolveDefaultColor(m,C){const g=this.colorsById[m];if(g&&g.defaults){const f=g.defaults[C.type];return o(f,C)}}getColorSchema(){return this.colorSchema}toString(){let m=(C,g)=>{let f=C.indexOf(".")===-1?0:1,b=g.indexOf(".")===-1?0:1;return f!==b?f-b:C.localeCompare(g)};return Object.keys(this.colorsById).sort(m).map(C=>`- \`${C}\`: ${this.colorsById[C].description}`).join(`
`)}}const _=new i;S.Registry.add(e.Extensions.ColorContribution,_);function s(h,m,C,g,f){return _.registerColor(h,m,C,g,f)}e.registerColor=s,e.foreground=s("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},y.localize(0,null)),e.errorForeground=s("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},y.localize(1,null)),e.iconForeground=s("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},y.localize(2,null)),e.focusBorder=s("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},y.localize(3,null)),e.contrastBorder=s("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},y.localize(4,null)),e.activeContrastBorder=s("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},y.localize(5,null)),e.textLinkForeground=s("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.localize(6,null)),e.textCodeBlockBackground=s("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:k.Color.black},y.localize(7,null)),e.widgetShadow=s("widget.shadow",{dark:d(k.Color.black,.36),light:d(k.Color.black,.16),hc:null},y.localize(8,null)),e.inputBackground=s("input.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},y.localize(9,null)),e.inputForeground=s("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},y.localize(10,null)),e.inputBorder=s("input.border",{dark:null,light:null,hc:e.contrastBorder},y.localize(11,null)),e.inputActiveOptionBorder=s("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},y.localize(12,null)),e.inputActiveOptionBackground=s("inputOption.activeBackground",{dark:d(e.focusBorder,.4),light:d(e.focusBorder,.2),hc:k.Color.transparent},y.localize(13,null)),e.inputActiveOptionForeground=s("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hc:null},y.localize(14,null)),e.inputValidationInfoBackground=s("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:k.Color.black},y.localize(15,null)),e.inputValidationInfoForeground=s("inputValidation.infoForeground",{dark:null,light:null,hc:null},y.localize(16,null)),e.inputValidationInfoBorder=s("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},y.localize(17,null)),e.inputValidationWarningBackground=s("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:k.Color.black},y.localize(18,null)),e.inputValidationWarningForeground=s("inputValidation.warningForeground",{dark:null,light:null,hc:null},y.localize(19,null)),e.inputValidationWarningBorder=s("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},y.localize(20,null)),e.inputValidationErrorBackground=s("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:k.Color.black},y.localize(21,null)),e.inputValidationErrorForeground=s("inputValidation.errorForeground",{dark:null,light:null,hc:null},y.localize(22,null)),e.inputValidationErrorBorder=s("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},y.localize(23,null)),e.selectBackground=s("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},y.localize(24,null)),e.selectForeground=s("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:k.Color.white},y.localize(25,null)),e.buttonForeground=s("button.foreground",{dark:k.Color.white,light:k.Color.white,hc:k.Color.white},y.localize(26,null)),e.buttonBackground=s("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},y.localize(27,null)),e.buttonHoverBackground=s("button.hoverBackground",{dark:c(e.buttonBackground,.2),light:u(e.buttonBackground,.2),hc:null},y.localize(28,null)),e.badgeBackground=s("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:k.Color.black},y.localize(29,null)),e.badgeForeground=s("badge.foreground",{dark:k.Color.white,light:"#333",hc:k.Color.white},y.localize(30,null)),e.scrollbarShadow=s("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},y.localize(31,null)),e.scrollbarSliderBackground=s("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hc:d(e.contrastBorder,.6)},y.localize(32,null)),e.scrollbarSliderHoverBackground=s("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hc:d(e.contrastBorder,.8)},y.localize(33,null)),e.scrollbarSliderActiveBackground=s("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},y.localize(34,null)),e.progressBarBackground=s("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hc:e.contrastBorder},y.localize(35,null)),e.editorErrorBackground=s("editorError.background",{dark:null,light:null,hc:null},y.localize(36,null),!0),e.editorErrorForeground=s("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},y.localize(37,null)),e.editorErrorBorder=s("editorError.border",{dark:null,light:null,hc:k.Color.fromHex("#E47777").transparent(.8)},y.localize(38,null)),e.editorWarningBackground=s("editorWarning.background",{dark:null,light:null,hc:null},y.localize(39,null),!0),e.editorWarningForeground=s("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},y.localize(40,null)),e.editorWarningBorder=s("editorWarning.border",{dark:null,light:null,hc:k.Color.fromHex("#FFCC00").transparent(.8)},y.localize(41,null)),e.editorInfoBackground=s("editorInfo.background",{dark:null,light:null,hc:null},y.localize(42,null),!0),e.editorInfoForeground=s("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},y.localize(43,null)),e.editorInfoBorder=s("editorInfo.border",{dark:null,light:null,hc:k.Color.fromHex("#75BEFF").transparent(.8)},y.localize(44,null)),e.editorHintForeground=s("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},y.localize(45,null)),e.editorHintBorder=s("editorHint.border",{dark:null,light:null,hc:k.Color.fromHex("#eeeeee").transparent(.8)},y.localize(46,null)),e.editorBackground=s("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:k.Color.black},y.localize(47,null)),e.editorForeground=s("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:k.Color.white},y.localize(48,null)),e.editorWidgetBackground=s("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},y.localize(49,null)),e.editorWidgetForeground=s("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},y.localize(50,null)),e.editorWidgetBorder=s("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},y.localize(51,null)),e.editorWidgetResizeBorder=s("editorWidget.resizeBorder",{light:null,dark:null,hc:null},y.localize(52,null)),e.quickInputBackground=s("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},y.localize(53,null)),e.quickInputForeground=s("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},y.localize(54,null)),e.quickInputTitleBackground=s("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hc:"#000000"},y.localize(55,null)),e.pickerGroupForeground=s("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:k.Color.white},y.localize(56,null)),e.pickerGroupBorder=s("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:k.Color.white},y.localize(57,null)),e.keybindingLabelBackground=s("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hc:k.Color.transparent},y.localize(58,null)),e.keybindingLabelForeground=s("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hc:k.Color.white},y.localize(59,null)),e.keybindingLabelBorder=s("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hc:new k.Color(new k.RGBA(111,195,223))},y.localize(60,null)),e.keybindingLabelBottomBorder=s("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hc:new k.Color(new k.RGBA(111,195,223))},y.localize(61,null)),e.editorSelectionBackground=s("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},y.localize(62,null)),e.editorSelectionForeground=s("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},y.localize(63,null)),e.editorInactiveSelection=s("editor.inactiveSelectionBackground",{light:d(e.editorSelectionBackground,.5),dark:d(e.editorSelectionBackground,.5),hc:d(e.editorSelectionBackground,.5)},y.localize(64,null),!0),e.editorSelectionHighlight=s("editor.selectionHighlightBackground",{light:n(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:n(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},y.localize(65,null),!0),e.editorSelectionHighlightBorder=s("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},y.localize(66,null)),e.editorFindMatch=s("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},y.localize(67,null)),e.editorFindMatchHighlight=s("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},y.localize(68,null),!0),e.editorFindRangeHighlight=s("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},y.localize(69,null),!0),e.editorFindMatchBorder=s("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},y.localize(70,null)),e.editorFindMatchHighlightBorder=s("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},y.localize(71,null)),e.editorFindRangeHighlightBorder=s("editor.findRangeHighlightBorder",{dark:null,light:null,hc:d(e.activeContrastBorder,.4)},y.localize(72,null),!0),e.editorHoverHighlight=s("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},y.localize(73,null),!0),e.editorHoverBackground=s("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},y.localize(74,null)),e.editorHoverForeground=s("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},y.localize(75,null)),e.editorHoverBorder=s("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},y.localize(76,null)),e.editorHoverStatusBarBackground=s("editorHoverWidget.statusBarBackground",{dark:c(e.editorHoverBackground,.2),light:u(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},y.localize(77,null)),e.editorActiveLinkForeground=s("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hc:k.Color.cyan},y.localize(78,null)),e.editorInlayHintForeground=s("editorInlayHint.foreground",{dark:e.editorWidgetBackground,light:e.editorWidgetForeground,hc:e.editorWidgetBackground},y.localize(79,null)),e.editorInlayHintBackground=s("editorInlayHint.background",{dark:e.editorWidgetForeground,light:e.editorWidgetBackground,hc:e.editorWidgetForeground},y.localize(80,null)),e.editorLightBulbForeground=s("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},y.localize(81,null)),e.editorLightBulbAutoFixForeground=s("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},y.localize(82,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=s("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},y.localize(83,null),!0),e.diffRemoved=s("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},y.localize(84,null),!0),e.diffInsertedOutline=s("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},y.localize(85,null)),e.diffRemovedOutline=s("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},y.localize(86,null)),e.diffBorder=s("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},y.localize(87,null)),e.diffDiagonalFill=s("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},y.localize(88,null)),e.listFocusBackground=s("list.focusBackground",{dark:null,light:null,hc:null},y.localize(89,null)),e.listFocusForeground=s("list.focusForeground",{dark:null,light:null,hc:null},y.localize(90,null)),e.listFocusOutline=s("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},y.localize(91,null)),e.listActiveSelectionBackground=s("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},y.localize(92,null)),e.listActiveSelectionForeground=s("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hc:null},y.localize(93,null)),e.listInactiveSelectionBackground=s("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},y.localize(94,null)),e.listInactiveSelectionForeground=s("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},y.localize(95,null)),e.listInactiveFocusBackground=s("list.inactiveFocusBackground",{dark:null,light:null,hc:null},y.localize(96,null)),e.listInactiveFocusOutline=s("list.inactiveFocusOutline",{dark:null,light:null,hc:null},y.localize(97,null)),e.listHoverBackground=s("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},y.localize(98,null)),e.listHoverForeground=s("list.hoverForeground",{dark:null,light:null,hc:null},y.localize(99,null)),e.listDropBackground=s("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},y.localize(100,null)),e.listHighlightForeground=s("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},y.localize(101,null)),e.listFocusHighlightForeground=s("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:e.listHighlightForeground,hc:e.listHighlightForeground},y.localize(102,null)),e.listFilterWidgetBackground=s("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:k.Color.black},y.localize(103,null)),e.listFilterWidgetOutline=s("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hc:"#f38518"},y.localize(104,null)),e.listFilterWidgetNoMatchesOutline=s("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},y.localize(105,null)),e.treeIndentGuidesStroke=s("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},y.localize(106,null)),e.tableColumnsBorder=s("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},y.localize(107,null)),e._deprecatedQuickInputListFocusBackground=s("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,y.localize(108,null)),e.quickInputListFocusForeground=s("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},y.localize(109,null)),e.quickInputListFocusBackground=s("quickInputList.focusBackground",{dark:r(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground,"#062F4A"),light:r(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground,"#D6EBFF"),hc:null},y.localize(110,null)),e.menuBorder=s("menu.border",{dark:null,light:null,hc:e.contrastBorder},y.localize(111,null)),e.menuForeground=s("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},y.localize(112,null)),e.menuBackground=s("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},y.localize(113,null)),e.menuSelectionForeground=s("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},y.localize(114,null)),e.menuSelectionBackground=s("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},y.localize(115,null)),e.menuSelectionBorder=s("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},y.localize(116,null)),e.menuSeparatorBackground=s("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},y.localize(117,null)),e.snippetTabstopHighlightBackground=s("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hc:new k.Color(new k.RGBA(124,124,124,.3))},y.localize(118,null)),e.snippetTabstopHighlightBorder=s("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},y.localize(119,null)),e.snippetFinalTabstopHighlightBackground=s("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},y.localize(120,null)),e.snippetFinalTabstopHighlightBorder=s("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hc:"#525252"},y.localize(121,null)),e.overviewRulerFindMatchForeground=s("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},y.localize(122,null),!0),e.overviewRulerSelectionHighlightForeground=s("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},y.localize(123,null),!0),e.minimapFindMatch=s("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},y.localize(124,null),!0),e.minimapSelection=s("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},y.localize(125,null),!0),e.minimapError=s("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},y.localize(126,null)),e.minimapWarning=s("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},y.localize(127,null)),e.minimapBackground=s("minimap.background",{dark:null,light:null,hc:null},y.localize(128,null)),e.minimapSliderBackground=s("minimapSlider.background",{light:d(e.scrollbarSliderBackground,.5),dark:d(e.scrollbarSliderBackground,.5),hc:d(e.scrollbarSliderBackground,.5)},y.localize(129,null)),e.minimapSliderHoverBackground=s("minimapSlider.hoverBackground",{light:d(e.scrollbarSliderHoverBackground,.5),dark:d(e.scrollbarSliderHoverBackground,.5),hc:d(e.scrollbarSliderHoverBackground,.5)},y.localize(130,null)),e.minimapSliderActiveBackground=s("minimapSlider.activeBackground",{light:d(e.scrollbarSliderActiveBackground,.5),dark:d(e.scrollbarSliderActiveBackground,.5),hc:d(e.scrollbarSliderActiveBackground,.5)},y.localize(131,null)),e.problemsErrorIconForeground=s("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},y.localize(132,null)),e.problemsWarningIconForeground=s("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},y.localize(133,null)),e.problemsInfoIconForeground=s("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},y.localize(134,null));function a(h,m){var C,g,f;switch(h.op){case 0:return(C=o(h.value,m))===null||C===void 0?void 0:C.darken(h.factor);case 1:return(g=o(h.value,m))===null||g===void 0?void 0:g.lighten(h.factor);case 2:return(f=o(h.value,m))===null||f===void 0?void 0:f.transparent(h.factor);case 3:for(const N of h.values){const D=o(N,m);if(D)return D}return;case 4:const b=o(h.value,m);if(!b)return;const L=o(h.background,m);return L?b.isDarkerThan(L)?k.Color.getLighterColor(b,L,h.factor).transparent(h.transparency):k.Color.getDarkerColor(b,L,h.factor).transparent(h.transparency):b.transparent(h.factor*h.transparency);default:throw v.assertNever(h)}}e.executeTransform=a;function u(h,m){return{op:0,value:h,factor:m}}e.darken=u;function c(h,m){return{op:1,value:h,factor:m}}e.lighten=c;function d(h,m){return{op:2,value:h,factor:m}}e.transparent=d;function r(...h){return{op:3,values:h}}e.oneOf=r;function n(h,m,C,g){return{op:4,value:h,background:m,factor:C,transparency:g}}function o(h,m){if(h!==null){if(typeof h=="string")return h[0]==="#"?k.Color.fromHex(h):m.getColor(h);if(h instanceof k.Color)return h;if(typeof h=="object")return a(h,m)}}e.resolveColorValue=o,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let t=S.Registry.as(w.Extensions.JSONContribution);t.registerSchema(e.workbenchColorsSchemaId,_.getColorSchema());const l=new p.RunOnceScheduler(()=>t.notifySchemaChanged(e.workbenchColorsSchemaId),200);_.onDidChangeSchema(()=>{l.isScheduled()||l.schedule()})}),define(Q[120],J([0,1,22]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function k(v,i){const _=Object.create(null);for(let s in i){const a=i[s];a&&(_[s]=S.resolveColorValue(a,v))}return _}e.computeStyles=k;function M(v,i,_){function s(){const a=k(v.getColorTheme(),i);typeof _=="function"?_(a):_.style(a)}return s(),v.onDidColorThemeChange(s)}e.attachStyler=M;function y(v,i,_){return M(i,{badgeBackground:(_==null?void 0:_.badgeBackground)||S.badgeBackground,badgeForeground:(_==null?void 0:_.badgeForeground)||S.badgeForeground,badgeBorder:S.contrastBorder},v)}e.attachBadgeStyler=y;function w(v,i,_){return M(i,Object.assign(Object.assign({},e.defaultListStyles),_||{}),v)}e.attachListStyler=w,e.defaultListStyles={listFocusBackground:S.listFocusBackground,listFocusForeground:S.listFocusForeground,listFocusOutline:S.listFocusOutline,listActiveSelectionBackground:S.listActiveSelectionBackground,listActiveSelectionForeground:S.listActiveSelectionForeground,listFocusAndSelectionBackground:S.listActiveSelectionBackground,listFocusAndSelectionForeground:S.listActiveSelectionForeground,listInactiveSelectionBackground:S.listInactiveSelectionBackground,listInactiveSelectionForeground:S.listInactiveSelectionForeground,listInactiveFocusBackground:S.listInactiveFocusBackground,listInactiveFocusOutline:S.listInactiveFocusOutline,listHoverBackground:S.listHoverBackground,listHoverForeground:S.listHoverForeground,listDropBackground:S.listDropBackground,listSelectionOutline:S.activeContrastBorder,listHoverOutline:S.activeContrastBorder,listFilterWidgetBackground:S.listFilterWidgetBackground,listFilterWidgetOutline:S.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:S.listFilterWidgetNoMatchesOutline,listMatchesShadow:S.widgetShadow,treeIndentGuidesStroke:S.treeIndentGuidesStroke,tableColumnsBorder:S.tableColumnsBorder},e.defaultMenuStyles={shadowColor:S.widgetShadow,borderColor:S.menuBorder,foregroundColor:S.menuForeground,backgroundColor:S.menuBackground,selectionForegroundColor:S.menuSelectionForeground,selectionBackgroundColor:S.menuSelectionBackground,selectionBorderColor:S.menuSelectionBorder,separatorColor:S.menuSeparatorBackground};function p(v,i,_){return M(i,Object.assign(Object.assign({},e.defaultMenuStyles),_),v)}e.attachMenuStyler=p}),define(Q[593],J([0,1,49,2,444,7,120,54,56,12,368]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class _{constructor(a,u,c,d,r){this.contextViewService=a,this.telemetryService=u,this.notificationService=c,this.keybindingService=d,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const u=a.getActions();if(!u.length)return;this.focusToReturn=document.activeElement;let c,d=y.isHTMLElement(a.domForShadowRoot)?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:r=>{let n=a.getMenuClassName?a.getMenuClassName():"";n&&(r.className+=" "+n),this.options.blockMouse&&(this.block=r.appendChild(y.$(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",p.domEvent(this.block,y.EventType.MOUSE_DOWN)(l=>l.stopPropagation()));const o=new k.DisposableStore,t=a.actionRunner||new S.ActionRunner;return t.onBeforeRun(this.onActionRun,this,o),t.onDidRun(this.onDidActionRun,this,o),c=new M.Menu(r,u,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:t,getKeyBinding:a.getKeyBinding?a.getKeyBinding:l=>this.keybindingService.lookupKeybinding(l.id)}),o.add(w.attachMenuStyler(c,this.themeService)),c.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,o),c.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,o),p.domEvent(window,y.EventType.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,o),p.domEvent(window,y.EventType.MOUSE_DOWN)(l=>{if(l.defaultPrevented)return;let h=new v.StandardMouseEvent(l),m=h.target;if(!h.rightButton){for(;m;){if(m===r)return;m=m.parentElement}this.contextViewService.hideContextView(!0)}},null,o),k.combinedDisposable(o,c)},focus:()=>{c&&c.focus(!!a.autoSelectFirstItem)},onHide:r=>{a.onHide&&a.onHide(!!r),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},d,!!d)}onActionRun(a){this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(a){a.error&&!i.isPromiseCanceledError(a.error)&&this.notificationService.error(a.error)}}e.ContextMenuHandler=_}),define(Q[99],J([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var S;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST="hc"})(S=e.ColorScheme||(e.ColorScheme={}))}),define(Q[256],J([0,1,38,30,17,392,111,173,112,99,35]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const s=function(){return M.isNative?!0:!(M.isLinux||S.isFirefox||S.isSafari)}();let a=!0;class u{constructor(C,g){this._domNode=C,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=g}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=u;class c{constructor(C,g){this.themeType=g;const f=C.options,b=f.get(40);this.renderWhitespace=f.get(86),this.renderControlCharacters=f.get(80),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!f.get(27),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=f.get(56),this.stopRenderingLineAfter=f.get(103),this.fontLigatures=f.get(41)}equals(C){return this.themeType===C.themeType&&this.renderWhitespace===C.renderWhitespace&&this.renderControlCharacters===C.renderControlCharacters&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.useMonospaceOptimizations===C.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter&&this.fontLigatures===C.fontLigatures}}e.ViewLineOptions=c;class d{constructor(C){this._options=C,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(C){if(this._renderedViewLine)this._renderedViewLine.domNode=k.createFastDomNode(C);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(C){this._isMaybeInvalid=!0,this._options=C}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(C,g,f,b){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=f.getViewLineRenderingData(C),N=this._options,D=p.LineDecoration.filter(L.inlineDecorations,C,L.minColumn,L.maxColumn);let I=null;if(N.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const O=f.selections;for(const P of O){if(P.endLineNumber<C||P.startLineNumber>C)continue;const F=P.startLineNumber===C?P.startColumn:L.minColumn,E=P.endLineNumber===C?P.endColumn:L.maxColumn;F<E&&(N.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?D.push(new p.LineDecoration(F,E,"inline-selected-text",0)):(I||(I=[]),I.push(new v.LineRange(F-1,E-1))))}}const T=new v.RenderLineInput(N.useMonospaceOptimizations,N.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,D,L.tabSize,L.startVisibleColumn,N.spaceWidth,N.middotWidth,N.wsmiddotWidth,N.stopRenderingLineAfter,N.renderWhitespace,N.renderControlCharacters,N.fontLigatures!==_.EditorFontLigatures.OFF,I);if(this._renderedViewLine&&this._renderedViewLine.input.equals(T))return!1;b.appendASCIIString('<div style="top:'),b.appendASCIIString(String(g)),b.appendASCIIString("px;height:"),b.appendASCIIString(String(this._options.lineHeight)),b.appendASCIIString('px;" class="'),b.appendASCIIString(d.CLASS_NAME),b.appendASCIIString('">');const A=v.renderViewLine(T,b);b.appendASCIIString("</div>");let R=null;return a&&s&&L.isBasicASCII&&N.useMonospaceOptimizations&&A.containsForeignElements===0&&L.content.length<300&&T.lineTokens.getCount()<100&&(R=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,T,A.characterMapping)),R||(R=t(this._renderedViewLine?this._renderedViewLine.domNode:null,T,A.characterMapping,A.containsRTL,A.containsForeignElements)),this._renderedViewLine=R,!0}layoutLine(C,g){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(g),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():a}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(C,g,f){if(!this._renderedViewLine)return null;C=C|0,g=g|0,C=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,C)),g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g));const b=this._renderedViewLine.input.stopRenderingLineAfter|0;let L=!1;b!==-1&&C>b+1&&g>b+1&&(L=!0),b!==-1&&C>b+1&&(C=b+1),b!==-1&&g>b+1&&(g=b+1);const N=this._renderedViewLine.getVisibleRangesForRange(C,g,f);return N&&N.length>0?new w.VisibleRanges(L,N):null}getColumnOfNodeOffset(C,g,f){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(C,g,f):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class r{constructor(C,g,f){this.domNode=C,this.input=g,this._characterMapping=f,this._charWidth=g.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return a;const C=this.getWidth(),g=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(C-g)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),a=!1),a}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(C,g,f){const b=this._getCharPosition(C),L=this._getCharPosition(g);return[new w.HorizontalRange(b,L-b)]}_getCharPosition(C){const g=this._characterMapping.getAbsoluteOffsets();return g.length===0?0:Math.round(this._charWidth*g[C-1])}getColumnOfNodeOffset(C,g,f){const b=g.textContent.length;let L=-1;for(;g;)g=g.previousSibling,L++;return this._characterMapping.partDataToCharOffset(L,b,f)+1}}class n{constructor(C,g,f,b,L){if(this.domNode=C,this.input=g,this._characterMapping=f,this._isWhitespaceOnly=/^\s*$/.test(g.lineContent),this._containsForeignElements=L,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let N=0,D=this._characterMapping.length;N<=D;N++)this._pixelOffsetCache[N]=-1}}_getReadingTarget(C){return C.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(C,g,f){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const b=this._readPixelOffset(this.domNode,C,f);if(b===-1)return null;const L=this._readPixelOffset(this.domNode,g,f);return L===-1?null:[new w.HorizontalRange(b,L-b)]}return this._readVisibleRangesForRange(this.domNode,C,g,f)}_readVisibleRangesForRange(C,g,f,b){if(g===f){const L=this._readPixelOffset(C,g,b);return L===-1?null:[new w.HorizontalRange(L,0)]}else return this._readRawVisibleRangesForRange(C,g,f,b)}_readPixelOffset(C,g,f){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const b=this._getReadingTarget(C);return b.firstChild?b.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const b=this._pixelOffsetCache[g];if(b!==-1)return b;const L=this._actualReadPixelOffset(C,g,f);return this._pixelOffsetCache[g]=L,L}return this._actualReadPixelOffset(C,g,f)}_actualReadPixelOffset(C,g,f){if(this._characterMapping.length===0){const T=y.RangeUtil.readHorizontalRanges(this._getReadingTarget(C),0,0,0,0,f.clientRectDeltaLeft,f.endNode);return!T||T.length===0?-1:T[0].left}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const b=this._characterMapping.charOffsetToPartData(g-1),L=v.CharacterMapping.getPartIndex(b),N=v.CharacterMapping.getCharIndex(b),D=y.RangeUtil.readHorizontalRanges(this._getReadingTarget(C),L,N,L,N,f.clientRectDeltaLeft,f.endNode);if(!D||D.length===0)return-1;const I=D[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getAbsoluteOffsets(),A=Math.round(this.input.spaceWidth*T[g-1]);if(Math.abs(A-I)<=1)return A}return I}_readRawVisibleRangesForRange(C,g,f,b){if(g===1&&f===this._characterMapping.length)return[new w.HorizontalRange(0,this.getWidth())];const L=this._characterMapping.charOffsetToPartData(g-1),N=v.CharacterMapping.getPartIndex(L),D=v.CharacterMapping.getCharIndex(L),I=this._characterMapping.charOffsetToPartData(f-1),T=v.CharacterMapping.getPartIndex(I),A=v.CharacterMapping.getCharIndex(I);return y.RangeUtil.readHorizontalRanges(this._getReadingTarget(C),N,D,T,A,b.clientRectDeltaLeft,b.endNode)}getColumnOfNodeOffset(C,g,f){const b=g.textContent.length;let L=-1;for(;g;)g=g.previousSibling,L++;return this._characterMapping.partDataToCharOffset(L,b,f)+1}}class o extends n{_readVisibleRangesForRange(C,g,f,b){const L=super._readVisibleRangesForRange(C,g,f,b);if(!L||L.length===0||g===f||g===1&&f===this._characterMapping.length)return L;if(!this.input.containsRTL){const N=this._readPixelOffset(C,f,b);if(N!==-1){const D=L[L.length-1];D.left<N&&(D.width=N-D.left)}}return L}}const t=function(){return S.isWebKit?l:h}();function l(m,C,g,f,b){return new o(m,C,g,f,b)}function h(m,C,g,f,b){return new n(m,C,g,f,b)}}),define(Q[189],J([0,1,164,46,256,13,3,39,7,241]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class _{constructor(f=null){this.hitTarget=f,this.type=0}}class s{constructor(f,b){this.position=f,this.spanNode=b,this.type=1}}var a;(function(g){function f(b,L,N){const D=b.getPositionFromDOMInfo(L,N);return D?new s(D,L):new _(L)}g.createFromDOMInfo=f})(a||(a={}));class u{constructor(f,b){this.lastViewCursorsRenderData=f,this.lastTextareaPosition=b}}e.PointerHandlerLastRenderData=u;class c{constructor(f,b,L=0,N=null,D=null,I=null){this.element=f,this.type=b,this.mouseColumn=L,this.position=N,!D&&N&&(D=new w.Range(N.lineNumber,N.column,N.lineNumber,N.column)),this.range=D,this.detail=I}static _typeToString(f){return f===1?"TEXTAREA":f===2?"GUTTER_GLYPH_MARGIN":f===3?"GUTTER_LINE_NUMBERS":f===4?"GUTTER_LINE_DECORATIONS":f===5?"GUTTER_VIEW_ZONE":f===6?"CONTENT_TEXT":f===7?"CONTENT_EMPTY":f===8?"CONTENT_VIEW_ZONE":f===9?"CONTENT_WIDGET":f===10?"OVERVIEW_RULER":f===11?"SCROLLBAR":f===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(f){return this._typeToString(f.type)+": "+f.position+" - "+f.range+" - "+f.detail}toString(){return c.toString(this)}}e.MouseTarget=c;class d{static isTextArea(f){return f.length===2&&f[0]===3&&f[1]===6}static isChildOfViewLines(f){return f.length>=4&&f[0]===3&&f[3]===7}static isStrictChildOfViewLines(f){return f.length>4&&f[0]===3&&f[3]===7}static isChildOfScrollableElement(f){return f.length>=2&&f[0]===3&&f[1]===5}static isChildOfMinimap(f){return f.length>=2&&f[0]===3&&f[1]===8}static isChildOfContentWidgets(f){return f.length>=4&&f[0]===3&&f[3]===1}static isChildOfOverflowingContentWidgets(f){return f.length>=1&&f[0]===2}static isChildOfOverlayWidgets(f){return f.length>=2&&f[0]===3&&f[1]===4}}class r{constructor(f,b,L){this.model=f.model;const N=f.configuration.options;this.layoutInfo=N.get(128),this.viewDomNode=b.viewDomNode,this.lineHeight=N.get(56),this.stickyTabStops=N.get(102),this.typicalHalfwidthCharacterWidth=N.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=f,this._viewHelper=b}getZoneAtCoord(f){return r.getZoneAtCoord(this._context,f)}static getZoneAtCoord(f,b){const L=f.viewLayout.getWhitespaceAtVerticalOffset(b);if(L){const N=L.verticalOffset+L.height/2,D=f.model.getLineCount();let I=null,T,A=null;return L.afterLineNumber!==D&&(A=new y.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(I=new y.Position(L.afterLineNumber,f.model.getLineMaxColumn(L.afterLineNumber))),A===null?T=I:I===null?T=A:b<N?T=I:T=A,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:I,positionAfter:A,position:T}}return null}getFullLineRangeAtCoord(f){if(this._context.viewLayout.isAfterLines(f)){const N=this._context.model.getLineCount(),D=this._context.model.getLineMaxColumn(N);return{range:new w.Range(N,D,N,D),isAfterLines:!0}}const b=this._context.viewLayout.getLineNumberAtVerticalOffset(f),L=this._context.model.getLineMaxColumn(b);return{range:new w.Range(b,1,b,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(f){return this._context.viewLayout.getLineNumberAtVerticalOffset(f)}isAfterLines(f){return this._context.viewLayout.isAfterLines(f)}isInTopPadding(f){return this._context.viewLayout.isInTopPadding(f)}isInBottomPadding(f){return this._context.viewLayout.isInBottomPadding(f)}getVerticalOffsetForLineNumber(f){return this._context.viewLayout.getVerticalOffsetForLineNumber(f)}findAttribute(f,b){return r._findAttribute(f,b,this._viewHelper.viewDomNode)}static _findAttribute(f,b,L){for(;f&&f!==document.body;){if(f.hasAttribute&&f.hasAttribute(b))return f.getAttribute(b);if(f===L)return null;f=f.parentNode}return null}getLineWidth(f){return this._viewHelper.getLineWidth(f)}visibleRangeForPosition(f,b){return this._viewHelper.visibleRangeForPosition(f,b)}getPositionFromDOMInfo(f,b){return this._viewHelper.getPositionFromDOMInfo(f,b)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=r;class n{constructor(f,b,L){this.editorPos=b,this.pos=L,this.mouseVerticalOffset=Math.max(0,f.getCurrentScrollTop()+L.y-b.y),this.mouseContentHorizontalOffset=f.getCurrentScrollLeft()+L.x-b.x-f.layoutInfo.contentLeft,this.isInMarginArea=L.x-b.x<f.layoutInfo.contentLeft&&L.x-b.x>=f.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,f.typicalHalfwidthCharacterWidth))}}class o extends n{constructor(f,b,L,N){super(f,b,L);this._ctx=f,N?(this.target=N,this.targetPath=k.PartFingerprints.collect(N,f.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(f,b=null,L=null,N=null){let D=this.mouseColumn;return b&&b.column<this._ctx.model.getLineMaxColumn(b.lineNumber)&&(D=p.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(b.lineNumber),b.column,this._ctx.model.getTextModelOptions().tabSize)+1),new c(this.target,f,D,b,L,N)}withTarget(f){return new o(this._ctx,this.editorPos,this.pos,f)}}const t={isAfterLines:!0};function l(g){return{isAfterLines:!1,horizontalDistanceToText:g}}class h{constructor(f,b){this._context=f,this._viewHelper=b}mouseTargetIsWidget(f){const b=f.target,L=k.PartFingerprints.collect(b,this._viewHelper.viewDomNode);return!!(d.isChildOfContentWidgets(L)||d.isChildOfOverflowingContentWidgets(L)||d.isChildOfOverlayWidgets(L))}createMouseTarget(f,b,L,N){const D=new r(this._context,this._viewHelper,f),I=new o(D,b,L,N);try{return h._createMouseTarget(D,I,!1)}catch(T){return I.fulfill(0)}}static _createMouseTarget(f,b,L){if(b.target===null){if(L)return b.fulfill(0);const I=h._doHitTest(f,b);return I.type===1?h.createMouseTargetFromHitTestPosition(f,b,I.spanNode,I.position):this._createMouseTarget(f,b.withTarget(I.hitTarget),!0)}const N=b;let D=null;return D=D||h._hitTestContentWidget(f,N),D=D||h._hitTestOverlayWidget(f,N),D=D||h._hitTestMinimap(f,N),D=D||h._hitTestScrollbarSlider(f,N),D=D||h._hitTestViewZone(f,N),D=D||h._hitTestMargin(f,N),D=D||h._hitTestViewCursor(f,N),D=D||h._hitTestTextArea(f,N),D=D||h._hitTestViewLines(f,N,L),D=D||h._hitTestScrollbar(f,N),D||b.fulfill(0)}static _hitTestContentWidget(f,b){if(d.isChildOfContentWidgets(b.targetPath)||d.isChildOfOverflowingContentWidgets(b.targetPath)){const L=f.findAttribute(b.target,"widgetId");return L?b.fulfill(9,null,null,L):b.fulfill(0)}return null}static _hitTestOverlayWidget(f,b){if(d.isChildOfOverlayWidgets(b.targetPath)){const L=f.findAttribute(b.target,"widgetId");return L?b.fulfill(12,null,null,L):b.fulfill(0)}return null}static _hitTestViewCursor(f,b){if(b.target){const L=f.lastRenderData.lastViewCursorsRenderData;for(const N of L)if(b.target===N.domNode)return b.fulfill(6,N.position,null,{mightBeForeignElement:!1})}if(b.isInContentArea){const L=f.lastRenderData.lastViewCursorsRenderData,N=b.mouseContentHorizontalOffset,D=b.mouseVerticalOffset;for(const I of L){if(N<I.contentLeft||N>I.contentLeft+I.width)continue;const T=f.getVerticalOffsetForLineNumber(I.position.lineNumber);if(T<=D&&D<=T+I.height)return b.fulfill(6,I.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(f,b){const L=f.getZoneAtCoord(b.mouseVerticalOffset);if(L){const N=b.isInContentArea?8:5;return b.fulfill(N,L.position,null,L)}return null}static _hitTestTextArea(f,b){return d.isTextArea(b.targetPath)?f.lastRenderData.lastTextareaPosition?b.fulfill(6,f.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):b.fulfill(1,f.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(f,b){if(b.isInMarginArea){const L=f.getFullLineRangeAtCoord(b.mouseVerticalOffset),N=L.range.getStartPosition();let D=Math.abs(b.pos.x-b.editorPos.x);const I={isAfterLines:L.isAfterLines,glyphMarginLeft:f.layoutInfo.glyphMarginLeft,glyphMarginWidth:f.layoutInfo.glyphMarginWidth,lineNumbersWidth:f.layoutInfo.lineNumbersWidth,offsetX:D};return D-=f.layoutInfo.glyphMarginLeft,D<=f.layoutInfo.glyphMarginWidth?b.fulfill(2,N,L.range,I):(D-=f.layoutInfo.glyphMarginWidth,D<=f.layoutInfo.lineNumbersWidth?b.fulfill(3,N,L.range,I):(D-=f.layoutInfo.lineNumbersWidth,b.fulfill(4,N,L.range,I)))}return null}static _hitTestViewLines(f,b,L){if(!d.isChildOfViewLines(b.targetPath))return null;if(f.isInTopPadding(b.mouseVerticalOffset))return b.fulfill(7,new y.Position(1,1),null,t);if(f.isAfterLines(b.mouseVerticalOffset)||f.isInBottomPadding(b.mouseVerticalOffset)){const D=f.model.getLineCount(),I=f.model.getLineMaxColumn(D);return b.fulfill(7,new y.Position(D,I),null,t)}if(L){if(d.isStrictChildOfViewLines(b.targetPath)){const D=f.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(f.model.getLineLength(D)===0){const T=f.getLineWidth(D),A=l(b.mouseContentHorizontalOffset-T);return b.fulfill(7,new y.Position(D,1),null,A)}const I=f.getLineWidth(D);if(b.mouseContentHorizontalOffset>=I){const T=l(b.mouseContentHorizontalOffset-I),A=new y.Position(D,f.model.getLineMaxColumn(D));return b.fulfill(7,A,null,T)}}return b.fulfill(0)}const N=h._doHitTest(f,b);return N.type===1?h.createMouseTargetFromHitTestPosition(f,b,N.spanNode,N.position):this._createMouseTarget(f,b.withTarget(N.hitTarget),!0)}static _hitTestMinimap(f,b){if(d.isChildOfMinimap(b.targetPath)){const L=f.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),N=f.model.getLineMaxColumn(L);return b.fulfill(11,new y.Position(L,N))}return null}static _hitTestScrollbarSlider(f,b){if(d.isChildOfScrollableElement(b.targetPath)&&b.target&&b.target.nodeType===1){const L=b.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const N=f.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),D=f.model.getLineMaxColumn(N);return b.fulfill(11,new y.Position(N,D))}}return null}static _hitTestScrollbar(f,b){if(d.isChildOfScrollableElement(b.targetPath)){const L=f.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),N=f.model.getLineMaxColumn(L);return b.fulfill(11,new y.Position(L,N))}return null}getMouseColumn(f,b){const L=this._context.configuration.options,N=L.get(128),D=this._context.viewLayout.getCurrentScrollLeft()+b.x-f.x-N.contentLeft;return h._getMouseColumn(D,L.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(f,b){return f<0?1:Math.round(f/b)+1}static createMouseTargetFromHitTestPosition(f,b,L,N){const D=N.lineNumber,I=N.column,T=f.getLineWidth(D);if(b.mouseContentHorizontalOffset>T){const H=l(b.mouseContentHorizontalOffset-T);return b.fulfill(7,N,null,H)}const A=f.visibleRangeForPosition(D,I);if(!A)return b.fulfill(0,N);const R=A.left;if(b.mouseContentHorizontalOffset===R)return b.fulfill(6,N,null,{mightBeForeignElement:!1});const O=[];if(O.push({offset:A.left,column:I}),I>1){const H=f.visibleRangeForPosition(D,I-1);H&&O.push({offset:H.left,column:I-1})}const P=f.model.getLineMaxColumn(D);if(I<P){const H=f.visibleRangeForPosition(D,I+1);H&&O.push({offset:H.left,column:I+1})}O.sort((H,K)=>H.offset-K.offset);const F=b.pos.toClientCoordinates(),E=L.getBoundingClientRect(),x=E.left<=F.clientX&&F.clientX<=E.right;for(let H=1;H<O.length;H++){const K=O[H-1],q=O[H];if(K.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=q.offset){const G=new w.Range(D,K.column,D,q.column);return b.fulfill(6,N,G,{mightBeForeignElement:!x})}}return b.fulfill(6,N,null,{mightBeForeignElement:!x})}static _doHitTestWithCaretRangeFromPoint(f,b){const L=f.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),D=f.getVerticalOffsetForLineNumber(L)+Math.floor(f.lineHeight/2);let I=b.pos.y+(D-b.mouseVerticalOffset);I<=b.editorPos.y&&(I=b.editorPos.y+1),I>=b.editorPos.y+f.layoutInfo.height&&(I=b.editorPos.y+f.layoutInfo.height-1);const T=new S.PageCoordinates(b.pos.x,I),A=this._actualDoHitTestWithCaretRangeFromPoint(f,T.toClientCoordinates());return A.type===1?A:this._actualDoHitTestWithCaretRangeFromPoint(f,b.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(f,b){const L=v.getShadowRoot(f.viewDomNode);let N;if(L?typeof L.caretRangeFromPoint=="undefined"?N=m(L,b.clientX,b.clientY):N=L.caretRangeFromPoint(b.clientX,b.clientY):N=document.caretRangeFromPoint(b.clientX,b.clientY),!N||!N.startContainer)return new _;const D=N.startContainer;if(D.nodeType===D.TEXT_NODE){const I=D.parentNode,T=I?I.parentNode:null,A=T?T.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===M.ViewLine.CLASS_NAME?a.createFromDOMInfo(f,I,N.startOffset):new _(D.parentNode)}else if(D.nodeType===D.ELEMENT_NODE){const I=D.parentNode,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===M.ViewLine.CLASS_NAME?a.createFromDOMInfo(f,D,D.textContent.length):new _(D)}return new _}static _doHitTestWithCaretPositionFromPoint(f,b){const L=document.caretPositionFromPoint(b.clientX,b.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const N=L.offsetNode.parentNode,D=N?N.parentNode:null,I=D?D.parentNode:null;return(I&&I.nodeType===I.ELEMENT_NODE?I.className:null)===M.ViewLine.CLASS_NAME?a.createFromDOMInfo(f,L.offsetNode.parentNode,L.offset):new _(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const N=L.offsetNode.parentNode,D=N&&N.nodeType===N.ELEMENT_NODE?N.className:null,I=N?N.parentNode:null,T=I&&I.nodeType===I.ELEMENT_NODE?I.className:null;if(D===M.ViewLine.CLASS_NAME){const A=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(A)return a.createFromDOMInfo(f,A,0)}else if(T===M.ViewLine.CLASS_NAME)return a.createFromDOMInfo(f,L.offsetNode,0)}return new _(L.offsetNode)}static _snapToSoftTabBoundary(f,b){const L=b.getLineContent(f.lineNumber),{tabSize:N}=b.getTextModelOptions(),D=i.AtomicTabMoveOperations.atomicPosition(L,f.column-1,N,2);return D!==-1?new y.Position(f.lineNumber,D+1):f}static _doHitTest(f,b){let L=new _;return typeof document.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(f,b):document.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(f,b.pos.toClientCoordinates())),L.type===1&&f.stickyTabStops&&(L=new s(this._snapToSoftTabBoundary(L.position,f.model),L.spanNode)),L}}e.MouseTargetFactory=h;function m(g,f,b){const L=document.createRange();let N=g.elementFromPoint(f,b);if(N!==null){for(;N&&N.firstChild&&N.firstChild.nodeType!==N.firstChild.TEXT_NODE&&N.lastChild&&N.lastChild.firstChild;)N=N.lastChild;const D=N.getBoundingClientRect(),I=window.getComputedStyle(N,null).getPropertyValue("font"),T=N.innerText;let A=D.left,R=0,O;if(f>D.left+D.width)R=T.length;else{const P=C.getInstance();for(let F=0;F<T.length+1;F++){if(O=P.getCharWidth(T.charAt(F),I)/2,A+=O,f<A){R=F;break}A+=O}}L.setStart(N.firstChild,R),L.setEnd(N.firstChild,R)}return L}e.shadowCaretRangeFromPoint=m;class C{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return C._INSTANCE||(C._INSTANCE=new C),C._INSTANCE}getCharWidth(f,b){const L=f+b;if(this._cache[L])return this._cache[L];const N=this._canvas.getContext("2d");N.font=b;const I=N.measureText(f).width;return this._cache[L]=I,I}}C._INSTANCE=null}),define(Q[594],J([0,1,7,56,15,2,17,189,164,130,13,21,113]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function u(n){return function(o,t){let l=!1;return n&&(l=n.mouseTargetIsWidget(t)),l||t.preventDefault(),t}}e.createMouseMoveEventMerger=u;class c extends a.ViewEventHandler{constructor(o,t,l){super();this._context=o,this.viewController=t,this.viewHelper=l,this.mouseTargetFactory=new p.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(C,g)=>this._createMouseTarget(C,g),C=>this._getMouseColumn(C))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(128).height;const h=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,C=>this._onContextMenu(C,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,C=>this._onMouseMove(C),u(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,C=>this._onMouseUp(C))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,C=>this._onMouseLeave(C))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,C=>this._onMouseDown(C)));const m=C=>{if(this.viewController.emitMouseWheel(C),!this._context.configuration.options.get(65))return;const g=new k.StandardWheelEvent(C);if(w.isMacintosh?(C.metaKey||C.ctrlKey)&&!C.shiftKey&&!C.altKey:C.ctrlKey&&!C.metaKey&&!C.shiftKey&&!C.altKey){const b=i.EditorZoom.getZoomLevel(),L=g.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(b+L),g.preventDefault(),g.stopPropagation()}};this._register(S.addDisposableListener(this.viewHelper.viewDomNode,S.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(o){if(o.hasChanged(128)){const t=this._context.configuration.options.get(128).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(o){return this._mouseDownOperation.onCursorStateChanged(o),!1}onFocusChanged(o){return!1}onScrollChanged(o){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(o,t){const h=new v.ClientCoordinates(o,t).toPageCoordinates(),m=v.createEditorPagePosition(this.viewHelper.viewDomNode);return h.y<m.y||h.y>m.y+m.height||h.x<m.x||h.x>m.x+m.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),m,h,null)}_createMouseTarget(o,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o.editorPos,o.pos,t?o.target:null)}_getMouseColumn(o){return this.mouseTargetFactory.getMouseColumn(o.editorPos,o.pos)}_onContextMenu(o,t){this.viewController.emitContextMenu({event:o,target:this._createMouseTarget(o,t)})}_onMouseMove(o){this._mouseDownOperation.isActive()||o.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:o,target:this._createMouseTarget(o,!0)})}_onMouseLeave(o){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:o,target:null})}_onMouseUp(o){this.viewController.emitMouseUp({event:o,target:this._createMouseTarget(o,!0)})}_onMouseDown(o){const t=this._createMouseTarget(o,!0),l=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,m=t.type===3,C=this._context.configuration.options.get(96),g=t.type===8||t.type===5,f=t.type===9;let b=o.leftButton||o.middleButton;w.isMacintosh&&o.leftButton&&o.ctrlKey&&(b=!1);const L=()=>{o.preventDefault(),this.viewHelper.focusTextArea()};if(b&&(l||m&&C))L(),this._mouseDownOperation.start(t.type,o);else if(h)o.preventDefault();else if(g){const N=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(N.viewZoneId)&&(L(),this._mouseDownOperation.start(t.type,o),o.preventDefault())}else f&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(L(),o.preventDefault());this.viewController.emitMouseDown({event:o,target:t})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class d extends y.Disposable{constructor(o,t,l,h,m){super();this._context=o,this._viewController=t,this._viewHelper=l,this._createMouseTarget=h,this._getMouseColumn=m,this._mouseMoveMonitor=this._register(new v.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new M.TimeoutTimer),this._mouseState=new r,this._currentSelection=new s.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(o){this._lastMouseEvent=o,this._mouseState.setModifiers(o);const t=this._findMousePosition(o,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:o,target:t}):this._dispatchMouse(t,!0))}start(o,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(o===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const l=this._findMousePosition(t,!0);if(!l||!l.position)return;this._mouseState.trySetCount(t.detail,l.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(78)&&h.get(29)&&!h.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,u(null),m=>this._onMouseDownThenMove(m),m=>{const C=this._findMousePosition(this._lastMouseEvent,!0);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:C?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,u(null),m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const o=this._findMousePosition(this._lastMouseEvent,!1);!o||this._mouseState.isDragAndDrop||this._dispatchMouse(o,!0)},10)}onCursorStateChanged(o){this._currentSelection=o.selections[0]}_getPositionOutsideEditor(o){const t=o.editorPos,l=this._context.model,h=this._context.viewLayout,m=this._getMouseColumn(o);if(o.posy<t.y){const g=Math.max(h.getCurrentScrollTop()-(t.y-o.posy),0),f=p.HitTestContext.getZoneAtCoord(this._context,g);if(f){const L=this._helpPositionJumpOverViewZone(f);if(L)return new p.MouseTarget(null,13,m,L)}const b=h.getLineNumberAtVerticalOffset(g);return new p.MouseTarget(null,13,m,new _.Position(b,1))}if(o.posy>t.y+t.height){const g=h.getCurrentScrollTop()+(o.posy-t.y),f=p.HitTestContext.getZoneAtCoord(this._context,g);if(f){const L=this._helpPositionJumpOverViewZone(f);if(L)return new p.MouseTarget(null,13,m,L)}const b=h.getLineNumberAtVerticalOffset(g);return new p.MouseTarget(null,13,m,new _.Position(b,l.getLineMaxColumn(b)))}const C=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(o.posy-t.y));return o.posx<t.x?new p.MouseTarget(null,13,m,new _.Position(C,1)):o.posx>t.x+t.width?new p.MouseTarget(null,13,m,new _.Position(C,l.getLineMaxColumn(C))):null}_findMousePosition(o,t){const l=this._getPositionOutsideEditor(o);if(l)return l;const h=this._createMouseTarget(o,t);if(!h.position)return null;if(h.type===8||h.type===5){const C=this._helpPositionJumpOverViewZone(h.detail);if(C)return new p.MouseTarget(h.element,h.type,h.mouseColumn,C,null,h.detail)}return h}_helpPositionJumpOverViewZone(o){const t=new _.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=o.positionBefore,h=o.positionAfter;return l&&h?l.isBefore(t)?l:h:null}_dispatchMouse(o,t){!o.position||this._viewController.dispatchMouse({position:o.position,mouseColumn:o.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(o){this._altKey=o.altKey,this._ctrlKey=o.ctrlKey,this._metaKey=o.metaKey,this._shiftKey=o.shiftKey}setStartButtons(o){this._leftButton=o.leftButton,this._middleButton=o.middleButton}setStartedOnLineNumbers(o){this._startedOnLineNumbers=o}trySetCount(o,t){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(o=1),this._lastSetMouseDownCountTime=l,o>this._lastMouseDownCount+1&&(o=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(o,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(Q[595],J([0,1,7,17,61,2,594,164,153,166]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class _ extends w.MouseHandler{constructor(c,d,r){super(c,d,r);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,o=>this.onTap(o))),this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,o=>this.onChange(o))),this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,o=>this._onContextMenu(new p.EditorMouseEvent(o,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const t=o.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new p.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,o=>this._onMouseMove(o),w.createMouseMoveEventMerger(this.mouseTargetFactory),w.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o)))}onTap(c){if(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))return;c.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=_;class s extends w.MouseHandler{constructor(c,d,r){super(c,d,r);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,n=>this.onTap(n))),this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,n=>this.onChange(n))),this._register(S.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,n=>this._onContextMenu(new p.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(d.position){const r=document.createEvent("CustomEvent");r.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(r),this.viewController.moveTo(d.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class a extends y.Disposable{constructor(c,d,r){super();k.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new _(c,d,r)):window.TouchEvent?this.handler=this._register(new s(c,d,r)):this.handler=this._register(new w.MouseHandler(c,d,r))}getTargetAtClientPoint(c,d){return this.handler.getTargetAtClientPoint(c,d)}}e.PointerHandler=a}),define(Q[257],J([0,1,189]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(w){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=w}emitKeyDown(w){this.onKeyDown&&this.onKeyDown(w)}emitKeyUp(w){this.onKeyUp&&this.onKeyUp(w)}emitContextMenu(w){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(w))}emitMouseMove(w){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(w))}emitMouseLeave(w){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(w))}emitMouseDown(w){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(w))}emitMouseUp(w){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(w))}emitMouseDrag(w){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(w))}emitMouseDrop(w){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(w))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(w){this.onMouseWheel&&this.onMouseWheel(w)}_convertViewToModelMouseEvent(w){return w.target?{event:w.event,target:this._convertViewToModelMouseTarget(w.target)}:w}_convertViewToModelMouseTarget(w){return k.convertViewToModelMouseTarget(w,this._coordinatesConverter)}static convertViewToModelMouseTarget(w,p){return new M(w.element,w.type,w.mouseColumn,w.position?p.convertViewPositionToModelPosition(w.position):null,w.range?p.convertViewRangeToModelRange(w.range):null,w.detail)}}e.ViewUserInputEvents=k;class M{constructor(w,p,v,i,_,s){this.element=w,this.type=p,this.mouseColumn=v,this.position=i,this.range=_,this.detail=s}toString(){return S.MouseTarget.toString(this)}}}),define(Q[596],J([0,1,17,15,66,167,46,256,13,3,111,128,330]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class a{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class u{constructor(n,o,t,l,h,m){this.lineNumber=n,this.startColumn=o,this.endColumn=t,this.startScrollTop=l,this.stopScrollTop=h,this.scrollType=m,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class c{constructor(n,o,t,l){this.selections=n,this.startScrollTop=o,this.stopScrollTop=t,this.scrollType=l,this.type="selections";let h=n[0].startLineNumber,m=n[0].endLineNumber;for(let C=1,g=n.length;C<g;C++){const f=n[C];h=Math.min(h,f.startLineNumber),m=Math.max(m,f.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=m}}class d extends w.ViewPart{constructor(n,o){super(n);this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,l=this._context.configuration.options,h=l.get(40),m=l.get(129);this._lineHeight=l.get(56),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=m.isViewportWrapping,this._revealHorizontalRightPadding=l.get(87),this._cursorSurroundingLines=l.get(23),this._cursorSurroundingLinesStyle=l.get(24),this._canUseLayerHinting=!l.get(26),this._viewLineOptions=new p.ViewLineOptions(t,this._context.theme.type),w.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),M.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new a,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new p.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(129)&&(this._maxLineWidth=0);const o=this._context.configuration.options,t=o.get(40),l=o.get(129);return this._lineHeight=o.get(56),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=o.get(87),this._cursorSurroundingLines=o.get(23),this._cursorSurroundingLinesStyle=o.get(24),this._canUseLayerHinting=!o.get(26),M.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(128)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,o=new p.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const t=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=t;h<=l;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const o=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let l=!1;for(let h=o;h<=t;h++)l=this._visibleLines.getVisibleLine(h).onSelectionChanged()||l;return l}onDecorationsChanged(n){{const o=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let l=o;l<=t;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(n){const o=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,o}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(o===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:o});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new u(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new c(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<o||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,o){const t=this._getViewLineDomNode(n);if(t===null)return null;const l=this._getLineNumberFor(t);if(l===-1||l<1||l>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(l)===1)return new v.Position(l,1);const h=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(l<h||l>m)return null;let C=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,n,o);const g=this._context.model.getLineMinColumn(l);return C<g&&(C=g),new v.Position(l,C)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===p.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const o=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let l=o;l<=t;l++){const h=this._visibleLines.getVisibleLine(l);if(n===h.getDomNode())return l}return-1}getLineWidth(n){const o=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<o||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,o){if(this.shouldRender())return null;const t=n.endLineNumber,l=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;let h=[],m=0;const C=new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let g=0;o&&(g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(l.startLineNumber,1)).lineNumber);const f=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let L=l.startLineNumber;L<=l.endLineNumber;L++){if(L<f||L>b)continue;const N=L===l.startLineNumber?l.startColumn:1,D=L===l.endLineNumber?l.endColumn:this._context.model.getLineMaxColumn(L),I=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(N,D,C);if(!!I){if(o&&L<t){const T=g;g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(L+1,1)).lineNumber,T!==g&&(I.ranges[I.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[m++]=new _.LineVisibleRanges(I.outsideRenderedLine,L,I.ranges)}}return m===0?null:h}_visibleRangesForLineRange(n,o,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(o,t,new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const o=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return o?new _.HorizontalPosition(o.outsideRenderedLine,o.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const o=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let l=1,h=!0;for(let m=o;m<=t;m++){const C=this._visibleLines.getVisibleLine(m);if(n&&!C.getWidthIsFast()){h=!1;continue}l=Math.max(l,C.getWidth())}return h&&o===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),h}_checkMonospaceFontAssumptions(){let n=-1,o=-1;const t=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=t;h<=l;h++){const m=this._visibleLines.getVisibleLine(h);if(m.needsMonospaceFontCheck()){const C=m.getWidth();C>o&&(o=C,n=h)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let h=t;h<=l;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(t);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:l.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),S.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=t;h<=l;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const o=Math.ceil(n);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,o,t,l,h){const m=n.top,C=n.height,g=m+C;let f,b,L;if(l&&l.length>0){let I=l[0].startLineNumber,T=l[0].endLineNumber;for(let A=1,R=l.length;A<R;A++){const O=l[A];I=Math.min(I,O.startLineNumber),T=Math.max(T,O.endLineNumber)}f=!1,b=this._context.viewLayout.getVerticalOffsetForLineNumber(I),L=this._context.viewLayout.getVerticalOffsetForLineNumber(T)+this._lineHeight}else if(t)f=!0,b=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),L=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(o==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const I=Math.min(C/this._lineHeight/2,this._cursorSurroundingLines);b-=I*this._lineHeight,L+=Math.max(0,I-1)*this._lineHeight}(h===0||h===4)&&(L+=this._lineHeight);let D;if(L-b>C){if(!f)return-1;D=b}else if(h===5||h===6)if(h===6&&m<=b&&L<=g)D=m;else{const I=Math.max(5*this._lineHeight,C*.2),T=b-I,A=L-C;D=Math.max(A,T)}else if(h===1||h===2)if(h===2&&m<=b&&L<=g)D=m;else{const I=(b+L)/2;D=Math.max(0,I-C/2)}else D=this._computeMinimumScrolling(m,g,b,L,h===3,h===4);return D}_computeScrollLeftToReveal(n){const o=this._context.viewLayout.getCurrentViewport(),t=o.left,l=t+o.width;let h=1073741824,m=0;if(n.type==="range"){const g=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!g)return null;for(const f of g.ranges)h=Math.min(h,f.left),m=Math.max(m,f.left+f.width)}else for(const g of n.selections){if(g.startLineNumber!==g.endLineNumber)return null;const f=this._visibleRangesForLineRange(g.startLineNumber,g.startColumn,g.endColumn);if(!f)return null;for(const b of f.ranges)h=Math.min(h,b.left),m=Math.max(m,b.left+b.width)}return h=Math.max(0,h-d.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding,n.type==="selections"&&m-h>o.width?null:{scrollLeft:this._computeMinimumScrolling(t,l,h,m),maxHorizontalOffset:m}}_computeMinimumScrolling(n,o,t,l,h,m){n=n|0,o=o|0,t=t|0,l=l|0,h=!!h,m=!!m;const C=o-n;if(l-t<C){if(h)return t;if(m)return Math.max(0,l-C);if(t<n)return t;if(l>o)return Math.max(0,l-C)}else return t;return n}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(Q[11],J([0,1,9,2,32,6,99,27]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=S.createDecorator("themeService");var v;(function(r){function n(o){return o&&typeof o=="object"&&typeof o.id=="string"}r.isThemeColor=n})(v=e.ThemeColor||(e.ThemeColor={}));function i(r){return{id:r}}e.themeColorFromId=i;var _;(function(r){function n(C){return C&&typeof C=="object"&&typeof C.id=="string"&&(typeof C.color=="undefined"||v.isThemeColor(C.color))}r.isThemeIcon=n;const o=new RegExp(`^\\$\\((${p.CSSIcon.iconNameExpression}(?:${p.CSSIcon.iconModifierExpression})?)\\)$`);function t(C){const g=o.exec(C);if(!g)return;let[,f]=g;return{id:f}}r.fromString=t;function l(C,g){let f=C.id;const b=f.lastIndexOf("~");return b!==-1&&(f=f.substring(0,b)),g&&(f=`${f}~${g}`),{id:f}}r.modify=l;function h(C,g){var f,b;return C.id===g.id&&((f=C.color)===null||f===void 0?void 0:f.id)===((b=g.color)===null||b===void 0?void 0:b.id)}r.isEqual=h;function m(C){return{id:C.id}}r.asThemeIcon=m,r.asClassNameArray=p.CSSIcon.asClassNameArray,r.asClassName=p.CSSIcon.asClassName,r.asCSSSelector=p.CSSIcon.asCSSSelector})(_=e.ThemeIcon||(e.ThemeIcon={}));function s(r){switch(r){case w.ColorScheme.DARK:return"vs-dark";case w.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=s,e.Extensions={ThemingContribution:"base.contributions.theming"};class a{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new y.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),k.toDisposable(()=>{const o=this.themingParticipants.indexOf(n);this.themingParticipants.splice(o,1)})}getThemingParticipants(){return this.themingParticipants}}let u=new a;M.Registry.add(e.Extensions.ThemingContribution,u);function c(r){return u.onColorThemeChange(r)}e.registerThemingParticipant=c;class d extends k.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(o=>this.onThemeChange(o)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(Q[597],J([0,1,7,2,8,24,370,108,52,11]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class _{constructor(o,t,l){this._parent=o,this._editorId=t,this._styleSheet=l,this._refCount=0}ref(){this._refCount++}unref(){var o;this._refCount--,this._refCount===0&&((o=this._styleSheet.parentNode)===null||o===void 0||o.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(o,t){this._styleSheet.sheet.insertRule(o,t)}removeRulesContainingSelector(o){S.removeCSSRulesContainingSelector(o,this._styleSheet)}}e.RefCountedStyleSheet=_;class s{constructor(o){this._styleSheet=o}ref(){}unref(){}insertRule(o,t){this._styleSheet.sheet.insertRule(o,t)}removeRulesContainingSelector(o){S.removeCSSRulesContainingSelector(o,this._styleSheet)}}e.GlobalStyleSheet=s;let a=class extends w.AbstractCodeEditorService{constructor(o,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=o||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new s(S.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(o){if(!o)return this._getOrCreateGlobalStyleSheet();const t=o.getContainerDomNode();if(!S.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const l=o.getId();if(!this._editorStyleSheets.has(l)){const h=new _(this,l,S.createStyleSheet(t));this._editorStyleSheets.set(l,h)}return this._editorStyleSheets.get(l)}_removeEditorStyleSheets(o){this._editorStyleSheets.delete(o)}registerDecorationType(o,t,l,h,m){let C=this._decorationOptionProviders.get(t);if(!C){const g=this._getOrCreateStyleSheet(m),f={styleSheet:g,key:t,parentTypeKey:h,options:l||Object.create(null)};h?C=new u(this._themeService,g,f):C=new c(o,this._themeService,g,f),this._decorationOptionProviders.set(t,C),this._onDecorationTypeRegistered.fire(t)}C.refCount++}removeDecorationType(o){const t=this._decorationOptionProviders.get(o);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(o),t.dispose(),this.listCodeEditors().forEach(l=>l.removeDecorations(o))))}resolveDecorationOptions(o,t){const l=this._decorationOptionProviders.get(o);if(!l)throw new Error("Unknown decoration type key: "+o);return l.getOptions(this,t)}};a=Me([pe(1,i.IThemeService)],a),e.CodeEditorServiceImpl=a;class u{constructor(o,t,l){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=l.parentTypeKey,this.refCount=0,this._beforeContentRules=new d(3,l,o),this._afterContentRules=new d(4,l,o)}getOptions(o,t){const l=o.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(l.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(l.afterContentClassName=this._afterContentRules.className),l}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=u;class c{constructor(o,t,l,h){this._disposables=new k.DisposableStore,this.description=o,this._styleSheet=l,this._styleSheet.ref(),this.refCount=0;const m=N=>{const D=new d(N,h,t);if(this._disposables.add(D),D.hasContent)return D.className},C=N=>{const D=new d(N,h,t);return this._disposables.add(D),D.hasContent?{className:D.className,hasLetterSpacing:D.hasLetterSpacing}:null};this.className=m(0);const g=C(1);g&&(this.inlineClassName=g.className,this.inlineClassNameAffectsLetterSpacing=g.hasLetterSpacing),this.beforeContentClassName=m(3),this.afterContentClassName=m(4),this.glyphMarginClassName=m(2);const f=h.options;this.isWholeLine=Boolean(f.isWholeLine),this.stickiness=f.rangeBehavior;const b=f.light&&f.light.overviewRulerColor||f.overviewRulerColor,L=f.dark&&f.dark.overviewRulerColor||f.overviewRulerColor;(typeof b!="undefined"||typeof L!="undefined")&&(this.overviewRuler={color:b||L,darkColor:L||b,position:f.overviewRulerLane||v.OverviewRulerLane.Center})}getOptions(o,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=c,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class d{constructor(o,t,l){this._theme=l.getColorTheme(),this._ruleType=o,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let h=r.getClassName(this._providerArgs.key,o);this._providerArgs.parentTypeKey&&(h=h+" "+r.getClassName(this._providerArgs.parentTypeKey,o)),this._className=h,this._unThemedSelector=r.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,o),this._buildCSS(),this._usesThemeColors?this._themeListener=l.onDidColorThemeChange(m=>{this._theme=l.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const o=this._providerArgs.options;let t,l,h;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(o),l=this.getCSSTextForModelDecorationClassName(o.light),h=this.getCSSTextForModelDecorationClassName(o.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(o),l=this.getCSSTextForModelDecorationInlineClassName(o.light),h=this.getCSSTextForModelDecorationInlineClassName(o.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(o),l=this.getCSSTextForModelDecorationGlyphMarginClassName(o.light),h=this.getCSSTextForModelDecorationGlyphMarginClassName(o.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(o.before),l=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.before),h=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(o.after),l=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.after),h=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const m=this._providerArgs.styleSheet;let C=!1;t.length>0&&(m.insertRule(`${this._unThemedSelector} {${t}}`,0),C=!0),l.length>0&&(m.insertRule(`.vs${this._unThemedSelector} {${l}}`,0),C=!0),h.length>0&&(m.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${h}}`,0),C=!0),this._hasContent=C}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(o){if(!o)return"";const t=[];return this.collectCSSText(o,["backgroundColor"],t),this.collectCSSText(o,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(o,t),t.join("")}getCSSTextForModelDecorationInlineClassName(o){if(!o)return"";const t=[];return this.collectCSSText(o,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),o.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(o){if(!o)return"";const t=[];if(typeof o!="undefined"){if(this.collectBorderSettingsCSSText(o,t),typeof o.contentIconPath!="undefined"&&t.push(M.format(e._CSS_MAP.contentIconPath,S.asCSSUrl(y.URI.revive(o.contentIconPath)))),typeof o.contentText=="string"){const h=o.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(M.format(e._CSS_MAP.contentText,h))}this.collectCSSText(o,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(o,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(o){if(!o)return"";const t=[];return typeof o.gutterIconPath!="undefined"&&(t.push(M.format(e._CSS_MAP.gutterIconPath,S.asCSSUrl(y.URI.revive(o.gutterIconPath)))),typeof o.gutterIconSize!="undefined"&&t.push(M.format(e._CSS_MAP.gutterIconSize,o.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(o,t){return this.collectCSSText(o,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(M.format("box-sizing: border-box;")),!0):!1}collectCSSText(o,t,l){const h=l.length;for(let m of t){const C=this.resolveValue(o[m]);typeof C=="string"&&l.push(M.format(e._CSS_MAP[m],C))}return l.length!==h}resolveValue(o){if(p.isThemeColor(o)){this._usesThemeColors=!0;const t=this._theme.getColor(o.id);return t?t.toString():"transparent"}return o}}class r{static getClassName(o,t){return"ced-"+o+"-"+t}static getSelector(o,t,l){let h=".monaco-editor ."+this.getClassName(o,l);return t&&(h=h+"."+this.getClassName(t,l)),l===3?h+="::before":l===4&&(h+="::after"),h}}}),define(Q[598],J([0,1,7,30,62,46,11]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends y.ViewPart{constructor(i,_,s,a){super(i);const u=this._context.configuration.options,c=u.get(90),d=u.get(64),r=u.get(32),n=u.get(93),o={listenOnDomNode:s.domNode,className:"editor-scrollable "+w.getThemeTypeSelector(i.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:r,scrollPredominantAxis:n,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new M.SmoothScrollableElement(_.domNode,o,this._context.viewLayout.getScrollable())),y.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=k.createFastDomNode(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(l,h,m)=>{const C={};if(h){const g=l.scrollTop;g&&(C.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,l.scrollTop=0)}if(m){const g=l.scrollLeft;g&&(C.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,l.scrollLeft=0)}this._context.model.setScrollPosition(C,1)};this._register(S.addDisposableListener(s.domNode,"scroll",l=>t(s.domNode,!0,!0))),this._register(S.addDisposableListener(_.domNode,"scroll",l=>t(_.domNode,!0,!1))),this._register(S.addDisposableListener(a.domNode,"scroll",l=>t(a.domNode,!0,!1))),this._register(S.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",l=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,_=i.get(128);this.scrollbarDomNode.setLeft(_.contentLeft),i.get(62).side==="right"?this.scrollbarDomNode.setWidth(_.contentWidth+_.minimap.minimapWidth):this.scrollbarDomNode.setWidth(_.contentWidth),this.scrollbarDomNode.setHeight(_.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(90)||i.hasChanged(64)||i.hasChanged(32)){const _=this._context.configuration.options,s=_.get(90),a=_.get(64),u=_.get(32),c=_.get(93),d={handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:a,fastScrollSensitivity:u,scrollPredominantAxis:c};this.scrollbar.updateOptions(d)}return i.hasChanged(128)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+w.getThemeTypeSelector(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(Q[599],J([0,1,7,30,92,2,17,8,167,46,35,3,217,245,63,22,11,21,61,373,52,90,333]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const m=140,C=2;class g{constructor(R,O,P){const F=R.options,E=F.get(126),x=F.get(128),H=x.minimap,K=F.get(40),q=F.get(62);this.renderMinimap=H.renderMinimap,this.size=q.size,this.minimapHeightIsEditorHeight=H.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(92),this.showSlider=q.showSlider,this.pixelRatio=E,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(56),this.minimapLeft=H.minimapLeft,this.minimapWidth=H.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=H.minimapCanvasInnerWidth,this.canvasInnerHeight=H.minimapCanvasInnerHeight,this.canvasOuterWidth=H.minimapCanvasOuterWidth,this.canvasOuterHeight=H.minimapCanvasOuterHeight,this.isSampling=H.minimapIsSampling,this.editorHeight=x.height,this.fontScale=H.minimapScale,this.minimapLineHeight=H.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=h.once(()=>t.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.backgroundColor=g._getMinimapBackground(O,P)}static _getMinimapBackground(R,O){const P=R.getColor(d.minimapBackground);return P?new a.RGBA8(P.rgba.r,P.rgba.g,P.rgba.b,P.rgba.a):O.getColor(2)}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)}}class f{constructor(R,O,P,F,E,x,H,K){this.scrollTop=R,this.scrollHeight=O,this.sliderNeeded=P,this._computedSliderRatio=F,this.sliderTop=E,this.sliderHeight=x,this.startLineNumber=H,this.endLineNumber=K}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,O,P,F,E,x,H,K,q,G,ee){const ie=R.pixelRatio,ae=R.minimapLineHeight,de=Math.floor(R.canvasInnerHeight/ae),Y=R.lineHeight;if(R.minimapHeightIsEditorHeight){const X=K*R.lineHeight+(R.scrollBeyondLastLine?E-R.lineHeight:0),te=Math.max(1,Math.floor(E*E/X)),se=Math.max(0,R.minimapHeight-te),le=se/(G-E),ue=q*le,re=se>0,ce=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new f(q,G,re,le,ue,te,1,Math.min(H,ce))}let B;if(x&&P!==H){const X=P-O+1;B=Math.floor(X*ae/ie)}else{const X=E/Y;B=Math.floor(X*ae/ie)}let W;R.scrollBeyondLastLine?W=(H-1)*ae/ie:W=Math.max(0,H*ae/ie-B),W=Math.min(R.minimapHeight-B,W);const V=W/(G-E),z=q*V;let U=0;if(R.scrollBeyondLastLine&&(U=E/Y-1),de>=H+U){const X=1,te=H,se=W>0;return new f(q,G,se,V,z,B,X,te)}else{let X=Math.max(1,Math.floor(O-z*ie/ae));ee&&ee.scrollHeight===G&&(ee.scrollTop>q&&(X=Math.min(X,ee.startLineNumber)),ee.scrollTop<q&&(X=Math.max(X,ee.startLineNumber)));const te=Math.min(H,X+de-1),se=(q-F)/Y,le=(O-X+se)*ae/ie;return new f(q,G,!0,V,le,B,X,te)}}}class b{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}b.INVALID=new b(-1);class L{constructor(R,O,P){this.renderedLayout=R,this._imageData=O,this._renderedLines=new v.RenderedLinesCollection(()=>b.INVALID),this._renderedLines._set(R.startLineNumber,P)}linesEquals(R){if(!this.scrollEquals(R))return!1;const P=this._renderedLines._get().lines;for(let F=0,E=P.length;F<E;F++)if(P[F].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,O){return this._renderedLines.onLinesChanged(R,O)}onLinesDeleted(R,O){this._renderedLines.onLinesDeleted(R,O)}onLinesInserted(R,O){this._renderedLines.onLinesInserted(R,O)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class N{constructor(R,O,P,F){this._backgroundFillData=N._createBackgroundFillData(O,P,F),this._buffers=[R.createImageData(O,P),R.createImageData(O,P)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,O,P){const F=P.r,E=P.g,x=P.b,H=new Uint8ClampedArray(R*O*4);let K=0;for(let q=0;q<O;q++)for(let G=0;G<R;G++)H[K]=F,H[K+1]=E,H[K+2]=x,H[K+3]=255,K+=4;return H}}class D{constructor(R,O){this.samplingRatio=R,this.minimapLines=O}static compute(R,O,P){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const F=R.pixelRatio,E=R.lineHeight,x=R.scrollBeyondLastLine,{minimapLineCount:H}=_.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:O,scrollBeyondLastLine:x,height:R.editorHeight,lineHeight:E,pixelRatio:F}),K=O/H,q=K/2;if(!P||P.minimapLines.length===0){let z=[];if(z[0]=1,H>1){for(let U=0,X=H-1;U<X;U++)z[U]=Math.round(U*K+q);z[H-1]=O}return[new D(K,z),[]]}const G=P.minimapLines,ee=G.length;let ie=[],ae=0,de=0,Y=1;const B=10;let W=[],V=null;for(let z=0;z<H;z++){const U=Math.max(Y,Math.round(z*K)),X=Math.max(U,Math.round((z+1)*K));for(;ae<ee&&G[ae]<U;){if(W.length<B){const se=ae+1+de;V&&V.type==="deleted"&&V._oldIndex===ae-1?V.deleteToLineNumber++:(V={type:"deleted",_oldIndex:ae,deleteFromLineNumber:se,deleteToLineNumber:se},W.push(V)),de--}ae++}let te;if(ae<ee&&G[ae]<=X)te=G[ae],ae++;else if(z===0?te=1:z+1===H?te=O:te=Math.round(z*K+q),W.length<B){const se=ae+1+de;V&&V.type==="inserted"&&V._i===z-1?V.insertToLineNumber++:(V={type:"inserted",_i:z,insertFromLineNumber:se,insertToLineNumber:se},W.push(V)),de++}ie[z]=te,Y=te}if(W.length<B)for(;ae<ee;){const z=ae+1+de;V&&V.type==="deleted"&&V._oldIndex===ae-1?V.deleteToLineNumber++:(V={type:"deleted",_oldIndex:ae,deleteFromLineNumber:z,deleteToLineNumber:z},W.push(V)),de--,ae++}else W=[{type:"flush"}];return[new D(K,ie),W]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,O){let P=this.modelLineToMinimapLine(R)-1;for(;P>0&&this.minimapLines[P-1]>=R;)P--;let F=this.modelLineToMinimapLine(O)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=O;)F++;if(P===F){const E=this.minimapLines[P];if(E<R||E>O)return null}return[P+1,F+1]}decorationLineRangeToMinimapLineRange(R,O){let P=this.modelLineToMinimapLine(R),F=this.modelLineToMinimapLine(O);return R!==O&&F===P&&(F===this.minimapLines.length?P>1&&P--:F++),[P,F]}onLinesDeleted(R){const O=R.toLineNumber-R.fromLineNumber+1;let P=this.minimapLines.length,F=0;for(let E=this.minimapLines.length-1;E>=0&&!(this.minimapLines[E]<R.fromLineNumber);E--)this.minimapLines[E]<=R.toLineNumber?(this.minimapLines[E]=Math.max(1,R.fromLineNumber-1),P=Math.min(P,E),F=Math.max(F,E)):this.minimapLines[E]-=O;return[P,F]}onLinesInserted(R){const O=R.toLineNumber-R.fromLineNumber+1;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<R.fromLineNumber);P--)this.minimapLines[P]+=O}}class I extends i.ViewPart{constructor(R){super(R);this.tokensColorTracker=u.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[O]=D.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=O,this._shouldCheckSampling=!1,this._actual=new T(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const O=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return O?this._actual.onLinesChanged(O[0],O[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[O,P]=this._samplingState.onLinesDeleted(R);return O<=P&&this._actual.onLinesChanged(O+1,P+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){let O=[];for(const P of R.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.toLineNumber);F&&O.push({fromLineNumber:F[0],toLineNumber:F[1]})}return O.length?this._actual.onTokensChanged(O):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let O=R.visibleRange.startLineNumber,P=R.visibleRange.endLineNumber;this._samplingState&&(O=this._samplingState.modelLineToMinimapLine(O),P=this._samplingState.modelLineToMinimapLine(P));const F={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:O,viewportEndLineNumber:P,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(O),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[O,P]=D.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=O,R&&this._samplingState)for(const F of P)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getMinimapLinesRenderingData(R,O,P){if(this._samplingState){let F=[];for(let E=0,x=O-R+1;E<x;E++)P[E]?F[E]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+E-1]):F[E]=null;return F}return this._context.model.getMinimapLinesRenderingData(R,O,P).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[O,P]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new n.Selection(O,R.startColumn,P,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,O){let P;if(this._samplingState){const E=this._samplingState.minimapLines[R-1],x=this._samplingState.minimapLines[O-1];P=new s.Range(E,1,x,this._context.model.getLineMaxColumn(x))}else P=new s.Range(R,1,O,this._context.model.getLineMaxColumn(O));const F=this._context.model.getDecorationsInViewport(P);if(this._samplingState){let E=[];for(const x of F){if(!x.options.minimap)continue;const H=x.range,K=this._samplingState.modelLineToMinimapLine(H.startLineNumber),q=this._samplingState.modelLineToMinimapLine(H.endLineNumber);E.push(new c.ViewModelDecoration(new s.Range(K,H.startColumn,q,H.endColumn),x.options))}return E}return F}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new s.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=I;class T extends y.Disposable{constructor(R,O){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=O,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=k.createFastDomNode(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=k.createFastDomNode(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=k.createFastDomNode(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=k.createFastDomNode(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=k.createFastDomNode(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=k.createFastDomNode(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=S.addStandardDisposableListener(this._domNode.domNode,"mousedown",P=>{if(P.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(P.leftButton&&this._lastRenderData){const q=S.getDomNodePagePosition(this._slider.domNode),G=q.top+q.height/2;this._startSliderDragging(P.buttons,P.posx,G,P.posy,this._lastRenderData.renderedLayout)}return}const E=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*P.browserEvent.offsetY;let K=Math.floor(x/E)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}),this._sliderMouseMoveMonitor=new M.GlobalMouseMoveMonitor,this._sliderMouseDownListener=S.addStandardDisposableListener(this._slider.domNode,"mousedown",P=>{P.preventDefault(),P.stopPropagation(),P.leftButton&&this._lastRenderData&&this._startSliderDragging(P.buttons,P.posx,P.posy,P.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=o.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=S.addDisposableListener(this._domNode.domNode,o.EventType.Start,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(P))},{passive:!1}),this._sliderTouchMoveListener=S.addDisposableListener(this._domNode.domNode,o.EventType.Change,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(P)},{passive:!1}),this._sliderTouchEndListener=S.addStandardDisposableListener(this._domNode.domNode,o.EventType.End,P=>{P.preventDefault(),P.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,O,P,F,E){this._slider.toggleClassName("active",!0);const x=(H,K)=>{const q=Math.abs(K-O);if(w.isWindows&&q>m){this._model.setScrollTop(E.scrollTop);return}const G=H-P;this._model.setScrollTop(E.getDesiredScrollTopFromDelta(G))};F!==P&&x(F,O),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,M.standardMouseMoveMerger,H=>x(H.posy,H.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const O=this._domNode.domNode.getBoundingClientRect().top,P=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-O);this._model.setScrollTop(P)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new N(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,O){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,O):!1}onLinesDeleted(R,O){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,O),!0}onLinesInserted(R,O){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,O),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const P=f.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(P.sliderNeeded?"block":"none"),this._slider.setTop(P.sliderTop),this._slider.setHeight(P.sliderHeight);const F=R.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,E=Math.min(this._model.options.minimapWidth,Math.round(F*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(E),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-E),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(P.sliderHeight),this.renderDecorations(P),this._lastRenderData=this.renderLines(P)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const O=this._model.getSelections(),P=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber),{canvasInnerWidth:F,canvasInnerHeight:E}=this._model.options,x=this._model.options.minimapLineHeight,H=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,q=this._decorationsCanvas.domNode.getContext("2d");q.clearRect(0,0,F,E);const G=new Map;for(let ee=0;ee<O.length;ee++){const ie=O[ee];for(let ae=ie.startLineNumber;ae<=ie.endLineNumber;ae++)this.renderDecorationOnLine(q,G,ie,this._selectionColor,R,ae,x,x,K,H)}for(let ee=0;ee<P.length;ee++){const ie=P[ee];if(!ie.options.minimap)continue;const ae=ie.options.minimap.getColor(this._theme);for(let de=ie.range.startLineNumber;de<=ie.range.endLineNumber;de++)switch(ie.options.minimap.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(q,G,ie.range,ae,R,de,x,x,K,H);continue;case l.MinimapPosition.Gutter:const Y=(de-R.startLineNumber)*x,B=2;this.renderDecoration(q,ae,B,Y,C,x);continue}}}}renderDecorationOnLine(R,O,P,F,E,x,H,K,q,G){const ee=(x-E.startLineNumber)*K;if(ee+H<0||ee>this._model.options.canvasInnerHeight)return;let ie=O.get(x);const ae=!ie;if(!ie){const U=this._model.getLineContent(x);ie=[_.MINIMAP_GUTTER_WIDTH];for(let X=1;X<U.length+1;X++){const te=U.charCodeAt(X-1),se=te===9?q*G:p.isFullWidthCharacter(te)?2*G:G;ie[X]=ie[X-1]+se}O.set(x,ie)}const{startColumn:de,endColumn:Y,startLineNumber:B,endLineNumber:W}=P,V=B===x?ie[de-1]:_.MINIMAP_GUTTER_WIDTH,z=W>x?ie.length-1:Y-1;if(z>0){const U=ie[z]-V||2;this.renderDecoration(R,F,V,ee,U,H)}ae&&this.renderLineHighlight(R,F,ee,H)}renderLineHighlight(R,O,P,F){R.fillStyle=O&&O.transparent(.5).toString()||"",R.fillRect(_.MINIMAP_GUTTER_WIDTH,P,R.canvas.width,F)}renderDecoration(R,O,P,F,E,x){R.fillStyle=O&&O.toString()||"",R.fillRect(P,F,E,x)}renderLines(R){const O=R.startLineNumber,P=R.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const ce=this._lastRenderData._get();return new L(R,ce.imageData,ce.lines)}const E=this._getBuffer();if(!E)return null;let[x,H,K]=T._renderUntouchedLines(E,O,P,F,this._lastRenderData);const q=this._model.getMinimapLinesRenderingData(O,P,K),G=this._model.getOptions().tabSize,ee=this._model.options.backgroundColor,ie=this._model.tokensColorTracker,ae=ie.backgroundIsLight(),de=this._model.options.renderMinimap,Y=this._model.options.charRenderer(),B=this._model.options.fontScale,W=this._model.options.minimapCharWidth,z=(de===1?2:2+1)*B,U=F>z?Math.floor((F-z)/2):0;let X=0;const te=[];for(let ce=0,j=P-O+1;ce<j;ce++)K[ce]&&T._renderLine(E,ee,ae,de,W,ie,Y,X,U,G,q[ce],B,F),te[ce]=new b(X),X+=F;const se=x===-1?0:x,ue=(H===-1?E.height:H)-se;return this._canvas.domNode.getContext("2d").putImageData(E,0,0,0,se,E.width,ue),new L(R,E,te)}static _renderUntouchedLines(R,O,P,F,E){const x=[];if(!E){for(let le=0,ue=P-O+1;le<ue;le++)x[le]=!0;return[-1,-1,x]}const H=E._get(),K=H.imageData.data,q=H.rendLineNumberStart,G=H.lines,ee=G.length,ie=R.width,ae=R.data,de=(P-O+1)*F*ie*4;let Y=-1,B=-1,W=-1,V=-1,z=-1,U=-1,X=0;for(let le=O;le<=P;le++){const ue=le-O,re=le-q,ce=re>=0&&re<ee?G[re].dy:-1;if(ce===-1){x[ue]=!0,X+=F;continue}const j=ce*ie*4,ne=(ce+F)*ie*4,Z=X*ie*4,oe=(X+F)*ie*4;V===j&&U===Z?(V=ne,U=oe):(W!==-1&&(ae.set(K.subarray(W,V),z),Y===-1&&W===0&&W===z&&(Y=V),B===-1&&V===de&&W===z&&(B=W)),W=j,V=ne,z=Z,U=oe),x[ue]=!1,X+=F}W!==-1&&(ae.set(K.subarray(W,V),z),Y===-1&&W===0&&W===z&&(Y=V),B===-1&&V===de&&W===z&&(B=W));const te=Y===-1?-1:Y/(ie*4),se=B===-1?-1:B/(ie*4);return[te,se,x]}static _renderLine(R,O,P,F,E,x,H,K,q,G,ee,ie,ae){const de=ee.content,Y=ee.tokens,B=R.width-E,W=ae===1;let V=_.MINIMAP_GUTTER_WIDTH,z=0,U=0;for(let X=0,te=Y.getCount();X<te;X++){const se=Y.getEndOffset(X),le=Y.getForeground(X),ue=x.getColor(le);for(;z<se;z++){if(V>B)return;const re=de.charCodeAt(z);if(re===9){const ce=G-(z+U)%G;U+=ce-1,V+=ce*E}else if(re===32)V+=E;else{const ce=p.isFullWidthCharacter(re)?2:1;for(let j=0;j<ce;j++)if(F===2?H.blockRenderChar(R,V,K+q,ue,O,P,W):H.renderChar(R,V,K+q,re,ue,O,ie,P,W),V+=E,V>B)return}}}}}r.registerThemingParticipant((A,R)=>{const O=A.getColor(d.minimapBackground);O&&R.addRule(`.monaco-editor .minimap > canvas { opacity: ${O.rgba.a}; will-change: opacity; }`);const P=A.getColor(d.minimapSliderBackground);P&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${P}; }`);const F=A.getColor(d.minimapSliderHoverBackground);F&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${F}; }`);const E=A.getColor(d.minimapSliderActiveBackground);E&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${E}; }`);const x=A.getColor(d.scrollbarShadow);x&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${x} -6px 0 6px -6px inset; }`)})}),define(Q[600],J([0,1,30,46,22,11,336]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class w extends k.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(90);this._useShadows=_.useShadows,this._domNode=S.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(128);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(v){const _=this._context.configuration.options.get(90);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=w,y.registerThemingParticipant((p,v)=>{const i=p.getColor(M.scrollbarShadow);i&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(Q[601],J([0,1,95,22,11,337]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class y{constructor(a){this.left=a.left,this.width=a.width,this.startStyle=null,this.endStyle=null}}class w{constructor(a,u){this.lineNumber=a,this.ranges=u}}function p(s){return new y(s)}function v(s){return new w(s.lineNumber,s.ranges.map(p))}class i extends S.DynamicViewOverlay{constructor(a){super();this._previousFrameVisibleRangesWithStyle=[],this._context=a;const u=this._context.configuration.options;this._lineHeight=u.get(56),this._roundedSelection=u.get(88),this._typicalHalfwidthCharacterWidth=u.get(40).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(a){const u=this._context.configuration.options;return this._lineHeight=u.get(56),this._roundedSelection=u.get(88),this._typicalHalfwidthCharacterWidth=u.get(40).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(a){return this._selections=a.selections.slice(0),!0}onDecorationsChanged(a){return!0}onFlushed(a){return!0}onLinesChanged(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollTopChanged}onZonesChanged(a){return!0}_visibleRangesHaveGaps(a){for(let u=0,c=a.length;u<c;u++)if(a[u].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(a,u,c){const d=this._typicalHalfwidthCharacterWidth/4;let r=null,n=null;if(c&&c.length>0&&u.length>0){const o=u[0].lineNumber;if(o===a.startLineNumber)for(let l=0;!r&&l<c.length;l++)c[l].lineNumber===o&&(r=c[l].ranges[0]);const t=u[u.length-1].lineNumber;if(t===a.endLineNumber)for(let l=c.length-1;!n&&l>=0;l--)c[l].lineNumber===t&&(n=c[l].ranges[0]);r&&!r.startStyle&&(r=null),n&&!n.startStyle&&(n=null)}for(let o=0,t=u.length;o<t;o++){const l=u[o].ranges[0],h=l.left,m=l.left+l.width,C={top:0,bottom:0},g={top:0,bottom:0};if(o>0){const f=u[o-1].ranges[0].left,b=u[o-1].ranges[0].left+u[o-1].ranges[0].width;_(h-f)<d?C.top=2:h>f&&(C.top=1),_(m-b)<d?g.top=2:f<m&&m<b&&(g.top=1)}else r&&(C.top=r.startStyle.top,g.top=r.endStyle.top);if(o+1<t){const f=u[o+1].ranges[0].left,b=u[o+1].ranges[0].left+u[o+1].ranges[0].width;_(h-f)<d?C.bottom=2:f<h&&h<b&&(C.bottom=1),_(m-b)<d?g.bottom=2:m<b&&(g.bottom=1)}else n&&(C.bottom=n.startStyle.bottom,g.bottom=n.endStyle.bottom);l.startStyle=C,l.endStyle=g}}_getVisibleRangesWithStyle(a,u,c){const r=(u.linesVisibleRangesForRange(a,!0)||[]).map(v);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(u.visibleRange,r,c),r}_createSelectionPiece(a,u,c,d,r){return'<div class="cslr '+c+'" style="top:'+a.toString()+"px;left:"+d.toString()+"px;width:"+r.toString()+"px;height:"+u+'px;"></div>'}_actualRenderOneSelection(a,u,c,d){if(d.length===0)return;const r=!!d[0].ranges[0].startStyle,n=this._lineHeight.toString(),o=(this._lineHeight-1).toString(),t=d[0].lineNumber,l=d[d.length-1].lineNumber;for(let h=0,m=d.length;h<m;h++){const C=d[h],g=C.lineNumber,f=g-u,b=c&&(g===l||g===t)?o:n,L=c&&g===t?1:0;let N="",D="";for(let I=0,T=C.ranges.length;I<T;I++){const A=C.ranges[I];if(r){const O=A.startStyle,P=A.endStyle;if(O.top===1||O.bottom===1){N+=this._createSelectionPiece(L,b,i.SELECTION_CLASS_NAME,A.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(F+=" "+i.SELECTION_TOP_RIGHT),O.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_RIGHT),N+=this._createSelectionPiece(L,b,F,A.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(P.top===1||P.bottom===1){N+=this._createSelectionPiece(L,b,i.SELECTION_CLASS_NAME,A.left+A.width,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;P.top===1&&(F+=" "+i.SELECTION_TOP_LEFT),P.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_LEFT),N+=this._createSelectionPiece(L,b,F,A.left+A.width,i.ROUNDED_PIECE_WIDTH)}}let R=i.SELECTION_CLASS_NAME;if(r){const O=A.startStyle,P=A.endStyle;O.top===0&&(R+=" "+i.SELECTION_TOP_LEFT),O.bottom===0&&(R+=" "+i.SELECTION_BOTTOM_LEFT),P.top===0&&(R+=" "+i.SELECTION_TOP_RIGHT),P.bottom===0&&(R+=" "+i.SELECTION_BOTTOM_RIGHT)}D+=this._createSelectionPiece(L,b,R,A.left,A.width)}a[f][0]+=N,a[f][1]+=D}}prepareRender(a){const u=[],c=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber;for(let n=c;n<=d;n++){const o=n-c;u[o]=["",""]}const r=[];for(let n=0,o=this._selections.length;n<o;n++){const t=this._selections[n];if(t.isEmpty()){r[n]=null;continue}const l=this._getVisibleRangesWithStyle(t,a,this._previousFrameVisibleRangesWithStyle[n]);r[n]=l,this._actualRenderOneSelection(u,c,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=u.map(([n,o])=>n+o)}render(a,u){if(!this._renderResult)return"";const c=u-a;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,M.registerThemingParticipant((s,a)=>{const u=s.getColor(k.editorSelectionBackground);u&&a.addRule(`.monaco-editor .focused .selected-text { background-color: ${u}; }`);const c=s.getColor(k.editorInactiveSelection);c&&a.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const d=s.getColor(k.editorSelectionForeground);d&&!d.isTransparent()&&a.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function _(s){return s<0?-s:s}}),define(Q[48],J([0,1,470,29,22,11]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=M.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},S.localize(0,null)),e.editorLineHighlightBorder=M.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},S.localize(1,null)),e.editorRangeHighlight=M.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},S.localize(2,null),!0),e.editorRangeHighlightBorder=M.registerColor("editor.rangeHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},S.localize(3,null),!0),e.editorSymbolHighlight=M.registerColor("editor.symbolHighlightBackground",{dark:M.editorFindMatchHighlight,light:M.editorFindMatchHighlight,hc:null},S.localize(4,null),!0),e.editorSymbolHighlightBorder=M.registerColor("editor.symbolHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},S.localize(5,null),!0),e.editorCursorForeground=M.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hc:k.Color.white},S.localize(6,null)),e.editorCursorBackground=M.registerColor("editorCursor.background",null,S.localize(7,null)),e.editorWhitespaces=M.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},S.localize(8,null)),e.editorIndentGuides=M.registerColor("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},S.localize(9,null)),e.editorActiveIndentGuides=M.registerColor("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},S.localize(10,null)),e.editorLineNumbers=M.registerColor("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:k.Color.white},S.localize(11,null));const w=M.registerColor("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:M.activeContrastBorder},S.localize(12,null),!1,S.localize(13,null));e.editorActiveLineNumber=M.registerColor("editorLineNumber.activeForeground",{dark:w,light:w,hc:w},S.localize(14,null)),e.editorRuler=M.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hc:k.Color.white},S.localize(15,null)),e.editorCodeLensForeground=M.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},S.localize(16,null)),e.editorBracketMatchBackground=M.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},S.localize(17,null)),e.editorBracketMatchBorder=M.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:M.contrastBorder},S.localize(18,null)),e.editorOverviewRulerBorder=M.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},S.localize(19,null)),e.editorOverviewRulerBackground=M.registerColor("editorOverviewRuler.background",null,S.localize(20,null)),e.editorGutter=M.registerColor("editorGutter.background",{dark:M.editorBackground,light:M.editorBackground,hc:M.editorBackground},S.localize(21,null)),e.editorUnnecessaryCodeBorder=M.registerColor("editorUnnecessaryCode.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},S.localize(22,null)),e.editorUnnecessaryCodeOpacity=M.registerColor("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hc:null},S.localize(23,null)),e.ghostTextBorder=M.registerColor("editorGhostText.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},S.localize(24,null)),e.ghostTextForeground=M.registerColor("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hc:null},S.localize(25,null));const p=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=M.registerColor("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hc:p},S.localize(26,null),!0),e.overviewRulerError=M.registerColor("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},S.localize(27,null)),e.overviewRulerWarning=M.registerColor("editorOverviewRuler.warningForeground",{dark:M.editorWarningForeground,light:M.editorWarningForeground,hc:M.editorWarningBorder},S.localize(28,null)),e.overviewRulerInfo=M.registerColor("editorOverviewRuler.infoForeground",{dark:M.editorInfoForeground,light:M.editorInfoForeground,hc:M.editorInfoBorder},S.localize(29,null)),y.registerThemingParticipant((v,i)=>{const _=v.getColor(M.editorBackground);_&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${_}; }`);const s=v.getColor(M.editorForeground);s&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${s}; }`);const a=v.getColor(e.editorGutter);a&&i.addRule(`.monaco-editor .margin { background-color: ${a}; }`);const u=v.getColor(e.editorRangeHighlight);u&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${u}; }`);const c=v.getColor(e.editorRangeHighlightBorder);c&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${c}; }`);const d=v.getColor(e.editorSymbolHighlight);d&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${d}; }`);const r=v.getColor(e.editorSymbolHighlightBorder);r&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${r}; }`);const n=v.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(Q[602],J([0,1,95,48,19,11,21,325]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let p=!0;class v extends S.DynamicViewOverlay{constructor(a){super();this._context=a;const u=this._context.configuration.options,c=u.get(128);this._lineHeight=u.get(56),this._renderLineHighlight=u.get(83),this._renderLineHighlightOnlyWhenFocus=u.get(84),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new w.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let a=!1;const u=p?this._selections.slice(0,1):this._selections,c=u.map(r=>r.positionLineNumber);c.sort((r,n)=>r-n),M.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,a=!0);const d=u.every(r=>r.isEmpty());return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,a=!0),a}onThemeChanged(a){return this._readFromSelections()}onConfigurationChanged(a){const u=this._context.configuration.options,c=u.get(128);return this._lineHeight=u.get(56),this._renderLineHighlight=u.get(83),this._renderLineHighlightOnlyWhenFocus=u.get(84),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(a){return this._selections=a.selections,this._readFromSelections()}onFlushed(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollWidthChanged||a.scrollTopChanged}onZonesChanged(a){return!0}onFocusChanged(a){return this._renderLineHighlightOnlyWhenFocus?(this._focused=a.isFocused,!0):!1}prepareRender(a){if(!this._shouldRenderThis()){this._renderData=null;return}const u=this._renderOne(a),c=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let n=0;const o=[];for(let t=c;t<=d;t++){const l=t-c;for(;n<r&&this._cursorLineNumbers[n]<t;)n++;n<r&&this._cursorLineNumbers[n]===t?o[l]=u:o[l]=""}this._renderData=o}render(a,u){if(!this._renderData)return"";const c=u-a;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=v;class i extends v{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(a.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class _ extends v{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=_,y.registerThemingParticipant((s,a)=>{p=!1;const u=s.getColor(k.editorLineHighlight);if(u&&(a.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${u}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${u}; border: none; }`)),!u||u.isTransparent()||s.defines(k.editorLineHighlightBorder)){const c=s.getColor(k.editorLineHighlightBorder);c&&(p=!0,a.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),s.type==="hc"&&(a.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(Q[603],J([0,1,95,13,48,11,328]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class w extends S.DynamicViewOverlay{constructor(v){super();this._context=v,this._primaryLineNumber=0;const i=this._context.configuration.options,_=i.get(129),s=i.get(40);this._lineHeight=i.get(56),this._spaceWidth=s.spaceWidth,this._enabled=i.get(81),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=_.wrappingColumn===-1?-1:_.wrappingColumn*s.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const i=this._context.configuration.options,_=i.get(129),s=i.get(40);return this._lineHeight=i.get(56),this._spaceWidth=s.spaceWidth,this._enabled=i.get(81),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=_.wrappingColumn===-1?-1:_.wrappingColumn*s.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(v){const i=v.selections[0],_=i.isEmpty()?i.positionLineNumber:0;return this._primaryLineNumber!==_?(this._primaryLineNumber=_,!0):!1}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}onLanguageConfigurationChanged(v){return!0}prepareRender(v){if(!this._enabled){this._renderResult=null;return}const i=v.visibleRange.startLineNumber,_=v.visibleRange.endLineNumber,{indentSize:s}=this._context.model.getTextModelOptions(),a=s*this._spaceWidth,u=v.scrollWidth,c=this._lineHeight,d=this._context.model.getLinesIndentGuides(i,_);let r=0,n=0,o=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const l=this._context.model.getActiveIndentGuide(this._primaryLineNumber,i,_);r=l.startLineNumber,n=l.endLineNumber,o=l.indent}const t=[];for(let l=i;l<=_;l++){const h=r<=l&&l<=n,m=l-i,C=d[m];let g="";if(C>=1){const f=v.visibleRangeForPosition(new k.Position(l,1));let b=f?f.left:0;for(let L=1;L<=C&&(g+=`<div class="${h&&L===o?"cigra":"cigr"}" style="left:${b}px;height:${c}px;width:${a}px"></div>`,b+=a,!(b>u||this._maxIndentLeft>0&&b>this._maxIndentLeft));L++);}t[m]=g}this._renderResult=t}render(v,i){if(!this._renderResult)return"";const _=i-v;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}e.IndentGuidesOverlay=w,y.registerThemingParticipant((p,v)=>{const i=p.getColor(M.editorIndentGuides);i&&v.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const _=p.getColor(M.editorActiveIndentGuides)||i;_&&v.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${_} inset; }`)})}),define(Q[258],J([0,1,17,95,13,48,11,329]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class p extends k.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new M.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(56);const _=i.get(57);this._renderLineNumbers=_.renderType,this._renderCustomLineNumbers=_.renderFn,this._renderFinalNewline=i.get(82);const s=i.get(128);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const _=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(_);let s=!1;return this._activeLineNumber!==_.lineNumber&&(this._activeLineNumber=_.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const _=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new M.Position(i,1));if(_.column!==1)return"";const s=_.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const a=Math.abs(this._lastCursorModelPosition.lineNumber-s);return a===0?'<span class="relative-current-line-number">'+s+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10==0?String(s):"":String(s)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const _=S.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",s=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,u='<div class="'+p.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),d=[];for(let r=s;r<=a;r++){const n=r-s;if(!this._renderFinalNewline&&r===c&&this._context.model.getLineLength(r)===0){d[n]="";continue}const o=this._getLineRenderLineNumber(r);o?r===this._activeLineNumber?d[n]='<div class="active-line-number '+p.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+o+"</div>":d[n]=u+o+"</div>":d[n]=""}this._renderResult=d}render(i,_){if(!this._renderResult)return"";const s=_-i;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=p,p.CLASS_NAME="line-numbers",w.registerThemingParticipant((v,i)=>{const _=v.getColor(y.editorLineNumbers);_&&i.addRule(`.monaco-editor .line-numbers { color: ${_}; }`);const s=v.getColor(y.editorActiveLineNumber);s&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${s}; }`)})}),define(Q[604],J([0,1,455,38,30,17,8,66,166,215,46,258,224,35,107,13,3,21,128,324]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(b,L,N){this.top=b,this.left=L,this.width=N}setWidth(b){return new t(this.top,this.left,b)}}const l=k.isFirefox;class h extends _.ViewPart{constructor(b,L,N){super(b);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._viewHelper=N,this._scrollLeft=0,this._scrollTop=0;const D=this._context.configuration.options,I=D.get(128);this._setAccessibilityOptions(D),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=D.get(40),this._lineHeight=D.get(56),this._emptySelectionClipboard=D.get(30),this._copyWithSyntaxHighlighting=D.get(19),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=M.createFastDomNode(document.createElement("textarea")),_.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(D)),this.textArea.setAttribute("tabindex",String(D.get(110))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",S.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),D.get(28)&&D.get(78)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=M.createFastDomNode(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:R=>this._context.model.getLineMaxColumn(R),getValueInRange:(R,O)=>this._context.model.getValueInRange(R,O)},A={getDataToCopy:R=>{const O=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,y.isWindows),P=this._context.model.getEOL(),F=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),E=Array.isArray(O)?O:null,x=Array.isArray(O)?O.join(P):O;let H,K=null;if(R&&(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&x.length<65536)){const q=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);q&&(H=q.html,K=q.mode)}return{isFromEmptySelection:F,multicursorText:E,text:x,html:H,mode:K}},getScreenReaderContent:R=>{if(this._accessibilitySupport===1){if(y.isMacintosh){const O=this._selections[0];if(O.isEmpty()){const P=O.getStartPosition();let F=this._getWordBeforePosition(P);if(F.length===0&&(F=this._getCharacterBeforePosition(P)),F.length>0)return new i.TextAreaState(F,F.length,F.length,P,P)}}return i.TextAreaState.EMPTY}if(k.isAndroid){const O=this._selections[0];if(O.isEmpty()){const P=O.getStartPosition(),[F,E]=this._getAndroidWordAtPosition(P);if(F.length>0)return new i.TextAreaState(F,E,E,P,P)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(R,T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(R,O,P)=>this._context.model.deduceModelPositionRelativeToViewPosition(R,O,P)};this._textAreaInput=this._register(new v.TextAreaInput(A,this.textArea)),this._register(this._textAreaInput.onKeyDown(R=>{this._viewController.emitKeyDown(R)})),this._register(this._textAreaInput.onKeyUp(R=>{this._viewController.emitKeyUp(R)})),this._register(this._textAreaInput.onPaste(R=>{let O=!1,P=null,F=null;R.metadata&&(O=this._emptySelectionClipboard&&!!R.metadata.isFromEmptySelection,P=typeof R.metadata.multicursorText!="undefined"?R.metadata.multicursorText:null,F=R.metadata.mode),this._viewController.paste(R.text,O,P,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(R=>{R.replacePrevCharCnt||R.replaceNextCharCnt||R.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${R.text}>>, ${R.replacePrevCharCnt}, ${R.replaceNextCharCnt}, ${R.positionDelta}`),this._viewController.compositionType(R.text,R.replacePrevCharCnt,R.replaceNextCharCnt,R.positionDelta)):(i._debugComposition&&console.log(` => type: <<${R.text}>>`),this._viewController.type(R.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(R=>{this._viewController.setSelection(R)})),this._register(this._textAreaInput.onCompositionStart(R=>{const O=this._selections[0].startLineNumber,P=this._selections[0].startColumn+R.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new r.Range(O,P,O,P),0,1);const F=this._viewHelper.visibleRangeForPositionRelativeToEditor(O,P);F&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(O),F.left,l?0:1),this._render()),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(R=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(m(R.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(b){const L='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.model.getLineContent(b.lineNumber),D=c.getMapForWordSeparators(L);let I=!0,T=b.column,A=!0,R=b.column,O=0;for(;O<50&&(I||A);){if(I&&T<=1&&(I=!1),I){const P=N.charCodeAt(T-2);D.get(P)!==0?I=!1:T--}if(A&&R>N.length&&(A=!1),A){const P=N.charCodeAt(R-1);D.get(P)!==0?A=!1:R++}O++}return[N.substring(T-1,R-1),b.column-T]}_getWordBeforePosition(b){const L=this._context.model.getLineContent(b.lineNumber),N=c.getMapForWordSeparators(this._context.configuration.options.get(114));let D=b.column,I=0;for(;D>1;){const T=L.charCodeAt(D-2);if(N.get(T)!==0||I>50)return L.substring(D-1,b.column-1);I++,D--}return L.substring(0,b.column-1)}_getCharacterBeforePosition(b){if(b.column>1){const N=this._context.model.getLineContent(b.lineNumber).charAt(b.column-2);if(!w.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(b){return b.get(2)===1?S.localize(1,null,y.isLinux?"Shift+Alt+F1":"Alt+F1"):b.get(4)}_setAccessibilityOptions(b){this._accessibilitySupport=b.get(2);const L=b.get(3);this._accessibilitySupport===2&&L===u.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=L}onConfigurationChanged(b){const L=this._context.configuration.options,N=L.get(128);return this._setAccessibilityOptions(L),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=L.get(40),this._lineHeight=L.get(56),this._emptySelectionClipboard=L.get(30),this._copyWithSyntaxHighlighting=L.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(110))),(b.hasChanged(28)||b.hasChanged(78))&&(L.get(28)&&L.get(78)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),b.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(b){return this._selections=b.selections.slice(0),this._modelSelections=b.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return this._scrollLeft=b.scrollLeft,this._scrollTop=b.scrollTop,!0}onZonesChanged(b){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(b){b.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",b.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),b.role&&this.textArea.setAttribute("role",b.role)}prepareRender(b){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=b.visibleRangeForPosition(this._primaryCursorPosition)}render(b){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const b=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(b<this._contentLeft||b>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(y.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,b,l?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,L,b,l?0:1,l?0:1)}_renderInsideEditor(b,L,N,D,I){this._lastRenderPosition=b;const T=this.textArea,A=this.textAreaCover;p.Configuration.applyFontInfo(T,this._fontInfo),T.setTop(L),T.setLeft(N),T.setWidth(D),T.setHeight(I),A.setTop(0),A.setLeft(0),A.setWidth(0),A.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const b=this.textArea,L=this.textAreaCover;if(p.Configuration.applyFontInfo(b,this._fontInfo),b.setTop(0),b.setLeft(0),L.setTop(0),L.setLeft(0),l){b.setWidth(0),b.setHeight(0),L.setWidth(0),L.setHeight(0);return}b.setWidth(1),b.setHeight(1),L.setWidth(1),L.setHeight(1);const N=this._context.configuration.options;N.get(46)?L.setClassName("monaco-editor-background textAreaCover "+a.Margin.OUTER_CLASS_NAME):N.get(57).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function m(f,b){const N=document.createElement("canvas").getContext("2d");N.font=C(b);const D=N.measureText(f);return k.isFirefox?D.width+2:D.width}function C(f){return g("normal",f.fontWeight,f.fontSize,f.lineHeight,f.fontFamily)}function g(f,b,L,N,D){return`${f} normal ${b} ${L}px / ${N}px ${D}`}}),define(Q[605],J([0,1,30,29,46,13,18,48]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class v{constructor(s,a){const u=s.options;this.lineHeight=u.get(56),this.pixelRatio=u.get(126),this.overviewRulerLanes=u.get(71),this.renderBorder=u.get(70);const c=a.getColor(p.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=u.get(48);const d=a.getColor(p.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=a.type;const r=u.get(62),n=r.enabled,o=r.side,t=n?a.getColor(p.editorOverviewRulerBackground)||w.TokenizationRegistry.getDefaultBackground():null;t===null||o==="left"?this.backgroundColor=null:this.backgroundColor=k.Color.Format.CSS.formatHex(t);const h=u.get(128).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[m,C]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=C}_initLanes(s,a,u){const c=a-s;if(u>=3){const d=Math.floor(c/3),r=Math.floor(c/3),n=c-d-r,o=s,t=o+d,l=o+d+n;return[[0,o,t,o,l,o,t,o],[0,d,n,d+n,r,d+n+r,n+r,d+n+r]]}else if(u===2){const d=Math.floor(c/2),r=c-d,n=s,o=n+d;return[[0,n,n,n,o,n,n,n],[0,d,d,d,r,d+r,d+r,d+r]]}else{const d=s,r=c;return[[0,d,d,d,d,d,d,d],[0,r,r,r,r,r,r,r]]}}equals(s){return this.lineHeight===s.lineHeight&&this.pixelRatio===s.pixelRatio&&this.overviewRulerLanes===s.overviewRulerLanes&&this.renderBorder===s.renderBorder&&this.borderColor===s.borderColor&&this.hideCursor===s.hideCursor&&this.cursorColor===s.cursorColor&&this.themeType===s.themeType&&this.backgroundColor===s.backgroundColor&&this.top===s.top&&this.right===s.right&&this.domWidth===s.domWidth&&this.domHeight===s.domHeight&&this.canvasWidth===s.canvasWidth&&this.canvasHeight===s.canvasHeight}}class i extends M.ViewPart{constructor(s){super(s);this._domNode=S.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=w.TokenizationRegistry.onDidChange(a=>{a.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(s){const a=new v(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(a)?!1:(this._settings=a,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,s&&this._render(),!0)}onConfigurationChanged(s){return this._updateSettings(!1)}onCursorStateChanged(s){this._cursorPositions=[];for(let a=0,u=s.selections.length;a<u;a++)this._cursorPositions[a]=s.selections[a].getPosition();return this._cursorPositions.sort(y.Position.compare),!0}onDecorationsChanged(s){return!!s.affectsOverviewRuler}onFlushed(s){return!0}onScrollChanged(s){return s.scrollHeightChanged}onZonesChanged(s){return!0}onThemeChanged(s){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(s){}render(s){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const s=this._settings.canvasWidth,a=this._settings.canvasHeight,u=this._settings.lineHeight,c=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=a/d,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),o=6*this._settings.pixelRatio|0,t=o/2|0,l=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?l.clearRect(0,0,s,a):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,s,a));const h=this._settings.x,m=this._settings.w,C=Object.keys(n);C.sort();for(let g=0,f=C.length;g<f;g++){const b=C[g],L=n[b];l.fillStyle=b;let N=0,D=0,I=0;for(let T=0,A=L.length;T<A;T++){const R=L[3*T],O=L[3*T+1],P=L[3*T+2];let F=c.getVerticalOffsetForLineNumber(O)*r|0,E=(c.getVerticalOffsetForLineNumber(P)+u)*r|0;if(E-F<o){let H=(F+E)/2|0;H<t?H=t:H+t>a&&(H=a-t),F=H-t,E=H+t}F>I+1||R!==N?(T!==0&&l.fillRect(h[N],D,m[N],I-D),N=R,D=F,I=E):E>I&&(I=E)}l.fillRect(h[N],D,m[N],I-D)}if(!this._settings.hideCursor&&this._settings.cursorColor){const g=2*this._settings.pixelRatio|0,f=g/2|0,b=this._settings.x[7],L=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let N=-100,D=-100;for(let I=0,T=this._cursorPositions.length;I<T;I++){const A=this._cursorPositions[I];let R=c.getVerticalOffsetForLineNumber(A.lineNumber)*r|0;R<f?R=f:R+f>a&&(R=a-f);const O=R-f,P=O+g;O>D+1?(I!==0&&l.fillRect(b,N,L,D-N),N=O,D=P):P>D&&(D=P)}l.fillRect(b,N,L,D-N)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,a),l.stroke(),l.moveTo(0,0),l.lineTo(s,0),l.stroke())}}e.DecorationsOverviewRuler=i}),define(Q[606],J([0,1,30,46,48,11,335]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class w extends k.ViewPart{constructor(v){super(v);this.domNode=S.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(89),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const i=this._context.configuration.options;return this._rulers=i.get(89),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,i=this._rulers.length;if(v===i)return;if(v<i){const{tabSize:s}=this._context.model.getTextModelOptions(),a=s;let u=i-v;for(;u>0;){const c=S.createFastDomNode(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(a),this.domNode.appendChild(c),this._renderedRulers.push(c),u--}return}let _=v-i;for(;_>0;){const s=this._renderedRulers.pop();this.domNode.removeChild(s),_--}}render(v){this._ensureRulersCount();for(let i=0,_=this._rulers.length;i<_;i++){const s=this._renderedRulers[i],a=this._rulers[i];s.setBoxShadow(a.color?`1px 0 0 0 ${a.color} inset`:""),s.setHeight(Math.min(v.scrollHeight,1e6)),s.setLeft(a.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=w,y.registerThemingParticipant((p,v)=>{const i=p.getColor(M.editorRuler);i&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(Q[607],J([0,1,30,15,46,579,35,48,11,338]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends M.ViewPart{constructor(s){super(s);const a=this._context.configuration.options;this._readOnly=a.get(78),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new y.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=S.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(s){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(s){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(s){const a=this._context.configuration.options;this._readOnly=a.get(78),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(s);for(let u=0,c=this._secondaryCursors.length;u<c;u++)this._secondaryCursors[u].onConfigurationChanged(s);return!0}_onCursorPositionChanged(s,a){if(this._primaryCursor.onCursorPositionChanged(s),this._updateBlinking(),this._secondaryCursors.length<a.length){const u=a.length-this._secondaryCursors.length;for(let c=0;c<u;c++){const d=new y.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>a.length){const u=this._secondaryCursors.length-a.length;for(let c=0;c<u;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let u=0;u<a.length;u++)this._secondaryCursors[u].onCursorPositionChanged(a[u])}onCursorStateChanged(s){const a=[];for(let c=0,d=s.selections.length;c<d;c++)a[c]=s.selections[c].getPosition();this._onCursorPositionChanged(a[0],a.slice(1));const u=s.selections[0].isEmpty();return this._selectionIsEmpty!==u&&(this._selectionIsEmpty=u,this._updateDomClassName()),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onFocusChanged(s){return this._editorHasFocus=s.isFocused,this._updateBlinking(),!1}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return!0}onTokensChanged(s){const a=u=>{for(let c=0,d=s.ranges.length;c<d;c++)if(s.ranges[c].fromLineNumber<=u.lineNumber&&u.lineNumber<=s.ranges[c].toLineNumber)return!0;return!1};if(a(this._primaryCursor.getPosition()))return!0;for(const u of this._secondaryCursors)if(a(u.getPosition()))return!0;return!1}onZonesChanged(s){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const s=this._getCursorBlinking(),a=s===0,u=s===5;a?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!a&&!u&&(s===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let s="cursors-layer";switch(this._selectionIsEmpty||(s+=" has-selection"),this._cursorStyle){case w.TextEditorCursorStyle.Line:s+=" cursor-line-style";break;case w.TextEditorCursorStyle.Block:s+=" cursor-block-style";break;case w.TextEditorCursorStyle.Underline:s+=" cursor-underline-style";break;case w.TextEditorCursorStyle.LineThin:s+=" cursor-line-thin-style";break;case w.TextEditorCursorStyle.BlockOutline:s+=" cursor-block-outline-style";break;case w.TextEditorCursorStyle.UnderlineThin:s+=" cursor-underline-thin-style";break;default:s+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:s+=" cursor-blink";break;case 2:s+=" cursor-smooth";break;case 3:s+=" cursor-phase";break;case 4:s+=" cursor-expand";break;case 5:s+=" cursor-solid";break;default:s+=" cursor-solid"}else s+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(s+=" cursor-smooth-caret-animation"),s}_show(){this._primaryCursor.show();for(let s=0,a=this._secondaryCursors.length;s<a;s++)this._secondaryCursors[s].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let s=0,a=this._secondaryCursors.length;s<a;s++)this._secondaryCursors[s].hide();this._isVisible=!1}prepareRender(s){this._primaryCursor.prepareRender(s);for(let a=0,u=this._secondaryCursors.length;a<u;a++)this._secondaryCursors[a].prepareRender(s)}render(s){let a=[],u=0;const c=this._primaryCursor.render(s);c&&(a[u++]=c);for(let d=0,r=this._secondaryCursors.length;d<r;d++){const n=this._secondaryCursors[d].render(s);n&&(a[u++]=n)}this._renderData=a}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,v.registerThemingParticipant((_,s)=>{const a=_.getColor(p.editorCursorForeground);if(a){let u=_.getColor(p.editorCursorBackground);u||(u=a.opposite()),s.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${a}; border-color: ${a}; color: ${u}; }`),_.type==="hc"&&s.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${u}; border-right: 1px solid ${u}; }`)}})}),define(Q[608],J([0,1,86,2,52,11,48,36,3,44,6,22]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;function a(d){return d.toString()}class u extends k.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register(k.toDisposable(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,n){const o=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(o,n);for(let l=0;l<t.length;l++)this._markersData.set(t[l],r[l]);return o.length!==0||t.length!==0}getMarker(r){return this._markersData.get(r.id)}}let c=class extends k.Disposable{constructor(r,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new _.Emitter),this._markerDecorations=new Map,r.getModels().forEach(o=>this._onModelAdded(o)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,n){const o=this._markerDecorations.get(a(r));return o&&o.getMarker(n)||null}_handleMarkerChange(r){r.forEach(n=>{const o=this._markerDecorations.get(a(n));o&&this._updateDecorations(o)})}_onModelAdded(r){const n=new u(r);this._markerDecorations.set(a(r.uri),n),this._updateDecorations(n)}_onModelRemoved(r){const n=this._markerDecorations.get(a(r.uri));n&&(n.dispose(),this._markerDecorations.delete(a(r.uri))),(r.uri.scheme===i.Schemas.inMemory||r.uri.scheme===i.Schemas.internal||r.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[r.uri]))}_updateDecorations(r){const n=this._markerService.read({resource:r.model.uri,take:500});let o=n.map(t=>({range:this._createDecorationRange(r.model,t),options:this._createDecorationOption(t)}));r.update(n,o)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,n){let o=v.Range.lift(n);if(n.severity===S.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(o=o.setEndPosition(o.startLineNumber,o.startColumn+2)),o=r.validateRange(o),o.isEmpty()){let t=r.getWordAtPosition(o.getStartPosition());if(t)o=new v.Range(o.startLineNumber,t.startColumn,o.endLineNumber,t.endColumn);else{let l=r.getLineLastNonWhitespaceColumn(o.startLineNumber)||r.getLineMaxColumn(o.startLineNumber);l===1||(o.endColumn>=l?o=new v.Range(o.startLineNumber,l-1,o.endLineNumber,l):o=new v.Range(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&o.startLineNumber===o.endLineNumber){let t=r.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<o.endColumn&&(o=new v.Range(o.startLineNumber,t,o.endLineNumber,o.endColumn),n.startColumn=t)}return o}_createDecorationOption(r){let n,o,t,l,h;switch(r.severity){case S.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?n=void 0:this._hasMarkerTag(r,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case S.MarkerSeverity.Warning:n="squiggly-warning",o=y.themeColorFromId(w.overviewRulerWarning),t=20,h={color:y.themeColorFromId(s.minimapWarning),position:M.MinimapPosition.Inline};break;case S.MarkerSeverity.Info:n="squiggly-info",o=y.themeColorFromId(w.overviewRulerInfo),t=10;break;case S.MarkerSeverity.Error:default:n="squiggly-error",o=y.themeColorFromId(w.overviewRulerError),t=30,h={color:y.themeColorFromId(s.minimapError),position:M.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:o,position:M.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:l}}_hasMarkerTag(r,n){return r.tags?r.tags.indexOf(n)>=0:!1}};c=Me([pe(0,p.IModelService),pe(1,S.IMarkerService)],c),e.MarkerDecorationsService=c}),define(Q[609],J([0,1,7,92,6,2,31,477,37,11,22,61,27,344]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var u;(function(d){d.Hidden={type:0};class r{constructor(o,t,l,h){this.actions=o,this.trigger=t,this.editorPosition=l,this.widgetPosition=h,this.type=1}}d.Showing=r})(u||(u={}));let c=class Ot extends y.Disposable{constructor(r,n,o,t){super();this._editor=r,this._quickFixActionId=n,this._preferredFixActionId=o,this._keybindingService=t,this._onClick=this._register(new M.Emitter),this.onClick=this._onClick.event,this._state=u.Hidden,this._domNode=document.createElement("div"),this._domNode.className=a.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(l=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),s.Gesture.ignoreTarget(this._domNode),this._register(S.addStandardDisposableGenericMouseDownListner(this._domNode,l=>{if(this.state.type!==1)return;this._editor.focus(),l.preventDefault();const{top:h,height:m}=S.getDomNodePagePosition(this._domNode),C=this._editor.getOption(56);let g=Math.floor(C/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(g+=C),this._onClick.fire({x:l.posx,y:h+m+g,actions:this.state.actions,trigger:this.state.trigger})})),this._register(S.addDisposableListener(this._domNode,"mouseenter",l=>{if((l.buttons&1)!=1)return;this.hide();const h=new k.GlobalMouseMoveMonitor;h.startMonitoring(l.target,l.buttons,k.standardMouseMoveMerger,()=>{},()=>{h.dispose()})})),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(54)&&!this._editor.getOption(54).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,n,o){if(r.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(54).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:h,column:m}=l.validatePosition(o),C=l.getOptions().tabSize,g=t.get(40),f=l.getLineContent(h),b=w.TextModel.computeIndentLevel(f,C),L=g.spaceWidth*b>22,N=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let D=h;if(!L){if(h>1&&!N(h-1))D-=1;else if(!N(h+1))D+=1;else if(m*g.spaceWidth<22)return this.hide()}this.state=new u.Showing(r,n,o,{position:{lineNumber:D,column:1},preference:Ot._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=u.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...a.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...a.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=p.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...a.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...a.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=p.localize(1,null,r.getLabel()):this.title=p.localize(2,null)}set title(r){this._domNode.title=r}};c._posPref=[0],c=Me([pe(3,v.IKeybindingService)],c),e.LightBulbWidget=c,i.registerThemingParticipant((d,r)=>{var n;const o=(n=d.getColor(_.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=d.getColor(_.editorLightBulbForeground);t&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${o};
		}`);const l=d.getColor(_.editorLightBulbAutoFixForeground);l&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightbulbAutofix.cssSelector} {
			color: ${l};
			background-color: ${o};
		}`)})}),define(Q[610],J([0,1,7,3,31,48,22,11,104,345]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(c,d,r){this.afterLineNumber=c,this.heightInPx=d,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(c){this._lastHeight===void 0?this._lastHeight=c:this._lastHeight!==c&&(this._lastHeight=c,this._onHeight())}}class _{constructor(c,d,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=c,this._id=`codelens.widget-${_._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${d}`}withCommands(c,d){this._commands.clear();let r=[],n=!1;for(let o=0;o<c.length;o++){const t=c[o];if(!!t&&(n=!0,t.command)){const l=v.renderLabelWithIcons(t.command.title.trim());t.command.id?(r.push(S.$("a",{id:String(o),title:t.command.tooltip},...l)),this._commands.set(String(o),t.command)):r.push(S.$("span",{title:t.command.tooltip},...l)),o+1<c.length&&r.push(S.$("span",void 0,"\xA0|\xA0"))}}n?(S.reset(this._domNode,...r),this._isEmpty&&d&&this._domNode.classList.add("fadein"),this._isEmpty=!1):S.reset(this._domNode,S.$("span",void 0,"no commands"))}getCommand(c){return c.parentElement===this._domNode?this._commands.get(c.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(c){const d=this._editor.getModel().getLineFirstNonWhitespaceColumn(c);this._widgetPosition={position:{lineNumber:c,column:d},preference:[1]}}getPosition(){return this._widgetPosition||null}}_._idPool=0;class s{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(c,d){this._addDecorations.push(c),this._addDecorationsCallbacks.push(d)}removeDecoration(c){this._removeDecorations.push(c)}commit(c){let d=c.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,n=d.length;r<n;r++)this._addDecorationsCallbacks[r](d[r])}}e.CodeLensHelper=s;class a{constructor(c,d,r,n,o,t,l){this._isDisposed=!1,this._editor=d,this._className=r,this._data=c,this._decorationIds=[];let h,m=[];this._data.forEach((C,g)=>{C.symbol.command&&m.push(C.symbol),n.addDecoration({range:C.symbol.range,options:M.ModelDecorationOptions.EMPTY},f=>this._decorationIds[g]=f),h?h=k.Range.plusRange(h,C.symbol.range):h=k.Range.lift(C.symbol.range)}),this._viewZone=new i(h.startLineNumber-1,t,l),this._viewZoneId=o.addZone(this._viewZone),m.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(m,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new _(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(c,d){this._decorationIds.forEach(c.removeDecoration,c),this._decorationIds=[],d&&d.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((c,d)=>{const r=this._editor.getModel().getDecorationRange(c),n=this._data[d].symbol;return!!(r&&k.Range.isEmpty(n.range)===r.isEmpty())})}updateCodeLensSymbols(c,d){this._decorationIds.forEach(d.removeDecoration,d),this._decorationIds=[],this._data=c,this._data.forEach((r,n)=>{d.addDecoration({range:r.symbol.range,options:M.ModelDecorationOptions.EMPTY},o=>this._decorationIds[n]=o)})}updateHeight(c,d){this._viewZone.heightInPx=c,d.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(c){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let d=0;d<this._decorationIds.length;d++){const r=c.getDecorationRange(this._decorationIds[d]);r&&(this._data[d].symbol.range=r)}return this._data}updateCommands(c){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!0);for(let d=0;d<this._data.length;d++){const r=c[d];if(r){const{symbol:n}=this._data[d];n.command=r.command||n.command}}}getCommand(c){var d;return(d=this._contentWidget)===null||d===void 0?void 0:d.getCommand(c)}getLineNumber(){const c=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return c?c.startLineNumber:-1}update(c){if(this.isValid()){const d=this._editor.getModel().getDecorationRange(this._decorationIds[0]);d&&(this._viewZone.afterLineNumber=d.startLineNumber-1,c.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(d.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=a,p.registerThemingParticipant((u,c)=>{const d=u.getColor(y.editorCodeLensForeground);d&&(c.addRule(`.monaco-editor .codelens-decoration { color: ${d}; }`),c.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${d}; }`));const r=u.getColor(w.editorActiveLinkForeground);r&&(c.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${r} !important; }`),c.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${r} !important; }`))})}),define(Q[611],J([0,1,38,7,92,51,29,6,2,22,11,346]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const s=k.$;class a extends v.Disposable{constructor(l,h,m){super();this.model=h,this.domNode=s(".colorpicker-header"),k.append(l,this.domNode),this.pickedColorNode=k.append(this.domNode,s(".picked-color"));const C=k.append(this.domNode,s(".original-color"));C.style.backgroundColor=w.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=m.getColorTheme().getColor(i.editorHoverBackground)||w.Color.white,this._register(_.registerThemingParticipant((g,f)=>{this.backgroundColor=g.getColor(i.editorHoverBackground)||w.Color.white})),this._register(k.addDisposableListener(this.pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(C,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=w.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(l){this.pickedColorNode.style.backgroundColor=w.Color.Format.CSS.format(l)||"",this.pickedColorNode.classList.toggle("light",l.rgba.a<.5?this.backgroundColor.isLighter():l.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class u extends v.Disposable{constructor(l,h,m){super();this.model=h,this.pixelRatio=m,this.domNode=s(".colorpicker-body"),k.append(l,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new r(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:l,v:h}){const m=this.model.color.hsva;this.model.color=new w.Color(new w.HSVA(m.h,l,h,m.a))}onDidOpacityChange(l){const h=this.model.color.hsva;this.model.color=new w.Color(new w.HSVA(h.h,h.s,h.v,l))}onDidHueChange(l){const h=this.model.color.hsva,m=(1-l)*360;this.model.color=new w.Color(new w.HSVA(m===360?0:m,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=u;class c extends v.Disposable{constructor(l,h,m){super();this.model=h,this.pixelRatio=m,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=s(".saturation-wrap"),k.append(l,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",k.append(this.domNode,this.canvas),this.selection=s(".saturation-selection"),k.append(this.domNode,this.selection),this.layout(),this._register(k.addDisposableGenericMouseDownListner(this.domNode,C=>this.onMouseDown(C))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(l){this.monitor=this._register(new M.GlobalMouseMoveMonitor);const h=k.getDomNodePagePosition(this.domNode);l.target!==this.selection&&this.onDidChangePosition(l.offsetX,l.offsetY),this.monitor.startMonitoring(l.target,l.buttons,M.standardMouseMoveMerger,C=>this.onDidChangePosition(C.posx-h.left,C.posy-h.top),()=>null);const m=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),m.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(l,h){const m=Math.max(0,Math.min(1,l/this.width)),C=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(m,C),this._onDidChange.fire({s:m,v:C})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const l=this.model.color.hsva;this.paintSelection(l.s,l.v)}paint(){const l=this.model.color.hsva,h=new w.Color(new w.HSVA(l.h,1,1,1)),m=this.canvas.getContext("2d"),C=m.createLinearGradient(0,0,this.canvas.width,0);C.addColorStop(0,"rgba(255, 255, 255, 1)"),C.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),C.addColorStop(1,"rgba(255, 255, 255, 0)");const g=m.createLinearGradient(0,0,0,this.canvas.height);g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(1,"rgba(0, 0, 0, 1)"),m.rect(0,0,this.canvas.width,this.canvas.height),m.fillStyle=w.Color.Format.CSS.format(h),m.fill(),m.fillStyle=C,m.fill(),m.fillStyle=g,m.fill()}paintSelection(l,h){this.selection.style.left=`${l*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends v.Disposable{constructor(l,h){super();this.model=h,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=k.append(l,s(".strip")),this.overlay=k.append(this.domNode,s(".overlay")),this.slider=k.append(this.domNode,s(".slider")),this.slider.style.top="0px",this._register(k.addDisposableGenericMouseDownListner(this.domNode,m=>this.onMouseDown(m))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const l=this.getValue(this.model.color);this.updateSliderPosition(l)}onMouseDown(l){const h=this._register(new M.GlobalMouseMoveMonitor),m=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),l.target!==this.slider&&this.onDidChangeTop(l.offsetY),h.startMonitoring(l.target,l.buttons,M.standardMouseMoveMerger,g=>this.onDidChangeTop(g.posy-m.top),()=>null);const C=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),C.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(l){const h=Math.max(0,Math.min(1,1-l/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(l){this.slider.style.top=`${(1-l)*this.height}px`}}class r extends d{constructor(l,h){super(l,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(l){const{r:h,g:m,b:C}=l.rgba,g=new w.Color(new w.RGBA(h,m,C,1)),f=new w.Color(new w.RGBA(h,m,C,0));this.overlay.style.background=`linear-gradient(to bottom, ${g} 0%, ${f} 100%)`}getValue(l){return l.hsva.a}}class n extends d{constructor(l,h){super(l,h);this.domNode.classList.add("hue-strip")}getValue(l){return 1-l.hsva.h/360}}class o extends y.Widget{constructor(l,h,m,C){super();this.model=h,this.pixelRatio=m,this._register(S.onDidChangeZoomLevel(()=>this.layout()));const g=s(".colorpicker-widget");l.appendChild(g);const f=new a(g,this.model,C);this.body=new u(g,this.model,this.pixelRatio),this._register(f),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=o}),define(Q[612],J([0,1,3,52,31,22,11]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(_=>this._editor.getModel().getDecorationRange(_)).filter(_=>!!_);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const _=this._decorations.indexOf(i);return _>=0?_+1:1}getCurrentMatchesPosition(i){let _=this._editor.getModel().getDecorationsInRange(i);for(const s of _){const a=s.options;if(a===p._FIND_MATCH_DECORATION||a===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(i){let _=null,s=0;if(i)for(let a=0,u=this._decorations.length;a<u;a++){let c=this._editor.getModel().getDecorationRange(this._decorations[a]);if(i.equalsRange(c)){_=this._decorations[a],s=a+1;break}}return(this._highlightedDecorationId!==null||_!==null)&&this._editor.changeDecorations(a=>{if(this._highlightedDecorationId!==null&&(a.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),_!==null&&(this._highlightedDecorationId=_,a.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),_!==null){let u=this._editor.getModel().getDecorationRange(_);if(u.startLineNumber!==u.endLineNumber&&u.endColumn===1){let c=u.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(c);u=new S.Range(u.startLineNumber,u.startColumn,c,d)}this._rangeHighlightDecorationId=a.addDecoration(u,p._RANGE_HIGHLIGHT_DECORATION)}}),s}set(i,_){this._editor.changeDecorations(s=>{let a=p._FIND_MATCH_DECORATION,u=[];if(i.length>1e3){a=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/d,o=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,l=i[0].range.endLineNumber;for(let h=1,m=i.length;h<m;h++){const C=i[h].range;l+o>=C.startLineNumber?C.endLineNumber>l&&(l=C.endLineNumber):(u.push({range:new S.Range(t,1,l,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=C.startLineNumber,l=C.endLineNumber)}u.push({range:new S.Range(t,1,l,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(i.length);for(let d=0,r=i.length;d<r;d++)c[d]={range:i[d].range,options:a};this._decorations=s.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,u),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>s.removeDecoration(d)),this._findScopeDecorationIds=[]),(_==null?void 0:_.length)&&(this._findScopeDecorationIds=_.map(d=>s.addDecoration(d,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let _=this._decorations.length-1;_>=0;_--){let s=this._decorations[_],a=this._editor.getModel().getDecorationRange(s);if(!(!a||a.endLineNumber>i.lineNumber)){if(a.endLineNumber<i.lineNumber)return a;if(!(a.endColumn>i.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let _=0,s=this._decorations.length;_<s;_++){let a=this._decorations[_],u=this._editor.getModel().getDecorationRange(a);if(!(!u||u.startLineNumber<i.lineNumber)){if(u.startLineNumber>i.lineNumber)return u;if(!(u.startColumn<i.column))return u}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:w.themeColorFromId(y.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:w.themeColorFromId(y.minimapFindMatch),position:k.MinimapPosition.Inline}}),p._FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:w.themeColorFromId(y.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:w.themeColorFromId(y.minimapFindMatch),position:k.MinimapPosition.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:w.themeColorFromId(y.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=M.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=M.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(Q[143],J([0,1,15,2,94,13,3,21,168,612,411,412,16,19]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new a.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new a.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new a.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class d{constructor(n,o){this._toDispose=new k.DisposableStore,this._editor=n,this._state=o,this._isDisposed=!1,this._startSearchingTimer=new S.TimeoutTimer,this._decorations=new i.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new S.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,k.dispose(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},c)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,o){return o||n.getFullModelRange()}research(n,o){let t=null;typeof o!="undefined"?o!==null&&(Array.isArray(o)?t=o:t=[o]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(C=>{if(C.startLineNumber!==C.endLineNumber){let g=C.endLineNumber;return C.endColumn===1&&(g=g-1),new w.Range(C.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return C}));let l=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(l,t);const h=this._editor.getSelection();let m=this._decorations.getCurrentMatchesPosition(h);if(m===0&&l.length>0){const C=u.findFirstInSorted(l.map(g=>g.range),g=>w.Range.compareRangesUsingStarts(g,h)>=0);m=C>0?C-1+1:m}this._state.changeMatchInfo(m,this._decorations.getCount(),void 0),n&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let o=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(o,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let o=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:l}=n,h=this._editor.getModel();return o||l===1?(t===1?t=h.getLineCount():t--,l=h.getLineMaxColumn(t)):l--,new y.Position(t,l)}_moveToPrevMatch(n,o=!1){if(!this._state.canNavigateBack()){const b=this._decorations.matchAfterPosition(n);b&&this._setCurrentFindMatch(b);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let b=this._decorations.matchBeforePosition(n);b&&b.isEmpty()&&b.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),b=this._decorations.matchBeforePosition(n)),b&&this._setCurrentFindMatch(b);return}if(this._cannotFind())return;let t=this._decorations.getFindScope(),l=d._getSearchRange(this._editor.getModel(),t);l.getEndPosition().isBefore(n)&&(n=l.getEndPosition()),n.isBefore(l.getStartPosition())&&(n=l.getEndPosition());let{lineNumber:h,column:m}=n,C=this._editor.getModel(),g=new y.Position(h,m),f=C.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,!1);if(f&&f.range.isEmpty()&&f.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),f=C.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,!1)),!!f){if(!o&&!l.containsRange(f.range))return this._moveToPrevMatch(f.range.getStartPosition(),!0);this._setCurrentFindMatch(f.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let o=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:l}=n,h=this._editor.getModel();return o||l===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,l=1):l++,new y.Position(t,l)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let o=this._getNextMatch(n,!1,!0);o&&this._setCurrentFindMatch(o.range)}_getNextMatch(n,o,t,l=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),m=d._getSearchRange(this._editor.getModel(),h);m.getEndPosition().isBefore(n)&&(n=m.getStartPosition()),n.isBefore(m.getStartPosition())&&(n=m.getStartPosition());let{lineNumber:C,column:g}=n,f=this._editor.getModel(),b=new y.Position(C,g),L=f.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,o);return t&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(b)&&(b=this._nextSearchPosition(b),L=f.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,o)),L?!l&&!m.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),o,t,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?s.parseReplaceString(this._state.replaceString):s.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let n=this._getReplacePattern(),o=this._editor.getSelection(),t=this._getNextMatch(o.getStartPosition(),!0,!1);if(t)if(o.equalsRange(t.range)){let l=n.buildReplaceString(t.matches,this._state.preserveCase),h=new M.ReplaceCommand(o,l);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new y.Position(o.startLineNumber,o.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}_findMatches(n,o,t){const l=(n||[null]).map(h=>d._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,o,t)}replaceAll(){if(!this._hasMatches())return;const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}_largeReplaceAll(){const o=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null).parseSearchRequest();if(!o)return;let t=o.regex;if(!t.multiline){let L="mu";t.ignoreCase&&(L+="i"),t.global&&(L+="g"),t=new RegExp(t.source,L)}const l=this._editor.getModel(),h=l.getValue(1),m=l.getFullModelRange(),C=this._getReplacePattern();let g;const f=this._state.preserveCase;C.hasReplacementPatterns||f?g=h.replace(t,function(){return C.buildReplaceString(arguments,f)}):g=h.replace(t,C.buildReplaceString(null,f));let b=new M.ReplaceCommandThatPreservesSelection(m,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",b)}_regularReplaceAll(n){const o=this._getReplacePattern();let t=this._findMatches(n,o.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let m=0,C=t.length;m<C;m++)l[m]=o.buildReplaceString(t[m].matches,this._state.preserveCase);let h=new _.ReplaceAllCommand(this._editor.getSelection(),t.map(m=>m.range),l);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(h=>new p.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),l=this._editor.getSelection();for(let h=0,m=t.length;h<m;h++)if(t[h].equalsRange(l)){t=[l].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}_executeEditorCommand(n,o){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,o),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(Q[613],J([0,1,7,235,51,15,143,22,11]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends M.Widget{constructor(s,a,u,c){super();this._hideSoon=this._register(new y.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=s,this._state=a,this._keybindingService=u,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=c.getColorTheme().getColor(p.inputActiveOptionBorder),r=c.getColorTheme().getColor(p.inputActiveOptionForeground),n=c.getColorTheme().getColor(p.inputActiveOptionBackground);this.caseSensitive=this._register(new k.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(w.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(w.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexCheckbox({appendTitle:this._keybindingLabelFor(w.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let t=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(S.addDisposableNonBubblingMouseOutListener(this._domNode,o=>this._onMouseOut())),this._register(S.addDisposableListener(this._domNode,"mouseover",o=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(s){let a=this._keybindingService.lookupKeybinding(s);return a?` (${a.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(s){let a={inputActiveOptionBorder:s.getColor(p.inputActiveOptionBorder),inputActiveOptionForeground:s.getColor(p.inputActiveOptionForeground),inputActiveOptionBackground:s.getColor(p.inputActiveOptionBackground)};this.caseSensitive.style(a),this.wholeWords.style(a),this.regex.style(a)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",v.registerThemingParticipant((_,s)=>{const a=_.getColor(p.editorWidgetBackground);a&&s.addRule(`.monaco-editor .findOptionsWidget { background-color: ${a}; }`);const u=_.getColor(p.editorWidgetForeground);u&&s.addRule(`.monaco-editor .findOptionsWidget { color: ${u}; }`);const c=_.getColor(p.widgetShadow);c&&s.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const d=_.getColor(p.contrastBorder);d&&s.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(Q[614],J([0,1,6,2,3,143]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function w(v,i){return v===1?!0:v===2?!1:i}class p extends k.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new S.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return w(this._isRegexOverride,this._isRegex)}get wholeWord(){return w(this._wholeWordOverride,this._wholeWord)}get matchCase(){return w(this._matchCaseOverride,this._matchCase)}get preserveCase(){return w(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,_,s){let a={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},u=!1;_===0&&(i=0),i>_&&(i=_),this._matchesPosition!==i&&(this._matchesPosition=i,a.matchesPosition=!0,u=!0),this._matchesCount!==_&&(this._matchesCount=_,a.matchesCount=!0,u=!0),typeof s!="undefined"&&(M.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,a.currentMatch=!0,u=!0)),u&&this._onFindReplaceStateChange.fire(a)}change(i,_,s=!0){var a;let u={moveCursor:_,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const d=this.isRegex,r=this.wholeWord,n=this.matchCase,o=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,u.searchString=!0,c=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,u.replaceString=!0,c=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,u.isRevealed=!0,c=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,u.isReplaceRevealed=!0,c=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((a=i.searchScope)===null||a===void 0?void 0:a.every(t=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(h=>!M.Range.equalsRange(h,t))}))||(this._searchScope=i.searchScope,u.searchScope=!0,c=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,u.loop=!0,c=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,d!==this.isRegex&&(c=!0,u.isRegex=!0),r!==this.wholeWord&&(c=!0,u.wholeWord=!0),n!==this.matchCase&&(c=!0,u.matchCase=!0),o!==this.preserveCase&&(c=!0,u.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(u)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=y.MATCHES_LIMIT}}e.FindReplaceState=p}),define(Q[615],J([0,1,116,68,177,207,119,11,120,7,494,161,45,2,9,37,67,159]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let o=class{constructor(N){this._resolverService=N}hasChildren(N){return N instanceof S.ReferencesModel||N instanceof S.FileReferences}getChildren(N){if(N instanceof S.ReferencesModel)return N.groups;if(N instanceof S.FileReferences)return N.resolve(this._resolverService).then(D=>D.children);throw new Error("bad tree")}};o=Me([pe(0,k.ITextModelService)],o),e.DataSource=o;class t{getHeight(){return 23}getTemplateId(N){return N instanceof S.FileReferences?C.id:f.id}}e.Delegate=t;let l=class{constructor(N){this._keybindingService=N}getKeyboardNavigationLabel(N){var D;if(N instanceof S.OneReference){const I=(D=N.parent.getPreview(N))===null||D===void 0?void 0:D.preview(N.range);if(I)return I.value}return a.basename(N.uri)}};l=Me([pe(0,d.IKeybindingService)],l),e.StringRepresentationProvider=l;class h{getId(N){return N instanceof S.OneReference?N.id:N.uri}}e.IdentityProvider=h;let m=class extends u.Disposable{constructor(N,D,I){super();this._uriLabel=D;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new M.IconLabel(T,{supportHighlights:!0})),this.badge=new y.CountBadge(i.append(T,i.$(".count"))),this._register(v.attachBadgeStyler(this.badge,I)),N.appendChild(T)}set(N,D){let I=a.dirname(N.uri);this.file.setLabel(s.getBaseLabel(N.uri),this._uriLabel.getUriLabel(I,{relative:!0}),{title:this._uriLabel.getUriLabel(N.uri),matches:D});const T=N.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat(_.localize(0,null,T)):this.badge.setTitleFormat(_.localize(1,null,T))}};m=Me([pe(1,w.ILabelService),pe(2,p.IThemeService)],m);let C=class Ft{constructor(N){this._instantiationService=N,this.templateId=Ft.id}renderTemplate(N){return this._instantiationService.createInstance(m,N)}renderElement(N,D,I){I.set(N.element,r.createMatches(N.filterData))}disposeTemplate(N){N.dispose()}};C.id="FileReferencesRenderer",C=Me([pe(0,c.IInstantiationService)],C),e.FileReferencesRenderer=C;class g{constructor(N){this.label=new n.HighlightedLabel(N,!1)}set(N,D){var I;const T=(I=N.parent.getPreview(N))===null||I===void 0?void 0:I.preview(N.range);if(!T||!T.value)this.label.set(`${a.basename(N.uri)}:${N.range.startLineNumber+1}:${N.range.startColumn+1}`);else{const{value:A,highlight:R}=T;D&&!r.FuzzyScore.isDefault(D)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(A,r.createMatches(D))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(A,[R]))}}}class f{constructor(){this.templateId=f.id}renderTemplate(N){return new g(N)}renderElement(N,D,I){I.set(N.element,N.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=f,f.id="OneReferenceRenderer";class b{getWidgetAriaLabel(){return _.localize(2,null)}getAriaLabel(N){return N.ariaMessage}}e.AccessibilityProvider=b}),define(Q[190],J([0,1,7,2,3,28,8,112,35,83,66,96,13,6,11,48,29,39,353]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.BaseGhostTextWidgetModel=void 0;const t=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("editorGhostText",{createHTML:f=>f});class l extends k.Disposable{constructor(b){super();this.editor=b,this._expanded=void 0,this.onDidChangeEmitter=new u.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(b.onDidChangeConfiguration(L=>{L.hasChanged(104)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}get expanded(){return this._expanded===void 0?!0:this._expanded}setExpanded(b){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=l;let h=class Wt extends k.Disposable{constructor(b,L,N){super();this.editor=b,this._codeEditorService=L,this._themeService=N,this.codeEditorDecorationTypeKey=null,this.modelRef=this._register(new k.MutableDisposable),this.decorationIds=[],this.viewZoneId=null,this.viewMoreContentWidget=null,this._register(this.editor.onDidChangeConfiguration(D=>{(D.hasChanged(27)||D.hasChanged(103)||D.hasChanged(86)||D.hasChanged(80)||D.hasChanged(41)||D.hasChanged(40)||D.hasChanged(56))&&this.render()})),this._register(k.toDisposable(()=>{this.setModel(void 0)}))}get model(){var b;return(b=this.modelRef.value)===null||b===void 0?void 0:b.object}shouldShowHoverAtViewZone(b){return this.viewZoneId===b}setModel(b){b!==this.model&&(this.modelRef.value=b?g(b,b.onDidChange(()=>this.render())):void 0,this.render())}getRenderData(){var b;if(!this.editor.hasModel()||!((b=this.model)===null||b===void 0?void 0:b.ghostText))return;const{minReservedLineCount:L,expanded:N}=this.model;let{position:D,lines:I}=this.model.ghostText;const T=this.editor.getModel(),A=T.getLineMaxColumn(D.lineNumber),{tabSize:R}=T.getOptions();return I.length>1&&D.column!==A&&(console.warn("Can only show multiline ghost text at the end of a line"),I=[],D=new a.Position(D.lineNumber,A)),{tabSize:R,position:D,lines:I,minReservedLineCount:L,expanded:N}}render(){var b;const L=this.getRenderData();if(this.codeEditorDecorationTypeKey&&(this._codeEditorService.removeDecorationType(this.codeEditorDecorationTypeKey),this.codeEditorDecorationTypeKey=null),L&&L.lines.length>0){const D=this._themeService.getColorTheme().getColor(d.ghostTextForeground);let I,T;if(D){let E=function(x){const{r:H,b:K,g:q}=x.rgba;return new r.Color(new r.RGBA(H,q,K,255))};I=String(D.rgba.a),T=r.Color.Format.CSS.format(E(D))}const A=this._themeService.getColorTheme().getColor(d.ghostTextBorder);let R;A&&(R=`2px dashed ${A}`),this.codeEditorDecorationTypeKey=`0-ghost-text-${++Wt.decorationTypeCount}`;const P=(((b=this.editor.getModel())===null||b===void 0?void 0:b.getLineContent(L.position.lineNumber))||"").substr(0,L.position.column-1),F=m(L.lines[0]||"",P,L.tabSize,!1);this._codeEditorService.registerDecorationType("ghost-text",this.codeEditorDecorationTypeKey,{after:{contentText:F,opacity:I,color:T,border:R}})}const N=new Array;L&&this.codeEditorDecorationTypeKey&&N.push({range:M.Range.fromPositions(L.position,L.position),options:Object.assign({},this._codeEditorService.resolveDecorationOptions(this.codeEditorDecorationTypeKey,!0))}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,N),this.viewMoreContentWidget&&(this.viewMoreContentWidget.dispose(),this.viewMoreContentWidget=null),this.editor.changeViewZones(D=>{if(this.viewZoneId&&(D.removeZone(this.viewZoneId),this.viewZoneId=null),L){const I=L.lines.slice(1),T=Math.max(I.length,L.minReservedLineCount);if(T>0)if(L.expanded){const A=document.createElement("div");this.renderLines(A,L.tabSize,I),this.viewZoneId=D.addZone({afterLineNumber:L.position.lineNumber,afterColumn:L.position.column,heightInLines:T,domNode:A})}else I.length>0&&(this.viewMoreContentWidget=this.renderViewMoreLines(L.position,L.lines[0],I.length))}})}renderViewMoreLines(b,L,N){const D=this.editor.getOption(40),I=document.createElement("div");I.className="suggest-preview-additional-widget",_.Configuration.applyFontInfoSlow(I,D);const T=document.createElement("span");T.className="content-spacer",T.append(L),I.append(T);const A=document.createElement("span");A.className="content-newline suggest-preview-text",A.append("\u23CE  "),I.append(A);const R=new k.DisposableStore,O=document.createElement("div");return O.className="button suggest-preview-text",O.append(`+${N} lines\u2026`),R.add(S.addStandardDisposableListener(O,"mousedown",P=>{var F;(F=this.model)===null||F===void 0||F.setExpanded(!0),P.preventDefault(),this.editor.focus()})),I.append(O),new C(this.editor,b,I,R)}renderLines(b,L,N){const D=this.editor.getOptions(),I=D.get(27),T=D.get(103),A="none",R=D.get(80),O=D.get(41),P=D.get(40),F=D.get(56),E=i.createStringBuilder(1e4);E.appendASCIIString('<div class="suggest-preview-text">');for(let K=0,q=N.length;K<q;K++){const G=N[K];E.appendASCIIString('<div class="view-line'),E.appendASCIIString('" style="top:'),E.appendASCIIString(String(K*F)),E.appendASCIIString('px;width:1000000px;">');const ee=w.isBasicASCII(G),ie=w.containsRTL(G),ae=s.LineTokens.createEmpty(G);p.renderViewLine(new p.RenderLineInput(P.isMonospace&&!I,P.canUseHalfwidthRightwardsArrow,G,!1,ee,ie,0,ae,[],L,0,P.spaceWidth,P.middotWidth,P.wsmiddotWidth,T,A,R,O!==v.EditorFontLigatures.OFF,null),E),E.appendASCIIString("</div>")}E.appendASCIIString("</div>"),_.Configuration.applyFontInfoSlow(b,P);const x=E.build(),H=t?t.createHTML(x):x;b.innerHTML=H}};h.decorationTypeCount=0,h=Me([pe(1,y.ICodeEditorService),pe(2,c.IThemeService)],h),e.GhostTextWidget=h;function m(f,b,L,N){const D=b+f,I=n.CursorColumns.visibleColumnsByColumns(D,L);let T="",A=b.length+1;for(const R of f){if(R==="	"){const O=I[A+1]-I[A];if(N){T+="\u2192";for(let P=1;P<O;P++)T+="\xA0"}else for(let P=0;P<O;P++)T+="\xA0"}else R===" "?N?T+="\xB7":T+="\xA0":T+=R;A+=1}return T}class C extends k.Disposable{constructor(b,L,N,D){super();this.editor=b,this.position=L,this.domNode=N,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(D),this._register(k.toDisposable(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}c.registerThemingParticipant((f,b)=>{const L=f.getColor(d.ghostTextForeground);if(L){let D=function(A){const{r:R,b:O,g:P}=A.rgba;return new r.Color(new r.RGBA(R,P,O,255))};const I=String(L.rgba.a),T=r.Color.Format.CSS.format(D(L));b.addRule(`.monaco-editor .suggest-preview-text .mtk1 { opacity: ${I}; color: ${T}; }`)}const N=f.getColor(d.ghostTextBorder);N&&b.addRule(`.monaco-editor .suggest-preview-text .mtk1 { border: 2px dashed ${N}; }`)});function g(f,b){return{object:f,dispose:()=>b.dispose()}}}),define(Q[259],J([0,1,52,11,48,2,109,20,90]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,a){var u;const c=new y.DisposableStore;s.canAcceptInBackground=!!((u=this.options)===null||u===void 0?void 0:u.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const d=c.add(new y.MutableDisposable);return d.value=this.doProvide(s,a),c.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(s,a)})),c}doProvide(s,a){const u=new y.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const d={editor:c},r=w.getCodeEditor(c);if(r){let n=p.withNullAsUndefined(c.saveViewState());u.add(r.onDidChangeCursorPosition(()=>{n=p.withNullAsUndefined(c.saveViewState())})),d.restoreViewState=()=>{n&&c===this.activeTextEditorControl&&c.restoreViewState(n)},u.add(v.once(a.onCancellationRequested)(()=>{var o;return(o=d.restoreViewState)===null||o===void 0?void 0:o.call(d)}))}u.add(y.toDisposable(()=>this.clearDecorations(c))),u.add(this.provideWithTextEditor(d,s,a))}else u.add(this.provideWithoutTextEditor(s,a));return u}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},a){s.setSelection(a.range),s.revealRangeInCenter(a.range,0),a.preserveFocus||s.focus()}getModel(s){var a;return w.isDiffEditor(s)?(a=s.getModel())===null||a===void 0?void 0:a.modified:s.getModel()}addDecorations(s,a){s.changeDecorations(u=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:a,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:k.themeColorFromId(M.overviewRulerRangeHighlight),position:S.OverviewRulerLane.Full}}}],[r,n]=u.deltaDecorations(c,d);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:n}})}clearDecorations(s){const a=this.rangeHighlightDecorationId;a&&(s.changeDecorations(u=>{u.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(Q[616],J([0,1,513,2,259,109]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class w extends M.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const i=S.localize(0,null);return v.items=[{label:i}],v.ariaLabel=i,k.Disposable.None}provideWithTextEditor(v,i,_){const s=v.editor,a=new k.DisposableStore;a.add(i.onDidAccept(d=>{const[r]=i.selectedItems;if(r){if(!this.isValidLineNumber(s,r.lineNumber))return;this.gotoLocation(v,{range:this.toRange(r.lineNumber,r.column),keyMods:i.keyMods,preserveFocus:d.inBackground}),d.inBackground||i.hide()}}));const u=()=>{const d=this.parsePosition(s,i.value.trim().substr(w.PREFIX.length)),r=this.getPickLabel(s,d.lineNumber,d.column);if(i.items=[{lineNumber:d.lineNumber,column:d.column,label:r}],i.ariaLabel=r,!this.isValidLineNumber(s,d.lineNumber)){this.clearDecorations(s);return}const n=this.toRange(d.lineNumber,d.column);s.revealRangeInCenter(n,0),this.addDecorations(s,n)};u(),a.add(i.onDidChangeValue(()=>u()));const c=y.getCodeEditor(s);return c&&c.getOptions().get(57).renderType===2&&(c.updateOptions({lineNumbers:"on"}),a.add(k.toDisposable(()=>c.updateOptions({lineNumbers:"relative"})))),a}toRange(v=1,i=1){return{startLineNumber:v,startColumn:i,endLineNumber:v,endColumn:i}}parsePosition(v,i){const _=i.split(/,|:|#/).map(a=>parseInt(a,10)).filter(a=>!isNaN(a)),s=this.lineCount(v)+1;return{lineNumber:_[0]>0?_[0]:s+_[0],column:_[1]}}getPickLabel(v,i,_){if(this.isValidLineNumber(v,i))return this.isValidColumn(v,i,_)?S.localize(1,null,i,_):S.localize(2,null,i);const s=v.getPosition()||{lineNumber:1,column:1},a=this.lineCount(v);return a>1?S.localize(3,null,s.lineNumber,s.column,a):S.localize(4,null,s.lineNumber,s.column)}isValidLineNumber(v,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(v)}isValidColumn(v,i,_){if(!_||typeof _!="number")return!1;const s=this.getModel(v);if(!s)return!1;const a={lineNumber:i,column:_};return s.validatePosition(a).equals(a)}lineCount(v){var i,_;return(_=(i=this.getModel(v))===null||i===void 0?void 0:i.getLineCount())!==null&&_!==void 0?_:0}}e.AbstractGotoLineQuickAccessProvider=w,w.PREFIX=":"}),define(Q[617],J([0,1,514,23,2,3,259,18,246,8,292,27]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class a extends w.AbstractEditorNavigationQuickAccessProvider{constructor(r=Object.create(null)){super(r);this.options=r,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(r){return this.provideLabelPick(r,S.localize(0,null)),M.Disposable.None}provideWithTextEditor(r,n,o){const t=r.editor,l=this.getModel(t);return l?p.DocumentSymbolProviderRegistry.has(l)?this.doProvideWithEditorSymbols(r,l,n,o):this.doProvideWithoutEditorSymbols(r,l,n,o):M.Disposable.None}doProvideWithoutEditorSymbols(r,n,o,t){const l=new M.DisposableStore;return this.provideLabelPick(o,S.localize(1,null)),(()=>Ie(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,l))||t.isCancellationRequested||l.add(this.doProvideWithEditorSymbols(r,n,o,t))}))(),l}provideLabelPick(r,n){r.items=[{label:n,index:0,kind:14}],r.ariaLabel=n}waitForLanguageSymbolRegistry(r,n){return Ie(this,void 0,void 0,function*(){if(p.DocumentSymbolProviderRegistry.has(r))return!0;let o;const t=new Promise(h=>o=h),l=n.add(p.DocumentSymbolProviderRegistry.onDidChange(()=>{p.DocumentSymbolProviderRegistry.has(r)&&(l.dispose(),o(!0))}));return n.add(M.toDisposable(()=>o(!1))),t})}doProvideWithEditorSymbols(r,n,o,t){const l=r.editor,h=new M.DisposableStore;h.add(o.onDidAccept(b=>{const[L]=o.selectedItems;L&&L.range&&(this.gotoLocation(r,{range:L.range.selection,keyMods:o.keyMods,preserveFocus:b.inBackground}),b.inBackground||o.hide())})),h.add(o.onDidTriggerItemButton(({item:b})=>{b&&b.range&&(this.gotoLocation(r,{range:b.range.selection,keyMods:o.keyMods,forceSideBySide:!0}),o.hide())}));const m=this.getDocumentSymbols(n,t);let C;const g=()=>Ie(this,void 0,void 0,function*(){C==null||C.dispose(!0),o.busy=!1,C=new k.CancellationTokenSource(t),o.busy=!0;try{const b=_.prepareQuery(o.value.substr(a.PREFIX.length).trim()),L=yield this.doGetSymbolPicks(m,b,void 0,C.token);if(t.isCancellationRequested)return;L.length>0?o.items=L:b.original.length>0?this.provideLabelPick(o,S.localize(2,null)):this.provideLabelPick(o,S.localize(3,null))}finally{t.isCancellationRequested||(o.busy=!1)}});h.add(o.onDidChangeValue(()=>g())),g();let f=!0;return h.add(o.onDidChangeActive(()=>{const[b]=o.activeItems;if(b&&b.range){if(f){f=!1;return}l.revealRangeInCenter(b.range.selection,0),this.addDecorations(l,b.range.decoration)}})),h}doGetSymbolPicks(r,n,o,t){return Ie(this,void 0,void 0,function*(){const l=yield r;if(t.isCancellationRequested)return[];const h=n.original.indexOf(a.SCOPE_PREFIX)===0,m=h?1:0;let C,g;n.values&&n.values.length>1?(C=_.pieceToQuery(n.values[0]),g=_.pieceToQuery(n.values.slice(1))):C=n;const f=[];for(let N=0;N<l.length;N++){const D=l[N],I=i.trim(D.name),T=`$(symbol-${p.SymbolKinds.toString(D.kind)||"property"}) ${I}`,A=T.length-I.length;let R=D.containerName;(o==null?void 0:o.extraContainerLabel)&&(R?R=`${o.extraContainerLabel} \u2022 ${R}`:R=o.extraContainerLabel);let O,P,F,E;if(n.original.length>m){let H=!1;if(C!==n&&([O,P]=_.scoreFuzzy2(T,Object.assign(Object.assign({},n),{values:void 0}),m,A),typeof O=="number"&&(H=!0)),typeof O!="number"&&([O,P]=_.scoreFuzzy2(T,C,m,A),typeof O!="number"))continue;if(!H&&g){if(R&&g.original.length>0&&([F,E]=_.scoreFuzzy2(R,g)),typeof F!="number")continue;typeof O=="number"&&(O+=F)}}const x=D.tags&&D.tags.indexOf(1)>=0;f.push({index:N,kind:D.kind,score:O,label:T,ariaLabel:I,description:R,highlights:x?void 0:{label:P,description:E},range:{selection:y.Range.collapseToStart(D.selectionRange),decoration:D.range},strikethrough:x,buttons:(()=>{var H,K;const q=((H=this.options)===null||H===void 0?void 0:H.openSideBySideDirection)?(K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection():void 0;if(!!q)return[{iconClass:q==="right"?s.Codicon.splitHorizontal.classNames:s.Codicon.splitVertical.classNames,tooltip:q==="right"?S.localize(4,null):S.localize(5,null)}]})()})}const b=f.sort((N,D)=>h?this.compareByKindAndScore(N,D):this.compareByScore(N,D));let L=[];if(h){let T=function(){D&&typeof N=="number"&&I>0&&(D.label=i.format(c[N]||u,I))},N,D,I=0;for(const A of b)N!==A.kind?(T(),N=A.kind,I=1,D={type:"separator"},L.push(D)):I++,L.push(A);T()}else b.length>0&&(L=[{label:S.localize(6,null,f.length),type:"separator"},...b]);return L})}compareByScore(r,n){if(typeof r.score!="number"&&typeof n.score=="number")return 1;if(typeof r.score=="number"&&typeof n.score!="number")return-1;if(typeof r.score=="number"&&typeof n.score=="number"){if(r.score>n.score)return-1;if(r.score<n.score)return 1}return r.index<n.index?-1:r.index>n.index?1:0}compareByKindAndScore(r,n){const o=c[r.kind]||u,t=c[n.kind]||u,l=o.localeCompare(t);return l===0?this.compareByScore(r,n):l}getDocumentSymbols(r,n){return Ie(this,void 0,void 0,function*(){const o=yield v.OutlineModel.create(r,n);return n.isCancellationRequested?[]:o.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=a,a.PREFIX="@",a.SCOPE_PREFIX=":",a.PREFIX_BY_CATEGORY=`${a.PREFIX}${a.SCOPE_PREFIX}`;const u=S.localize(7,null),c={[5]:S.localize(8,null),[11]:S.localize(9,null),[8]:S.localize(10,null),[12]:S.localize(11,null),[4]:S.localize(12,null),[22]:S.localize(13,null),[23]:S.localize(14,null),[24]:S.localize(15,null),[10]:S.localize(16,null),[2]:S.localize(17,null),[3]:S.localize(18,null),[25]:S.localize(19,null),[1]:S.localize(20,null),[6]:S.localize(21,null),[9]:S.localize(22,null),[21]:S.localize(23,null),[14]:S.localize(24,null),[0]:S.localize(25,null),[17]:S.localize(26,null),[15]:S.localize(27,null),[16]:S.localize(28,null),[18]:S.localize(29,null),[19]:S.localize(30,null),[7]:S.localize(31,null),[13]:S.localize(32,null)}}),define(Q[618],J([0,1,2,13,516,16,22,11,37,358]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new y.RawContextKey("renameInputVisible",!1,M.localize(0,null));let i=class{constructor(s,a,u,c,d){this._editor=s,this._acceptKeybindings=a,this._themeService=u,this._keybindingService=c,this._disposables=new S.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(40)&&this._updateFont()})),this._disposables.add(u.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",M.localize(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const s=()=>{var a,u;const[c,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=M.localize(2,null,(a=this._keybindingService.lookupKeybinding(c))===null||a===void 0?void 0:a.getLabel(),(u=this._keybindingService.lookupKeybinding(d))===null||u===void 0?void 0:u.getLabel())};s(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(s)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(s){var a,u,c,d;if(!this._input||!this._domNode)return;const r=s.getColor(w.widgetShadow);this._domNode.style.backgroundColor=String((a=s.getColor(w.editorWidgetBackground))!==null&&a!==void 0?a:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((u=s.getColor(w.inputForeground))!==null&&u!==void 0?u:""),this._input.style.backgroundColor=String((c=s.getColor(w.inputBackground))!==null&&c!==void 0?c:"");const n=s.getColor(w.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(d=n==null?void 0:n.toString())!==null&&d!==void 0?d:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(40);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){this._currentAcceptInput&&this._currentAcceptInput(s)}cancelInput(s){this._currentCancelInput&&this._currentCancelInput(s)}getInput(s,a,u,c,d,r){this._domNode.classList.toggle("preview",d),this._position=new k.Position(s.startLineNumber,s.startColumn),this._input.value=a,this._input.setAttribute("selectionStart",u.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const n=new S.DisposableStore;return new Promise(o=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,o(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===a){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,o({newName:this._input.value,wantsPreview:d&&t})},r.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Me([pe(2,p.IThemeService),pe(3,v.IKeybindingService),pe(4,y.IContextKeyService)],i),e.RenameInputField=i}),define(Q[260],J([0,1,526,11,22,27]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=M.registerColor("symbolIcon.arrayForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=M.registerColor("symbolIcon.booleanForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=M.registerColor("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},S.localize(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=M.registerColor("symbolIcon.colorForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=M.registerColor("symbolIcon.constantForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=M.registerColor("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},S.localize(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=M.registerColor("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},S.localize(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=M.registerColor("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=M.registerColor("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},S.localize(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=M.registerColor("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=M.registerColor("symbolIcon.fileForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=M.registerColor("symbolIcon.folderForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=M.registerColor("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},S.localize(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=M.registerColor("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=M.registerColor("symbolIcon.keyForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=M.registerColor("symbolIcon.keywordForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=M.registerColor("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},S.localize(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=M.registerColor("symbolIcon.moduleForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=M.registerColor("symbolIcon.namespaceForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=M.registerColor("symbolIcon.nullForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=M.registerColor("symbolIcon.numberForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=M.registerColor("symbolIcon.objectForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=M.registerColor("symbolIcon.operatorForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=M.registerColor("symbolIcon.packageForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=M.registerColor("symbolIcon.propertyForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=M.registerColor("symbolIcon.referenceForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=M.registerColor("symbolIcon.snippetForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=M.registerColor("symbolIcon.stringForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=M.registerColor("symbolIcon.structForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=M.registerColor("symbolIcon.textForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=M.registerColor("symbolIcon.typeParameterForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=M.registerColor("symbolIcon.unitForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},S.localize(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=M.registerColor("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(32,null)),k.registerThemingParticipant((w,p)=>{const v=w.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&p.addRule(`${y.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const i=w.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&p.addRule(`${y.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const _=w.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);_&&p.addRule(`${y.Codicon.symbolClass.cssSelector} { color: ${_}; }`);const s=w.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);s&&p.addRule(`${y.Codicon.symbolMethod.cssSelector} { color: ${s}; }`);const a=w.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);a&&p.addRule(`${y.Codicon.symbolColor.cssSelector} { color: ${a}; }`);const u=w.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);u&&p.addRule(`${y.Codicon.symbolConstant.cssSelector} { color: ${u}; }`);const c=w.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&p.addRule(`${y.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const d=w.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&p.addRule(`
			${y.Codicon.symbolValue.cssSelector},${y.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const r=w.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);r&&p.addRule(`${y.Codicon.symbolEnumMember.cssSelector} { color: ${r}; }`);const n=w.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&p.addRule(`${y.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const o=w.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);o&&p.addRule(`${y.Codicon.symbolField.cssSelector} { color: ${o}; }`);const t=w.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&p.addRule(`${y.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const l=w.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);l&&p.addRule(`${y.Codicon.symbolFolder.cssSelector} { color: ${l}; }`);const h=w.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&p.addRule(`${y.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const m=w.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);m&&p.addRule(`${y.Codicon.symbolInterface.cssSelector} { color: ${m}; }`);const C=w.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);C&&p.addRule(`${y.Codicon.symbolKey.cssSelector} { color: ${C}; }`);const g=w.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);g&&p.addRule(`${y.Codicon.symbolKeyword.cssSelector} { color: ${g}; }`);const f=w.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);f&&p.addRule(`${y.Codicon.symbolModule.cssSelector} { color: ${f}; }`);const b=w.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);b&&p.addRule(`${y.Codicon.symbolNamespace.cssSelector} { color: ${b}; }`);const L=w.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&p.addRule(`${y.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const N=w.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);N&&p.addRule(`${y.Codicon.symbolNumber.cssSelector} { color: ${N}; }`);const D=w.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);D&&p.addRule(`${y.Codicon.symbolObject.cssSelector} { color: ${D}; }`);const I=w.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);I&&p.addRule(`${y.Codicon.symbolOperator.cssSelector} { color: ${I}; }`);const T=w.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);T&&p.addRule(`${y.Codicon.symbolPackage.cssSelector} { color: ${T}; }`);const A=w.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);A&&p.addRule(`${y.Codicon.symbolProperty.cssSelector} { color: ${A}; }`);const R=w.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);R&&p.addRule(`${y.Codicon.symbolReference.cssSelector} { color: ${R}; }`);const O=w.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);O&&p.addRule(`${y.Codicon.symbolSnippet.cssSelector} { color: ${O}; }`);const P=w.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);P&&p.addRule(`${y.Codicon.symbolString.cssSelector} { color: ${P}; }`);const F=w.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);F&&p.addRule(`${y.Codicon.symbolStruct.cssSelector} { color: ${F}; }`);const E=w.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);E&&p.addRule(`${y.Codicon.symbolText.cssSelector} { color: ${E}; }`);const x=w.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);x&&p.addRule(`${y.Codicon.symbolTypeParameter.cssSelector} { color: ${x}; }`);const H=w.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);H&&p.addRule(`${y.Codicon.symbolUnit.cssSelector} { color: ${H}; }`);const K=w.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);K&&p.addRule(`${y.Codicon.symbolVariable.cssSelector} { color: ${K}; }`)})}),define(Q[261],J([0,1,7,44,597,16,11]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let p=class extends M.CodeEditorServiceImpl{constructor(i,_,s){super(i,s);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=_.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const _ of this.listCodeEditors())if(!_.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,_,s){return _?Promise.resolve(this.doOpenEditor(_,i)):Promise.resolve(null)}doOpenEditor(i,_){if(!this.findModel(i,_.resource)){if(_.resource){const u=_.resource.scheme;if(u===k.Schemas.http||u===k.Schemas.https)return S.windowOpenNoOpener(_.resource.toString()),i}return null}const a=_.options?_.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")i.setSelection(a),i.revealRangeInCenter(a,1);else{const u={lineNumber:a.startLineNumber,column:a.startColumn};i.setPosition(u),i.revealPositionInCenter(u,1)}return i}findModel(i,_){const s=i.getModel();return s&&s.uri.toString()!==_.toString()?null:s}};p=Me([pe(1,y.IContextKeyService),pe(2,w.IThemeService)],p),e.StandaloneCodeEditorServiceImpl=p}),define(Q[619],J([0,1,48,22]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[S.editorIndentGuides]:"#D3D3D3",[S.editorActiveIndentGuides]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D",[k.listFocusHighlightForeground]:"#9DDDFF"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[S.editorIndentGuides]:"#404040",[S.editorActiveIndentGuides]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[S.editorIndentGuides]:"#FFFFFF",[S.editorActiveIndentGuides]:"#FFFFFF"}}}),define(Q[33],J([0,1,49,9,16,26,2,6,11,53,72,27]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function a(r){return r.command!==void 0}e.isIMenuItem=a;class u{constructor(n){this.id=u._idPool++,this._debugName=n}}e.MenuId=u,u._idPool=0,u.CommandPalette=new u("CommandPalette"),u.EditorContext=new u("EditorContext"),u.SimpleEditorContext=new u("SimpleEditorContext"),u.EditorContextCopy=new u("EditorContextCopy"),u.EditorContextPeek=new u("EditorContextPeek"),u.MenubarEditMenu=new u("MenubarEditMenu"),u.MenubarCopy=new u("MenubarCopy"),u.MenubarGoMenu=new u("MenubarGoMenu"),u.MenubarSelectionMenu=new u("MenubarSelectionMenu"),u.InlineCompletionsActions=new u("InlineCompletionsActions"),e.IMenuService=k.createDecorator("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new p.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===u.CommandPalette}}addCommand(r){return this.addCommands(i.Iterable.single(r))}addCommands(r){for(const n of r)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),w.toDisposable(()=>{let n=!1;for(const o of r)n=this._commands.delete(o.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((n,o)=>r.set(o,n)),r}appendMenuItem(r,n){return this.appendMenuItems(i.Iterable.single({id:r,item:n}))}appendMenuItems(r){const n=new Set,o=new _.LinkedList;for(const{id:t,item:l}of r){let h=this._menuItems.get(t);h||(h=new _.LinkedList,this._menuItems.set(t,h)),o.push(h.push(l)),n.add(t)}return this._onDidChangeMenu.fire(n),w.toDisposable(()=>{if(o.size>0){for(let t of o)t();this._onDidChangeMenu.fire(n),o.clear()}})}getMenuItems(r){let n;return this._menuItems.has(r)?n=[...this._menuItems.get(r)]:n=[],r===u.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(r){const n=new Set;for(const o of r)a(o)&&(n.add(o.command.id),o.alt&&n.add(o.alt.id));this._commands.forEach((o,t)=>{n.has(t)||r.push({command:o})})}};class c extends S.SubmenuAction{constructor(n,o,t,l){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=o,this._contextKeyService=t,this._options=l}get actions(){const n=[],o=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=o.getActions(this._options);o.dispose();for(const[,l]of t)l.length>0&&(n.push(...l),n.push(new S.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=c;let d=class Bt{constructor(n,o,t,l,h){var m;if(this._commandService=h,this.id=n.id,this.label=(t==null?void 0:t.renderShortTitle)&&n.shortTitle?typeof n.shortTitle=="string"?n.shortTitle:n.shortTitle.value:typeof n.title=="string"?n.title:n.title.value,this.tooltip=(m=n.tooltip)!==null&&m!==void 0?m:"",this.enabled=!n.precondition||l.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const C=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=l.contextMatchesRules(C.condition),this.checked&&C.tooltip&&(this.tooltip=typeof C.tooltip=="string"?C.tooltip:C.tooltip.value),C.title&&(this.label=typeof C.title=="string"?C.title:C.title.value)}this.item=n,this.alt=o?new Bt(o,void 0,t,l,h):void 0,this._options=t,v.ThemeIcon.isThemeIcon(n.icon)&&(this.class=s.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var o,t;let l=[];return((o=this._options)===null||o===void 0?void 0:o.arg)&&(l=[...l,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(l=[...l,...n]),this._commandService.executeCommand(this.id,...l)}};d=Me([pe(3,M.IContextKeyService),pe(4,y.ICommandService)],d),e.MenuItemAction=d}),define(Q[14],J([0,1,457,24,28,13,36,68,33,26,16,87,32,88,20,70]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class r{constructor(O){this.id=O.id,this.precondition=O.precondition,this._kbOpts=O.kbOpts,this._menuOpts=O.menuOpts,this._description=O.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const O=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const P of O){let F=P.kbExpr;this.precondition&&(F?F=_.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const E={id:this.id,weight:P.weight,args:P.args,when:F,primary:P.primary,secondary:P.secondary,win:P.win,linux:P.linux,mac:P.mac};s.KeybindingsRegistry.registerKeybindingRule(E)}}i.CommandsRegistry.registerCommand({id:this.id,handler:(O,P)=>this.runCommand(O,P),description:this._description})}_registerMenuItem(O){v.MenuRegistry.appendMenuItem(O.menuId,{group:O.group,command:{id:this.id,title:O.title,icon:O.icon,precondition:this.precondition},when:O.when,order:O.order})}}e.Command=r;class n extends r{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,P,F){return this._implementations.push({priority:O,name:P,implementation:F}),this._implementations.sort((E,x)=>x.priority-E.priority),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E].implementation===F){this._implementations.splice(E,1);return}}}}runCommand(O,P){const F=O.get(d.ILogService);for(const E of this._implementations){const x=E.implementation(O,P);if(x)return F.trace(`Command '${this.id}' was handled by '${E.name}'.`),typeof x=="boolean"?void 0:x}}}e.MultiCommand=n;class o extends r{constructor(O,P){super(P);this.command=O}runCommand(O,P){return this.command.runCommand(O,P)}}e.ProxyCommand=o;class t extends r{static bindToContribution(O){return class extends t{constructor(F){super(F);this._callback=F.handler}runEditorCommand(F,E,x){O(E)&&this._callback(O(E),x)}}}runCommand(O,P){const F=O.get(M.ICodeEditorService),E=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(!!E)return E.invokeWithinContext(x=>{if(!!x.get(_.IContextKeyService).contextMatchesRules(c.withNullAsUndefined(this.precondition)))return this.runEditorCommand(x,E,P)})}}e.EditorCommand=t;class l extends t{constructor(O){super(l.convertOptions(O));this.label=O.label,this.alias=O.alias}static convertOptions(O){let P;Array.isArray(O.menuOpts)?P=O.menuOpts:O.menuOpts?P=[O.menuOpts]:P=[];function F(E){return E.menuId||(E.menuId=v.MenuId.EditorContext),E.title||(E.title=O.label),E.when=_.ContextKeyExpr.and(O.precondition,E.when),E}return Array.isArray(O.contextMenuOpts)?P.push(...O.contextMenuOpts.map(F)):O.contextMenuOpts&&P.push(F(O.contextMenuOpts)),O.menuOpts=P,O}runEditorCommand(O,P,F){return this.reportTelemetry(O,P),this.run(O,P,F||{})}reportTelemetry(O,P){O.get(u.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=l;class h extends l{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,P){return this._implementations.push([O,P]),this._implementations.sort((F,E)=>E[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===P){this._implementations.splice(F,1);return}}}}run(O,P,F){for(const E of this._implementations){const x=E[1](O,P,F);if(x)return typeof x=="boolean"?void 0:x}}}e.MultiEditorAction=h;function m(R,O){i.CommandsRegistry.registerCommand(R,function(P,...F){const[E,x]=F;c.assertType(k.URI.isUri(E)),c.assertType(y.Position.isIPosition(x));const H=P.get(w.IModelService).getModel(E);if(H){const K=y.Position.lift(x);return O(H,K,...F.slice(2))}return P.get(p.ITextModelService).createModelReference(E).then(K=>new Promise((q,G)=>{try{const ee=O(K.object.textEditorModel,y.Position.lift(x),F.slice(2));q(ee)}catch(ee){G(ee)}}).finally(()=>{K.dispose()}))})}e.registerModelAndPositionCommand=m;function C(R,O){i.CommandsRegistry.registerCommand(R,function(P,...F){const[E]=F;c.assertType(k.URI.isUri(E));const x=P.get(w.IModelService).getModel(E);return x?O(x,...F.slice(1)):P.get(p.ITextModelService).createModelReference(E).then(H=>new Promise((K,q)=>{try{const G=O(H.object.textEditorModel,F.slice(1));K(G)}catch(G){q(G)}}).finally(()=>{H.dispose()}))})}e.registerModelCommand=C;function g(R){return T.INSTANCE.registerEditorCommand(R),R}e.registerEditorCommand=g;function f(R){const O=new R;return T.INSTANCE.registerEditorAction(O),O}e.registerEditorAction=f;function b(R){return T.INSTANCE.registerEditorAction(R),R}e.registerMultiEditorAction=b;function L(R){T.INSTANCE.registerEditorAction(R)}e.registerInstantiatedEditorAction=L;function N(R,O){T.INSTANCE.registerEditorContribution(R,O)}e.registerEditorContribution=N;var D;(function(R){function O(H){return T.INSTANCE.getEditorCommand(H)}R.getEditorCommand=O;function P(){return T.INSTANCE.getEditorActions()}R.getEditorActions=P;function F(){return T.INSTANCE.getEditorContributions()}R.getEditorContributions=F;function E(H){return T.INSTANCE.getEditorContributions().filter(K=>H.indexOf(K.id)>=0)}R.getSomeEditorContributions=E;function x(){return T.INSTANCE.getDiffEditorContributions()}R.getDiffEditorContributions=x})(D=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const I={EditorCommonContributions:"editor.contributions"};class T{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(O,P){this.editorContributions.push({id:O,ctor:P})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(O){O.register(),this.editorActions.push(O)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(O){O.register(),this.editorCommands[O.id]=O}getEditorCommand(O){return this.editorCommands[O]||null}}T.INSTANCE=new T,a.Registry.add(I.EditorCommonContributions,T.INSTANCE);function A(R){return R.register(),R}e.UndoCommand=A(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:S.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:S.localize(1,null),order:1}]})),A(new o(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=A(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:S.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:S.localize(3,null),order:1}]})),A(new o(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=A(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:S.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:S.localize(5,null),order:1}]}))}),define(Q[144],J([0,1,454,38,20,42,14,28,550,39,184,242,185,13,3,25,16,87]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const o=0;class t extends w.EditorCommand{runEditorCommand(T,A,R){const O=A._getViewModel();!O||this.runCoreEditorCommand(O,R||{})}}e.CoreEditorCommand=t;var l;(function(I){const T=function(R){if(!M.isObject(R))return!1;const O=R;return!(!M.isString(O.to)||!M.isUndefined(O.by)&&!M.isString(O.by)||!M.isUndefined(O.value)&&!M.isNumber(O.value)||!M.isUndefined(O.revealCursor)&&!M.isBoolean(O.revealCursor))};I.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:T,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},I.RawDirection={Up:"up",Down:"down"},I.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function A(R){let O;switch(R.to){case I.RawDirection.Up:O=1;break;case I.RawDirection.Down:O=2;break;default:return null}let P;switch(R.by){case I.RawUnit.Line:P=1;break;case I.RawUnit.WrappedLine:P=2;break;case I.RawUnit.Page:P=3;break;case I.RawUnit.HalfPage:P=4;break;default:P=2}const F=Math.floor(R.value||1),E=!!R.revealCursor;return{direction:O,unit:P,value:F,revealCursor:E,select:!!R.select}}I.parse=A})(l=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(I){const T=function(A){if(!M.isObject(A))return!1;const R=A;return!(!M.isNumber(R.lineNumber)&&!M.isString(R.lineNumber)||!M.isUndefined(R.at)&&!M.isString(R.at))};I.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:T,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},I.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class m{constructor(T){T.addImplementation(1e4,"code-editor",(A,R)=>{const O=A.get(p.ICodeEditorService).getFocusedCodeEditor();return O&&O.hasTextFocus()?this._runEditorCommand(A,O,R):!1}),T.addImplementation(1e3,"generic-dom-input-textarea",(A,R)=>{const O=document.activeElement;return O&&["input","textarea"].indexOf(O.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),T.addImplementation(0,"generic-dom",(A,R)=>{const O=A.get(p.ICodeEditorService).getActiveCodeEditor();return O?(O.focus(),this._runEditorCommand(A,O,R)):!1})}_runEditorCommand(T,A,R){const O=this.runEditorCommand(T,A,R);return O||!0}}var C;(function(I){class T extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,[s.CursorMoveCommands.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,W.position,W.viewPosition)]),B.revealPrimaryCursor(W.source,!0)}}I.MoveTo=w.registerEditorCommand(new T({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),I.MoveToSelect=w.registerEditorCommand(new T({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class A extends t{runCoreEditorCommand(B,W){B.model.pushStackElement();const V=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),W);B.setCursorStates(W.source,3,V.viewStates.map(z=>i.CursorState.fromViewState(z))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:V.fromLineNumber,fromViewVisualColumn:V.fromVisualColumn,toViewLineNumber:V.toLineNumber,toViewVisualColumn:V.toVisualColumn}),V.reversed?B.revealTopMostCursor(W.source):B.revealBottomMostCursor(W.source)}}I.ColumnSelect=w.registerEditorCommand(new class extends A{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Y,B,W,V){const z=Y.model.validatePosition(V.position),U=Y.coordinatesConverter.validateViewPosition(new u.Position(V.viewPosition.lineNumber,V.viewPosition.column),z);let X=V.doColumnSelect?W.fromViewLineNumber:U.lineNumber,te=V.doColumnSelect?W.fromViewVisualColumn:V.mouseColumn-1;return v.ColumnSelection.columnSelect(Y.cursorConfig,Y,X,te,U.lineNumber,V.mouseColumn-1)}}),I.CursorColumnSelectLeft=w.registerEditorCommand(new class extends A{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Y,B,W,V){return v.ColumnSelection.columnSelectLeft(Y.cursorConfig,Y,W)}}),I.CursorColumnSelectRight=w.registerEditorCommand(new class extends A{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Y,B,W,V){return v.ColumnSelection.columnSelectRight(Y.cursorConfig,Y,W)}});class R extends A{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,W,V,z){return v.ColumnSelection.columnSelectUp(B.cursorConfig,B,V,this._isPaged)}}I.CursorColumnSelectUp=w.registerEditorCommand(new R({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),I.CursorColumnSelectPageUp=w.registerEditorCommand(new R({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class O extends A{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,W,V,z){return v.ColumnSelection.columnSelectDown(B.cursorConfig,B,V,this._isPaged)}}I.CursorColumnSelectDown=w.registerEditorCommand(new O({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),I.CursorColumnSelectPageDown=w.registerEditorCommand(new O({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class P extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(B,W){const V=s.CursorMove.parse(W);!V||this._runCursorMove(B,W.source,V)}_runCursorMove(B,W,V){B.model.pushStackElement(),B.setCursorStates(W,3,P._move(B,B.getCursorStates(),V)),B.revealPrimaryCursor(W,!0)}static _move(B,W,V){const z=V.select,U=V.value;switch(V.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(B,W,V.direction,z,U,V.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(B,W,V.direction,z,U);default:return null}}}I.CursorMoveImpl=P,I.CursorMove=w.registerEditorCommand(new P);class F extends t{constructor(B){super(B);this._staticArgs=B.args}runCoreEditorCommand(B,W){let V=this._staticArgs;this._staticArgs.value===-1&&(V={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(W.source,3,s.CursorMoveCommands.simpleMove(B,B.getCursorStates(),V.direction,V.select,V.value,V.unit)),B.revealPrimaryCursor(W.source,!0)}}I.CursorLeft=w.registerEditorCommand(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),I.CursorLeftSelect=w.registerEditorCommand(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),I.CursorRight=w.registerEditorCommand(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),I.CursorRightSelect=w.registerEditorCommand(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),I.CursorUp=w.registerEditorCommand(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),I.CursorUpSelect=w.registerEditorCommand(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),I.CursorPageUp=w.registerEditorCommand(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),I.CursorPageUpSelect=w.registerEditorCommand(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),I.CursorDown=w.registerEditorCommand(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),I.CursorDownSelect=w.registerEditorCommand(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),I.CursorPageDown=w.registerEditorCommand(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),I.CursorPageDownSelect=w.registerEditorCommand(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),I.CreateCursor=w.registerEditorCommand(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Y,B){let W;B.wholeLine?W=s.CursorMoveCommands.line(Y,Y.getPrimaryCursorState(),!1,B.position,B.viewPosition):W=s.CursorMoveCommands.moveTo(Y,Y.getPrimaryCursorState(),!1,B.position,B.viewPosition);const V=Y.getCursorStates();if(V.length>1){const z=W.modelState?W.modelState.position:null,U=W.viewState?W.viewState.position:null;for(let X=0,te=V.length;X<te;X++){const se=V[X];if(!(z&&!se.modelState.selection.containsPosition(z))&&!(U&&!se.viewState.selection.containsPosition(U))){V.splice(X,1),Y.model.pushStackElement(),Y.setCursorStates(B.source,3,V);return}}}V.push(W),Y.model.pushStackElement(),Y.setCursorStates(B.source,3,V)}}),I.LastCursorMoveToSelect=w.registerEditorCommand(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Y,B){const W=Y.getLastAddedCursorIndex(),V=Y.getCursorStates(),z=V.slice(0);z[W]=s.CursorMoveCommands.moveTo(Y,V[W],!0,B.position,B.viewPosition),Y.model.pushStackElement(),Y.setCursorStates(B.source,3,z)}});class E extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,s.CursorMoveCommands.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(W.source,!0)}}I.CursorHome=w.registerEditorCommand(new E({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),I.CursorHomeSelect=w.registerEditorCommand(new E({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class x extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(W.source,!0)}_exec(B){const W=[];for(let V=0,z=B.length;V<z;V++){const U=B[V],X=U.modelState.position.lineNumber;W[V]=i.CursorState.fromModelState(U.modelState.move(this._inSelectionMode,X,1,0))}return W}}I.CursorLineStart=w.registerEditorCommand(new x({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),I.CursorLineStartSelect=w.registerEditorCommand(new x({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class H extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,s.CursorMoveCommands.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,W.sticky||!1)),B.revealPrimaryCursor(W.source,!0)}}I.CursorEnd=w.registerEditorCommand(new H({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:S.localize(0,null),type:"boolean",default:!1}}}}]}})),I.CursorEndSelect=w.registerEditorCommand(new H({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:S.localize(1,null),type:"boolean",default:!1}}}}]}}));class K extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(W.source,!0)}_exec(B,W){const V=[];for(let z=0,U=W.length;z<U;z++){const X=W[z],te=X.modelState.position.lineNumber,se=B.model.getLineMaxColumn(te);V[z]=i.CursorState.fromModelState(X.modelState.move(this._inSelectionMode,te,se,0))}return V}}I.CursorLineEnd=w.registerEditorCommand(new K({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),I.CursorLineEndSelect=w.registerEditorCommand(new K({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class q extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(W.source,!0)}}I.CursorTop=w.registerEditorCommand(new q({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),I.CursorTopSelect=w.registerEditorCommand(new q({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class G extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,s.CursorMoveCommands.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(W.source,!0)}}I.CursorBottom=w.registerEditorCommand(new G({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),I.CursorBottomSelect=w.registerEditorCommand(new G({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class ee extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:l.description})}runCoreEditorCommand(B,W){const V=l.parse(W);!V||this._runEditorScroll(B,W.source,V)}_runEditorScroll(B,W,V){const z=this._computeDesiredScrollTop(B,V);if(V.revealCursor){const U=B.getCompletelyVisibleViewRangeAtScrollTop(z);B.setCursorStates(W,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),U,V.select)])}B.setScrollTop(z,0)}_computeDesiredScrollTop(B,W){if(W.unit===1){const U=B.getCompletelyVisibleViewRange(),X=B.coordinatesConverter.convertViewRangeToModelRange(U);let te;W.direction===1?te=Math.max(1,X.startLineNumber-W.value):te=Math.min(B.model.getLineCount(),X.startLineNumber+W.value);const se=B.coordinatesConverter.convertModelPositionToViewPosition(new u.Position(te,1));return B.getVerticalOffsetForLineNumber(se.lineNumber)}let V;W.unit===3?V=B.cursorConfig.pageSize*W.value:W.unit===4?V=Math.round(B.cursorConfig.pageSize/2)*W.value:V=W.value;const z=(W.direction===1?-1:1)*V;return B.getScrollTop()+z*B.cursorConfig.lineHeight}}I.EditorScrollImpl=ee,I.EditorScroll=w.registerEditorCommand(new ee),I.ScrollLineUp=w.registerEditorCommand(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Y,B){I.EditorScroll._runEditorScroll(Y,B.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageUp=w.registerEditorCommand(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Y,B){I.EditorScroll._runEditorScroll(Y,B.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),I.ScrollLineDown=w.registerEditorCommand(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Y,B){I.EditorScroll._runEditorScroll(Y,B.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageDown=w.registerEditorCommand(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Y,B){I.EditorScroll._runEditorScroll(Y,B.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ie extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,[s.CursorMoveCommands.word(B,B.getPrimaryCursorState(),this._inSelectionMode,W.position)]),B.revealPrimaryCursor(W.source,!0)}}I.WordSelect=w.registerEditorCommand(new ie({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),I.WordSelectDrag=w.registerEditorCommand(new ie({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),I.LastCursorWordSelect=w.registerEditorCommand(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Y,B){const W=Y.getLastAddedCursorIndex(),V=Y.getCursorStates(),z=V.slice(0),U=V[W];z[W]=s.CursorMoveCommands.word(Y,U,U.modelState.hasSelection(),B.position),Y.model.pushStackElement(),Y.setCursorStates(B.source,3,z)}});class ae extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){B.model.pushStackElement(),B.setCursorStates(W.source,3,[s.CursorMoveCommands.line(B,B.getPrimaryCursorState(),this._inSelectionMode,W.position,W.viewPosition)]),B.revealPrimaryCursor(W.source,!1)}}I.LineSelect=w.registerEditorCommand(new ae({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),I.LineSelectDrag=w.registerEditorCommand(new ae({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class de extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,W){const V=B.getLastAddedCursorIndex(),z=B.getCursorStates(),U=z.slice(0);U[V]=s.CursorMoveCommands.line(B,z[V],this._inSelectionMode,W.position,W.viewPosition),B.model.pushStackElement(),B.setCursorStates(W.source,3,U)}}I.LastCursorLineSelect=w.registerEditorCommand(new de({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),I.LastCursorLineSelectDrag=w.registerEditorCommand(new de({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),I.ExpandLineSelection=w.registerEditorCommand(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(Y,B){Y.model.pushStackElement(),Y.setCursorStates(B.source,3,s.CursorMoveCommands.expandLineSelection(Y,Y.getCursorStates())),Y.revealPrimaryCursor(B.source,!0)}}),I.CancelSelection=w.registerEditorCommand(new class extends t{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Y,B){Y.model.pushStackElement(),Y.setCursorStates(B.source,3,[s.CursorMoveCommands.cancelSelection(Y,Y.getPrimaryCursorState())]),Y.revealPrimaryCursor(B.source,!0)}}),I.RemoveSecondaryCursors=w.registerEditorCommand(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:o+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Y,B){Y.model.pushStackElement(),Y.setCursorStates(B.source,3,[Y.getPrimaryCursorState()]),Y.revealPrimaryCursor(B.source,!0),y.status(S.localize(2,null))}}),I.RevealLine=w.registerEditorCommand(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(Y,B){const W=B,V=W.lineNumber||0;let z=typeof V=="number"?V+1:parseInt(V)+1;z<1&&(z=1);const U=Y.model.getLineCount();z>U&&(z=U);const X=new c.Range(z,1,z,Y.model.getLineMaxColumn(z));let te=0;if(W.at)switch(W.at){case h.RawAtArgument.Top:te=3;break;case h.RawAtArgument.Center:te=1;break;case h.RawAtArgument.Bottom:te=4;break;default:break}const se=Y.coordinatesConverter.convertModelRangeToViewRange(X);Y.revealRange(B.source,!1,se,te,0)}}),I.SelectAll=new class extends m{constructor(){super(w.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Y,B,W){const V=B._getViewModel();!V||this.runCoreEditorCommand(V,W)}runCoreEditorCommand(Y,B){Y.model.pushStackElement(),Y.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(Y,Y.getPrimaryCursorState())])}},I.SetSelection=w.registerEditorCommand(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Y,B){Y.model.pushStackElement(),Y.setCursorStates(B.source,3,[i.CursorState.fromModelSelection(B.selection)])}})})(C=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const g=r.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function f(I,T){n.KeybindingsRegistry.registerKeybindingRule({id:I,primary:T,when:g,weight:o+1})}f(C.CursorColumnSelectLeft.id,1024|15),f(C.CursorColumnSelectRight.id,1024|17),f(C.CursorColumnSelectUp.id,1024|16),f(C.CursorColumnSelectPageUp.id,1024|11),f(C.CursorColumnSelectDown.id,1024|18),f(C.CursorColumnSelectPageDown.id,1024|12);function b(I){return I.register(),I}var L;(function(I){class T extends w.EditorCommand{runEditorCommand(R,O,P){const F=O._getViewModel();!F||this.runCoreEditingCommand(O,F,P||{})}}I.CoreEditingCommand=T,I.LineBreakInsert=w.registerEditorCommand(new class extends T{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(A,R,O){A.pushUndoStop(),A.executeCommands(this.id,a.TypeOperations.lineBreakInsert(R.cursorConfig,R.model,R.getCursorStates().map(P=>P.modelState.selection)))}}),I.Outdent=w.registerEditorCommand(new class extends T{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(A,R,O){A.pushUndoStop(),A.executeCommands(this.id,a.TypeOperations.outdent(R.cursorConfig,R.model,R.getCursorStates().map(P=>P.modelState.selection))),A.pushUndoStop()}}),I.Tab=w.registerEditorCommand(new class extends T{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(A,R,O){A.pushUndoStop(),A.executeCommands(this.id,a.TypeOperations.tab(R.cursorConfig,R.model,R.getCursorStates().map(P=>P.modelState.selection))),A.pushUndoStop()}}),I.DeleteLeft=w.registerEditorCommand(new class extends T{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(A,R,O){const[P,F]=_.DeleteOperations.deleteLeft(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(E=>E.modelState.selection),R.getCursorAutoClosedCharacters());P&&A.pushUndoStop(),A.executeCommands(this.id,F),R.setPrevEditOperationType(2)}}),I.DeleteRight=w.registerEditorCommand(new class extends T{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:o,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(A,R,O){const[P,F]=_.DeleteOperations.deleteRight(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(E=>E.modelState.selection));P&&A.pushUndoStop(),A.executeCommands(this.id,F),R.setPrevEditOperationType(3)}}),I.Undo=new class extends m{constructor(){super(w.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(A,R,O){if(!(!R.hasModel()||R.getOption(78)===!0))return R.getModel().undo()}},I.Redo=new class extends m{constructor(){super(w.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(A,R,O){if(!(!R.hasModel()||R.getOption(78)===!0))return R.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class N extends w.Command{constructor(T,A,R){super({id:T,precondition:void 0,description:R});this._handlerId=A}runCommand(T,A){const R=T.get(p.ICodeEditorService).getFocusedCodeEditor();!R||R.trigger("keyboard",this._handlerId,A)}}function D(I,T){b(new N("default:"+I,I)),b(new N(I,I,T))}D("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),D("replacePreviousChar"),D("compositionType"),D("compositionStart"),D("compositionEnd"),D("paste"),D("cut")}),define(Q[620],J([0,1,14,16,23,72,9,75,456]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=w.createDecorator("IEditorCancelService"),_=new k.RawContextKey("cancellableOperation",!1,v.localize(0,null));p.registerSingleton(i,class{constructor(){this._tokens=new WeakMap}add(a,u){let c=this._tokens.get(a);c||(c=a.invokeWithinContext(r=>{const n=_.bindTo(r.get(k.IContextKeyService)),o=new y.LinkedList;return{key:n,tokens:o}}),this._tokens.set(a,c));let d;return c.key.set(!0),d=c.tokens.push(u),()=>{d&&(d(),c.key.set(!c.tokens.isEmpty()),d=void 0)}}cancel(a){const u=this._tokens.get(a);if(!u)return;const c=u.tokens.pop();c&&(c.cancel(),u.key.set(!u.tokens.isEmpty()))}},!0);class s extends M.CancellationTokenSource{constructor(u,c){super(c);this.editor=u,this._unregister=u.invokeWithinContext(d=>d.get(i).add(u,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,S.registerEditorCommand(new class extends S.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:_})}runEditorCommand(a,u){a.get(i).cancel(u)}})}),define(Q[71],J([0,1,8,3,23,2,620]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,u){if(this.flags=u,(this.flags&1)!=0){const c=a.getModel();this.modelVersionId=c?S.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=a.getPosition():this.position=null,(this.flags&2)!=0?this.selection=a.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const u=a;return!(this.modelVersionId!==u.modelVersionId||this.scrollLeft!==u.scrollLeft||this.scrollTop!==u.scrollTop||!this.position&&u.position||this.position&&!u.position||this.position&&u.position&&!this.position.equals(u.position)||!this.selection&&u.selection||this.selection&&!u.selection||this.selection&&u.selection&&!this.selection.equalsRange(u.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class v extends w.EditorKeybindingCancellationTokenSource{constructor(a,u,c,d){super(a,d);this._listener=new y.DisposableStore,u&4&&this._listener.add(a.onDidChangeCursorPosition(r=>{(!c||!k.Range.containsPosition(c,r.position))&&this.cancel()})),u&2&&this._listener.add(a.onDidChangeCursorSelection(r=>{(!c||!k.Range.containsRange(c,r.selection))&&this.cancel()})),u&8&&this._listener.add(a.onDidScrollChange(r=>this.cancel())),u&1&&(this._listener.add(a.onDidChangeModel(r=>this.cancel())),this._listener.add(a.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class i extends M.CancellationTokenSource{constructor(a,u){super(u);this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class _{constructor(a,u,c){this._visiblePosition=a,this._visiblePositionScrollDelta=u,this._cursorPosition=c}static capture(a){let u=null,c=0;if(a.getScrollTop()!==0){const d=a.getVisibleRanges();if(d.length>0){u=d[0].getStartPosition();const r=a.getTopForPosition(u.lineNumber,u.column);c=a.getScrollTop()-r}}return new _(u,c,a.getPosition())}restore(a){if(this._visiblePosition){const u=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(u+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(a){const u=a.getPosition();if(!this._cursorPosition||!u)return;const c=a.getTopForLineNumber(u.lineNumber)-a.getTopForLineNumber(this._cursorPosition.lineNumber);a.setScrollTop(a.getScrollTop()+c)}}e.StableEditorScrollState=_}),define(Q[621],J([0,1,181,14]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let M=class{constructor(w,p){}dispose(){}};M.ID="editor.contrib.markerDecorations",M=Me([pe(1,S.IMarkerDecorationsService)],M),e.MarkerDecorationsContribution=M,k.registerEditorContribution(M.ID,M)}),define(Q[622],J([0,1,144,13,17]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class y{constructor(p,v,i,_){this.configuration=p,this.viewModel=v,this.userInputEvents=i,this.commandDelegate=_}paste(p,v,i,_){this.commandDelegate.paste(p,v,i,_)}type(p){this.commandDelegate.type(p)}compositionType(p,v,i,_){this.commandDelegate.compositionType(p,v,i,_)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){S.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const v=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<v?new k.Position(p.lineNumber,v):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(67)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(67)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const v=this.configuration.options,i=M.isLinux&&v.get(94),_=v.get(16);p.middleButton&&!i?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position):this._lastCursorLineSelect(p.position):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount===2?this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position):p.inSelectionMode?this._wordSelectDrag(p.position):this._wordSelect(p.position):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):_?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position):this.moveTo(p.position)}_usualArgs(p){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p}}moveTo(p){S.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_moveToSelect(p){S.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_columnSelect(p,v,i){p=this._validateViewColumn(p),S.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:v,doColumnSelect:i})}_createCursor(p,v){p=this._validateViewColumn(p),S.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:v})}_lastCursorMoveToSelect(p){S.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelect(p){S.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelectDrag(p){S.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorWordSelect(p){S.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelect(p){S.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelectDrag(p){S.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelect(p){S.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelectDrag(p){S.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_selectAll(){S.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=y}),define(Q[623],J([0,1,7,38,21,30,12,595,604,622,257,578,46,398,602,399,598,174,603,258,596,400,224,401,599,402,605,403,606,600,601,607,404,13,3,111,393,395,113,11,189]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I,T,A,R,O,P,F,E,x,H,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class q extends x.ViewEventHandler{constructor(ie,ae,de,Y,B,W){super();this._selections=[new M.Selection(1,1,1,1)],this._renderAnimationFrame=null;const V=new i.ViewController(ae,Y,B,ie);this._context=new F.ViewContext(ae,de.getColorTheme(),Y),this._configPixelRatio=this._context.configuration.options.get(126),this._context.addEventHandler(this),this._register(de.onDidColorThemeChange(re=>{this._context.theme.update(re),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new v.TextAreaHandler(this._context,V,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=y.createFastDomNode(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=y.createFastDomNode(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=y.createFastDomNode(document.createElement("div")),a.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new l.ViewLines(this._context,this._linesContent),this._viewZones=new A.ViewZones(this._context),this._viewParts.push(this._viewZones);const z=new b.DecorationsOverviewRuler(this._context);this._viewParts.push(z);const U=new D.ScrollDecorationViewPart(this._context);this._viewParts.push(U);const X=new s.ContentViewOverlays(this._context);this._viewParts.push(X),X.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),X.addDynamicOverlay(new I.SelectionsOverlay(this._context)),X.addDynamicOverlay(new o.IndentGuidesOverlay(this._context)),X.addDynamicOverlay(new d.DecorationsOverlay(this._context));const te=new s.MarginViewOverlays(this._context);this._viewParts.push(te),te.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),te.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),te.addDynamicOverlay(new C.MarginViewLineDecorationsOverlay(this._context)),te.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),te.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const se=new m.Margin(this._context);se.getDomNode().appendChild(this._viewZones.marginDomNode),se.getDomNode().appendChild(te.getDomNode()),this._viewParts.push(se),this._contentWidgets=new u.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new f.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const le=new N.Rulers(this._context);this._viewParts.push(le);const ue=new g.Minimap(this._context);if(this._viewParts.push(ue),z){const re=this._scrollbar.getOverviewRulerLayoutInfo();re.parent.insertBefore(z.getDomNode(),re.insertBefore)}this._linesContent.appendChild(X.getDomNode()),this._linesContent.appendChild(le.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(se.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(U.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ue.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),W?W.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,V,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:ie=>{this._textAreaHandler.textArea.domNode.dispatchEvent(ie)},getLastRenderData:()=>{const ie=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new K.PointerHandlerLastRenderData(ie,ae)},shouldSuppressMouseDownOnViewZone:ie=>this._viewZones.shouldSuppressMouseDownOnViewZone(ie),shouldSuppressMouseDownOnWidget:ie=>this._contentWidgets.shouldSuppressMouseDownOnWidget(ie),getPositionFromDOMInfo:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(ie,ae)),visibleRangeForPosition:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(ie,ae))),getLineWidth:ie=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(ie))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(ie,ae)))}}_applyLayout(){const ae=this._context.configuration.options.get(128);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const ie=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(125)+" "+H.getThemeTypeSelector(this._context.theme.type)+ie}handleEvents(ie){super.handleEvents(ie),this._scheduleRender()}onConfigurationChanged(ie){return this._configPixelRatio=this._context.configuration.options.get(126),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(ie){return this._selections=ie.selections,!1}onFocusChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const ie of this._viewParts)ie.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=S.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){G(()=>this._actualRender())}_getViewPartsToRender(){let ie=[],ae=0;for(const de of this._viewParts)de.shouldRender()&&(ie[ae++]=de);return ie}_actualRender(){if(!S.isInDOM(this.domNode.domNode))return;let ie=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&ie.length===0)return;const ae=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const de=new E.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(de),this._viewLines.shouldRender()&&(this._viewLines.renderText(de),this._viewLines.onDidRender(),ie=this._getViewPartsToRender());const Y=new P.RenderingContext(this._context.viewLayout,de,this._viewLines);for(const B of ie)B.prepareRender(Y);for(const B of ie)B.render(Y),B.onDidRender();Math.abs(k.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(ie){this._scrollbar.delegateVerticalScrollbarMouseDown(ie)}restoreState(ie){this._context.model.setScrollPosition({scrollTop:ie.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:ie.scrollLeft},1)}getOffsetForColumn(ie,ae){const de=this._context.model.validateModelPosition({lineNumber:ie,column:ae}),Y=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(de);this._flushAccumulatedAndRenderNow();const B=this._viewLines.visibleRangeForPosition(new R.Position(Y.lineNumber,Y.column));return B?B.left:-1}getTargetAtClientPoint(ie,ae){const de=this._pointerHandler.getTargetAtClientPoint(ie,ae);return de?_.ViewUserInputEvents.convertViewToModelMouseTarget(de,this._context.model.coordinatesConverter):null}createOverviewRuler(ie){return new L.OverviewRuler(this._context,ie)}change(ie){this._viewZones.changeViewZones(ie),this._scheduleRender()}render(ie,ae){if(ae){this._viewLines.forceShouldRender();for(const de of this._viewParts)de.forceShouldRender()}ie?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(ie){this._textAreaHandler.setAriaOptions(ie)}addContentWidget(ie){this._contentWidgets.addWidget(ie.widget),this.layoutContentWidget(ie),this._scheduleRender()}layoutContentWidget(ie){let ae=ie.position&&ie.position.range||null;if(ae===null){const Y=ie.position?ie.position.position:null;Y!==null&&(ae=new O.Range(Y.lineNumber,Y.column,Y.lineNumber,Y.column))}const de=ie.position?ie.position.preference:null;this._contentWidgets.setWidgetPosition(ie.widget,ae,de),this._scheduleRender()}removeContentWidget(ie){this._contentWidgets.removeWidget(ie.widget),this._scheduleRender()}addOverlayWidget(ie){this._overlayWidgets.addWidget(ie.widget),this.layoutOverlayWidget(ie),this._scheduleRender()}layoutOverlayWidget(ie){const ae=ie.position?ie.position.preference:null;this._overlayWidgets.setWidgetPosition(ie.widget,ae)&&this._scheduleRender()}removeOverlayWidget(ie){this._overlayWidgets.removeWidget(ie.widget),this._scheduleRender()}}e.View=q;function G(ee){try{return ee()}catch(ie){w.onUnexpectedError(ie)}}}),define(Q[145],J([0,1,458,7,12,6,2,44,66,14,28,623,257,35,243,39,13,3,21,218,108,25,18,48,22,554,26,16,9,139,34,11,65,20,405,577,137,621,341]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I,T,A,R,O,P,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let E=0;class x{constructor(z,U,X,te,se){this.model=z,this.viewModel=U,this.view=X,this.hasRealView=te,this.listenersToRemove=se}dispose(){w.dispose(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let H=class ht extends w.Disposable{constructor(z,U,X,te,se,le,ue,re,ce,j){super();this._onDidDispose=this._register(new y.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new y.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new y.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new y.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new K),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new K),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new y.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new y.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new y.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new y.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new y.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new y.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new y.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new y.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new y.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new y.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new y.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new y.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new y.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new y.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const ne=Object.assign({},U);this._domElement=z,this._overflowWidgetsDomNode=ne.overflowWidgetsDomNode,delete ne.overflowWidgetsDomNode,this._id=++E,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=X.isSimpleWidget||!1,this._telemetryData=X.telemetryData,this._configuration=this._register(this._createConfiguration(ne,j)),this._register(this._configuration.onDidChange(oe=>{this._onDidChangeConfiguration.fire(oe);const fe=this._configuration.options;if(oe.hasChanged(128)){const _e=fe.get(128);this._onDidLayoutChange.fire(_e)}})),this._contextKeyService=this._register(ue.createScoped(this._domElement)),this._notificationService=ce,this._codeEditorService=se,this._commandService=le,this._themeService=re,this._register(new q(this,this._contextKeyService)),this._register(new G(this,this._contextKeyService)),this._instantiationService=te.createChild(new D.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ee(z),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={};let Z;Array.isArray(X.contributions)?Z=X.contributions:Z=i.EditorExtensionsRegistry.getEditorContributions();for(const oe of Z){if(this._contributions[oe.id]){M.onUnexpectedError(new Error(`Cannot have two contributions with the same id ${oe.id}`));continue}try{const fe=this._instantiationService.createInstance(oe.ctor,this);this._contributions[oe.id]=fe}catch(fe){M.onUnexpectedError(fe)}}i.EditorExtensionsRegistry.getEditorActions().forEach(oe=>{if(this._actions[oe.id]){M.onUnexpectedError(new Error(`Cannot have two actions with the same id ${oe.id}`));return}const fe=new t.InternalEditorAction(oe.id,oe.label,oe.alias,R.withNullAsUndefined(oe.precondition),()=>this._instantiationService.invokeFunction(_e=>Promise.resolve(oe.runEditorCommand(_e,this,null))),this._contextKeyService);this._actions[fe.id]=fe}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(z,U){return new v.Configuration(this.isSimpleWidget,z,this._domElement,U)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let U=0,X=z.length;U<X;U++){const te=z[U];this._contributions[te].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z)}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?F.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(114),z):null}getValue(z=null){if(!this._modelData)return"";const U=!!(z&&z.preserveBOM);let X=0;return z&&z.lineEnding&&z.lineEnding===`
`?X=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(X=2),this._modelData.model.getValue(X,U)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const U=z;if(this._modelData===null&&U===null||this._modelData&&this._modelData.model===U)return;const X=this.hasTextFocus(),te=this._detachModel();this._attachModel(U),X&&this.hasModel()&&this.focus();const se={oldModelUrl:te?te.uri:null,newModelUrl:U?U.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(se),this._postDetachModelCleanup(te)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let z in this._decorationTypeSubtypes){const U=this._decorationTypeSubtypes[z];for(let X in U)this._removeDecorationType(z+"-"+X)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(z,U,X){const te=z.model.validatePosition({lineNumber:U,column:X}),se=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(te);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(se.lineNumber)}getTopForLineNumber(z){return this._modelData?ht._getVerticalOffsetForPosition(this._modelData,z,1):-1}getTopForPosition(z,U){return this._modelData?ht._getVerticalOffsetForPosition(this._modelData,z,U):-1}setHiddenAreas(z){this._modelData&&this._modelData.viewModel.setHiddenAreas(z.map(U=>n.Range.lift(U)))}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const U=this._modelData.model.validatePosition(z),X=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(U.lineNumber),U.column,X)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z){if(!!this._modelData){if(!r.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,U,X,te){if(!this._modelData)return;if(!n.Range.isIRange(z))throw new Error("Invalid arguments");const se=this._modelData.model.validateRange(z),le=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(se);this._modelData.viewModel.revealRange("api",X,le,U,te)}revealLine(z,U=0){this._revealLine(z,0,U)}revealLineInCenter(z,U=0){this._revealLine(z,1,U)}revealLineInCenterIfOutsideViewport(z,U=0){this._revealLine(z,2,U)}revealLineNearTop(z,U=0){this._revealLine(z,5,U)}_revealLine(z,U,X){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,z,1),U,!1,X)}revealPosition(z,U=0){this._revealPosition(z,0,!0,U)}revealPositionInCenter(z,U=0){this._revealPosition(z,1,!0,U)}revealPositionInCenterIfOutsideViewport(z,U=0){this._revealPosition(z,2,!0,U)}revealPositionNearTop(z,U=0){this._revealPosition(z,5,!0,U)}_revealPosition(z,U,X,te){if(!r.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z.lineNumber,z.column,z.lineNumber,z.column),U,X,te)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z){const U=o.Selection.isISelection(z),X=n.Range.isIRange(z);if(!U&&!X)throw new Error("Invalid arguments");if(U)this._setSelectionImpl(z);else if(X){const te={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(te)}}_setSelectionImpl(z){if(!this._modelData)return;const U=new o.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections("api",[U])}revealLines(z,U,X=0){this._revealLines(z,U,0,X)}revealLinesInCenter(z,U,X=0){this._revealLines(z,U,1,X)}revealLinesInCenterIfOutsideViewport(z,U,X=0){this._revealLines(z,U,2,X)}revealLinesNearTop(z,U,X=0){this._revealLines(z,U,5,X)}_revealLines(z,U,X,te){if(typeof z!="number"||typeof U!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,U,1),X,!1,te)}revealRange(z,U=0,X=!1,te=!0){this._revealRange(z,X?1:0,te,U)}revealRangeInCenter(z,U=0){this._revealRange(z,1,!0,U)}revealRangeInCenterIfOutsideViewport(z,U=0){this._revealRange(z,2,!0,U)}revealRangeNearTop(z,U=0){this._revealRange(z,5,!0,U)}revealRangeNearTopIfOutsideViewport(z,U=0){this._revealRange(z,6,!0,U)}revealRangeAtTop(z,U=0){this._revealRange(z,3,!0,U)}_revealRange(z,U,X,te){if(!n.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(z),U,X,te)}setSelections(z,U="api",X=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let te=0,se=z.length;te<se;te++)if(!o.Selection.isISelection(z[te]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(U,z,X)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,U=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:z},U)}}setScrollTop(z,U=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:z},U)}}setScrollPosition(z,U=1){!this._modelData||this._modelData.viewModel.setScrollPosition(z,U)}saveViewState(){if(!this._modelData)return null;const z={},U=Object.keys(this._contributions);for(const se of U){const le=this._contributions[se];typeof le.saveViewState=="function"&&(z[se]=le.saveViewState())}const X=this._modelData.viewModel.saveCursorState(),te=this._modelData.viewModel.saveState();return{cursorState:X,viewState:te,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const U=z;if(U&&U.cursorState&&U.viewState){const X=U.cursorState;Array.isArray(X)?this._modelData.viewModel.restoreCursorState(X):this._modelData.viewModel.restoreCursorState([X]);const te=U.contributionsState||{},se=Object.keys(this._contributions);for(let ue=0,re=se.length;ue<re;ue++){const ce=se[ue],j=this._contributions[ce];typeof j.restoreViewState=="function"&&j.restoreViewState(te[ce])}const le=this._modelData.viewModel.reduceRestoreState(U.viewState);this._modelData.view.restoreState(le)}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],U=Object.keys(this._actions);for(let X=0,te=U.length;X<te;X++){const se=U[X];z.push(this._actions[se])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(U=>U.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,U,X){switch(X=X||{},U){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const se=X;this._type(z,se.text||"");return}case"replacePreviousChar":{const se=X;this._compositionType(z,se.text||"",se.replaceCharCnt||0,0,0);return}case"compositionType":{const se=X;this._compositionType(z,se.text||"",se.replacePrevCharCnt||0,se.replaceNextCharCnt||0,se.positionDelta||0);return}case"paste":{const se=X;this._paste(z,se.text||"",se.pasteOnNewLine||!1,se.multicursorText||null,se.mode||null);return}case"cut":this._cut(z);return}const te=this.getAction(U);if(te){Promise.resolve(te.run()).then(void 0,M.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,U,X)||this._triggerCommand(U,X)}_triggerCommand(z,U){this._commandService.executeCommand(z,U)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,U){!this._modelData||U.length===0||(z==="keyboard"&&this._onWillType.fire(U),this._modelData.viewModel.type(U,z),z==="keyboard"&&this._onDidType.fire(U))}_compositionType(z,U,X,te,se){!this._modelData||this._modelData.viewModel.compositionType(U,X,te,se,z)}_paste(z,U,X,te,se){if(!this._modelData||U.length===0)return;const le=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(U,X,te,z);const ue=this._modelData.viewModel.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new n.Range(le.lineNumber,le.column,ue.lineNumber,ue.column),mode:se})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,U,X){const te=i.EditorExtensionsRegistry.getEditorCommand(U);return te?(X=X||{},X.source=z,this._instantiationService.invokeFunction(se=>{Promise.resolve(te.runEditorCommand(se,this,X)).then(void 0,M.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(78)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(78)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,U,X){if(!this._modelData||this._configuration.options.get(78))return!1;let te;return X?Array.isArray(X)?te=()=>X:te=X:te=()=>null,this._modelData.viewModel.executeEdits(z,U,te),!0}executeCommand(z,U){!this._modelData||this._modelData.viewModel.executeCommand(U,z)}executeCommands(z,U){!this._modelData||this._modelData.viewModel.executeCommands(U,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,u.filterValidationDecorations(this._configuration.options)):null}deltaDecorations(z,U){return this._modelData?z.length===0&&U.length===0?z:this._modelData.model.deltaDecorations(z,U,this._id):[]}removeDecorations(z){const U=this._decorationTypeKeysToIds[z];U&&this.deltaDecorations(U,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(128)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(z)}layout(z){this._configuration.observeReferenceElement(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const U={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=U,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(U)}layoutContentWidget(z){const U=z.getId();if(this._contentWidgets.hasOwnProperty(U)){const X=this._contentWidgets[U];X.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(X)}}removeContentWidget(z){const U=z.getId();if(this._contentWidgets.hasOwnProperty(U)){const X=this._contentWidgets[U];delete this._contentWidgets[U],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(X)}}addOverlayWidget(z){const U={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=U,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(U)}layoutOverlayWidget(z){const U=z.getId();if(this._overlayWidgets.hasOwnProperty(U)){const X=this._overlayWidgets[U];X.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(X)}}removeOverlayWidget(z){const U=z.getId();if(this._overlayWidgets.hasOwnProperty(U)){const X=this._overlayWidgets[U];delete this._overlayWidgets[U],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(X)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,U){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,U)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const U=this._modelData.model.validatePosition(z),X=this._configuration.options,te=X.get(128),se=ht._getVerticalOffsetForPosition(this._modelData,U.lineNumber,U.column)-this.getScrollTop(),le=this._modelData.view.getOffsetForColumn(U.lineNumber,U.column)+te.glyphMarginWidth+te.lineNumbersWidth+te.decorationsWidth-this.getScrollLeft();return{top:se,left:le,height:X.get(56)}}getOffsetForColumn(z,U){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,U)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){v.Configuration.applyFontInfoSlow(z,this._configuration.options.get(40))}_attachModel(z){if(!z){this._modelData=null;return}const U=[];this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setMaxLineNumber(z.getLineCount()),z.onBeforeAttached();const X=new f.ViewModel(this._id,this._configuration,z,P.DOMLineBreaksComputerFactory.create(),O.MonospaceLineBreaksComputerFactory.create(this._configuration.options),le=>k.scheduleAtNextAnimationFrame(le));U.push(z.onDidChangeDecorations(le=>this._onDidChangeModelDecorations.fire(le))),U.push(z.onDidChangeLanguage(le=>{this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(le)})),U.push(z.onDidChangeLanguageConfiguration(le=>this._onDidChangeModelLanguageConfiguration.fire(le))),U.push(z.onDidChangeContent(le=>this._onDidChangeModelContent.fire(le))),U.push(z.onDidChangeOptions(le=>this._onDidChangeModelOptions.fire(le))),U.push(z.onWillDispose(()=>this.setModel(null))),U.push(X.onEvent(le=>{switch(le.kind){case 0:this._onDidContentSizeChange.fire(le);break;case 1:this._editorTextFocus.setValue(le.hasFocus);break;case 2:this._onDidScrollChange.fire(le);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{le.reachedMaxCursorCount&&this._notificationService.warn(S.localize(0,null,c.Cursor.MAX_CURSOR_COUNT));const ue=[];for(let j=0,ne=le.selections.length;j<ne;j++)ue[j]=le.selections[j].getPosition();const re={position:ue[0],secondaryPositions:ue.slice(1),reason:le.reason,source:le.source};this._onDidChangeCursorPosition.fire(re);const ce={selection:le.selections[0],secondarySelections:le.selections.slice(1),modelVersionId:le.modelVersionId,oldSelections:le.oldSelections,oldModelVersionId:le.oldModelVersionId,source:le.source,reason:le.reason};this._onDidChangeCursorSelection.fire(ce);break}}}));const[te,se]=this._createView(X);if(se){this._domElement.appendChild(te.domNode.domNode);let le=Object.keys(this._contentWidgets);for(let ue=0,re=le.length;ue<re;ue++){const ce=le[ue];te.addContentWidget(this._contentWidgets[ce])}le=Object.keys(this._overlayWidgets);for(let ue=0,re=le.length;ue<re;ue++){const ce=le[ue];te.addOverlayWidget(this._overlayWidgets[ce])}te.render(!1,!0),te.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new x(z,X,te,se,U)}_createView(z){let U;this.isSimpleWidget?U={paste:(se,le,ue,re)=>{this._paste("keyboard",se,le,ue,re)},type:se=>{this._type("keyboard",se)},compositionType:(se,le,ue,re)=>{this._compositionType("keyboard",se,le,ue,re)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:U={paste:(se,le,ue,re)=>{const ce={text:se,pasteOnNewLine:le,multicursorText:ue,mode:re};this._commandService.executeCommand("paste",ce)},type:se=>{const le={text:se};this._commandService.executeCommand("type",le)},compositionType:(se,le,ue,re)=>{if(ue||re){const ce={text:se,replacePrevCharCnt:le,replaceNextCharCnt:ue,positionDelta:re};this._commandService.executeCommand("compositionType",ce)}else{const ce={text:se,replaceCharCnt:le};this._commandService.executeCommand("replacePreviousChar",ce)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const X=new a.ViewUserInputEvents(z.coordinatesConverter);return X.onKeyDown=se=>this._onKeyDown.fire(se),X.onKeyUp=se=>this._onKeyUp.fire(se),X.onContextMenu=se=>this._onContextMenu.fire(se),X.onMouseMove=se=>this._onMouseMove.fire(se),X.onMouseLeave=se=>this._onMouseLeave.fire(se),X.onMouseDown=se=>this._onMouseDown.fire(se),X.onMouseUp=se=>this._onMouseUp.fire(se),X.onMouseDrag=se=>this._onMouseDrag.fire(se),X.onMouseDrop=se=>this._onMouseDrop.fire(se),X.onMouseDropCanceled=se=>this._onMouseDropCanceled.fire(se),X.onMouseWheel=se=>this._onMouseWheel.fire(se),[new s.View(U,this._configuration,this._themeService,z,X,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z&&z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,U=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),U&&this._domElement.contains(U)&&this._domElement.removeChild(U),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}};H=Me([pe(3,N.IInstantiationService),pe(4,_.ICodeEditorService),pe(5,b.ICommandService),pe(6,L.IContextKeyService),pe(7,T.IThemeService),pe(8,I.INotificationService),pe(9,A.IAccessibilityService)],H),e.CodeEditorWidget=H;class K extends w.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new y.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const U=z?2:1;this._value!==U&&(this._value=U,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=K;class q extends w.Disposable{constructor(z,U){super();this._editor=z,U.createKey("editorId",z.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(U),this._editorFocus=h.EditorContextKeys.focus.bindTo(U),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(U),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(U),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(U),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(U),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(U),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(U),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(U),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(U),this._canUndo=h.EditorContextKeys.canUndo.bindTo(U),this._canRedo=h.EditorContextKeys.canRedo.bindTo(U),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(127)),this._editorReadonly.set(z.get(78)),this._inDiffEditor.set(z.get(51)),this._editorColumnSelection.set(z.get(16))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(U=>!U.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class G extends w.Disposable{constructor(z,U){super();this._editor=z,this._contextKeyService=U,this._langId=h.EditorContextKeys.languageId.bindTo(U),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(U),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(U),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(U),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(U),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(U),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(U),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(U),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(U),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(U),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(U),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(U),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(U),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(U),this._hasInlayHintsProvider=h.EditorContextKeys.hasInlayHintsProvider.bindTo(U),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(U),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(U),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(U),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(U),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(U);const X=()=>this._update();this._register(z.onDidChangeModel(X)),this._register(z.onDidChangeModelLanguage(X)),this._register(m.CompletionProviderRegistry.onDidChange(X)),this._register(m.CodeActionProviderRegistry.onDidChange(X)),this._register(m.CodeLensProviderRegistry.onDidChange(X)),this._register(m.DefinitionProviderRegistry.onDidChange(X)),this._register(m.DeclarationProviderRegistry.onDidChange(X)),this._register(m.ImplementationProviderRegistry.onDidChange(X)),this._register(m.TypeDefinitionProviderRegistry.onDidChange(X)),this._register(m.HoverProviderRegistry.onDidChange(X)),this._register(m.DocumentHighlightProviderRegistry.onDidChange(X)),this._register(m.DocumentSymbolProviderRegistry.onDidChange(X)),this._register(m.ReferenceProviderRegistry.onDidChange(X)),this._register(m.RenameProviderRegistry.onDidChange(X)),this._register(m.DocumentFormattingEditProviderRegistry.onDidChange(X)),this._register(m.DocumentRangeFormattingEditProviderRegistry.onDidChange(X)),this._register(m.SignatureHelpProviderRegistry.onDidChange(X)),this._register(m.InlayHintsProviderRegistry.onDidChange(X)),X()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(m.CompletionProviderRegistry.has(z)),this._hasCodeActionsProvider.set(m.CodeActionProviderRegistry.has(z)),this._hasCodeLensProvider.set(m.CodeLensProviderRegistry.has(z)),this._hasDefinitionProvider.set(m.DefinitionProviderRegistry.has(z)),this._hasDeclarationProvider.set(m.DeclarationProviderRegistry.has(z)),this._hasImplementationProvider.set(m.ImplementationProviderRegistry.has(z)),this._hasTypeDefinitionProvider.set(m.TypeDefinitionProviderRegistry.has(z)),this._hasHoverProvider.set(m.HoverProviderRegistry.has(z)),this._hasDocumentHighlightProvider.set(m.DocumentHighlightProviderRegistry.has(z)),this._hasDocumentSymbolProvider.set(m.DocumentSymbolProviderRegistry.has(z)),this._hasReferenceProvider.set(m.ReferenceProviderRegistry.has(z)),this._hasRenameProvider.set(m.RenameProviderRegistry.has(z)),this._hasSignatureHelpProvider.set(m.SignatureHelpProviderRegistry.has(z)),this._hasInlayHintsProvider.set(m.InlayHintsProviderRegistry.has(z)),this._hasDocumentFormattingProvider.set(m.DocumentFormattingEditProviderRegistry.has(z)||m.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasDocumentSelectionFormattingProvider.set(m.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasMultipleDocumentFormattingProvider.set(m.DocumentFormattingEditProviderRegistry.all(z).length+m.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(m.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===p.Schemas.walkThroughSnippet)})}}e.EditorModeContext=G;class ee extends w.Disposable{constructor(z){super();this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const ie=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ae=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function de(V){return ie+encodeURIComponent(V.toString())+ae}const Y=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),B=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function W(V){return Y+encodeURIComponent(V.toString())+B}T.registerThemingParticipant((V,z)=>{const U=V.getColor(g.editorErrorBorder);U&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${U}; }`);const X=V.getColor(g.editorErrorForeground);X&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${de(X)}") repeat-x bottom left; }`);const te=V.getColor(g.editorErrorBackground);te&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${te}; }`);const se=V.getColor(g.editorWarningBorder);se&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${se}; }`);const le=V.getColor(g.editorWarningForeground);le&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${de(le)}") repeat-x bottom left; }`);const ue=V.getColor(g.editorWarningBackground);ue&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ue}; }`);const re=V.getColor(g.editorInfoBorder);re&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${re}; }`);const ce=V.getColor(g.editorInfoForeground);ce&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${de(ce)}") repeat-x bottom left; }`);const j=V.getColor(g.editorInfoBackground);j&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${j}; }`);const ne=V.getColor(g.editorHintBorder);ne&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ne}; }`);const Z=V.getColor(g.editorHintForeground);Z&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${W(Z)}") no-repeat bottom left; }`);const oe=V.getColor(C.editorUnnecessaryCodeOpacity);oe&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${oe.rgba.a}; }`);const fe=V.getColor(C.editorUnnecessaryCodeBorder);fe&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${fe}; }`);const _e=V.getColor(g.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${_e}}`)})}),define(Q[146],J([0,1,41,28,145,26,16,9,34,11,65]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let s=class extends M.CodeEditorWidget{constructor(u,c,d,r,n,o,t,l,h,m){super(u,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},r,n,o,t,l,h,m);this._parentEditor=d,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(C=>this._onParentConfigurationChanged(C)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(u){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(u){S.mixin(this._overwriteOptions,u,!0),super.updateOptions(this._overwriteOptions)}};s=Me([pe(3,p.IInstantiationService),pe(4,k.ICodeEditorService),pe(5,y.ICommandService),pe(6,w.IContextKeyService),pe(7,i.IThemeService),pe(8,v.INotificationService),pe(9,_.IAccessibilityService)],s),e.EmbeddedCodeEditorWidget=s}),define(Q[624],J([0,1,14,471,25,21,40,16,82,42,342]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new p.RawContextKey("selectionAnchorSet",!1);let _=class xt{constructor(r,n){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(xt.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],o=this.editor.deltaDecorations(n,[{range:y.Selection.fromPositions(r,r),options:{description:"selection-anchor",stickiness:1,hoverMessage:new v.MarkdownString().appendText(k.localize(0,null)),className:"selection-anchor"}}]);this.decorationId=o[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),i.alert(k.localize(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const n=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(r.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};_.ID="editor.contrib.selectionAnchorController",_=Me([pe(1,p.IContextKeyService)],_);class s extends S.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:k.localize(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|32),weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){_.get(n).setSelectionAnchor()})}}class a extends S.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:k.localize(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,n){return Ie(this,void 0,void 0,function*(){_.get(n).goToSelectionAnchor()})}}class u extends S.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:k.localize(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|41),weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){_.get(n).selectFromAnchorToCursor()})}}class c extends S.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:k.localize(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){_.get(n).cancelSelectionAnchor()})}}S.registerEditorContribution(_.ID,_),S.registerEditorAction(s),S.registerEditorAction(a),S.registerEditorAction(u),S.registerEditorAction(c)}),define(Q[625],J([0,1,472,15,2,14,13,3,21,25,52,31,48,22,11,33,343]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=u.registerColor("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},S.localize(0,null));class n extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:S.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(m,C){let g=l.get(C);!g||g.jumpToBracket()}}class o extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:S.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,C,g){const f=l.get(C);if(!f)return;let b=!0;g&&g.selectBrackets===!1&&(b=!1),f.selectToBracket(b)}}class t{constructor(m,C,g){this.position=m,this.brackets=C,this.options=g}}class l extends M.Disposable{constructor(m){super();this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new k.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(61),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(C=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(C=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(C=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(C=>{C.hasChanged(61)&&(this._matchBrackets=this._editor.getOption(61),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(m){return m.getContribution(l.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),C=this._editor.getSelections().map(g=>{const f=g.getStartPosition(),b=m.matchBracket(f);let L=null;if(b)b[0].containsPosition(f)?L=b[1].getStartPosition():b[1].containsPosition(f)&&(L=b[0].getStartPosition());else{const N=m.findEnclosingBrackets(f);if(N)L=N[0].getStartPosition();else{const D=m.findNextBracket(f);D&&D.range&&(L=D.range.getStartPosition())}}return L?new v.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new v.Selection(f.lineNumber,f.column,f.lineNumber,f.column)});this._editor.setSelections(C),this._editor.revealRange(C[0])}selectToBracket(m){if(!this._editor.hasModel())return;const C=this._editor.getModel(),g=[];this._editor.getSelections().forEach(f=>{const b=f.getStartPosition();let L=C.matchBracket(b);if(!L&&(L=C.findEnclosingBrackets(b),!L)){const I=C.findNextBracket(b);I&&I.range&&(L=C.matchBracket(I.range.getStartPosition()))}let N=null,D=null;if(L){L.sort(p.Range.compareRangesUsingStarts);const[I,T]=L;N=m?I.getStartPosition():I.getEndPosition(),D=m?T.getEndPosition():T.getStartPosition()}N&&D&&g.push(new v.Selection(N.lineNumber,N.column,D.lineNumber,D.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let m=[],C=0;for(const g of this._lastBracketsData){let f=g.brackets;f&&(m[C++]={range:f[0],options:g.options},m[C++]={range:f[1],options:g.options})}this._decorations=this._editor.deltaDecorations(this._decorations,m)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getSelections();if(m.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const C=this._editor.getModel(),g=C.getVersionId();let f=[];this._lastVersionId===g&&(f=this._lastBracketsData);let b=[],L=0;for(let A=0,R=m.length;A<R;A++){let O=m[A];O.isEmpty()&&(b[L++]=O.getStartPosition())}b.length>1&&b.sort(w.Position.compare);let N=[],D=0,I=0,T=f.length;for(let A=0,R=b.length;A<R;A++){let O=b[A];for(;I<T&&f[I].position.isBefore(O);)I++;if(I<T&&f[I].position.equals(O))N[D++]=f[I];else{let P=C.matchBracket(O),F=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=C.findEnclosingBrackets(O,20),F=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),N[D++]=new t(O,P,F)}}this._lastBracketsData=N,this._lastVersionId=g}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=s.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:c.themeColorFromId(r),position:_.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=s.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),y.registerEditorContribution(l.ID,l),y.registerEditorAction(o),y.registerEditorAction(n),c.registerThemingParticipant((h,m)=>{const C=h.getColor(a.editorBracketMatchBackground);C&&m.addRule(`.monaco-editor .bracket-match { background-color: ${C}; }`);const g=h.getColor(a.editorBracketMatchBorder);g&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${g}; }`)}),d.MenuRegistry.appendMenuItem(d.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:S.localize(3,null)},order:2})}),define(Q[626],J([0,1,473,14,25,407]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends k.EditorAction{constructor(_,s){super(s);this.left=_}run(_,s){if(!s.hasModel())return;let a=[],u=s.getSelections();for(const c of u)a.push(new y.MoveCaretCommand(c,this.left));s.pushUndoStop(),s.executeCommands(this.id,a),s.pushUndoStop()}}class p extends w{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:S.localize(0,null),alias:"Move Selected Text Left",precondition:M.EditorContextKeys.writable})}}class v extends w{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:S.localize(1,null),alias:"Move Selected Text Right",precondition:M.EditorContextKeys.writable})}}k.registerEditorAction(p),k.registerEditorAction(v)}),define(Q[627],J([0,1,474,14,94,3,25,183]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends k.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:S.localize(0,null),alias:"Transpose Letters",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(_,s){if(!s.hasModel())return;let a=s.getModel(),u=[],c=s.getSelections();for(let d of c){if(!d.isEmpty())continue;let r=d.startLineNumber,n=d.startColumn,o=a.getLineMaxColumn(r);if(r===1&&(n===1||n===2&&o===2))continue;let t=n===o?d.getPosition():p.MoveOperations.rightPosition(a,d.getPosition().lineNumber,d.getPosition().column),l=p.MoveOperations.leftPosition(a,t),h=p.MoveOperations.leftPosition(a,l),m=a.getValueInRange(y.Range.fromPositions(h,l)),C=a.getValueInRange(y.Range.fromPositions(l,t)),g=y.Range.fromPositions(h,t);u.push(new M.ReplaceCommand(g,C+m))}u.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,u),s.pushUndoStop())}}k.registerEditorAction(v)}),define(Q[628],J([0,1,475,38,17,166,14,28,25,33,85]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const s="9_cutcopypaste",a=M.isNative||document.queryCommandSupported("cut"),u=M.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||k.isFirefox?document.queryCommandSupported("paste"):!0;function d(o){return o.register(),o}e.CutAction=a?d(new w.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:S.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:s,title:S.localize(1,null),when:v.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:S.localize(2,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:S.localize(3,null),when:v.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=u?d(new w.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:S.localize(4,null),order:2},{menuId:i.MenuId.EditorContext,group:s,title:S.localize(5,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:S.localize(6,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:S.localize(7,null),order:2}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:S.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:S.localize(9,null),original:"Copy As"},group:s,order:3}),e.PasteAction=c?d(new w.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:S.localize(10,null),order:4},{menuId:i.MenuId.EditorContext,group:s,title:S.localize(11,null),when:v.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:S.localize(12,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:S.localize(13,null),when:v.EditorContextKeys.writable,order:4}]})):void 0;class r extends w.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:S.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,l){!l.hasModel()||!l.getOption(30)&&l.getSelection().isEmpty()||(y.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),y.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(o,t){!o||(o.addImplementation(1e4,"code-editor",(l,h)=>{const m=l.get(p.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const C=m.getOption(30),g=m.getSelection();return g&&g.isEmpty()&&!C||document.execCommand(t),!0}return!1}),o.addImplementation(0,"generic-dom",(l,h)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(o,t)=>{const l=o.get(p.ICodeEditorService),h=o.get(_.IClipboardService),m=l.getFocusedCodeEditor();return m&&m.hasTextFocus()?(!document.execCommand("paste")&&M.isWeb&&(()=>Ie(void 0,void 0,void 0,function*(){const g=yield h.readText();if(g!==""){const f=y.InMemoryClipboardMetadataManager.INSTANCE.get(g);let b=!1,L=null,N=null;f&&(b=m.getOption(30)&&!!f.isFromEmptySelection,L=typeof f.multicursorText!="undefined"?f.multicursorText:null,N=f.mode),m.trigger("keyboard","paste",{text:g,pasteOnNewLine:b,multicursorText:L,mode:N})}}))(),!0):!1}),e.PasteAction.addImplementation(0,"generic-dom",(o,t)=>(document.execCommand("paste"),!0))),u&&w.registerEditorAction(r)}),define(Q[147],J([0,1,19,23,12,2,24,71,3,21,18,36,133,60,26]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(m,C){this.action=m,this.provider=C}resolve(m){var C;return Ie(this,void 0,void 0,function*(){if(((C=this.provider)===null||C===void 0?void 0:C.resolveCodeAction)&&!this.action.edit){let g;try{g=yield this.provider.resolveCodeAction(this.action,m)}catch(f){M.onUnexpectedExternalError(f)}g&&(this.action.edit=g.edit)}return this})}}e.CodeActionItem=d;class r extends y.Disposable{constructor(m,C,g){super();this.documentation=C,this._register(g),this.allActions=[...m].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:f})=>!f.disabled)}static codeActionsComparator({action:m},{action:C}){return m.isPreferred&&!C.isPreferred?-1:!m.isPreferred&&C.isPreferred?1:S.isNonEmptyArray(m.diagnostics)?S.isNonEmptyArray(C.diagnostics)?m.diagnostics[0].message.localeCompare(C.diagnostics[0].message):-1:S.isNonEmptyArray(C.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:m})=>!!m.kind&&a.CodeActionKind.QuickFix.contains(new a.CodeActionKind(m.kind))&&!!m.isPreferred)}}const n={actions:[],documentation:void 0};function o(h,m,C,g,f){var b;const L=C.filter||{},N={only:(b=L.include)===null||b===void 0?void 0:b.value,trigger:C.type},D=new p.TextModelCancellationTokenSource(h,f),I=t(h,L),T=new y.DisposableStore,A=I.map(O=>Ie(this,void 0,void 0,function*(){try{g.report(O);const P=yield O.provideCodeActions(h,m,N,D.token);if(P&&T.add(P),D.token.isCancellationRequested)return n;const F=((P==null?void 0:P.actions)||[]).filter(x=>x&&a.filtersAction(L,x)),E=l(O,F,L.include);return{actions:F.map(x=>new d(x,O)),documentation:E}}catch(P){if(M.isPromiseCanceledError(P))throw P;return M.onUnexpectedExternalError(P),n}})),R=_.CodeActionProviderRegistry.onDidChange(()=>{const O=_.CodeActionProviderRegistry.all(h);S.equals(O,I)||D.cancel()});return Promise.all(A).then(O=>{const P=S.flatten(O.map(E=>E.actions)),F=S.coalesce(O.map(E=>E.documentation));return new r(P,F,T)}).finally(()=>{R.dispose(),D.dispose()})}e.getCodeActions=o;function t(h,m){return _.CodeActionProviderRegistry.all(h).filter(C=>C.providedCodeActionKinds?C.providedCodeActionKinds.some(g=>a.mayIncludeActionsOfKind(m,new a.CodeActionKind(g))):!0)}function l(h,m,C){if(!h.documentation)return;const g=h.documentation.map(f=>({kind:new a.CodeActionKind(f.kind),command:f.command}));if(C){let f;for(const b of g)b.kind.contains(C)&&(f?f.kind.contains(b.kind)&&(f=b):f=b);if(f)return f==null?void 0:f.command}for(const f of m)if(!!f.kind){for(const b of g)if(b.kind.contains(new a.CodeActionKind(f.kind)))return b.command}}c.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,m,C,g,f){return Ie(this,void 0,void 0,function*(){if(!(m instanceof w.URI))throw M.illegalArgument();const b=h.get(s.IModelService).getModel(m);if(!b)throw M.illegalArgument();const L=i.Selection.isISelection(C)?i.Selection.liftSelection(C):v.Range.isIRange(C)?b.validateRange(C):void 0;if(!L)throw M.illegalArgument();const N=typeof g=="string"?new a.CodeActionKind(g):void 0,D=yield o(b,L,{type:1,filter:{includeSourceActions:!0,include:N}},u.Progress.None,k.CancellationToken.None),I=[],T=Math.min(D.validActions.length,typeof f=="number"?f:0);for(let A=0;A<T;A++)I.push(D.validActions[A].resolve(k.CancellationToken.None));try{return yield Promise.all(I),D.validActions.map(A=>A.action)}finally{setTimeout(()=>D.dispose(),100)}})})}),define(Q[629],J([0,1,7,49,12,152,2,13,18,147,133,69,37]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class u extends k.Action{constructor(o,t){super(o.command?o.command.id:o.title,c(o.title),void 0,!o.disabled,t);this.action=o}}function c(n){return n.replace(/\r\n|\r|\n/g," ")}let d=class extends w.Disposable{constructor(o,t,l,h){super();this._editor=o,this._delegate=t,this._contextMenuService=l,this._visible=!1,this._showingActions=this._register(new w.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(o,t,l,h){return Ie(this,void 0,void 0,function*(){const m=h.includeDisabledActions?t.allActions:t.validActions;if(!m.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,M.canceled();this._visible=!0,this._showingActions.value=t;const C=this.getMenuActions(o,m,t.documentation),g=p.Position.isIPosition(l)?this._toCoords(l):l||{x:0,y:0},f=this._keybindingResolver.getResolver(),b=this._editor.getOption(112);this._contextMenuService.showContextMenu({domForShadowRoot:b?this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>C,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:L=>L instanceof u?f(L.action):void 0})})}getMenuActions(o,t,l){var h,m;const C=L=>new u(L.action,()=>this._delegate.onSelectCodeAction(L)),g=t.map(C),f=[...l],b=this._editor.getModel();if(b&&g.length)for(const L of v.CodeActionProviderRegistry.all(b))L._getAdditionalMenuItems&&f.push(...L._getAdditionalMenuItems({trigger:o.type,only:(m=(h=o.filter)===null||h===void 0?void 0:h.include)===null||m===void 0?void 0:m.value},t.map(N=>N.action)));return f.length&&g.push(new k.Separator,...f.map(L=>C(new i.CodeActionItem({title:L.title,command:L},void 0)))),g}_toCoords(o){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(o,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(o),l=S.getDomNodePagePosition(this._editor.getDomNode()),h=l.left+t.left,m=l.top+t.top+t.height;return{x:h,y:m}}};d=Me([pe(2,s.IContextMenuService),pe(3,a.IKeybindingService)],d),e.CodeActionMenu=d;class r{constructor(o){this._keybindingProvider=o}getResolver(){const o=new y.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>r.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let l=t.commandArgs;return t.command===i.organizeImportsCommandId?l={kind:_.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(l={kind:_.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},_.CodeActionCommandArgs.fromUser(l,{kind:_.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const l=this.bestKeybindingForCodeAction(t,o.getValue());return l==null?void 0:l.resolvedKeybinding}}}bestKeybindingForCodeAction(o,t){if(!o.kind)return;const l=new _.CodeActionKind(o.kind);return t.filter(h=>h.kind.contains(l)).filter(h=>h.preferred?o.isPreferred:!0).reduceRight((h,m)=>h?h.kind.contains(m.kind)?m:h:m,void 0)}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var it=this&&this.__classPrivateFieldGet||function($,e,S,k){if(S==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return S==="m"?k:S==="a"?k.call($):k?k.value:e.get($)},vt=this&&this.__classPrivateFieldSet||function($,e,S,k,M){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!M:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?M.call($,S):M?M.value=S:e.set($,S),S};define(Q[630],J([0,1,15,12,6,2,45,3,18,16,60,147]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class u extends y.Disposable{constructor(o,t,l,h=250){super();this._editor=o,this._markerService=t,this._signalChange=l,this._delay=h,this._autoTriggerTimer=this._register(new S.TimeoutTimer),this._register(this._markerService.onMarkerChanged(m=>this._onMarkerChanges(m))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(o){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(o);return this._createEventAndSignalChange(o,t)}_onMarkerChanges(o){const t=this._editor.getModel();!t||o.some(l=>w.isEqual(l,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(o){const t=this._editor.getModel();if(!!t)for(const l of this._markerService.read({resource:t.uri})){const h=t.validateRange(l);if(p.Range.intersectRanges(h,o))return p.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(o){if(!this._editor.hasModel())return;const t=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&o.type===2){const{lineNumber:h,column:m}=l.getPosition(),C=t.getLineContent(h);if(C.length===0)return;if(m===1){if(/\s/.test(C[0]))return}else if(m===t.getLineMaxColumn(h)){if(/\s/.test(C[C.length-1]))return}else if(/\s/.test(C[m-2])&&/\s/.test(C[m-1]))return}return l}_createEventAndSignalChange(o,t){const l=this._editor.getModel();if(!t||!l){this._signalChange(void 0);return}const h=this._getRangeOfMarker(t),m=h?h.getStartPosition():t.getStartPosition(),C={trigger:o,selection:t,position:m};return this._signalChange(C),C}}var c;(function(n){n.Empty={type:0};class o{constructor(l,h,m,C){this.trigger=l,this.rangeOrSelection=h,this.position=m,this._cancellablePromise=C,this.type=1,this.actions=C.catch(g=>{if(k.isPromiseCanceledError(g))return d;throw g})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=o})(c=e.CodeActionsState||(e.CodeActionsState={}));const d={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends y.Disposable{constructor(o,t,l,h){super();this._editor=o,this._markerService=t,this._progressService=h,this._codeActionOracle=this._register(new y.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new M.Emitter),this.onDidChangeState=this._onDidChangeState.event,a.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(l),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(v.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){it(this,a,"f")||(vt(this,a,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(it(this,a,"f"))return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const o=this._editor.getModel();if(o&&v.CodeActionProviderRegistry.has(o)&&!this._editor.getOption(78)){const t=[];for(const l of v.CodeActionProviderRegistry.all(o))Array.isArray(l.providedCodeActionKinds)&&t.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new u(this._editor,this._markerService,l=>{var h;if(!l){this.setState(c.Empty);return}const m=S.createCancelablePromise(C=>s.getCodeActions(o,l.selection,l.trigger,_.Progress.None,C));l.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(m,250)),this.setState(new c.Triggered(l.trigger,l.selection,l.position,m))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(o){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(o)}setState(o,t){o!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=o,!t&&!it(this,a,"f")&&this._onDidChangeState.fire(o))}}e.CodeActionModel=r,a=new WeakMap}),define(Q[631],J([0,1,15,12,2,71,14,18,249,610,26,34,589,7,91,78,478,25,135]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,m,C,g){this._editor=h,this._commandService=m,this._notificationService=C,this._codeLensCache=g,this._disposables=new M.DisposableStore,this._localToDispose=new M.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new o.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new M.DisposableStore,this._resolveCodeLensesDelays=new o.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new S.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(f=>{(f.hasChanged(40)||f.hasChanged(14)||f.hasChanged(13))&&this._updateLensStyle(),f.hasChanged(12)&&this._onModelChange()})),this._disposables.add(p.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+c.hash(this._editor.getId()).toString(16),this._styleElement=u.createStyleSheet(u.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(14),m;return!h||h<5?(h=this._editor.getOption(42)*.9|0,m=this._editor.getOption(56)):m=h*Math.max(1.3,this._editor.getOption(56)/this._editor.getOption(42))|0,{codeLensHeight:m,fontSize:h}}_updateLensStyle(){const{codeLensHeight:h,fontSize:m}=this._getLayoutInfo(),C=this._editor.getOption(13),g=this._editor.getOption(40),f=`--codelens-font-family${this._styleClassName}`,b=`--codelens-font-features${this._styleClassName}`;let L=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${h}px; font-size: ${m}px; padding-right: ${Math.round(m*.5)}px; font-feature-settings: var(${b}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${h}px; font-size: ${m}px; }
		`;C&&(L+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${f})}`),this._styleElement.textContent=L,this._editor.getContainerDomNode().style.setProperty(f,C??"inherit"),this._editor.getContainerDomNode().style.setProperty(b,g.fontFeatureSettings),this._editor.changeViewZones(N=>{for(let D of this._lenses)D.updateHeight(h,N)})}_localDispose(){var h,m,C;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(m=this._resolveCodeLensesPromise)===null||m===void 0||m.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(C=this._currentCodeLensModel)===null||C===void 0||C.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!h||!this._editor.getOption(12))return;const m=this._codeLensCache.get(h);if(m&&this._renderCodeLensSymbols(m),!p.CodeLensProviderRegistry.has(h)){m&&this._localToDispose.add(S.disposableTimeout(()=>{const g=this._codeLensCache.get(h);m===g&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const g of p.CodeLensProviderRegistry.all(h))if(typeof g.onDidChange=="function"){let f=g.onDidChange(()=>C.schedule());this._localToDispose.add(f)}const C=new S.RunOnceScheduler(()=>{var g;const f=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=S.createCancelablePromise(b=>v.getCodeLensModel(h,b)),this._getCodeLensModelPromise.then(b=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=b,this._codeLensCache.put(h,b);const L=this._getCodeLensModelDelays.update(h,Date.now()-f);C.delay=L,this._renderCodeLensSymbols(b),this._resolveCodeLensesInViewport()},k.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(C),this._localToDispose.add(M.toDisposable(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(g=>{this._editor.changeViewZones(f=>{let b=[],L=-1;this._lenses.forEach(D=>{!D.isValid()||L===D.getLineNumber()?b.push(D):(D.update(f),L=D.getLineNumber())});let N=new i.CodeLensHelper;b.forEach(D=>{D.dispose(N,f),this._lenses.splice(this._lenses.indexOf(D),1)}),N.commit(g)})}),C.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{C.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(M.toDisposable(()=>{if(this._editor.getModel()){const g=y.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(f=>{this._editor.changeViewZones(b=>{this._disposeAllLenses(f,b)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type!==9)return;let f=g.target.element;if((f==null?void 0:f.tagName)==="SPAN"&&(f=f.parentElement),(f==null?void 0:f.tagName)==="A")for(const b of this._lenses){let L=b.getCommand(f);if(L){this._commandService.executeCommand(L.id,...L.arguments||[]).catch(N=>this._notificationService.error(N));break}}})),C.schedule()}_disposeAllLenses(h,m){const C=new i.CodeLensHelper;for(const g of this._lenses)g.dispose(C,m);h&&C.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!this._editor.hasModel())return;let m=this._editor.getModel().getLineCount(),C=[],g;for(let L of h.lenses){let N=L.symbol.range.startLineNumber;N<1||N>m||(g&&g[g.length-1].symbol.range.startLineNumber===N?g.push(L):(g=[L],C.push(g)))}const f=y.StableEditorScrollState.capture(this._editor),b=this._getLayoutInfo();this._editor.changeDecorations(L=>{this._editor.changeViewZones(N=>{const D=new i.CodeLensHelper;let I=0,T=0;for(;T<C.length&&I<this._lenses.length;){let A=C[T][0].symbol.range.startLineNumber,R=this._lenses[I].getLineNumber();R<A?(this._lenses[I].dispose(D,N),this._lenses.splice(I,1)):R===A?(this._lenses[I].updateCodeLensSymbols(C[T],D),T++,I++):(this._lenses.splice(I,0,new i.CodeLensWidget(C[T],this._editor,this._styleClassName,D,N,b.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(D,N),this._lenses.splice(I,1);for(;T<C.length;)this._lenses.push(new i.CodeLensWidget(C[T],this._editor,this._styleClassName,D,N,b.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;D.commit(L)})}),f.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const m=this._editor.getModel();if(!m)return;const C=[],g=[];if(this._lenses.forEach(L=>{const N=L.computeIfNecessary(m);N&&(C.push(N),g.push(L))}),C.length===0)return;const f=Date.now(),b=S.createCancelablePromise(L=>{const N=C.map((D,I)=>{const T=new Array(D.length),A=D.map((R,O)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(m,R.symbol,L)).then(P=>{T[O]=P},k.onUnexpectedExternalError):(T[O]=R.symbol,Promise.resolve(void 0)));return Promise.all(A).then(()=>{!L.isCancellationRequested&&!g[I].isDisposed()&&g[I].updateCommands(T)})});return Promise.all(N)});this._resolveCodeLensesPromise=b,this._resolveCodeLensesPromise.then(()=>{const L=this._resolveCodeLensesDelays.update(m,Date.now()-f);this._resolveCodeLensesScheduler.delay=L,this._currentCodeLensModel&&this._codeLensCache.put(m,this._currentCodeLensModel),this._oldCodeLensModels.clear(),b===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},L=>{k.onUnexpectedError(L),b===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Me([pe(1,_.ICommandService),pe(2,s.INotificationService),pe(3,a.ICodeLensCache)],t),e.CodeLensContribution=t,w.registerEditorContribution(t.ID,t),w.registerEditorAction(class extends w.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:n.EditorContextKeys.hasCodeLensProvider,label:r.localize(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,m){return Ie(this,void 0,void 0,function*(){if(!m.hasModel())return;const C=h.get(d.IQuickInputService),g=h.get(_.ICommandService),f=h.get(s.INotificationService),b=m.getSelection().positionLineNumber,L=m.getContribution(t.ID),N=[];for(let I of L.getLenses())if(I.getLineNumber()===b)for(let T of I.getItems()){const{command:A}=T.symbol;A&&N.push({label:A.title,command:A})}if(N.length===0)return;const D=yield C.pick(N,{canPickMany:!1});if(!!D)try{yield g.executeCommand(D.command.id,...D.command.arguments||[])}catch(I){f.error(I)}})}})}),define(Q[262],J([0,1,15,29,12,91,2,14,28,3,31,18,250,47]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let d=class Vt extends w.Disposable{constructor(n,o,t){super();this._editor=n,this._codeEditorService=o,this._configurationService=t,this._localToDispose=this._register(new w.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(s.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let l=this._isEnabled;this._isEnabled=this.isEnabled(),l!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const o=n.getLanguageIdentifier(),t=this._configurationService.getValue(o.language);if(t){const l=t.colorDecorators;if(l&&l.enable!==void 0&&!l.enable)return l.enable}return this._editor.getOption(15)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const n=this._editor.getModel();!n||!s.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new S.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Vt.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=S.createCancelablePromise(n=>{const o=this._editor.getModel();return o?a.getColors(o,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},M.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const o=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:_.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,o),this._colorDatas=new Map,this._decorationsIds.forEach((t,l)=>this._colorDatas.set(t,n[l]))}updateColorDecorators(n){let o=[],t={};for(let l=0;l<n.length&&o.length<c;l++){const{red:h,green:m,blue:C,alpha:g}=n[l].colorInfo.color,f=new k.RGBA(Math.round(h*255),Math.round(m*255),Math.round(C*255),g);let b=y.hash(`rgba(${f.r},${f.g},${f.b},${f.a})`).toString(16),L=`rgba(${f.r}, ${f.g}, ${f.b}, ${f.a})`,N="colorBox-"+b;!this._decorationsTypes.has(N)&&!t[N]&&this._codeEditorService.registerDecorationType("color-detector-color",N,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:L},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[N]=!0,o.push({range:{startLineNumber:n[l].colorInfo.range.startLineNumber,startColumn:n[l].colorInfo.range.startColumn,endLineNumber:n[l].colorInfo.range.endLineNumber,endColumn:n[l].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(N,!0)})}this._decorationsTypes.forEach(l=>{t[l]||this._codeEditorService.removeDecorationType(l)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,o)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const o=this._editor.getModel();if(!o)return null;const t=o.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(l=>this._colorDatas.has(l.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=Me([pe(1,v.ICodeEditorService),pe(2,u.IConfigurationService)],d),e.ColorDetector=d,p.registerEditorContribution(d.ID,d)}),define(Q[632],J([0,1,479,40,14,3,25,225,409,33]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends M.EditorAction{constructor(r,n){super(n);this._type=r}run(r,n){if(!n.hasModel())return;const o=n.getModel(),t=[],l=o.getOptions(),h=n.getOption(17),m=n.getSelections().map((g,f)=>({selection:g,index:f,ignoreFirstLine:!1}));m.sort((g,f)=>y.Range.compareRangesUsingStarts(g.selection,f.selection));let C=m[0];for(let g=1;g<m.length;g++){const f=m[g];C.selection.endLineNumber===f.selection.startLineNumber&&(C.index<f.index?f.ignoreFirstLine=!0:(C.ignoreFirstLine=!0,C=f))}for(const g of m)t.push(new v.LineCommentCommand(g.selection,l.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,g.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}class s extends _{constructor(){super(0,{id:"editor.action.commentLine",label:S.localize(0,null),alias:"Toggle Line Comment",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:S.localize(1,null),order:1}})}}class a extends _{constructor(){super(1,{id:"editor.action.addCommentLine",label:S.localize(2,null),alias:"Add Line Comment",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|33),weight:100}})}}class u extends _{constructor(){super(2,{id:"editor.action.removeCommentLine",label:S.localize(3,null),alias:"Remove Line Comment",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|51),weight:100}})}}class c extends M.EditorAction{constructor(){super({id:"editor.action.blockComment",label:S.localize(4,null),alias:"Toggle Block Comment",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:S.localize(5,null),order:2}})}run(r,n){if(!n.hasModel())return;const o=n.getOption(17),t=[],l=n.getSelections();for(const h of l)t.push(new p.BlockCommentCommand(h,o.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}M.registerEditorAction(s),M.registerEditorAction(a),M.registerEditorAction(u),M.registerEditorAction(c)}),define(Q[633],J([0,1,480,7,49,2,14,25,33,16,69,37,115,17]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let c=class zt{constructor(n,o,t,l,h,m){this._contextMenuService=o,this._contextViewService=t,this._contextKeyService=l,this._keybindingService=h,this._menuService=m,this._toDispose=new y.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu(C=>this._onContextMenu(C))),this._toDispose.add(this._editor.onMouseWheel(C=>{if(this._contextMenuIsBeingShownCount>0){const g=this._contextViewService.getContextViewElement(),f=C.srcElement;f.shadowRoot&&k.getShadowRoot(g)===f.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(C=>{C.keyCode===58&&(C.preventDefault(),C.stopPropagation(),this.showContextMenu())}))}static get(n){return n.getContribution(zt.ID)}_onContextMenu(n){if(!this._editor.hasModel())return;if(!this._editor.getOption(18)){this._editor.focus(),n.target.position&&!this._editor.getSelection().containsPosition(n.target.position)&&this._editor.setPosition(n.target.position);return}if(n.target.type===12||(n.event.preventDefault(),n.target.type!==6&&n.target.type!==7&&n.target.type!==1))return;if(this._editor.focus(),n.target.position){let t=!1;for(const l of this._editor.getSelections())if(l.containsPosition(n.target.position)){t=!0;break}t||this._editor.setPosition(n.target.position)}let o=null;n.target.type!==1&&(o={x:n.event.posx-1,width:2,y:n.event.posy-1,height:2}),this.showContextMenu(o)}showContextMenu(n){if(!this._editor.getOption(18)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const o=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?v.MenuId.SimpleEditorContext:v.MenuId.EditorContext);o.length>0&&this._doShowContextMenu(o,n)}_getMenuActions(n,o){const t=[],l=this._menuService.createMenu(o,this._contextKeyService),h=l.getActions({arg:n.uri});l.dispose();for(let m of h){const[,C]=m;let g=0;for(const f of C)if(f instanceof v.SubmenuItemAction){const b=this._getMenuActions(n,f.item.submenu);b.length>0&&(t.push(new M.SubmenuAction(f.id,f.label,b)),g++)}else t.push(f),g++;g&&t.push(new M.Separator)}return t.length&&t.pop(),t}_doShowContextMenu(n,o=null){if(!this._editor.hasModel())return;const t=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!o){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const h=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),m=k.getDomNodePagePosition(this._editor.getDomNode()),C=m.left+h.left,g=m.top+h.top+h.height;o={x:C,y:g}}const l=this._editor.getOption(112)&&!u.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>n,getActionViewItem:h=>{const m=this._keybindingFor(h);if(m)return new a.ActionViewItem(h,h,{label:!0,keybinding:m.getLabel(),isMenu:!0});const C=h;return typeof C.getActionViewItem=="function"?C.getActionViewItem():new a.ActionViewItem(h,h,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:h=>this._keybindingFor(h),onHide:h=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:t})}})}_keybindingFor(n){return this._keybindingService.lookupKeybinding(n.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};c.ID="editor.contrib.contextmenu",c=Me([pe(1,_.IContextMenuService),pe(2,_.IContextViewService),pe(3,i.IContextKeyService),pe(4,s.IKeybindingService),pe(5,v.IMenuService)],c),e.ContextMenuController=c;class d extends w.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:S.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(n,o){c.get(o).showContextMenu()}}w.registerEditorContribution(c.ID,c),w.registerEditorAction(d)}),define(Q[634],J([0,1,481,2,14,25]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class w{constructor(a){this.selections=a}equals(a){const u=this.selections.length,c=a.selections.length;if(u!==c)return!1;for(let d=0;d<u;d++)if(!this.selections[d].equalsSelection(a.selections[d]))return!1;return!0}}class p{constructor(a,u,c){this.cursorState=a,this.scrollTop=u,this.scrollLeft=c}}class v extends k.Disposable{constructor(a){super();this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(u=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(u=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(u=>{if(this._isCursorUndoRedo||!u.oldSelections||u.oldModelVersionId!==u.modelVersionId)return;const c=new w(u.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new p(c,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(a){return a.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class i extends M.EditorAction{constructor(){super({id:"cursorUndo",label:S.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(a,u,c){v.get(u).cursorUndo()}}e.CursorUndo=i;class _ extends M.EditorAction{constructor(){super({id:"cursorRedo",label:S.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(a,u,c){v.get(u).cursorRedo()}}e.CursorRedo=_,M.registerEditorContribution(v.ID,v),M.registerEditorAction(i),M.registerEditorAction(_)}),define(Q[635],J([0,1,2,17,14,13,3,21,410,31,347]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function _(a){return k.isMacintosh?a.altKey:a.ctrlKey}class s extends S.Disposable{constructor(u){super();this._editor=u,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(u){!this._editor.getOption(29)||this._editor.getOption(16)||(_(u)&&(this._modifierPressed=!0),this._mouseDown&&_(u)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(u){!this._editor.getOption(29)||this._editor.getOption(16)||(_(u)&&(this._modifierPressed=!1),this._mouseDown&&u.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(u){this._mouseDown=!0}_onEditorMouseUp(u){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(u){let c=u.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(n=>c.position&&n.containsPosition(c.position));if(r.length===1)this._dragSelection=r[0];else return}_(u.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(u){if(u.target&&(this._hitContent(u.target)||this._hitMargin(u.target))&&u.target.position){let c=new y.Position(u.target.position.lineNumber,u.target.position.column);if(this._dragSelection===null){let d=null;if(u.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:n,selectionStartColumn:o}=r;d=[new p.Selection(n,o,c.lineNumber,c.column)]}}else d=(this._editor.getSelections()||[]).map(r=>r.containsPosition(c)?new p.Selection(c.lineNumber,c.column,c.lineNumber,c.column):r);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(_(u.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new v.DragAndDropCommand(this._dragSelection,c,_(u.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(u){let c=[{range:new w.Range(u.lineNumber,u.column,u.lineNumber,u.column),options:s._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(u,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(u){return u.type===6||u.type===7}_hitMargin(u){return u.type===2||u.type===3||u.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,s._DECORATION_OPTIONS=i.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),M.registerEditorContribution(s.ID,s)}),define(Q[636],J([0,1,486,14,130]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:S.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,_){M.EditorZoom.setZoomLevel(M.EditorZoom.getZoomLevel()+1)}}class w extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:S.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,_){M.EditorZoom.setZoomLevel(M.EditorZoom.getZoomLevel()-1)}}class p extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:S.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,_){M.EditorZoom.setZoomLevel(0)}}k.registerEditorAction(y),k.registerEditorAction(w),k.registerEditorAction(p)}),define(Q[263],J([0,1,42,19,23,12,24,71,109,13,3,21,18,76,36,227,487,546,9,72,26,20,53]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function C(R){if(R=R.filter(E=>E.range),!R.length)return;let{range:O}=R[0];for(let E=1;E<R.length;E++)O=_.Range.plusRange(O,R[E].range);const{startLineNumber:P,endLineNumber:F}=O;P===F?R.length===1?S.alert(r.localize(0,null,P)):S.alert(r.localize(1,null,R.length,P)):R.length===1?S.alert(r.localize(2,null,P,F)):S.alert(r.localize(3,null,R.length,P,F))}e.alertFormattingEdits=C;function g(R){const O=[],P=new Set,F=a.DocumentFormattingEditProviderRegistry.ordered(R);for(const x of F)O.push(x),x.extensionId&&P.add(n.ExtensionIdentifier.toKey(x.extensionId));const E=a.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const x of E){if(x.extensionId){if(P.has(n.ExtensionIdentifier.toKey(x.extensionId)))continue;P.add(n.ExtensionIdentifier.toKey(x.extensionId))}O.push({displayName:x.displayName,extensionId:x.extensionId,provideDocumentFormattingEdits(H,K,q){return x.provideDocumentRangeFormattingEdits(H,H.getFullModelRange(),K,q)}})}return O}e.getRealAndSyntheticDocumentFormattersOrdered=g;class f{static setFormatterSelector(O){return{dispose:f._selectors.unshift(O)}}static select(O,P,F){return Ie(this,void 0,void 0,function*(){if(O.length===0)return;const E=m.Iterable.first(f._selectors);if(E)return yield E(O,P,F)})}}e.FormattingConflicts=f,f._selectors=new t.LinkedList;function b(R,O,P,F,E,x){return Ie(this,void 0,void 0,function*(){const H=R.get(o.IInstantiationService),K=v.isCodeEditor(O)?O.getModel():O,q=a.DocumentRangeFormattingEditProviderRegistry.ordered(K),G=yield f.select(q,K,F);G&&(E.report(G),yield H.invokeFunction(L,G,O,P,x))})}e.formatDocumentRangesWithSelectedProvider=b;function L(R,O,P,F,E){return Ie(this,void 0,void 0,function*(){const x=R.get(u.IEditorWorkerService);let H,K;v.isCodeEditor(P)?(H=P.getModel(),K=new p.EditorStateCancellationTokenSource(P,1|4,void 0,E)):(H=P,K=new p.TextModelCancellationTokenSource(P,E));let q=[],G=0;for(let ie of k.asArray(F).sort(_.Range.compareRangesUsingStarts))G>0&&_.Range.areIntersectingOrTouching(q[G-1],ie)?q[G-1]=_.Range.fromPositions(q[G-1].getStartPosition(),ie.getEndPosition()):G=q.push(ie);const ee=[];for(let ie of q)try{const ae=yield O.provideDocumentRangeFormattingEdits(H,ie,H.getFormattingOptions(),K.token),de=yield x.computeMoreMinimalEdits(H.uri,ae);if(de&&ee.push(...de),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(ee.length===0)return!1;if(v.isCodeEditor(P))d.FormattingEdit.execute(P,ee,!0),C(ee),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1);else{const[{range:ie}]=ee,ae=new s.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);H.pushEditOperations([ae],ee.map(de=>({text:de.text,range:_.Range.lift(de.range),forceMoveMarkers:!0})),de=>{for(const{range:Y}of de)if(_.Range.areIntersectingOrTouching(Y,ae))return[new s.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function N(R,O,P,F,E){return Ie(this,void 0,void 0,function*(){const x=R.get(o.IInstantiationService),H=v.isCodeEditor(O)?O.getModel():O,K=g(H),q=yield f.select(K,H,P);q&&(F.report(q),yield x.invokeFunction(D,q,O,P,E))})}e.formatDocumentWithSelectedProvider=N;function D(R,O,P,F,E){return Ie(this,void 0,void 0,function*(){const x=R.get(u.IEditorWorkerService);let H,K;v.isCodeEditor(P)?(H=P.getModel(),K=new p.EditorStateCancellationTokenSource(P,1|4,void 0,E)):(H=P,K=new p.TextModelCancellationTokenSource(P,E));let q;try{const G=yield O.provideDocumentFormattingEdits(H,H.getFormattingOptions(),K.token);if(q=yield x.computeMoreMinimalEdits(H.uri,G),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(!q||q.length===0)return!1;if(v.isCodeEditor(P))d.FormattingEdit.execute(P,q,F!==2),F!==2&&(C(q),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1));else{const[{range:G}]=q,ee=new s.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn);H.pushEditOperations([ee],q.map(ie=>({text:ie.text,range:_.Range.lift(ie.range),forceMoveMarkers:!0})),ie=>{for(const{range:ae}of ie)if(_.Range.areIntersectingOrTouching(ae,ee))return[new s.Selection(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=D;function I(R,O,P,F,E){return Ie(this,void 0,void 0,function*(){const x=a.DocumentRangeFormattingEditProviderRegistry.ordered(O);for(const H of x){let K=yield Promise.resolve(H.provideDocumentRangeFormattingEdits(O,P,F,E)).catch(y.onUnexpectedExternalError);if(k.isNonEmptyArray(K))return yield R.computeMoreMinimalEdits(O.uri,K)}})}e.getDocumentRangeFormattingEditsUntilResult=I;function T(R,O,P,F){return Ie(this,void 0,void 0,function*(){const E=g(O);for(const x of E){let H=yield Promise.resolve(x.provideDocumentFormattingEdits(O,P,F)).catch(y.onUnexpectedExternalError);if(k.isNonEmptyArray(H))return yield R.computeMoreMinimalEdits(O.uri,H)}})}e.getDocumentFormattingEditsUntilResult=T;function A(R,O,P,F,E){const x=a.OnTypeFormattingEditProviderRegistry.ordered(O);return x.length===0||x[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(x[0].provideOnTypeFormattingEdits(O,P,F,E,M.CancellationToken.None)).catch(y.onUnexpectedExternalError).then(H=>R.computeMoreMinimalEdits(O.uri,H))}e.getOnTypeFormattingEdits=A,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(R,...O){const[P,F,E]=O;h.assertType(w.URI.isUri(P)),h.assertType(_.Range.isIRange(F));const x=R.get(c.IModelService).getModel(P);if(!x)throw y.illegalArgument("resource");return I(R.get(u.IEditorWorkerService),x,_.Range.lift(F),E,M.CancellationToken.None)}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(R,...O){const[P,F]=O;h.assertType(w.URI.isUri(P));const E=R.get(c.IModelService).getModel(P);if(!E)throw y.illegalArgument("resource");return T(R.get(u.IEditorWorkerService),E,F,M.CancellationToken.None)}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(R,...O){const[P,F,E,x]=O;h.assertType(w.URI.isUri(P)),h.assertType(i.Position.isIPosition(F)),h.assertType(typeof E=="string");const H=R.get(c.IModelService).getModel(P);if(!H)throw y.illegalArgument("resource");return A(R.get(u.IEditorWorkerService),H,i.Position.lift(F),E,x)})}),define(Q[637],J([0,1,19,23,40,2,14,28,93,3,25,18,76,263,227,488,26,16,9,12,60]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(b,L){this._workerService=L,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._editor=b,this._callOnDispose.add(b.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(b.onDidChangeModel(()=>this._update())),this._callOnDispose.add(b.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(45)||!this._editor.hasModel())return;const b=this._editor.getModel(),[L]=s.OnTypeFormattingEditProviderRegistry.ordered(b);if(!L||!L.autoFormatTriggerCharacters)return;let N=new v.CharacterSet;for(let D of L.autoFormatTriggerCharacters)N.add(D.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(D=>{let I=D.charCodeAt(D.length-1);N.has(I)&&this._trigger(String.fromCharCode(I))}))}_trigger(b){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;const L=this._editor.getModel(),N=this._editor.getPosition();let D=!1;const I=this._editor.onDidChangeModelContent(T=>{if(T.isFlush){D=!0,I.dispose();return}for(let A=0,R=T.changes.length;A<R;A++)if(T.changes[A].range.endLineNumber<=N.lineNumber){D=!0,I.dispose();return}});u.getOnTypeFormattingEdits(this._workerService,L,N,b,L.getFormattingOptions()).then(T=>{I.dispose(),!D&&S.isNonEmptyArray(T)&&(c.FormattingEdit.execute(this._editor,T,!0),u.alertFormattingEdits(T))},T=>{throw I.dispose(),T})}};h.ID="editor.contrib.autoFormat",h=Me([pe(1,a.IEditorWorkerService)],h);let m=class{constructor(b,L){this.editor=b,this._instantiationService=L,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(b.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(b.onDidChangeModel(()=>this._update())),this._callOnDispose.add(b.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(44)&&(!this.editor.hasModel()||!s.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:b})=>this._trigger(b))))}_trigger(b){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(u.formatDocumentRangesWithSelectedProvider,this.editor,b,2,l.Progress.None,k.CancellationToken.None).catch(t.onUnexpectedError)}};m.ID="editor.contrib.formatOnPaste",m=Me([pe(1,o.IInstantiationService)],m);class C extends w.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(_.EditorContextKeys.notInCompositeEditor,_.EditorContextKeys.writable,_.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(b,L){return Ie(this,void 0,void 0,function*(){if(L.hasModel()){const N=b.get(o.IInstantiationService);yield b.get(l.IEditorProgressService).showWhile(N.invokeFunction(u.formatDocumentWithSelectedProvider,L,1,l.Progress.None,k.CancellationToken.None),250)}})}}class g extends w.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|36),weight:100},contextMenuOpts:{when:_.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(b,L){return Ie(this,void 0,void 0,function*(){if(!L.hasModel())return;const N=b.get(o.IInstantiationService),D=L.getModel(),I=L.getSelections().map(A=>A.isEmpty()?new i.Range(A.startLineNumber,1,A.startLineNumber,D.getLineMaxColumn(A.startLineNumber)):A);yield b.get(l.IEditorProgressService).showWhile(N.invokeFunction(u.formatDocumentRangesWithSelectedProvider,L,I,1,l.Progress.None,k.CancellationToken.None),250)})}}w.registerEditorContribution(h.ID,h),w.registerEditorContribution(m.ID,m),w.registerEditorAction(C),w.registerEditorAction(g),r.CommandsRegistry.registerCommand("editor.action.format",f=>Ie(void 0,void 0,void 0,function*(){const b=f.get(p.ICodeEditorService).getFocusedCodeEditor();if(!b||!b.hasModel())return;const L=f.get(r.ICommandService);b.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}))}),define(Q[264],J([0,1,23,12,14,18,116]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function p(c,d,r,n){const t=r.ordered(c).map(l=>Promise.resolve(n(l,c,d)).then(void 0,h=>{k.onUnexpectedExternalError(h)}));return Promise.all(t).then(l=>{const h=[];for(let m of l)Array.isArray(m)?h.push(...m):m&&h.push(m);return h})}function v(c,d,r){return p(c,d,y.DefinitionProviderRegistry,(n,o,t)=>n.provideDefinition(o,t,r))}e.getDefinitionsAtPosition=v;function i(c,d,r){return p(c,d,y.DeclarationProviderRegistry,(n,o,t)=>n.provideDeclaration(o,t,r))}e.getDeclarationsAtPosition=i;function _(c,d,r){return p(c,d,y.ImplementationProviderRegistry,(n,o,t)=>n.provideImplementation(o,t,r))}e.getImplementationsAtPosition=_;function s(c,d,r){return p(c,d,y.TypeDefinitionProviderRegistry,(n,o,t)=>n.provideTypeDefinition(o,t,r))}e.getTypeDefinitionsAtPosition=s;function a(c,d,r,n){return p(c,d,y.ReferenceProviderRegistry,(o,t,l)=>Ie(this,void 0,void 0,function*(){const h=yield o.provideReferences(t,l,{includeDeclaration:!0},n);if(!r||!h||h.length!==2)return h;const m=yield o.provideReferences(t,l,{includeDeclaration:!1},n);return m&&m.length===1?m:h}))}e.getReferencesAtPosition=a;function u(c){return Ie(this,void 0,void 0,function*(){const d=yield c(),r=new w.ReferencesModel(d,""),n=r.references.map(o=>o.link);return r.dispose(),n})}M.registerModelAndPositionCommand("_executeDefinitionProvider",(c,d)=>u(()=>v(c,d,S.CancellationToken.None))),M.registerModelAndPositionCommand("_executeDeclarationProvider",(c,d)=>u(()=>i(c,d,S.CancellationToken.None))),M.registerModelAndPositionCommand("_executeImplementationProvider",(c,d)=>u(()=>_(c,d,S.CancellationToken.None))),M.registerModelAndPositionCommand("_executeTypeDefinitionProvider",(c,d)=>u(()=>s(c,d,S.CancellationToken.None))),M.registerModelAndPositionCommand("_executeReferenceProvider",(c,d)=>u(()=>a(c,d,!1,S.CancellationToken.None)))}),define(Q[638],J([0,1,16,9,75,87,14,28,3,2,6,497,37,34,45]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new S.RawContextKey("hasSymbols",!1,s.localize(0,null)),e.ISymbolNavigationService=k.createDecorator("ISymbolNavigationService");let d=class{constructor(o,t,l,h){this._editorService=t,this._notificationService=l,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(o)}reset(){var o,t;this._ctxHasSymbols.reset(),(o=this._currentState)===null||o===void 0||o.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(o){const t=o.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(o),this._ctxHasSymbols.set(!0),this._showMessage();const l=new r(this._editorService),h=l.onDidChange(m=>{if(this._ignoreEditorChange)return;const C=this._editorService.getActiveCodeEditor();if(!C)return;const g=C.getModel(),f=C.getPosition();if(!g||!f)return;let b=!1,L=!1;for(const N of t.references)if(c.isEqual(N.uri,g.uri))b=!0,L=L||v.Range.containsPosition(N.range,f);else if(b)break;(!b||!L)&&this.reset()});this._currentState=i.combinedDisposable(l,h)}revealNext(o){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:v.Range.collapseToStart(t.range),selectionRevealType:3}},o).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var o;(o=this._currentMessage)===null||o===void 0||o.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=t?s.localize(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):s.localize(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};d=Me([pe(0,S.IContextKeyService),pe(1,p.ICodeEditorService),pe(2,u.INotificationService),pe(3,a.IKeybindingService)],d),M.registerSingleton(e.ISymbolNavigationService,d,!0),w.registerEditorCommand(new class extends w.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,o){return n.get(e.ISymbolNavigationService).revealNext(o)}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(o){this._listener=new Map,this._disposables=new i.DisposableStore,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(o.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(o.onCodeEditorAdd(this._onDidAddEditor,this)),o.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),i.dispose(this._listener.values())}_onDidAddEditor(o){this._listener.set(o,i.combinedDisposable(o.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:o})),o.onDidChangeModelContent(t=>this._onDidChange.fire({editor:o}))))}_onDidRemoveEditor(o){var t;(t=this._listener.get(o))===null||t===void 0||t.dispose(),this._listener.delete(o)}};r=Me([pe(0,p.ICodeEditorService)],r)}),define(Q[639],J([0,1,2,3,23,250,262,29,408,611,11]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class s{constructor(c,d,r,n){this.owner=c,this.range=d,this.model=r,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.ColorHover=s;let a=class{constructor(c,d,r){this._editor=c,this._hover=d,this._themeService=r}computeSync(c,d){return[]}computeAsync(c,d,r){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=w.ColorDetector.get(this._editor);for(const o of d){const t=n.getColorData(o.range.getStartPosition());if(t)return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}return[]})}_createColorHover(c,d,r){return Ie(this,void 0,void 0,function*(){const n=c.getValueInRange(d.range),{red:o,green:t,blue:l,alpha:h}=d.color,m=new p.RGBA(Math.round(o*255),Math.round(t*255),Math.round(l*255),h),C=new p.Color(m),g=yield y.getColorPresentations(c,d,r,M.CancellationToken.None),f=new v.ColorPickerModel(C,[],0);return f.colorPresentations=g||[],f.guessColorPresentation(C,n),new s(this,k.Range.lift(d.range),f,r)})}renderHoverParts(c,d,r){if(c.length===0||!this._editor.hasModel())return S.Disposable.None;const n=new S.DisposableStore,o=c[0],t=this._editor.getModel(),l=o.model,h=n.add(new i.ColorPickerWidget(d,l,this._editor.getOption(126),this._themeService));let m=new k.Range(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const C=()=>{let f,b;if(l.presentation.textEdit){f=[l.presentation.textEdit],b=new k.Range(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn);const L=this._editor.getModel()._setTrackedRange(null,b,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",f),b=this._editor.getModel()._getTrackedRange(L)||b}else f=[{identifier:null,range:m,text:l.presentation.label,forceMoveMarkers:!1}],b=m.setEndPosition(m.endLineNumber,m.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",f);l.presentation.additionalTextEdits&&(f=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",f),this._hover.hide()),this._editor.pushUndoStop(),m=b},g=f=>y.getColorPresentations(t,{range:m,color:{red:f.rgba.r/255,green:f.rgba.g/255,blue:f.rgba.b/255,alpha:f.rgba.a}},o.provider,M.CancellationToken.None).then(b=>{l.colorPresentations=b||[]});return n.add(l.onColorFlushed(f=>{g(f).then(C)})),n.add(l.onDidChangeColor(g)),this._hover.setColorPicker(h),n}};a=Me([pe(2,_.IThemeService)],a),e.ColorHoverParticipant=a}),define(Q[640],J([0,1,19,23,12,14,18]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function p(i,_,s){const u=w.HoverProviderRegistry.ordered(i).map(c=>Promise.resolve(c.provideHover(i,_,s)).then(d=>d&&v(d)?d:void 0,d=>{M.onUnexpectedExternalError(d)}));return Promise.all(u).then(S.coalesce)}e.getHover=p,y.registerModelAndPositionCommand("_executeHoverProvider",(i,_)=>p(i,_,k.CancellationToken.None));function v(i){const _=typeof i.range!="undefined",s=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return _&&s}}),define(Q[641],J([0,1,499,7,82,2,3,141,19,59,58,18,640,13]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=k.$;class d{constructor(o,t,l){this.owner=o,this.range=t,this.contents=l}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.MarkdownHover=d;let r=class{constructor(o,t,l,h){this._editor=o,this._hover=t,this._modeService=l,this._openerService=h}createLoadingMessage(o){return o.type!==1?null:new d(this,o.range,[new M.MarkdownString().appendText(S.localize(0,null))])}computeSync(o,t){if(!this._editor.hasModel()||o.type!==1)return[];const l=this._editor.getModel(),h=o.range.startLineNumber,m=l.getLineMaxColumn(h),C=[];for(const g of t){const f=g.range.startLineNumber===h?g.range.startColumn:1,b=g.range.endLineNumber===h?g.range.endColumn:m,L=g.options.hoverMessage;if(!L||M.isEmptyMarkdownString(L))continue;const N=new w.Range(o.range.startLineNumber,f,o.range.startLineNumber,b);C.push(new d(this,N,v.asArray(L)))}return C}computeAsync(o,t,l){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||o.type!==1)return Promise.resolve([]);const h=this._editor.getModel();if(!s.HoverProviderRegistry.has(h))return Promise.resolve([]);const m=yield a.getHover(h,new u.Position(o.range.startLineNumber,o.range.startColumn),l),C=[];for(const g of m){if(M.isEmptyMarkdownString(g.contents))continue;const f=g.range?w.Range.lift(g.range):o.range;C.push(new d(this,f,g.contents))}return C})}renderHoverParts(o,t,l){const h=new y.DisposableStore;for(const m of o)for(const C of m.contents){if(M.isEmptyMarkdownString(C))continue;const g=c("div.hover-row.markdown-hover"),f=k.append(g,c("div.hover-contents")),b=h.add(new p.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));h.add(b.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const L=h.add(b.render(C));f.appendChild(L.element),t.appendChild(g)}return h}};r=Me([pe(2,_.IModeService),pe(3,i.IOpenerService)],r),e.MarkdownHoverParticipant=r}),define(Q[642],J([0,1,501,3,21,25,14,76,417,71,11,48,31,15,12]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class _t{constructor(t,l){this.decorationIds=[],this.editor=t,this.editorWorkerService=l}static get(t){return t.getContribution(_t.ID)}dispose(){}run(t,l){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),m=this.editor.getModel();if(!m||!h)return;let C=h;if(C.startLineNumber!==C.endLineNumber)return;const g=new i.EditorState(this.editor,1|4),f=m.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=u.createCancelablePromise(b=>this.editorWorkerService.navigateValueSet(f,C,l)),this.currentRequest.then(b=>{if(!b||!b.range||!b.value||!g.validate(this.editor))return;let L=k.Range.lift(b.range),N=b.range,D=b.value.length-(C.endColumn-C.startColumn);N={startLineNumber:N.startLineNumber,startColumn:N.startColumn,endLineNumber:N.endLineNumber,endColumn:N.startColumn+b.value.length},D>1&&(C=new M.Selection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn+D-1));const I=new v.InPlaceReplaceCommand(L,C,b.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,I),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:N,options:_t.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=u.timeout(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(c.onUnexpectedError)}).catch(c.onUnexpectedError)):Promise.resolve(void 0)}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=a.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),d=Me([pe(1,p.IEditorWorkerService)],d);class r extends w.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:S.localize(0,null),alias:"Replace with Previous Value",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,l){const h=d.get(l);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class n extends w.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:S.localize(1,null),alias:"Replace with Next Value",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,l){const h=d.get(l);return h?h.run(this.id,!1):Promise.resolve(void 0)}}w.registerEditorContribution(d.ID,d),w.registerEditorAction(r),w.registerEditorAction(n),_.registerThemingParticipant((o,t)=>{const l=o.getColor(s.editorBracketMatchBorder);l&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${l}; }`)})}),define(Q[643],J([0,1,502,2,8,14,182,57,3,21,25,31,43,36,231,78]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function r(I,T,A,R){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return[];let O=a.LanguageConfigurationRegistry.getIndentationRules(I.getLanguageIdentifier().id);if(!O)return[];for(A=Math.min(A,I.getLineCount());T<=A&&O.unIndentedLinePattern;){let ae=I.getLineContent(T);if(!O.unIndentedLinePattern.test(ae))break;T++}if(T>A-1)return[];const{tabSize:P,indentSize:F,insertSpaces:E}=I.getOptions(),x=(ae,de)=>(de=de||1,w.ShiftCommand.shiftIndent(ae,ae.length+de,P,F,E)),H=(ae,de)=>(de=de||1,w.ShiftCommand.unshiftIndent(ae,ae.length+de,P,F,E));let K=[],q,G=I.getLineContent(T),ee=G;if(R!=null){q=R;let ae=M.getLeadingWhitespace(G);ee=q+G.substring(ae.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(ee)&&(q=H(q),ee=q+G.substring(ae.length)),G!==ee&&K.push(p.EditOperation.replaceMove(new i.Selection(T,1,T,ae.length+1),s.TextModel.normalizeIndentation(q,F,E)))}else q=M.getLeadingWhitespace(G);let ie=q;O.increaseIndentPattern&&O.increaseIndentPattern.test(ee)?(ie=x(ie),q=x(q)):O.indentNextLinePattern&&O.indentNextLinePattern.test(ee)&&(ie=x(ie)),T++;for(let ae=T;ae<=A;ae++){let de=I.getLineContent(ae),Y=M.getLeadingWhitespace(de),B=ie+de.substring(Y.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(B)&&(ie=H(ie),q=H(q)),Y!==ie&&K.push(p.EditOperation.replaceMove(new i.Selection(ae,1,ae,Y.length+1),s.TextModel.normalizeIndentation(ie,F,E))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(de))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(B)?(q=x(q),ie=q):O.indentNextLinePattern&&O.indentNextLinePattern.test(B)?ie=x(ie):ie=q)}return K}e.getReindentEditOperations=r;class n extends y.EditorAction{constructor(){super({id:n.ID,label:S.localize(0,null),alias:"Convert Indentation to Spaces",precondition:_.EditorContextKeys.writable})}run(T,A){let R=A.getModel();if(!R)return;let O=R.getOptions(),P=A.getSelection();if(!P)return;const F=new N(P,O.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[F]),A.pushUndoStop(),R.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class o extends y.EditorAction{constructor(){super({id:o.ID,label:S.localize(1,null),alias:"Convert Indentation to Tabs",precondition:_.EditorContextKeys.writable})}run(T,A){let R=A.getModel();if(!R)return;let O=R.getOptions(),P=A.getSelection();if(!P)return;const F=new D(P,O.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[F]),A.pushUndoStop(),R.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=o,o.ID="editor.action.indentationToTabs";class t extends y.EditorAction{constructor(T,A){super(A);this.insertSpaces=T}run(T,A){const R=T.get(d.IQuickInputService),O=T.get(u.IModelService);let P=A.getModel();if(!P)return;let F=O.getCreationOptions(P.getLanguageIdentifier().language,P.uri,P.isForSimpleWidget);const E=[1,2,3,4,5,6,7,8].map(H=>({id:H.toString(),label:H.toString(),description:H===F.tabSize?S.localize(2,null):void 0})),x=Math.min(P.getOptions().tabSize-1,7);setTimeout(()=>{R.pick(E,{placeHolder:S.localize(3,null),activeItem:E[x]}).then(H=>{H&&P&&!P.isDisposed()&&P.updateOptions({tabSize:parseInt(H.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=t;class l extends t{constructor(){super(!1,{id:l.ID,label:S.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:S.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class m extends y.EditorAction{constructor(){super({id:m.ID,label:S.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,A){const R=T.get(u.IModelService);let O=A.getModel();if(!O)return;let P=R.getCreationOptions(O.getLanguageIdentifier().language,O.uri,O.isForSimpleWidget);O.detectIndentation(P.insertSpaces,P.tabSize)}}e.DetectIndentation=m,m.ID="editor.action.detectIndentation";class C extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:S.localize(7,null),alias:"Reindent Lines",precondition:_.EditorContextKeys.writable})}run(T,A){let R=A.getModel();if(!R)return;let O=r(R,1,R.getLineCount());O.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,O),A.pushUndoStop())}}e.ReindentLinesAction=C;class g extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:S.localize(8,null),alias:"Reindent Selected Lines",precondition:_.EditorContextKeys.writable})}run(T,A){let R=A.getModel();if(!R)return;let O=A.getSelections();if(O===null)return;let P=[];for(let F of O){let E=F.startLineNumber,x=F.endLineNumber;if(E!==x&&F.endColumn===1&&x--,E===1){if(E===x)continue}else E--;let H=r(R,E,x);P.push(...H)}P.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,P),A.pushUndoStop())}}e.ReindentSelectedLinesAction=g;class f{constructor(T,A){this._initialSelection=A,this._edits=[],this._selectionId=null;for(let R of T)R.range&&typeof R.text=="string"&&this._edits.push(R)}getEditOperations(T,A){for(let O of this._edits)A.addEditOperation(v.Range.lift(O.range),O.text);let R=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(R=!0,this._selectionId=A.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(R=!0,this._selectionId=A.trackSelection(this._initialSelection,!1))),R||(this._selectionId=A.trackSelection(this._initialSelection))}computeCursorState(T,A){return A.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=f;class b{constructor(T){this.callOnDispose=new k.DisposableStore,this.callOnModel=new k.DisposableStore,this.editor=T,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)})))}trigger(T){let A=this.editor.getSelections();if(A===null||A.length>1)return;const R=this.editor.getModel();if(!R||!R.isCheapToTokenize(T.getStartPosition().lineNumber))return;const O=this.editor.getOption(9),{tabSize:P,indentSize:F,insertSpaces:E}=R.getOptions();let x=[],H={shiftIndent:ee=>w.ShiftCommand.shiftIndent(ee,ee.length+1,P,F,E),unshiftIndent:ee=>w.ShiftCommand.unshiftIndent(ee,ee.length+1,P,F,E)},K=T.startLineNumber;for(;K<=T.endLineNumber;){if(this.shouldIgnoreLine(R,K)){K++;continue}break}if(K>T.endLineNumber)return;let q=R.getLineContent(K);if(!/\S/.test(q.substring(0,T.startColumn-1))){let ee=a.LanguageConfigurationRegistry.getGoodIndentForLine(O,R,R.getLanguageIdentifier().id,K,H);if(ee!==null){let ie=M.getLeadingWhitespace(q),ae=c.getSpaceCnt(ee,P),de=c.getSpaceCnt(ie,P);if(ae!==de){let Y=c.generateIndent(ae,P,E);x.push({range:new v.Range(K,1,K,ie.length+1),text:Y}),q=Y+q.substr(ie.length)}else{let Y=a.LanguageConfigurationRegistry.getIndentMetadata(R,K);if(Y===0||Y===8)return}}}const G=K;for(;K<T.endLineNumber;){if(!/\S/.test(R.getLineContent(K+1))){K++;continue}break}if(K!==T.endLineNumber){let ee={getLineTokens:ae=>R.getLineTokens(ae),getLanguageIdentifier:()=>R.getLanguageIdentifier(),getLanguageIdAtPosition:(ae,de)=>R.getLanguageIdAtPosition(ae,de),getLineContent:ae=>ae===G?q:R.getLineContent(ae)},ie=a.LanguageConfigurationRegistry.getGoodIndentForLine(O,ee,R.getLanguageIdentifier().id,K+1,H);if(ie!==null){let ae=c.getSpaceCnt(ie,P),de=c.getSpaceCnt(M.getLeadingWhitespace(R.getLineContent(K+1)),P);if(ae!==de){let Y=ae-de;for(let B=K+1;B<=T.endLineNumber;B++){let W=R.getLineContent(B),V=M.getLeadingWhitespace(W),U=c.getSpaceCnt(V,P)+Y,X=c.generateIndent(U,P,E);X!==V&&x.push({range:new v.Range(B,1,B,V.length+1),text:X})}}}}if(x.length>0){this.editor.pushUndoStop();let ee=new f(x,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",ee),this.editor.pushUndoStop()}}shouldIgnoreLine(T,A){T.forceTokenization(A);let R=T.getLineFirstNonWhitespaceColumn(A);if(R===0)return!0;let O=T.getLineTokens(A);if(O.getCount()>0){let P=O.findTokenIndexAtOffset(R);if(P>=0&&O.getStandardTokenType(P)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=b,b.ID="editor.contrib.autoIndentOnPaste";function L(I,T,A,R){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return;let O="";for(let F=0;F<A;F++)O+=" ";let P=new RegExp(O,"gi");for(let F=1,E=I.getLineCount();F<=E;F++){let x=I.getLineFirstNonWhitespaceColumn(F);if(x===0&&(x=I.getLineMaxColumn(F)),x===1)continue;const H=new v.Range(F,1,F,x),K=I.getValueInRange(H),q=R?K.replace(/\t/ig,O):K.replace(P,"	");T.addEditOperation(H,q)}}class N{constructor(T,A){this.selection=T,this.tabSize=A,this.selectionId=null}getEditOperations(T,A){this.selectionId=A.trackSelection(this.selection),L(T,A,this.tabSize,!0)}computeCursorState(T,A){return A.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=N;class D{constructor(T,A){this.selection=T,this.tabSize=A,this.selectionId=null}getEditOperations(T,A){this.selectionId=A.trackSelection(this.selection),L(T,A,this.tabSize,!1)}computeCursorState(T,A){return A.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=D,y.registerEditorContribution(b.ID,b),y.registerEditorAction(n),y.registerEditorAction(o),y.registerEditorAction(l),y.registerEditorAction(h),y.registerEditorAction(m),y.registerEditorAction(C),y.registerEditorAction(g)}),define(Q[644],J([0,1,15,12,91,2,14,28,18,19,22,23,11,3,135,26,24,20,68,13]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const l=500;function h(C,g,f){return Ie(this,void 0,void 0,function*(){const b=[],L=v.InlayHintsProviderRegistry.ordered(C).reverse(),N=i.flatten(L.map(D=>g.map(I=>Promise.resolve(D.provideInlayHints(C,I,f)).then(T=>{T&&b.push({list:T,provider:D})},T=>{k.onUnexpectedExternalError(T)}))));return yield Promise.all(N),b})}e.getInlayHints=h;let m=class{constructor(g,f,b){this._editor=g,this._codeEditorService=f,this._themeService=b,this._disposables=new y.DisposableStore,this._sessionDisposables=new y.DisposableStore,this._getInlayHintsDelays=new c.LanguageFeatureRequestDelays(v.InlayHintsProviderRegistry,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(v.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(b.onDidColorThemeChange(()=>this._update())),this._disposables.add(g.onDidChangeModel(()=>this._update())),this._disposables.add(g.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(g.onDidChangeConfiguration(L=>{L.hasChanged(124)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(124).enabled){this._removeAllDecorations();return}const g=this._editor.getModel();if(!g||!v.InlayHintsProviderRegistry.has(g)){this._removeAllDecorations();return}const f=new S.RunOnceScheduler(()=>Ie(this,void 0,void 0,function*(){const L=Date.now(),N=new s.CancellationTokenSource;this._sessionDisposables.add(y.toDisposable(()=>N.dispose(!0)));const D=this._editor.getVisibleRangesPlusViewportAboveBelow(),I=yield h(g,D,N.token),T=this._getInlayHintsDelays.update(g,Date.now()-L);f.delay=T,this._updateHintsDecorators(I)}),this._getInlayHintsDelays.get(g));this._sessionDisposables.add(f),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>f.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>f.schedule())),f.schedule();const b=new y.DisposableStore;this._sessionDisposables.add(b);for(const L of v.InlayHintsProviderRegistry.all(g))typeof L.onDidChangeInlayHints=="function"&&b.add(L.onDidChangeInlayHints(()=>f.schedule()))}_updateHintsDecorators(g){const{fontSize:f,fontFamily:b}=this._getLayoutInfo(),L=this._themeService.getColorTheme().getColor(_.editorInlayHintBackground),N=this._themeService.getColorTheme().getColor(_.editorInlayHintForeground),D=[],I=[],T="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(T,b);for(const{list:A}of g)for(let R=0;R<A.length&&I.length<l;R++){const{text:O,position:P,whitespaceBefore:F,whitespaceAfter:E}=A[R],x=F?f/3|0:0,H=E?f/3|0:0,K={contentText:O,backgroundColor:`${L}`,color:`${N}`,margin:`0px ${H}px 0px ${x}px`,fontSize:`${f}px`,fontFamily:`var(${T})`,padding:`0px ${f/4|0}px`,borderRadius:`${f/4|0}px`},q="inlayHints-"+M.hash(K).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",q,{before:K},void 0,this._editor),D.push(q);const G=this._codeEditorService.resolveDecorationOptions(q,!0);I.push({range:u.Range.fromPositions(P),options:G})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=D,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,I)}_getLayoutInfo(){const g=this._editor.getOption(124),f=this._editor.getOption(42);let b=g.fontSize;(!b||b<5||b>f)&&(b=f*.9|0);const L=g.fontFamily;return{fontSize:b,fontFamily:L}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};m.ID="editor.contrib.InlayHints",m=Me([pe(1,p.ICodeEditorService),pe(2,a.IThemeService)],m),e.InlayHintsController=m,w.registerEditorContribution(m.ID,m),d.CommandsRegistry.registerCommand("_executeInlayHintProvider",(C,...g)=>Ie(void 0,void 0,void 0,function*(){const[f,b]=g;n.assertType(r.URI.isUri(f)),n.assertType(u.Range.isIRange(b));const L=yield C.get(o.ITextModelService).createModelReference(f);try{const N=yield h(L.object.textEditorModel,[u.Range.lift(b)],s.CancellationToken.None);return i.flatten(N.map(D=>D.list)).sort((D,I)=>t.Position.compare(D.position,I.position))}finally{L.dispose()}}))}),define(Q[265],J([0,1,15,23,12,6,2,8,3,18,190,57,418,14,144]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.InlineCompletionsModel=void 0;class d extends w.Disposable{constructor(f,b){super();this.editor=f,this.commandService=b,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new a.MutableDisposable),this.active=!1,this._register(b.onDidExecuteCommand(L=>{new Set([u.UndoCommand.id,u.RedoCommand.id,c.CoreEditingCommands.Tab.id,c.CoreEditingCommands.DeleteLeft.id,c.CoreEditingCommands.DeleteRight.id]).has(L.commandId)&&f.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(L=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(L=>{this.session&&!this.session.isValid&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var f;return(f=this.session)===null||f===void 0?void 0:f.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return this.session?this.session.expanded:!1}setExpanded(f){var b;(b=this.session)===null||b===void 0||b.setExpanded(f)}setActive(f){var b;this.active=f,f&&((b=this.session)===null||b===void 0||b.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(52).enabled||this.session&&this.session.isValid||this.startSession()}startSession(){this.completionSession.value||(this.completionSession.value=new r(this.editor,this.editor.getPosition(),()=>this.active,this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var f;(f=this.session)===null||f===void 0||f.commitCurrentCompletion()}showNext(){var f;(f=this.session)===null||f===void 0||f.showNextInlineCompletion()}showPrevious(){var f;(f=this.session)===null||f===void 0||f.showPreviousInlineCompletion()}}e.InlineCompletionsModel=d;class r extends _.BaseGhostTextWidgetModel{constructor(f,b,L,N){super(f);this.triggerPosition=b,this.shouldUpdate=L,this.commandService=N,this.minReservedLineCount=0,this.updateOperation=this._register(new a.MutableDisposable),this.cache=this._register(new a.MutableDisposable),this.updateSoon=this._register(new S.RunOnceScheduler(()=>this.update(i.InlineCompletionTriggerKind.Automatic),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0;let D;this._register(this.onDidChange(()=>{const I=this.currentCompletion;if(I&&I.sourceInlineCompletion!==D){D=I.sourceInlineCompletion;const T=I.sourceProvider;T.handleItemDidShow&&T.handleItemDidShow(I.sourceInlineCompletions,D)}})),this._register(this.editor.onDidChangeModelContent(I=>{if(this.cache.value){let T=!1;for(const A of this.cache.value.completions){const R=this.textModel.getDecorationRange(A.decorationId);if(!R){M.onUnexpectedError(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(R)||(T=!0,A.synchronizedRange=R)}T&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const f=this.cache.value.completions.findIndex(b=>b.semanticId===this.currentlySelectedCompletionId);return f===-1?(this.currentlySelectedCompletionId=void 0,0):f}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var f;return Ie(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const b=((f=this.cache.value)===null||f===void 0?void 0:f.completions)||[];if(b.length>0){const L=(this.fixAndGetIndexOfCurrentSelection()+1)%b.length;this.currentlySelectedCompletionId=b[L].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var f;return Ie(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const b=((f=this.cache.value)===null||f===void 0?void 0:f.completions)||[];if(b.length>0){const L=(this.fixAndGetIndexOfCurrentSelection()+b.length-1)%b.length;this.currentlySelectedCompletionId=b[L].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var f;return Ie(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===i.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(i.InlineCompletionTriggerKind.Explicit):((f=this.cache.value)===null||f===void 0?void 0:f.triggerKind)!==i.InlineCompletionTriggerKind.Explicit&&(yield this.update(i.InlineCompletionTriggerKind.Explicit))})}get ghostText(){const f=this.currentCompletion;return f?h(f,this.editor.getModel()):void 0}get currentCompletion(){const f=this.currentCachedCompletion;if(!!f)return{text:f.inlineCompletion.text,range:f.synchronizedRange,command:f.inlineCompletion.command,sourceProvider:f.inlineCompletion.sourceProvider,sourceInlineCompletions:f.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:f.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(f){return Ie(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const b=this.editor.getPosition(),L=S.createCancelablePromise(D=>Ie(this,void 0,void 0,function*(){let I;try{I=yield C(b,this.editor.getModel(),{triggerKind:f},D)}catch(T){M.onUnexpectedError(T);return}D.isCancellationRequested||(this.cache.value=new o(this.editor,I,()=>this.onDidChangeEmitter.fire(),f),this.onDidChangeEmitter.fire())})),N=new n(L,f);this.updateOperation.value=N,yield L,this.updateOperation.value===N&&this.updateOperation.clear()})}takeOwnership(f){this._register(f)}commitCurrentCompletion(){const f=this.currentCompletion;f&&this.commit(f)}commit(f){const b=this.cache.replace(void 0);this.editor.executeEdits("inlineSuggestion.accept",[s.EditOperation.replaceMove(f.range,f.text)]),f.command?this.commandService.executeCommand(f.command.id,...f.command.arguments||[]).finally(()=>{b==null||b.dispose()}).then(void 0,M.onUnexpectedExternalError):b==null||b.dispose(),this.onDidChangeEmitter.fire()}}class n{constructor(f,b){this.promise=f,this.triggerKind=b}dispose(){this.promise.cancel()}}class o extends w.Disposable{constructor(f,b,L,N){super();this.triggerKind=N;const D=f.deltaDecorations([],b.items.map(I=>({range:I.range,options:{description:"inline-completion-tracking-range"}})));this._register(w.toDisposable(()=>{f.deltaDecorations(D,[])})),this.completions=b.items.map((I,T)=>new t(I,D[T])),this._register(f.onDidChangeModelContent(()=>{let I=!1;const T=f.getModel();for(const A of this.completions){const R=T.getDecorationRange(A.decorationId);if(!R){M.onUnexpectedError(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(R)||(I=!0,A.synchronizedRange=R)}I&&L()})),this._register(b)}}class t{constructor(f,b){this.inlineCompletion=f,this.decorationId=b,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=f.range}}function l(g){return g.replace(/^\s+/,"")}function h(g,f){const b=f.getValueInRange(g.range);let L;const N=f.getLineFirstNonWhitespaceColumn(g.range.startLineNumber);if(g.text.startsWith(b))L=g.text.substr(b.length);else if(N===0||g.range.startColumn<N){const T=l(b),A=l(g.text);if(!A.startsWith(T))return;L=A.substr(T.length)}else return;const D=g.range.getEndPosition(),I=p.splitLines(L);if(!(I.length>1&&f.getLineMaxColumn(D.lineNumber)!==D.column))return{lines:I,position:D}}e.inlineCompletionToGhostText=h;function m(g,f){const b=f.getWordAtPosition(g),L=f.getLineMaxColumn(g.lineNumber);return b?new v.Range(g.lineNumber,b.startColumn,g.lineNumber,L):v.Range.fromPositions(g,g.with(void 0,L))}function C(g,f,b,L=k.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const N=m(g,f),D=i.InlineCompletionsProviderRegistry.all(f),I=yield Promise.all(D.map(A=>Ie(this,void 0,void 0,function*(){const R=yield A.provideInlineCompletions(f,g,b,L);return{completions:R,provider:A,dispose:()=>{R&&A.freeInlineCompletions(R)}}}))),T=new Map;for(const A of I){const R=A.completions;if(R)for(const O of R.items.map(P=>({text:P.text,range:P.range?v.Range.lift(P.range):N,command:P.command,sourceProvider:A.provider,sourceInlineCompletions:R,sourceInlineCompletion:P})))O.range.startLineNumber===O.range.endLineNumber&&T.set(JSON.stringify({text:O.text,range:O.range}),O)}return{items:[...T.values()],dispose:()=>{for(const A of I)A.dispose()}}})}}),define(Q[645],J([0,1,505,40,144,14,94,374,185,57,13,3,21,25,419,556,420,33]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class o extends y.EditorAction{constructor(de,Y){super(Y);this.down=de}run(de,Y){if(!Y.hasModel())return;const B=Y.getSelections().map((z,U)=>({selection:z,index:U,ignore:!1}));B.sort((z,U)=>s.Range.compareRangesUsingStarts(z.selection,U.selection));let W=B[0];for(let z=1;z<B.length;z++){const U=B[z];W.selection.endLineNumber===U.selection.startLineNumber&&(W.index<U.index?U.ignore=!0:(W.ignore=!0,W=U))}const V=[];for(const z of B)V.push(new c.CopyLinesCommand(z.selection,this.down,z.ignore));Y.pushUndoStop(),Y.executeCommands(this.id,V),Y.pushUndoStop()}}class t extends o{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:S.localize(0,null),alias:"Copy Line Up",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:S.localize(1,null),order:1}})}}class l extends o{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:S.localize(2,null),alias:"Copy Line Down",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:S.localize(3,null),order:2}})}}class h extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:S.localize(4,null),alias:"Duplicate Selection",precondition:u.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:S.localize(5,null),order:5}})}run(de,Y,B){if(!Y.hasModel())return;const W=[],V=Y.getSelections(),z=Y.getModel();for(const U of V)if(U.isEmpty())W.push(new c.CopyLinesCommand(U,!0));else{const X=new a.Selection(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn);W.push(new w.ReplaceCommandThatSelectsText(X,z.getValueInRange(U)))}Y.pushUndoStop(),Y.executeCommands(this.id,W),Y.pushUndoStop()}}e.DuplicateSelectionAction=h;class m extends y.EditorAction{constructor(de,Y){super(Y);this.down=de}run(de,Y){let B=[],W=Y.getSelections()||[];const V=Y.getOption(9);for(const z of W)B.push(new d.MoveLinesCommand(z,this.down,V));Y.pushUndoStop(),Y.executeCommands(this.id,B),Y.pushUndoStop()}}class C extends m{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:S.localize(6,null),alias:"Move Line Up",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:S.localize(7,null),order:3}})}}class g extends m{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:S.localize(8,null),alias:"Move Line Down",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:S.localize(9,null),order:4}})}}class f extends y.EditorAction{constructor(de,Y){super(Y);this.descending=de}run(de,Y){const B=Y.getSelections()||[];for(const V of B)if(!r.SortLinesCommand.canRun(Y.getModel(),V,this.descending))return;let W=[];for(let V=0,z=B.length;V<z;V++)W[V]=new r.SortLinesCommand(B[V],this.descending);Y.pushUndoStop(),Y.executeCommands(this.id,W),Y.pushUndoStop()}}e.AbstractSortLinesAction=f;class b extends f{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:S.localize(10,null),alias:"Sort Lines Ascending",precondition:u.EditorContextKeys.writable})}}e.SortLinesAscendingAction=b;class L extends f{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:S.localize(11,null),alias:"Sort Lines Descending",precondition:u.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class N extends y.EditorAction{constructor(){super({id:N.ID,label:S.localize(12,null),alias:"Trim Trailing Whitespace",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|54),weight:100}})}run(de,Y,B){let W=[];B.reason==="auto-save"&&(W=(Y.getSelections()||[]).map(U=>new _.Position(U.positionLineNumber,U.positionColumn)));let V=Y.getSelection();if(V===null)return;let z=new p.TrimTrailingWhitespaceCommand(V,W);Y.pushUndoStop(),Y.executeCommands(this.id,[z]),Y.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class D extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:S.localize(13,null),alias:"Delete Line",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(de,Y){if(!Y.hasModel())return;let B=this._getLinesToRemove(Y),W=Y.getModel();if(W.getLineCount()===1&&W.getLineMaxColumn(1)===1)return;let V=0,z=[],U=[];for(let X=0,te=B.length;X<te;X++){const se=B[X];let le=se.startLineNumber,ue=se.endLineNumber,re=1,ce=W.getLineMaxColumn(ue);ue<W.getLineCount()?(ue+=1,ce=1):le>1&&(le-=1,re=W.getLineMaxColumn(le)),z.push(i.EditOperation.replace(new a.Selection(le,re,ue,ce),"")),U.push(new a.Selection(le-V,se.positionColumn,le-V,se.positionColumn)),V+=se.endLineNumber-se.startLineNumber+1}Y.pushUndoStop(),Y.executeEdits(this.id,z,U),Y.pushUndoStop()}_getLinesToRemove(de){let Y=de.getSelections().map(V=>{let z=V.endLineNumber;return V.startLineNumber<V.endLineNumber&&V.endColumn===1&&(z-=1),{startLineNumber:V.startLineNumber,selectionStartColumn:V.selectionStartColumn,endLineNumber:z,positionColumn:V.positionColumn}});Y.sort((V,z)=>V.startLineNumber===z.startLineNumber?V.endLineNumber-z.endLineNumber:V.startLineNumber-z.startLineNumber);let B=[],W=Y[0];for(let V=1;V<Y.length;V++)W.endLineNumber+1>=Y[V].startLineNumber?W.endLineNumber=Y[V].endLineNumber:(B.push(W),W=Y[V]);return B.push(W),B}}e.DeleteLinesAction=D;class I extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:S.localize(14,null),alias:"Indent Line",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(de,Y){const B=Y._getViewModel();!B||(Y.pushUndoStop(),Y.executeCommands(this.id,v.TypeOperations.indent(B.cursorConfig,Y.getModel(),Y.getSelections())),Y.pushUndoStop())}}e.IndentLinesAction=I;class T extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:S.localize(15,null),alias:"Outdent Line",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(de,Y){M.CoreEditingCommands.Outdent.runEditorCommand(de,Y,null)}}class A extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:S.localize(16,null),alias:"Insert Line Above",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(de,Y){const B=Y._getViewModel();!B||(Y.pushUndoStop(),Y.executeCommands(this.id,v.TypeOperations.lineInsertBefore(B.cursorConfig,Y.getModel(),Y.getSelections())))}}e.InsertLineBeforeAction=A;class R extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:S.localize(17,null),alias:"Insert Line Below",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(de,Y){const B=Y._getViewModel();!B||(Y.pushUndoStop(),Y.executeCommands(this.id,v.TypeOperations.lineInsertAfter(B.cursorConfig,Y.getModel(),Y.getSelections())))}}e.InsertLineAfterAction=R;class O extends y.EditorAction{run(de,Y){if(!Y.hasModel())return;const B=Y.getSelection();let W=this._getRangesToDelete(Y),V=[];for(let X=0,te=W.length-1;X<te;X++){let se=W[X],le=W[X+1];s.Range.intersectRanges(se,le)===null?V.push(se):W[X+1]=s.Range.plusRange(se,le)}V.push(W[W.length-1]);let z=this._getEndCursorState(B,V),U=V.map(X=>i.EditOperation.replace(X,""));Y.pushUndoStop(),Y.executeEdits(this.id,U,z),Y.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class P extends O{constructor(){super({id:"deleteAllLeft",label:S.localize(18,null),alias:"Delete All Left",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(de,Y){let B=null,W=[],V=0;return Y.forEach(z=>{let U;if(z.endColumn===1&&V>0){let X=z.startLineNumber-V;U=new a.Selection(X,z.startColumn,X,z.startColumn)}else U=new a.Selection(z.startLineNumber,z.startColumn,z.startLineNumber,z.startColumn);V+=z.endLineNumber-z.startLineNumber,z.intersectRanges(de)?B=U:W.push(U)}),B&&W.unshift(B),W}_getRangesToDelete(de){let Y=de.getSelections();if(Y===null)return[];let B=Y,W=de.getModel();return W===null?[]:(B.sort(s.Range.compareRangesUsingStarts),B=B.map(V=>{if(V.isEmpty())if(V.startColumn===1){let z=Math.max(1,V.startLineNumber-1),U=V.startLineNumber===1?1:W.getLineContent(z).length+1;return new s.Range(z,U,V.startLineNumber,1)}else return new s.Range(V.startLineNumber,1,V.startLineNumber,V.startColumn);else return new s.Range(V.startLineNumber,1,V.endLineNumber,V.endColumn)}),B)}}e.DeleteAllLeftAction=P;class F extends O{constructor(){super({id:"deleteAllRight",label:S.localize(19,null),alias:"Delete All Right",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(de,Y){let B=null,W=[];for(let V=0,z=Y.length,U=0;V<z;V++){let X=Y[V],te=new a.Selection(X.startLineNumber-U,X.startColumn,X.startLineNumber-U,X.startColumn);X.intersectRanges(de)?B=te:W.push(te)}return B&&W.unshift(B),W}_getRangesToDelete(de){let Y=de.getModel();if(Y===null)return[];let B=de.getSelections();if(B===null)return[];let W=B.map(V=>{if(V.isEmpty()){const z=Y.getLineMaxColumn(V.startLineNumber);return V.startColumn===z?new s.Range(V.startLineNumber,V.startColumn,V.startLineNumber+1,1):new s.Range(V.startLineNumber,V.startColumn,V.startLineNumber,z)}return V});return W.sort(s.Range.compareRangesUsingStarts),W}}e.DeleteAllRightAction=F;class E extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:S.localize(20,null),alias:"Join Lines",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(de,Y){let B=Y.getSelections();if(B===null)return;let W=Y.getSelection();if(W===null)return;B.sort(s.Range.compareRangesUsingStarts);let V=[],z=B.reduce((ue,re)=>ue.isEmpty()?ue.endLineNumber===re.startLineNumber?(W.equalsSelection(ue)&&(W=re),re):re.startLineNumber>ue.endLineNumber+1?(V.push(ue),re):new a.Selection(ue.startLineNumber,ue.startColumn,re.endLineNumber,re.endColumn):re.startLineNumber>ue.endLineNumber?(V.push(ue),re):new a.Selection(ue.startLineNumber,ue.startColumn,re.endLineNumber,re.endColumn));V.push(z);let U=Y.getModel();if(U===null)return;let X=[],te=[],se=W,le=0;for(let ue=0,re=V.length;ue<re;ue++){let ce=V[ue],j=ce.startLineNumber,ne=1,Z=0,oe,fe,_e=U.getLineContent(ce.endLineNumber).length-ce.endColumn;if(ce.isEmpty()||ce.startLineNumber===ce.endLineNumber){let Ee=ce.getStartPosition();Ee.lineNumber<U.getLineCount()?(oe=j+1,fe=U.getLineMaxColumn(oe)):(oe=Ee.lineNumber,fe=U.getLineMaxColumn(Ee.lineNumber))}else oe=ce.endLineNumber,fe=U.getLineMaxColumn(oe);let be=U.getLineContent(j);for(let Ee=j+1;Ee<=oe;Ee++){let Re=U.getLineContent(Ee),De=U.getLineFirstNonWhitespaceColumn(Ee);if(De>=1){let Te=!0;be===""&&(Te=!1),Te&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Te=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));let we=Re.substr(De-1);be+=(Te?" ":"")+we,Te?Z=we.length+1:Z=we.length}else Z=0}let Le=new s.Range(j,ne,oe,fe);if(!Le.isEmpty()){let Ee;ce.isEmpty()?(X.push(i.EditOperation.replace(Le,be)),Ee=new a.Selection(Le.startLineNumber-le,be.length-Z+1,j-le,be.length-Z+1)):ce.startLineNumber===ce.endLineNumber?(X.push(i.EditOperation.replace(Le,be)),Ee=new a.Selection(ce.startLineNumber-le,ce.startColumn,ce.endLineNumber-le,ce.endColumn)):(X.push(i.EditOperation.replace(Le,be)),Ee=new a.Selection(ce.startLineNumber-le,ce.startColumn,ce.startLineNumber-le,be.length-_e)),s.Range.intersectRanges(Le,W)!==null?se=Ee:te.push(Ee)}le+=Le.endLineNumber-Le.startLineNumber}te.unshift(se),Y.pushUndoStop(),Y.executeEdits(this.id,X,te),Y.pushUndoStop()}}e.JoinLinesAction=E;class x extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:S.localize(21,null),alias:"Transpose characters around the cursor",precondition:u.EditorContextKeys.writable})}run(de,Y){let B=Y.getSelections();if(B===null)return;let W=Y.getModel();if(W===null)return;let V=[];for(let z=0,U=B.length;z<U;z++){let X=B[z];if(!X.isEmpty())continue;let te=X.getStartPosition(),se=W.getLineMaxColumn(te.lineNumber);if(te.column>=se){if(te.lineNumber===W.getLineCount())continue;let le=new s.Range(te.lineNumber,Math.max(1,te.column-1),te.lineNumber+1,1),ue=W.getValueInRange(le).split("").reverse().join("");V.push(new w.ReplaceCommand(new a.Selection(te.lineNumber,Math.max(1,te.column-1),te.lineNumber+1,1),ue))}else{let le=new s.Range(te.lineNumber,Math.max(1,te.column-1),te.lineNumber,te.column+1),ue=W.getValueInRange(le).split("").reverse().join("");V.push(new w.ReplaceCommandThatPreservesSelection(le,ue,new a.Selection(te.lineNumber,te.column+1,te.lineNumber,te.column+1)))}}Y.pushUndoStop(),Y.executeCommands(this.id,V),Y.pushUndoStop()}}e.TransposeAction=x;class H extends y.EditorAction{run(de,Y){const B=Y.getSelections();if(B===null)return;const W=Y.getModel();if(W===null)return;const V=Y.getOption(114),z=[];for(const U of B)if(U.isEmpty()){const X=U.getStartPosition(),te=Y.getConfiguredWordAtPosition(X);if(!te)continue;const se=new s.Range(X.lineNumber,te.startColumn,X.lineNumber,te.endColumn),le=W.getValueInRange(se);z.push(i.EditOperation.replace(se,this._modifyText(le,V)))}else{const X=W.getValueInRange(U);z.push(i.EditOperation.replace(U,this._modifyText(X,V)))}Y.pushUndoStop(),Y.executeEdits(this.id,z),Y.pushUndoStop()}}e.AbstractCaseAction=H;class K extends H{constructor(){super({id:"editor.action.transformToUppercase",label:S.localize(22,null),alias:"Transform to Uppercase",precondition:u.EditorContextKeys.writable})}_modifyText(de,Y){return de.toLocaleUpperCase()}}e.UpperCaseAction=K;class q extends H{constructor(){super({id:"editor.action.transformToLowercase",label:S.localize(23,null),alias:"Transform to Lowercase",precondition:u.EditorContextKeys.writable})}_modifyText(de,Y){return de.toLocaleLowerCase()}}e.LowerCaseAction=q;class G extends H{constructor(){super({id:"editor.action.transformToTitlecase",label:S.localize(24,null),alias:"Transform to Title Case",precondition:u.EditorContextKeys.writable})}_modifyText(de,Y){const W=(`\r
	 `+Y).split("");let V="",z=!0;for(let U=0;U<de.length;U++){let X=de[U];W.indexOf(X)>=0?(z=!0,V+=X):z?(z=!1,V+=X.toLocaleUpperCase()):V+=X.toLocaleLowerCase()}return V}}e.TitleCaseAction=G;class ee{constructor(de,Y){this._pattern=de,this._flags=Y,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(de){}}return this._actual}isSupported(){return this.get()!==null}}class ie extends H{constructor(){super({id:"editor.action.transformToSnakecase",label:S.localize(25,null),alias:"Transform to Snake Case",precondition:u.EditorContextKeys.writable})}_modifyText(de,Y){const B=ie.regExp1.get(),W=ie.regExp2.get();return!B||!W?de:de.replace(B,"$1_$2").replace(W,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.regExp1=new ee("(\\p{Ll})(\\p{Lu})","gmu"),ie.regExp2=new ee("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),y.registerEditorAction(t),y.registerEditorAction(l),y.registerEditorAction(h),y.registerEditorAction(C),y.registerEditorAction(g),y.registerEditorAction(b),y.registerEditorAction(L),y.registerEditorAction(N),y.registerEditorAction(D),y.registerEditorAction(I),y.registerEditorAction(T),y.registerEditorAction(A),y.registerEditorAction(R),y.registerEditorAction(P),y.registerEditorAction(F),y.registerEditorAction(E),y.registerEditorAction(x),y.registerEditorAction(K),y.registerEditorAction(q),y.registerEditorAction(G),ie.regExp1.isSupported()&&ie.regExp2.isSupported()&&y.registerEditorAction(ie)}),define(Q[646],J([0,1,506,14,19,2,13,23,3,18,15,31,16,25,24,28,12,8,22,11,29,43]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const m="linked-editing-decoration";let C=class bt extends y.Disposable{constructor(N,D){super();this._debounceDuration=200,this._localToDispose=this._register(new y.DisposableStore),this._editor=N,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(D),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new y.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(59)||I.hasChanged(79))&&this.reinitialize()})),this._register(i.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(N){return N.getContribution(bt.ID)}reinitialize(){const N=this._editor.getModel(),D=N!==null&&(this._editor.getOption(59)||this._editor.getOption(79))&&i.LinkedEditingRangeProviderRegistry.has(N);if(D===this._enabled||(this._enabled=D,this.clearRanges(),this._localToDispose.clear(),!D||N===null))return;this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),this._localToDispose.add(N.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id)}));const I=new _.Delayer(this._debounceDuration),T=()=>{this._rangeUpdateTriggerPromise=I.trigger(()=>this.updateRanges(),this._debounceDuration)},A=new _.Delayer(0),R=O=>{this._rangeSyncTriggerPromise=A.trigger(()=>this._syncRanges(O))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{T()})),this._localToDispose.add(this._editor.onDidChangeModelContent(O=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const P=N.getDecorationRange(this._currentDecorations[0]);if(P&&O.changes.every(F=>P.intersectRanges(F.range))){R(this._currentDecorations);return}}T()})),this._localToDispose.add({dispose:()=>{I.cancel(),A.cancel()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._currentDecorations||N.length===0)return;const D=this._editor.getModel(),I=D.getDecorationRange(N[0]);if(!I||I.startLineNumber!==I.endLineNumber)return this.clearRanges();const T=D.getValueInRange(I);if(this._currentWordPattern){const R=T.match(this._currentWordPattern);if((R?R[0].length:0)!==T.length)return this.clearRanges()}let A=[];for(let R=1,O=N.length;R<O;R++){const P=D.getDecorationRange(N[R]);if(!!P)if(P.startLineNumber!==P.endLineNumber)A.push({range:P,text:T});else{let F=D.getValueInRange(P),E=T,x=P.startColumn,H=P.endColumn;const K=n.commonPrefixLength(F,E);x+=K,F=F.substr(K),E=E.substr(K);const q=n.commonSuffixLength(F,E);H-=q,F=F.substr(0,F.length-q),E=E.substr(0,E.length-q),(x!==H||E.length!==0)&&A.push({range:new v.Range(P.startLineNumber,x,P.endLineNumber,H),text:E})}}if(A.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",A),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(N=!1){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const D=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const I=this._editor.getModel(),T=I.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===T){if(D.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const R=I.getDecorationRange(this._currentDecorations[0]);if(R&&R.containsPosition(D))return}}this._currentRequestPosition=D,this._currentRequestModelVersion=T;const A=_.createCancelablePromise(R=>Ie(this,void 0,void 0,function*(){try{const O=yield b(I,D,R);if(A!==this._currentRequest||(this._currentRequest=null,T!==I.getVersionId()))return;let P=[];(O==null?void 0:O.ranges)&&(P=O.ranges),this._currentWordPattern=(O==null?void 0:O.wordPattern)||this._languageWordPattern;let F=!1;for(let x=0,H=P.length;x<H;x++)if(v.Range.containsPosition(P[x],D)){if(F=!0,x!==0){const K=P[x];P.splice(x,1),P.unshift(K)}break}if(!F){this.clearRanges();return}const E=P.map(x=>({range:x,options:bt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,E)}catch(O){r.isPromiseCanceledError(O)||r.onUnexpectedError(O),(this._currentRequest===A||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=A,A})}};C.ID="editor.contrib.linkedEditing",C.DECORATION=s.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:m}),C=Me([pe(1,a.IContextKeyService)],C),e.LinkedEditingContribution=C;class g extends k.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:S.localize(0,null),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(N,D){const I=N.get(d.ICodeEditorService),[T,A]=Array.isArray(D)&&D||[void 0,void 0];return c.URI.isUri(T)&&w.Position.isIPosition(A)?I.openCodeEditor({resource:T},I.getActiveCodeEditor()).then(R=>{!R||(R.setPosition(A),R.invokeWithinContext(O=>(this.reportTelemetry(O,R),this.run(O,R))))},r.onUnexpectedError):super.runCommand(N,D)}run(N,D){const I=C.get(D);return I?Promise.resolve(I.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=g;const f=k.EditorCommand.bindToContribution(C.get);k.registerEditorCommand(new f({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:L=>L.clearRanges(),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function b(L,N,D){const I=i.LinkedEditingRangeProviderRegistry.ordered(L);return _.first(I.map(T=>()=>Ie(this,void 0,void 0,function*(){try{return yield T.provideLinkedEditingRanges(L,N,D)}catch(A){r.onUnexpectedExternalError(A);return}})),T=>!!T&&M.isNonEmptyArray(T==null?void 0:T.ranges))}e.editorLinkedEditingBackground=o.registerColor("editor.linkedEditingBackground",{dark:l.Color.fromHex("#f00").transparent(.3),light:l.Color.fromHex("#f00").transparent(.3),hc:l.Color.fromHex("#f00").transparent(.3)},S.localize(1,null)),t.registerThemingParticipant((L,N)=>{const D=L.getColor(e.editorLinkedEditingBackground);D&&N.addRule(`.monaco-editor .${m} { background: ${D}; border-left-color: ${D}; }`)}),k.registerModelAndPositionCommand("_executeLinkedEditingProvider",(L,N)=>b(L,N,p.CancellationToken.None)),k.registerEditorContribution(C.ID,C),k.registerEditorAction(g)}),define(Q[647],J([0,1,507,15,23,12,82,2,17,14,31,18,228,560,34,59,22,11,24,44,45,354]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(b,L){const N=b.url&&/^command:/i.test(b.url.toString()),D=b.tooltip?b.tooltip:N?S.localize(0,null):S.localize(1,null),I=L?v.isMacintosh?S.localize(2,null):S.localize(3,null):v.isMacintosh?S.localize(4,null):S.localize(5,null);if(b.url){let T="";if(/^command:/i.test(b.url.toString())){const R=b.url.toString().match(/^command:([^?#]+)/);if(R){const O=R[1];T=` "${S.localize(6,null,O)}"`}}return new w.MarkdownString("",!0).appendMarkdown(`[${D}](${b.url.toString(!0)}${T}) (${I})`)}else return new w.MarkdownString().appendText(`${D} (${I})`)}const m={general:_.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:_.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class C{constructor(L,N){this.link=L,this.decorationId=N}static decoration(L,N){return{range:L.range,options:C._getOptions(L,N,!1)}}static _getOptions(L,N,D){const I=Object.assign({},D?m.active:m.general);return I.hoverMessage=h(L,N),I}activate(L,N){L.changeDecorationOptions(this.decorationId,C._getOptions(this.link,N,!0))}deactivate(L,N){L.changeDecorationOptions(this.decorationId,C._getOptions(this.link,N,!1))}}let g=class St{constructor(L,N,D){this.listenersToRemove=new p.DisposableStore,this.editor=L,this.openerService=N,this.notificationService=D;let I=new a.ClickLinkGesture(L);this.listenersToRemove.add(I),this.listenersToRemove.add(I.onMouseMoveOrRelevantKeyDown(([T,A])=>{this._onEditorMouseMove(T,A)})),this.listenersToRemove.add(I.onExecute(T=>{this.onEditorMouseUp(T)})),this.listenersToRemove.add(I.onCancel(T=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(60),this.listenersToRemove.add(L.onDidChangeConfiguration(T=>{const A=L.getOption(60);this.enabled!==A&&(this.enabled=A,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(T=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(T=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(T=>this.onModelModeChanged())),this.listenersToRemove.add(s.LinkProviderRegistry.onDidChange(T=>this.onModelModeChanged())),this.timeout=new k.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(St.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),St.RECOMPUTE_TIME)}beginCompute(){return Ie(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const L=this.editor.getModel();if(!!s.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=k.createCancelablePromise(N=>u.getLinks(L,N));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(N){y.onUnexpectedError(N)}finally{this.computePromise=null}}})}updateDecorations(L){const N=this.editor.getOption(67)==="altKey";let D=[],I=Object.keys(this.currentOccurrences);for(let R=0,O=I.length;R<O;R++){let P=I[R],F=this.currentOccurrences[P];D.push(F.decorationId)}let T=[];if(L)for(const R of L)T.push(C.decoration(R,N));let A=this.editor.deltaDecorations(D,T);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,O=A.length;R<O;R++){let P=new C(L[R],A[R]);this.currentOccurrences[P.decorationId]=P}}_onEditorMouseMove(L,N){const D=this.editor.getOption(67)==="altKey";if(this.isEnabled(L,N)){this.cleanUpActiveLinkDecoration();const I=this.getLinkOccurrence(L.target.position);I&&this.editor.changeDecorations(T=>{I.activate(T,D),this.activeLinkDecorationId=I.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(67)==="altKey";if(this.activeLinkDecorationId){const N=this.currentOccurrences[this.activeLinkDecorationId];N&&this.editor.changeDecorations(D=>{N.deactivate(D,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!this.isEnabled(L))return;const N=this.getLinkOccurrence(L.target.position);!N||this.openLinkOccurrence(N,L.hasSideBySideModifier,!0)}openLinkOccurrence(L,N,D=!1){if(!this.openerService)return;const{link:I}=L;I.resolve(M.CancellationToken.None).then(T=>{if(typeof T=="string"&&this.editor.hasModel()){const A=this.editor.getModel().uri;if(A.scheme===t.Schemas.file&&T.startsWith(`${t.Schemas.file}:`)){const R=o.URI.parse(T);if(R.scheme===t.Schemas.file){const O=l.originalFSPath(R);let P=null;O.startsWith("/./")?P=`.${O.substr(1)}`:O.startsWith("//./")&&(P=`.${O.substr(2)}`),P&&(T=l.joinPath(A,P))}}}return this.openerService.open(T,{openToSide:N,fromUserGesture:D,allowContributedOpeners:!0,allowCommands:!0})},T=>{const A=T instanceof Error?T.message:T;A==="invalid"?this.notificationService.warn(S.localize(7,null,I.url.toString())):A==="missing"?this.notificationService.warn(S.localize(8,null)):y.onUnexpectedError(T)})}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const N=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const D of N){const I=this.currentOccurrences[D.id];if(I)return I}return null}isEnabled(L,N){return Boolean(L.target.type===6&&(L.hasTriggerModifier||N&&N.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};g.ID="editor.linkDetector",g.RECOMPUTE_TIME=1e3,g=Me([pe(1,d.IOpenerService),pe(2,c.INotificationService)],g),e.LinkDetector=g;class f extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:S.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,N){let D=g.get(N);if(!D||!N.hasModel())return;let I=N.getSelections();for(let T of I){let A=D.getLinkOccurrence(T.getEndPosition());A&&D.openLinkOccurrence(A,!1)}}}i.registerEditorContribution(g.ID,g),i.registerEditorAction(f),n.registerThemingParticipant((b,L)=>{const N=b.getColor(r.editorActiveLinkForeground);N&&L.addRule(`.monaco-editor .detected-link-active { color: ${N} !important; }`)})}),define(Q[148],J([0,1,508,15,2,42,3,14,16,11,22,99,355]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=class wt{constructor(r,n){this._messageWidget=new M.MutableDisposable,this._messageListeners=new M.DisposableStore,this._editor=r,this._visible=wt.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(wt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,n){y.alert(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new c(this._editor,n,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new k.TimeoutTimer(()=>this.closeMessage(),3e3));let o;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(o?o.containsPosition(t.target.position)||this.closeMessage():o=new w.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(c.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(S.localize(1,null),this._editor.getPosition())}};a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,S.localize(0,null)),a=Me([pe(1,v.IContextKeyService)],a),e.MessageController=a;const u=p.EditorCommand.bindToContribution(a.get);p.registerEditorCommand(new u({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class c{constructor(r,{lineNumber:n,column:o},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const l=document.createElement("div");l.classList.add("anchor","top"),this._domNode.appendChild(l);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const m=document.createElement("div");m.classList.add("anchor","below"),this._domNode.appendChild(m),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let n;const o=()=>{r.dispose(),clearTimeout(n),r.getDomNode().removeEventListener("animationend",o)};return n=setTimeout(o,110),r.getDomNode().addEventListener("animationend",o),r.getDomNode().classList.add("fadeOut"),{dispose:o}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}p.registerEditorContribution(a.ID,a),i.registerThemingParticipant((d,r)=>{const n=d.getColor(_.inputValidationInfoBorder);if(n){let l=d.type===s.ColorScheme.HIGH_CONTRAST?2:1;r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${l}px solid ${n}; }`)}const o=d.getColor(_.inputValidationInfoBackground);o&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${o}; }`);const t=d.getColor(_.inputValidationInfoForeground);t&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var vt=this&&this.__classPrivateFieldSet||function($,e,S,k,M){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!M:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?M.call($,S):M?M.value=S:e.set($,S),S},it=this&&this.__classPrivateFieldGet||function($,e,S,k){if(S==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return S==="m"?k:S==="a"?k.call($):k?k.value:e.get($)};define(Q[648],J([0,1,12,152,2,148,9,629,609]),function($,e,S,k,M,y,w,p,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let _=class extends M.Disposable{constructor(a,u,c,d,r){super();this._editor=a,this.delegate=d,this._activeCodeActions=this._register(new M.MutableDisposable),i.set(this,!1),this._codeActionWidget=new k.Lazy(()=>this._register(r.createInstance(p.CodeActionMenu,this._editor,{onSelectCodeAction:n=>Ie(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new k.Lazy(()=>{const n=this._register(r.createInstance(v.LightBulbWidget,this._editor,u,c));return this._register(n.onClick(o=>this.showCodeActionList(o.trigger,o.actions,o,{includeDisabledActions:!1}))),n})}dispose(){vt(this,i,!0,"f"),super.dispose()}update(a){var u,c,d;return Ie(this,void 0,void 0,function*(){if(a.type!==1){(u=this._lightBulbWidget.rawValue)===null||u===void 0||u.hide();return}let r;try{r=yield a.actions}catch(n){S.onUnexpectedError(n);return}if(!it(this,i,"f"))if(this._lightBulbWidget.getValue().update(r,a.trigger,a.position),a.trigger.type===1){if((c=a.trigger.filter)===null||c===void 0?void 0:c.include){const o=this.tryGetValidActionToApply(a.trigger,r);if(o){try{yield this.delegate.applyCodeAction(o,!1)}finally{r.dispose()}return}if(a.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,r);if(t&&t.action.disabled){y.MessageController.get(this._editor).showMessage(t.action.disabled,a.trigger.context.position),r.dispose();return}}}const n=!!((d=a.trigger.filter)===null||d===void 0?void 0:d.include);if(a.trigger.context&&(!r.allActions.length||!n&&!r.validActions.length)){y.MessageController.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(a.trigger,r,a.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(a,u){if(!!u.allActions.length&&(a.autoApply==="first"&&u.validActions.length===0||a.autoApply==="ifSingle"&&u.allActions.length===1))return u.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(a,u){if(!!u.validActions.length&&(a.autoApply==="first"&&u.validActions.length>0||a.autoApply==="ifSingle"&&u.validActions.length===1))return u.validActions[0]}showCodeActionList(a,u,c,d){return Ie(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,u,c,d)})}};i=new WeakMap,_=Me([pe(4,w.IInstantiationService)],_),e.CodeActionUi=_}),define(Q[266],J([0,1,23,152,2,8,14,134,25,147,648,148,476,26,16,9,86,34,60,88,630,133]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function m(P){return c.ContextKeyExpr.regex(l.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+y.escapeRegExpCharacters(P.value)+"\\b"))}const C={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:a.localize(0,null)},apply:{type:"string",description:a.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[a.localize(2,null),a.localize(3,null),a.localize(4,null)]},preferred:{type:"boolean",default:!1,description:a.localize(5,null)}}};let g=class Ht extends M.Disposable{constructor(F,E,x,H,K){super();this._instantiationService=K,this._editor=F,this._model=this._register(new l.CodeActionModel(this._editor,E,x,H)),this._register(this._model.onDidChangeState(q=>this.update(q))),this._ui=new k.Lazy(()=>this._register(new _.CodeActionUi(F,N.Id,O.Id,{applyCodeAction:(q,G)=>Ie(this,void 0,void 0,function*(){try{yield this._applyCodeAction(q)}finally{G&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(F){return F.getContribution(Ht.ID)}update(F){this._ui.getValue().update(F)}showCodeActions(F,E,x){return this._ui.getValue().showCodeActionList(F,E,x,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(F,E,x){if(!this._editor.hasModel())return;s.MessageController.get(this._editor).closeMessage();const H=this._editor.getPosition();this._trigger({type:1,filter:E,autoApply:x,context:{notAvailableMessage:F,position:H}})}_trigger(F){return this._model.trigger(F)}_applyCodeAction(F){return this._instantiationService.invokeFunction(f,F,this._editor)}};g.ID="editor.contrib.quickFixController",g=Me([pe(1,r.IMarkerService),pe(2,c.IContextKeyService),pe(3,o.IEditorProgressService),pe(4,d.IInstantiationService)],g),e.QuickFixController=g;function f(P,F,E){return Ie(this,void 0,void 0,function*(){const x=P.get(p.IBulkEditService),H=P.get(u.ICommandService),K=P.get(t.ITelemetryService),q=P.get(n.INotificationService);if(K.publicLog2("codeAction.applyCodeAction",{codeActionTitle:F.action.title,codeActionKind:F.action.kind,codeActionIsPreferred:!!F.action.isPreferred}),yield F.resolve(S.CancellationToken.None),F.action.edit&&(yield x.apply(p.ResourceEdit.convert(F.action.edit),{editor:E,label:F.action.title})),F.action.command)try{yield H.executeCommand(F.action.command.id,...F.action.command.arguments||[])}catch(G){const ee=b(G);q.error(typeof ee=="string"?ee:a.localize(6,null))}})}e.applyCodeAction=f;function b(P){return typeof P=="string"?P:P instanceof Error&&typeof P.message=="string"?P.message:void 0}function L(P,F,E,x){if(P.hasModel()){const H=g.get(P);H&&H.manualTriggerAtCurrentPosition(F,E,x)}}class N extends w.EditorAction{constructor(){super({id:N.Id,label:a.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(F,E){return L(E,a.localize(8,null),void 0,void 0)}}e.QuickFixAction=N,N.Id="editor.action.quickFix";class D extends w.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:C}]}})}runEditorCommand(F,E,x){const H=h.CodeActionCommandArgs.fromUser(x,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return L(E,typeof(x==null?void 0:x.kind)=="string"?H.preferred?a.localize(9,null,x.kind):a.localize(10,null,x.kind):H.preferred?a.localize(11,null):a.localize(12,null),{include:H.kind,includeSourceActions:!0,onlyIncludePreferredActions:H.preferred},H.apply)}}e.CodeActionCommand=D;class I extends w.EditorAction{constructor(){super({id:i.refactorCommandId,label:a.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:C}]}})}run(F,E,x){const H=h.CodeActionCommandArgs.fromUser(x,{kind:h.CodeActionKind.Refactor,apply:"never"});return L(E,typeof(x==null?void 0:x.kind)=="string"?H.preferred?a.localize(14,null,x.kind):a.localize(15,null,x.kind):H.preferred?a.localize(16,null):a.localize(17,null),{include:h.CodeActionKind.Refactor.contains(H.kind)?H.kind:h.CodeActionKind.None,onlyIncludePreferredActions:H.preferred},H.apply)}}e.RefactorAction=I;class T extends w.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:a.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:C}]}})}run(F,E,x){const H=h.CodeActionCommandArgs.fromUser(x,{kind:h.CodeActionKind.Source,apply:"never"});return L(E,typeof(x==null?void 0:x.kind)=="string"?H.preferred?a.localize(19,null,x.kind):a.localize(20,null,x.kind):H.preferred?a.localize(21,null):a.localize(22,null),{include:h.CodeActionKind.Source.contains(H.kind)?H.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:H.preferred},H.apply)}}e.SourceAction=T;class A extends w.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:a.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(F,E){return L(E,a.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=A;class R extends w.EditorAction{constructor(){super({id:i.fixAllCommandId,label:a.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.SourceFixAll))})}run(F,E){return L(E,a.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=R;class O extends w.EditorAction{constructor(){super({id:O.Id,label:a.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(F,E){return L(E,a.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=O,O.Id="editor.action.autoFix"}),define(Q[649],J([0,1,14,266]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),S.registerEditorContribution(k.QuickFixController.ID,k.QuickFixController),S.registerEditorAction(k.QuickFixAction),S.registerEditorAction(k.RefactorAction),S.registerEditorAction(k.SourceAction),S.registerEditorAction(k.OrganizeImportsAction),S.registerEditorAction(k.AutoFixAction),S.registerEditorAction(k.FixAllAction),S.registerEditorCommand(new k.CodeActionCommand)}),define(Q[650],J([0,1,515,12,16,60,14,25,618,18,13,42,3,148,71,34,134,24,28,23,2,15,70,9,32,97,138,20]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class N{constructor(O,P){this.model=O,this.position=P,this._providerRenameIdx=0,this._providers=i.RenameProviderRegistry.ordered(O)}hasProvider(){return this._providers.length>0}resolveRenameLocation(O){return Ie(this,void 0,void 0,function*(){const P=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const E=this._providers[this._providerRenameIdx];if(!E.resolveRenameLocation)break;let x=yield E.resolveRenameLocation(this.model,this.position,O);if(!!x){if(x.rejectReason){P.push(x.rejectReason);continue}return x}}const F=this.model.getWordAtPosition(this.position);return F?{range:new a.Range(this.position.lineNumber,F.startColumn,this.position.lineNumber,F.endColumn),text:F.word,rejectReason:P.length>0?P.join(`
`):void 0}:{range:a.Range.fromPositions(this.position),text:"",rejectReason:P.length>0?P.join(`
`):void 0}})}provideRenameEdits(O,P){return Ie(this,void 0,void 0,function*(){return this._provideRenameEdits(O,this._providerRenameIdx,[],P)})}_provideRenameEdits(O,P,F,E){return Ie(this,void 0,void 0,function*(){const x=this._providers[P];if(!x)return{edits:[],rejectReason:F.join(`
`)};const H=yield x.provideRenameEdits(this.model,this.position,O,E);if(H){if(H.rejectReason)return this._provideRenameEdits(O,P+1,F.concat(H.rejectReason),E)}else return this._provideRenameEdits(O,P+1,F.concat(S.localize(0,null)),E);return H})}}function D(R,O,P){return Ie(this,void 0,void 0,function*(){const F=new N(R,O),E=yield F.resolveRenameLocation(t.CancellationToken.None);return(E==null?void 0:E.rejectReason)?{edits:[],rejectReason:E.rejectReason}:F.provideRenameEdits(P,t.CancellationToken.None)})}e.rename=D;let I=class Ut{constructor(O,P,F,E,x,H,K){this.editor=O,this._instaService=P,this._notificationService=F,this._bulkEditService=E,this._progressService=x,this._logService=H,this._configService=K,this._dispoableStore=new l.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(v.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(O){return O.getContribution(Ut.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Ie(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const O=this.editor.getPosition(),P=new N(this.editor.getModel(),O);if(!P.hasProvider())return;this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1);let F;try{const ee=P.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ee,250),F=yield ee}catch(ee){u.MessageController.get(this.editor).showMessage(ee||S.localize(1,null),O);return}if(!F)return;if(F.rejectReason){u.MessageController.get(this.editor).showMessage(F.rejectReason,O);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1,F.range);let E=this.editor.getSelection(),x=0,H=F.text.length;!a.Range.isEmpty(E)&&!a.Range.spansMultipleLines(E)&&a.Range.containsRange(F.range,E)&&(x=Math.max(0,E.startColumn-F.range.startColumn),H=Math.min(F.range.endColumn,E.endColumn)-F.range.startColumn);const K=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),q=yield this._renameInputField.value.getInput(F.range,F.text,x,H,K,this._cts.token);if(typeof q=="boolean"){q&&this.editor.focus();return}this.editor.focus();const G=h.raceCancellation(P.provideRenameEdits(q.newName,this._cts.token),this._cts.token).then(ee=>Ie(this,void 0,void 0,function*(){if(!(!ee||!this.editor.hasModel())){if(ee.rejectReason){this._notificationService.info(ee.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(ee),{editor:this.editor,showPreview:q.wantsPreview,label:S.localize(2,null,F==null?void 0:F.text),quotableLabel:S.localize(3,null,F==null?void 0:F.text)}).then(ie=>{ie.ariaSummary&&s.alert(S.localize(4,null,F.text,q.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(S.localize(5,null)),this._logService.error(ie)})}}),ee=>{this._notificationService.error(S.localize(6,null)),this._logService.error(ee)});return this._progressService.showWhile(G,250),G})}acceptRenameInput(O){this._renameInputField.value.acceptInput(O)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};I.ID="editor.contrib.renameController",I=Me([pe(1,C.IInstantiationService),pe(2,d.INotificationService),pe(3,r.IBulkEditService),pe(4,y.IEditorProgressService),pe(5,m.ILogService),pe(6,b.ITextResourceConfigurationService)],I);class T extends w.EditorAction{constructor(){super({id:"editor.action.rename",label:S.localize(7,null),alias:"Rename Symbol",precondition:M.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(O,P){const F=O.get(o.ICodeEditorService),[E,x]=Array.isArray(P)&&P||[void 0,void 0];return n.URI.isUri(E)&&_.Position.isIPosition(x)?F.openCodeEditor({resource:E},F.getActiveCodeEditor()).then(H=>{!H||(H.setPosition(x),H.invokeWithinContext(K=>(this.reportTelemetry(K,H),this.run(K,H))))},k.onUnexpectedError):super.runCommand(O,P)}run(O,P){const F=I.get(P);return F?F.run():Promise.resolve()}}e.RenameAction=T,w.registerEditorContribution(I.ID,I),w.registerEditorAction(T);const A=w.EditorCommand.bindToContribution(I.get);w.registerEditorCommand(new A({id:"acceptRenameInput",precondition:v.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:3}})),w.registerEditorCommand(new A({id:"acceptRenameInputWithPreview",precondition:M.ContextKeyExpr.and(v.CONTEXT_RENAME_INPUT_VISIBLE,M.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:R=>R.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:1024+3}})),w.registerEditorCommand(new A({id:"cancelRenameInput",precondition:v.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),w.registerModelAndPositionCommand("_executeDocumentRenameProvider",function(R,O,...P){const[F]=P;return L.assertType(typeof F=="string"),D(R,O,F)}),g.Registry.as(f.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:S.localize(8,null),default:!0,type:"boolean"}}})}),define(Q[651],J([0,1,19,23,14,13,3,21,25,18,517,33,421,232,26,12]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(C,g){this.index=C,this.ranges=g}mov(C){let g=this.index+(C?1:-1);if(g<0||g>=this.ranges.length)return this;const f=new r(g,this.ranges);return f.ranges[g].equalsRange(this.ranges[this.index])?f.mov(C):f}}class n{constructor(C){this._editor=C,this._ignoreSelection=!1}static get(C){return C.getContribution(n.ID)}dispose(){var C;(C=this._selectionListener)===null||C===void 0||C.dispose()}run(C){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const g=this._editor.getSelections(),f=this._editor.getModel();if(!i.SelectionRangeRegistry.has(f)||(this._state||(yield h(f,g.map(L=>L.getPosition()),this._editor.getOption(100),k.CancellationToken.None).then(L=>{var N;if(!(!S.isNonEmptyArray(L)||L.length!==g.length)&&!(!this._editor.hasModel()||!S.equals(this._editor.getSelections(),g,(D,I)=>D.equalsSelection(I)))){for(let D=0;D<L.length;D++)L[D]=L[D].filter(I=>I.containsPosition(g[D].getStartPosition())&&I.containsPosition(g[D].getEndPosition())),L[D].unshift(g[D]);this._state=L.map(D=>new r(0,D)),(N=this._selectionListener)===null||N===void 0||N.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var D;this._ignoreSelection||((D=this._selectionListener)===null||D===void 0||D.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(L=>L.mov(C));const b=this._state.map(L=>p.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(b)}finally{this._ignoreSelection=!1}})}}n.ID="editor.contrib.smartSelectController";class o extends M.EditorAction{constructor(C,g){super(g);this._forward=C}run(C,g){return Ie(this,void 0,void 0,function*(){let f=n.get(g);f&&(yield f.run(this._forward))})}}class t extends o{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"1_basic",title:_.localize(1,null),order:2}})}}c.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class l extends o{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"1_basic",title:_.localize(3,null),order:3}})}}M.registerEditorContribution(n.ID,n),M.registerEditorAction(t),M.registerEditorAction(l),i.SelectionRangeRegistry.register("*",new a.WordSelectionRangeProvider);function h(m,C,g,f){return Ie(this,void 0,void 0,function*(){const b=i.SelectionRangeRegistry.all(m);b.length===1&&b.unshift(new u.BracketSelectionRangeProvider);let L=[],N=[];for(const D of b)L.push(Promise.resolve(D.provideSelectionRanges(m,C,f)).then(I=>{if(S.isNonEmptyArray(I)&&I.length===C.length)for(let T=0;T<C.length;T++){N[T]||(N[T]=[]);for(const A of I[T])w.Range.isIRange(A.range)&&w.Range.containsPosition(A.range,C[T])&&N[T].push(w.Range.lift(A.range))}},d.onUnexpectedExternalError));return yield Promise.all(L),N.map(D=>{if(D.length===0)return[];D.sort((R,O)=>y.Position.isBefore(R.getStartPosition(),O.getStartPosition())?1:y.Position.isBefore(O.getStartPosition(),R.getStartPosition())||y.Position.isBefore(R.getEndPosition(),O.getEndPosition())?-1:y.Position.isBefore(O.getEndPosition(),R.getEndPosition())?1:0);let I=[],T;for(const R of D)(!T||w.Range.containsRange(R,T)&&!w.Range.equalsRange(R,T))&&(I.push(R),T=R);if(!g.selectLeadingAndTrailingWhitespace)return I;let A=[I[0]];for(let R=1;R<I.length;R++){const O=I[R-1],P=I[R];if(P.startLineNumber!==O.startLineNumber||P.endLineNumber!==O.endLineNumber){const F=new w.Range(O.startLineNumber,m.getLineFirstNonWhitespaceColumn(O.startLineNumber),O.endLineNumber,m.getLineLastNonWhitespaceColumn(O.endLineNumber));F.containsRange(O)&&!F.equalsRange(O)&&P.containsRange(F)&&!P.equalsRange(F)&&A.push(F);const E=new w.Range(O.startLineNumber,1,O.endLineNumber,m.getLineMaxColumn(O.endLineNumber));E.containsRange(O)&&!E.equalsRange(F)&&P.containsRange(E)&&!P.equalsRange(E)&&A.push(E)}A.push(P)}return A})})}e.provideSelectionRanges=h,M.registerModelCommand("_executeSelectionRangeProvider",function(m,...C){const[g]=C;return h(m,g,{selectLeadingAndTrailingWhitespace:!0},k.CancellationToken.None)})}),define(Q[121],J([0,1,12,18,13,16,23,3,67,2,33,114,81,26,20,24,68,520]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new y.RawContextKey("suggestWidgetVisible",!1,n.localize(0,null)),DetailsVisible:new y.RawContextKey("suggestWidgetDetailsVisible",!1,n.localize(1,null)),MultipleSuggestions:new y.RawContextKey("suggestWidgetMultipleSuggestions",!1,n.localize(2,null)),MakesTextEdit:new y.RawContextKey("suggestionMakesTextEdit",!0,n.localize(3,null)),AcceptSuggestionsOnEnter:new y.RawContextKey("acceptSuggestionOnEnter",!0,n.localize(4,null)),HasInsertAndReplaceRange:new y.RawContextKey("suggestionHasInsertAndReplaceRange",!1,n.localize(5,null)),InsertMode:new y.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:n.localize(6,null)}),CanResolve:new y.RawContextKey("suggestionCanResolve",!1,n.localize(7,null))},e.suggestWidgetStatusbarMenu=new _.MenuId("suggestWidgetStatusBar");class o{constructor(A,R,O,P){this.position=A,this.completion=R,this.container=O,this.provider=P,this.isInvalid=!1,this.score=v.FuzzyScore.Default,this.distance=0,this.textLabel=typeof R.label=="string"?R.label:R.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=R.sortText&&R.sortText.toLowerCase(),this.filterTextLow=R.filterText&&R.filterText.toLowerCase(),p.Range.isIRange(R.range)?(this.editStart=new M.Position(R.range.startLineNumber,R.range.startColumn),this.editInsertEnd=new M.Position(R.range.endLineNumber,R.range.endColumn),this.editReplaceEnd=new M.Position(R.range.endLineNumber,R.range.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(R.range)||R.range.startLineNumber!==A.lineNumber):(this.editStart=new M.Position(R.range.insert.startLineNumber,R.range.insert.startColumn),this.editInsertEnd=new M.Position(R.range.insert.endLineNumber,R.range.insert.endColumn),this.editReplaceEnd=new M.Position(R.range.replace.endLineNumber,R.range.replace.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(R.range.insert)||p.Range.spansMultipleLines(R.range.replace)||R.range.insert.startLineNumber!==A.lineNumber||R.range.replace.startLineNumber!==A.lineNumber||R.range.insert.startColumn!==R.range.replace.startColumn),typeof P.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(A){return Ie(this,void 0,void 0,function*(){if(!this._resolveCache){const R=A.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,A)).then(O=>{Object.assign(this.completion,O),this._isResolved=!0,R.dispose()},O=>{S.isPromiseCanceledError(O)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=o;class t{constructor(A=2,R=new Set,O=new Set,P=!0){this.snippetSortOrder=A,this.kindFilter=R,this.providerFilter=O,this.showDeprecated=P}}e.CompletionOptions=t,t.default=new t;let l;function h(){return l}e.getSnippetSuggestSupport=h;class m{constructor(A,R,O,P){this.items=A,this.needsClipboard=R,this.durations=O,this.disposable=P}}e.CompletionItemModel=m;function C(T,A,R=t.default,O={triggerKind:0},P=w.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const F=new a.StopWatch(!0);A=A.clone();const E=T.getWordAtPosition(A),x=E?new p.Range(A.lineNumber,E.startColumn,A.lineNumber,E.endColumn):p.Range.fromPositions(A),H={replace:x,insert:x.setEndPosition(A.lineNumber,A.column)},K=[],q=new i.DisposableStore,G=[];let ee=!1;const ie=(de,Y,B)=>{var W,V,z;if(!!Y){for(let U of Y.suggestions)if(!R.kindFilter.has(U.kind)){if(!R.showDeprecated&&((W=U==null?void 0:U.tags)===null||W===void 0?void 0:W.includes(1)))continue;U.range||(U.range=H),U.sortText||(U.sortText=typeof U.label=="string"?U.label:U.label.name),!ee&&U.insertTextRules&&U.insertTextRules&4&&(ee=s.SnippetParser.guessNeedsClipboard(U.insertText)),K.push(new o(A,U,Y,de))}i.isDisposable(Y)&&q.add(Y),G.push({providerName:(V=de._debugDisplayName)!==null&&V!==void 0?V:"unkown_provider",elapsedProvider:(z=Y.duration)!==null&&z!==void 0?z:-1,elapsedOverall:B.elapsed()})}},ae=(()=>Ie(this,void 0,void 0,function*(){if(!l||R.kindFilter.has(27)||R.providerFilter.size>0&&!R.providerFilter.has(l))return;const de=new a.StopWatch(!0),Y=yield l.provideCompletionItems(T,A,O,P);ie(l,Y,de)}))();for(let de of k.CompletionProviderRegistry.orderedGroups(T)){let Y=K.length;if(yield Promise.all(de.map(B=>Ie(this,void 0,void 0,function*(){if(!(R.providerFilter.size>0&&!R.providerFilter.has(B)))try{const W=new a.StopWatch(!0),V=yield B.provideCompletionItems(T,A,O,P);ie(B,V,W)}catch(W){S.onUnexpectedExternalError(W)}}))),Y!==K.length||P.isCancellationRequested)break}return yield ae,P.isCancellationRequested?(q.dispose(),Promise.reject(S.canceled())):new m(K.sort(N(R.snippetSortOrder)),ee,{entries:G,elapsed:F.elapsed()},q)})}e.provideSuggestionItems=C;function g(T,A){if(T.sortTextLow&&A.sortTextLow){if(T.sortTextLow<A.sortTextLow)return-1;if(T.sortTextLow>A.sortTextLow)return 1}return T.completion.label<A.completion.label?-1:T.completion.label>A.completion.label?1:T.completion.kind-A.completion.kind}function f(T,A){if(T.completion.kind!==A.completion.kind){if(T.completion.kind===27)return-1;if(A.completion.kind===27)return 1}return g(T,A)}function b(T,A){if(T.completion.kind!==A.completion.kind){if(T.completion.kind===27)return 1;if(A.completion.kind===27)return-1}return g(T,A)}const L=new Map;L.set(0,f),L.set(2,b),L.set(1,g);function N(T){return L.get(T)}e.getSuggestionComparator=N,u.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(T,...A)=>Ie(void 0,void 0,void 0,function*(){const[R,O,P,F]=A;c.assertType(d.URI.isUri(R)),c.assertType(M.Position.isIPosition(O)),c.assertType(typeof P=="string"||!P),c.assertType(typeof F=="number"||!F);const E=yield T.get(r.ITextModelService).createModelReference(R);try{const x={incomplete:!1,suggestions:[]},H=[],K=yield C(E.object.textEditorModel,M.Position.lift(O),void 0,{triggerCharacter:P,triggerKind:P?1:0});for(const q of K.items)H.length<(F??0)&&H.push(q.resolve(w.CancellationToken.None)),x.incomplete=x.incomplete||q.container.incomplete,x.suggestions.push(q.completion);try{return yield Promise.all(H),x}finally{setTimeout(()=>K.disposable.dispose(),100)}}finally{E.dispose()}}));const D=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let A={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,A}};k.CompletionProviderRegistry.register("*",D);function I(T,A){setTimeout(()=>{D.onlyOnceSuggestions.push(...A),T.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(D))},0)}e.showSimpleSuggestions=I}),define(Q[267],J([0,1,527,42,14,188]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class w extends M.EditorAction{constructor(){super({id:w.ID,label:S.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,i){const s=!y.TabFocus.getTabFocusMode();y.TabFocus.setTabFocusMode(s),s?k.alert(S.localize(1,null)):k.alert(S.localize(2,null))}}e.ToggleTabFocusModeAction=w,w.ID="editor.action.toggleTabFocusMode",M.registerEditorAction(w)}),define(Q[652],J([0,1,528,14,81]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:S.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,v){if(!v.hasModel())return;const i=v.getModel();i.resetTokenization();const _=new M.StopWatch(!0);i.forceTokenization(i.getLineCount()),_.stop(),console.log(`tokenization took ${_.elapsed()}`)}}k.registerEditorAction(y)}),define(Q[653],J([0,1,529,2,14,28,118]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const p="ignoreUnusualLineTerminators";function v(s,a,u){s.setModelProperty(a.uri,p,u)}function i(s,a){return s.getModelProperty(a.uri,p)}let _=class extends k.Disposable{constructor(a,u,c){super();this._editor=a,this._dialogService=u,this._codeEditorService=c,this._config=this._editor.getOption(111),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(111)&&(this._config=this._editor.getOption(111),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Ie(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const a=this._editor.getModel();if(!a.mightContainUnusualLineTerminators()||i(this._codeEditorService,a)===!0||this._editor.getOption(78))return;if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null),primaryButton:S.localize(3,null),secondaryButton:S.localize(4,null)})).confirmed){v(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())})}};_.ID="editor.contrib.unusualLineTerminatorsDetector",_=Me([pe(1,w.IDialogService),pe(2,y.ICodeEditorService)],_),M.registerEditorContribution(_.ID,_)}),define(Q[654],J([0,1,530,19,15,23,12,2,14,3,25,52,31,18,16,22,11,42]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const o=d.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},S.localize(0,null),!0),t=d.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},S.localize(1,null),!0),l=d.registerColor("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},S.localize(2,null)),h=d.registerColor("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},S.localize(3,null)),m=d.registerColor("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},S.localize(4,null),!0),C=d.registerColor("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},S.localize(5,null),!0),g=new c.RawContextKey("hasWordHighlights",!1);function f(F,E,x){const H=u.DocumentHighlightProviderRegistry.ordered(F);return M.first(H.map(K=>()=>Promise.resolve(K.provideDocumentHighlights(F,E,x)).then(void 0,w.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=f;class b{constructor(E,x,H){this._wordRange=this._getCurrentWordRange(E,x),this.result=M.createCancelablePromise(K=>this._compute(E,x,H,K))}_getCurrentWordRange(E,x){const H=E.getWordAtPosition(x.getPosition());return H?new i.Range(x.startLineNumber,H.startColumn,x.startLineNumber,H.endColumn):null}isValid(E,x,H){const K=x.startLineNumber,q=x.startColumn,G=x.endColumn,ee=this._getCurrentWordRange(E,x);let ie=Boolean(this._wordRange&&this._wordRange.equalsRange(ee));for(let ae=0,de=H.length;!ie&&ae<de;ae++){let Y=E.getDecorationRange(H[ae]);Y&&Y.startLineNumber===K&&Y.startColumn<=q&&Y.endColumn>=G&&(ie=!0)}return ie}cancel(){this.result.cancel()}}class L extends b{_compute(E,x,H,K){return f(E,x.getPosition(),K).then(q=>q||[])}}class N extends b{constructor(E,x,H){super(E,x,H);this._selectionIsEmpty=x.isEmpty()}_compute(E,x,H,K){return M.timeout(250,K).then(()=>{if(!x.isEmpty())return[];const q=E.getWordAtPosition(x.getPosition());return!q||q.word.length>1e3?[]:E.findMatches(q.word,!0,!1,!0,H,!1).map(ee=>({range:ee.range,kind:u.DocumentHighlightKind.Text}))})}isValid(E,x,H){const K=x.isEmpty();return this._selectionIsEmpty!==K?!1:super.isValid(E,x,H)}}function D(F,E,x){return u.DocumentHighlightProviderRegistry.has(F)?new L(F,E,x):new N(F,E,x)}v.registerModelAndPositionCommand("_executeDocumentHighlights",(F,E)=>f(F,E,y.CancellationToken.None));class I{constructor(E,x){this.toUnhook=new p.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=E,this._hasWordHighlights=g.bindTo(x),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(69),this.model=this.editor.getModel(),this.toUnhook.add(E.onDidChangeCursorPosition(H=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(H)})),this.toUnhook.add(E.onDidChangeModelContent(H=>{this._stopAll()})),this.toUnhook.add(E.onDidChangeConfiguration(H=>{let K=this.editor.getOption(69);this.occurrencesHighlight!==K&&(this.occurrencesHighlight=K,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return k.coalesce(this._decorationIds.map(E=>this.model.getDecorationRange(E)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let E=this._getSortedHighlights(),H=(E.findIndex(q=>q.containsPosition(this.editor.getPosition()))+1)%E.length,K=E[H];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const q=this._getWord();if(q){const G=this.editor.getModel().getLineContent(K.startLineNumber);n.alert(`${G}, ${H+1} of ${E.length} for '${q.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let E=this._getSortedHighlights(),H=(E.findIndex(q=>q.containsPosition(this.editor.getPosition()))-1+E.length)%E.length,K=E[H];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const q=this._getWord();if(q){const G=this.editor.getModel().getLineContent(K.startLineNumber);n.alert(`${G}, ${H+1} of ${E.length} for '${q.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(E){if(!this.occurrencesHighlight){this._stopAll();return}if(E.reason!==3){this._stopAll();return}this._run()}_getWord(){let E=this.editor.getSelection(),x=E.startLineNumber,H=E.startColumn;return this.model.getWordAtPosition({lineNumber:x,column:H})}_run(){let E=this.editor.getSelection();if(E.startLineNumber!==E.endLineNumber){this._stopAll();return}let x=E.startColumn,H=E.endColumn;const K=this._getWord();if(!K||K.startColumn>x||K.endColumn<H){this._stopAll();return}const q=this.workerRequest&&this.workerRequest.isValid(this.model,E,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),q)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let G=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=D(this.model,this.editor.getSelection(),this.editor.getOption(114)),this.workerRequest.result.then(ee=>{G===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ee||[],this._beginRenderDecorations())},w.onUnexpectedError)}}_beginRenderDecorations(){let E=new Date().getTime(),x=this.lastCursorPositionChangeTime+250;E>=x?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},x-E)}renderDecorations(){this.renderDecorationsTimer=-1;let E=[];for(const x of this.workerRequestValue)x.range&&E.push({range:x.range,options:I._getDecorationOptions(x.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,E),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(E){return E===u.DocumentHighlightKind.Write?this._WRITE_OPTIONS:E===u.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}I._WRITE_OPTIONS=a.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:r.themeColorFromId(C),position:s.OverviewRulerLane.Center}}),I._TEXT_OPTIONS=a.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:r.themeColorFromId(d.overviewRulerSelectionHighlightForeground),position:s.OverviewRulerLane.Center}}),I._REGULAR_OPTIONS=a.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:r.themeColorFromId(m),position:s.OverviewRulerLane.Center}});let T=class Kt extends p.Disposable{constructor(E,x){super();this.wordHighlighter=null;const H=()=>{E.hasModel()&&(this.wordHighlighter=new I(E,x))};this._register(E.onDidChangeModel(K=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),H()})),H()}static get(E){return E.getContribution(Kt.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(E){this.wordHighlighter&&E&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};T.ID="editor.contrib.wordHighlighter",T=Me([pe(1,c.IContextKeyService)],T);class A extends v.EditorAction{constructor(E,x){super(x);this._isNext=E}run(E,x){const H=T.get(x);!H||(this._isNext?H.moveNext():H.moveBack())}}class R extends A{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:S.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:g,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends A{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:S.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:g,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class P extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:S.localize(8,null),alias:"Trigger Symbol Highlight",precondition:g.toNegated(),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(E,x,H){const K=T.get(x);!K||K.restoreViewState(!0)}}v.registerEditorContribution(T.ID,T),v.registerEditorAction(R),v.registerEditorAction(O),v.registerEditorAction(P),r.registerThemingParticipant((F,E)=>{const x=F.getColor(d.editorSelectionHighlight);x&&(E.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${x}; }`),E.addRule(`.monaco-editor .selectionHighlight { background-color: ${x.transparent(.5)}; }`));const H=F.getColor(o);H&&E.addRule(`.monaco-editor .wordHighlight { background-color: ${H}; }`);const K=F.getColor(t);K&&E.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${K}; }`);const q=F.getColor(d.editorSelectionHighlightBorder);q&&E.addRule(`.monaco-editor .selectionHighlight { border: 1px ${F.type==="hc"?"dotted":"solid"} ${q}; box-sizing: border-box; }`);const G=F.getColor(l);G&&E.addRule(`.monaco-editor .wordHighlight { border: 1px ${F.type==="hc"?"dashed":"solid"} ${G}; box-sizing: border-box; }`);const ee=F.getColor(h);ee&&E.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${F.type==="hc"?"dashed":"solid"} ${ee}; box-sizing: border-box; }`)})}),define(Q[268],J([0,1,531,14,94,39,137,107,13,3,21,25,65,16,35,43,251]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends k.EditorCommand{constructor(Y){super(Y);this._inSelectionMode=Y.inSelectionMode,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,B,W){if(!B.hasModel())return;const V=p.getMapForWordSeparators(B.getOption(114)),z=B.getModel(),X=B.getSelections().map(te=>{const se=new v.Position(te.positionLineNumber,te.positionColumn),le=this._move(V,z,se,this._wordNavigationType);return this._moveTo(te,le,this._inSelectionMode)});if(z.pushStackElement(),B._getViewModel().setCursorStates("moveWordCommand",3,X.map(te=>y.CursorState.fromModelSelection(te))),X.length===1){const te=new v.Position(X[0].positionLineNumber,X[0].positionColumn);B.revealPosition(te,0)}}_moveTo(Y,B,W){return W?new _.Selection(Y.selectionStartLineNumber,Y.selectionStartColumn,B.lineNumber,B.column):new _.Selection(B.lineNumber,B.column,B.lineNumber,B.column)}}e.MoveWordCommand=n;class o extends n{_move(Y,B,W,V){return w.WordOperations.moveWordLeft(Y,B,W,V)}}e.WordLeftCommand=o;class t extends n{_move(Y,B,W,V){return w.WordOperations.moveWordRight(Y,B,W,V)}}e.WordRightCommand=t;class l extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class h extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class m extends o{constructor(){var Y;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(Y=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=m;class C extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=C;class g extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=g;class f extends o{constructor(){var Y;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(Y=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=f;class b extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Y,B,W,V){return super._move(p.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,W,V)}}e.CursorWordAccessibilityLeft=b;class L extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Y,B,W,V){return super._move(p.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,W,V)}}e.CursorWordAccessibilityLeftSelect=L;class N extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=N;class D extends t{constructor(){var Y;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(Y=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=D;class I extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=I;class T extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=T;class A extends t{constructor(){var Y;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(Y=u.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=A;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=R;class O extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Y,B,W,V){return super._move(p.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,W,V)}}e.CursorWordAccessibilityRight=O;class P extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Y,B,W,V){return super._move(p.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,W,V)}}e.CursorWordAccessibilityRightSelect=P;class F extends k.EditorCommand{constructor(Y){super(Y);this._whitespaceHeuristics=Y.whitespaceHeuristics,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,B,W){if(!B.hasModel())return;const V=p.getMapForWordSeparators(B.getOption(114)),z=B.getModel(),U=B.getSelections(),X=B.getOption(5),te=B.getOption(8),se=d.LanguageConfigurationRegistry.getAutoClosingPairs(z.getLanguageIdentifier().id),le=B._getViewModel(),ue=U.map(re=>{const ce=this._delete({wordSeparators:V,model:z,selection:re,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:B.getOption(6),autoClosingBrackets:X,autoClosingQuotes:te,autoClosingPairs:se,autoClosedCharacters:le.getCursorAutoClosedCharacters()},this._wordNavigationType);return new M.ReplaceCommand(ce,"")});B.pushUndoStop(),B.executeCommands(this.id,ue),B.pushUndoStop()}}e.DeleteWordCommand=F;class E extends F{_delete(Y,B){let W=w.WordOperations.deleteWordLeft(Y,B);return W||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=E;class x extends F{_delete(Y,B){let W=w.WordOperations.deleteWordRight(Y,B);if(W)return W;const V=Y.model.getLineCount(),z=Y.model.getLineMaxColumn(V);return new i.Range(V,z,V,z)}}e.DeleteWordRightCommand=x;class H extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=H;class K extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=K;class q extends E{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=q;class G extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=G;class ee extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=ee;class ie extends x{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=ie;class ae extends k.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:S.localize(0,null),alias:"Delete Word"})}run(Y,B,W){if(!B.hasModel())return;const V=p.getMapForWordSeparators(B.getOption(114)),z=B.getModel(),X=B.getSelections().map(te=>{const se=w.WordOperations.deleteInsideWord(V,z,te);return new M.ReplaceCommand(se,"")});B.pushUndoStop(),B.executeCommands(this.id,X),B.pushUndoStop()}}e.DeleteInsideWord=ae,k.registerEditorCommand(new l),k.registerEditorCommand(new h),k.registerEditorCommand(new m),k.registerEditorCommand(new C),k.registerEditorCommand(new g),k.registerEditorCommand(new f),k.registerEditorCommand(new N),k.registerEditorCommand(new D),k.registerEditorCommand(new I),k.registerEditorCommand(new T),k.registerEditorCommand(new A),k.registerEditorCommand(new R),k.registerEditorCommand(new b),k.registerEditorCommand(new L),k.registerEditorCommand(new O),k.registerEditorCommand(new P),k.registerEditorCommand(new H),k.registerEditorCommand(new K),k.registerEditorCommand(new q),k.registerEditorCommand(new G),k.registerEditorCommand(new ee),k.registerEditorCommand(new ie),k.registerEditorAction(ae)}),define(Q[655],J([0,1,14,137,3,25,268,26]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends w.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,o){let t=k.WordPartOperations.deleteWordPartLeft(n);return t||new M.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class i extends w.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,o){let t=k.WordPartOperations.deleteWordPartRight(n);if(t)return t;const l=n.model.getLineCount(),h=n.model.getLineMaxColumn(l);return new M.Range(l,h,l,h)}}e.DeleteWordPartRight=i;class _ extends w.MoveWordCommand{_move(n,o,t,l){return k.WordPartOperations.moveWordPartLeft(n,o,t)}}e.WordPartLeftCommand=_;class s extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=s,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class u extends w.MoveWordCommand{_move(n,o,t,l){return k.WordPartOperations.moveWordPartRight(n,o,t)}}e.WordPartRightCommand=u;class c extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class d extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,S.registerEditorCommand(new v),S.registerEditorCommand(new i),S.registerEditorCommand(new s),S.registerEditorCommand(new a),S.registerEditorCommand(new c),S.registerEditorCommand(new d)}),define(Q[656],J([0,1,7,30,158,42,51,2,17,8,24,14,25,267,16,9,37,59,22,11,64,362]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let m=class qt extends p.Disposable{constructor(N,D){super();this._editor=N,this._widget=this._register(D.createInstance(g,this._editor))}static get(N){return N.getContribution(qt.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};m.ID="editor.contrib.accessibilityHelpController",m=Me([pe(1,d.IInstantiationService)],m);function C(L,N){return!L||L.length===0?l.AccessibilityHelpNLS.noSelection:L.length===1?N?i.format(l.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,N):i.format(l.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):N?i.format(l.AccessibilityHelpNLS.multiSelectionRange,L.length,N):L.length>0?i.format(l.AccessibilityHelpNLS.multiSelection,L.length):""}let g=class gt extends w.Widget{constructor(N,D,I,T){super();this._contextKeyService=D,this._keybindingService=I,this._openerService=T,this._editor=N,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=k.createFastDomNode(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=k.createFastDomNode(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(S.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",A=>{if(!!this._isVisible&&(A.equals(2048|35)&&(y.alert(l.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),S.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),A.preventDefault(),A.stopPropagation()),A.equals(2048|38))){y.alert(l.AccessibilityHelpNLS.openingDocs);let R=this._editor.getRawOptions().accessibilityHelpUrl;typeof R=="undefined"&&(R="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(_.URI.parse(R)),A.preventDefault(),A.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return gt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(N,D,I){let T=this._keybindingService.lookupKeybinding(N);return T?i.format(D,T.getAriaLabel()):i.format(I,N)}_buildContent(){const N=this._editor.getOptions(),D=this._editor.getSelections();let I=0;if(D){const O=this._editor.getModel();O&&D.forEach(P=>{I+=O.getValueLengthInRange(P)})}let T=C(D,I);N.get(51)?N.get(78)?T+=l.AccessibilityHelpNLS.readonlyDiffEditor:T+=l.AccessibilityHelpNLS.editableDiffEditor:N.get(78)?T+=l.AccessibilityHelpNLS.readonlyEditor:T+=l.AccessibilityHelpNLS.editableEditor;const A=v.isMacintosh?l.AccessibilityHelpNLS.changeConfigToOnMac:l.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(N.get(2)){case 0:T+=`

 - `+A;break;case 2:T+=`

 - `+l.AccessibilityHelpNLS.auto_on;break;case 1:T+=`

 - `+l.AccessibilityHelpNLS.auto_off,T+=" "+A;break}N.get(127)?T+=`

 - `+this._descriptionForCommand(u.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOnMsg,l.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):T+=`

 - `+this._descriptionForCommand(u.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOffMsg,l.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const R=v.isMacintosh?l.AccessibilityHelpNLS.openDocMac:l.AccessibilityHelpNLS.openDocWinLinux;T+=`

 - `+R,T+=`

`+l.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild(M.renderFormattedText(T)),this._contentDomNode.domNode.setAttribute("aria-label",T)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,S.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let N=this._editor.getLayoutInfo(),D=Math.max(5,Math.min(gt.WIDTH,N.width-40)),I=Math.max(5,Math.min(gt.HEIGHT,N.height-40));this._domNode.setWidth(D),this._domNode.setHeight(I);let T=Math.round((N.height-I)/2);this._domNode.setTop(T);let A=Math.round((N.width-D)/2);this._domNode.setLeft(A)}};g.ID="editor.contrib.accessibilityHelpWidget",g.WIDTH=500,g.HEIGHT=300,g=Me([pe(1,c.IContextKeyService),pe(2,r.IKeybindingService),pe(3,n.IOpenerService)],g);class f extends s.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:l.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(N,D){let I=m.get(D);I&&I.show()}}s.registerEditorContribution(m.ID,m),s.registerEditorAction(f);const b=s.EditorCommand.bindToContribution(m.get);s.registerEditorCommand(new b({id:"closeAccessibilityHelp",precondition:h,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),t.registerThemingParticipant((L,N)=>{const D=L.getColor(o.editorWidgetBackground);D&&N.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${D}; }`);const I=L.getColor(o.editorWidgetForeground);I&&N.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${I}; }`);const T=L.getColor(o.widgetShadow);T&&N.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${T}; }`);const A=L.getColor(o.contrastBorder);A&&N.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${A}; }`)})}),define(Q[657],J([0,1,7,2,14,17,363]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class w extends k.Disposable{constructor(i){super();this.editor=i,this.widget=null,y.isIOS&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(78);!this.widget&&i?this.widget=new p(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=w,w.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(S.addDisposableListener(this._domNode,"touchstart",_=>{this.editor.focus()})),this._register(S.addDisposableListener(this._domNode,"focus",_=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",M.registerEditorContribution(w.ID,w)}),define(Q[658],J([0,1,7,29,2,14,18,77,58,117,22,11,64,99,364]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class $t extends M.Disposable{constructor(l,h,m){super();this._editor=l,this._modeService=m,this._widget=null,this._register(this._editor.onDidChangeModel(C=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(C=>this.stop())),this._register(w.TokenizationRegistry.onDidChange(C=>this.stop())),this._register(this._editor.onKeyUp(C=>C.keyCode===9&&this.stop()))}static get(l){return l.getContribution($t.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new o(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Me([pe(1,i.IStandaloneThemeService),pe(2,v.IModeService)],c);class d extends y.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(l,h){let m=c.get(h);m&&m.launch()}}function r(t){let l="";for(let h=0,m=t.length;h<m;h++){let C=t.charCodeAt(h);switch(C){case 9:l+="\u2192";break;case 32:l+="\xB7";break;default:l+=String.fromCharCode(C)}}return l}function n(t){let l=w.TokenizationRegistry.get(t.language);return l||{getInitialState:()=>p.NULL_STATE,tokenize:(h,m,C,g)=>p.nullTokenize(t.language,h,C,g),tokenize2:(h,m,C,g)=>p.nullTokenize2(t.id,h,C,g)}}class o extends M.Disposable{constructor(l,h){super();this.allowEditorOverflow=!0,this._editor=l,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(m=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return o._ID}_compute(l){let h=this._getTokensAtLine(l.lineNumber),m=0;for(let L=h.tokens1.length-1;L>=0;L--){let N=h.tokens1[L];if(l.column-1>=N.offset){m=L;break}}let C=0;for(let L=h.tokens2.length>>>1;L>=0;L--)if(l.column-1>=h.tokens2[L<<1]){C=L;break}let g=this._model.getLineContent(l.lineNumber),f="";if(m<h.tokens1.length){let L=h.tokens1[m].offset,N=m+1<h.tokens1.length?h.tokens1[m+1].offset:g.length;f=g.substring(L,N)}S.reset(this._domNode,S.$("h2.tm-token",void 0,r(f),S.$("span.tm-token-length",void 0,`${f.length} ${f.length===1?"char":"chars"}`))),S.append(this._domNode,S.$("hr.tokens-inspect-separator",{style:"clear:both"}));const b=(C<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(C<<1)+1]):null;S.append(this._domNode,S.$("table.tm-metadata-table",void 0,S.$("tbody",void 0,S.$("tr",void 0,S.$("td.tm-metadata-key",void 0,"language"),S.$("td.tm-metadata-value",void 0,`${b?b.languageIdentifier.language:"-?-"}`)),S.$("tr",void 0,S.$("td.tm-metadata-key",void 0,"token type"),S.$("td.tm-metadata-value",void 0,`${b?this._tokenTypeToString(b.tokenType):"-?-"}`)),S.$("tr",void 0,S.$("td.tm-metadata-key",void 0,"font style"),S.$("td.tm-metadata-value",void 0,`${b?this._fontStyleToString(b.fontStyle):"-?-"}`)),S.$("tr",void 0,S.$("td.tm-metadata-key",void 0,"foreground"),S.$("td.tm-metadata-value",void 0,`${b?k.Color.Format.CSS.formatHex(b.foreground):"-?-"}`)),S.$("tr",void 0,S.$("td.tm-metadata-key",void 0,"background"),S.$("td.tm-metadata-value",void 0,`${b?k.Color.Format.CSS.formatHex(b.background):"-?-"}`))))),S.append(this._domNode,S.$("hr.tokens-inspect-separator")),m<h.tokens1.length&&S.append(this._domNode,S.$("span.tm-token-type",void 0,h.tokens1[m].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(l){let h=w.TokenizationRegistry.getColorMap(),m=w.TokenMetadata.getLanguageId(l),C=w.TokenMetadata.getTokenType(l),g=w.TokenMetadata.getFontStyle(l),f=w.TokenMetadata.getForeground(l),b=w.TokenMetadata.getBackground(l);return{languageIdentifier:this._modeService.getLanguageIdentifier(m),tokenType:C,fontStyle:g,foreground:h[f],background:h[b]}}_tokenTypeToString(l){switch(l){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(l){let h="";return l&1&&(h+="italic "),l&2&&(h+="bold "),l&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(l){let h=this._getStateBeforeLine(l),m=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,h,0),C=this._tokenizationSupport.tokenize2(this._model.getLineContent(l),!0,h,0);return{startState:h,tokens1:m.tokens,tokens2:C.tokens,endState:m.endState}}_getStateBeforeLine(l){let h=this._tokenizationSupport.getInitialState();for(let m=1;m<l;m++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(m),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}o._ID="editor.contrib.inspectTokensWidget",y.registerEditorContribution(c.ID,c),y.registerEditorAction(d),s.registerThemingParticipant((t,l)=>{const h=t.getColor(_.editorHoverBorder);if(h){let g=t.type===u.ColorScheme.HIGH_CONTRAST?2:1;l.addRule(`.monaco-editor .tokens-inspect-widget { border: ${g}px solid ${h}; }`),l.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const m=t.getColor(_.editorHoverBackground);m&&l.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${m}; }`);const C=t.getColor(_.editorHoverForeground);C&&l.addRule(`.monaco-editor .tokens-inspect-widget { color: ${C}; }`)})}),define(Q[659],J([0,1,32,98,64,28,592,20,9,37,26,88,118,14,25,78]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends w.AbstractEditorCommandsQuickAccessProvider{constructor(t,l,h,m,C,g){super({showAlias:!1},t,h,m,C,g);this.codeEditorService=l}get activeTextEditorControl(){return p.withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Ie(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Me([pe(0,v.IInstantiationService),pe(1,y.ICodeEditorService),pe(2,i.IKeybindingService),pe(3,_.ICommandService),pe(4,s.ITelemetryService),pe(5,a.IDialogService)],r),e.StandaloneCommandsQuickAccessProvider=r,S.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:M.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends u.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:M.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(d.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=n,u.registerEditorAction(n)}),define(Q[660],J([0,1,616,32,98,28,20,64,6,14,25,78]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends S.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return w.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};a=Me([pe(0,y.ICodeEditorService)],a),e.StandaloneGotoLineQuickAccessProvider=a,k.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:p.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class u extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:p.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(s.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=u,i.registerEditorAction(u)}),define(Q[661],J([0,1,617,32,98,28,20,64,6,14,25,78,127,260]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let a=class extends S.AbstractGotoSymbolQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return w.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};a=Me([pe(0,y.ICodeEditorService)],a),e.StandaloneGotoSymbolQuickAccessProvider=a,k.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:S.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:p.QuickOutlineNLS.quickOutlineActionLabel,prefix:S.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:p.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:S.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class u extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:p.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:_.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(s.IQuickInputService).quickAccess.show(S.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=u,i.registerEditorAction(u)}),define(Q[662],J([0,1,14,117,64]),function($,e,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends S.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:M.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(p,v){const i=p.get(k.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}S.registerEditorAction(y)}),define(Q[191],J([0,1,7,54,49,2,532,33,69,37,180,34,11,115,441,17,367]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function r(m,C,g,f,b,L,N){const D=m.getActions(C),I=typeof f=="string"?T=>T===f:f;return o(D,g,!1,I,b,L,N),n(D)}e.createAndFillInActionBarActions=r;function n(m){const C=new y.DisposableStore;for(const[,g]of m)for(const f of g)C.add(f);return C}function o(m,C,g,f=D=>D==="navigation",b=Number.MAX_SAFE_INTEGER,L=()=>!1,N=!1){let D,I;Array.isArray(C)?(D=C,I=C):(D=C.primary,I=C.secondary);const T=new Set;for(const[A,R]of m){let O;f(A)?(O=D,O.length>0&&N&&O.push(new M.Separator)):(O=I,O.length>0&&O.push(new M.Separator));for(let P of R){g&&(P=P instanceof p.MenuItemAction&&P.alt?P.alt:P);const F=O.push(P);P instanceof M.SubmenuAction&&T.add({group:A,action:P,index:F-1})}}for(const{group:A,action:R,index:O}of T){const P=f(A)?D:I,F=R.actions;(F.length<=1||P.length+F.length-2<=b)&&L(R,A,P.length)&&P.splice(O,1,...F)}if(D!==I&&D.length>b){const A=D.splice(b,D.length-b);I.unshift(...A,new M.Separator)}}let t=class extends u.ActionViewItem{constructor(C,g,f){super(void 0,C,{icon:!!(C.class||C.item.icon),label:!C.class&&!C.item.icon});this._keybindingService=g,this._notificationService=f,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new y.MutableDisposable),this._altKey=S.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(C){return Ie(this,void 0,void 0,function*(){C.preventDefault(),C.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(g){this._notificationService.error(g)}})}render(C){super.render(C),C.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let g=!1,f=this._altKey.keyStatus.altKey||(d.isWindows||d.isLinux)&&this._altKey.keyStatus.shiftKey;const b=()=>{const L=g&&f;L!==this._wantsAltCommand&&(this._wantsAltCommand=L,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(L=>{f=L.altKey||(d.isWindows||d.isLinux)&&L.shiftKey,b()})),this._register(k.domEvent(C,"mouseleave")(L=>{g=!1,b()})),this._register(k.domEvent(C,"mouseenter")(L=>{g=!0,b()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const C=this._keybindingService.lookupKeybinding(this._commandAction.id),g=C&&C.getLabel(),f=this._commandAction.tooltip||this._commandAction.label;let b=g?w.localize(0,null,f,g):f;if(!this._wantsAltCommand&&this._menuItemAction.alt){const L=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,N=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id),D=N&&N.getLabel(),I=D?w.localize(1,null,L,D):L;b+=`
[${_.UILabelProvider.modifierLabels[d.OS].altKey}] ${I}`}this.label.title=b}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(C){var g;this._itemClassDispose.value=void 0;const{element:f,label:b}=this;if(!f||!b)return;const L=this._commandAction.checked&&((g=C.toggled)===null||g===void 0?void 0:g.icon)?C.toggled.icon:C.icon;if(!!L)if(a.ThemeIcon.isThemeIcon(L)){const N=a.ThemeIcon.asClassNameArray(L);b.classList.add(...N),this._itemClassDispose.value=y.toDisposable(()=>{b.classList.remove(...N)})}else L.light&&b.style.setProperty("--menu-entry-icon-light",S.asCSSUrl(L.light)),L.dark&&b.style.setProperty("--menu-entry-icon-dark",S.asCSSUrl(L.dark)),b.classList.add("icon"),this._itemClassDispose.value=y.toDisposable(()=>{b.classList.remove("icon"),b.style.removeProperty("--menu-entry-icon-light"),b.style.removeProperty("--menu-entry-icon-dark")})}};t=Me([pe(1,i.IKeybindingService),pe(2,s.INotificationService)],t),e.MenuEntryActionViewItem=t;let l=class extends c.DropdownMenuActionViewItem{constructor(C,g){super(C,{getActions:()=>C.actions},g,{menuAsChild:!0,classNames:a.ThemeIcon.isThemeIcon(C.item.icon)?a.ThemeIcon.asClassName(C.item.icon):void 0})}render(C){if(super.render(C),this.element){C.classList.add("menu-entry");const{icon:g}=this._action.item;g&&!a.ThemeIcon.isThemeIcon(g)&&(this.element.classList.add("icon"),g.light&&this.element.style.setProperty("--menu-entry-icon-light",S.asCSSUrl(g.light)),g.dark&&this.element.style.setProperty("--menu-entry-icon-dark",S.asCSSUrl(g.dark)))}}};l=Me([pe(1,v.IContextMenuService)],l),e.SubmenuEntryActionViewItem=l;function h(m,C){return C instanceof p.MenuItemAction?m.createInstance(t,C):C instanceof p.SubmenuItemAction?m.createInstance(l,C):void 0}e.createActionViewItem=h}),define(Q[122],J([0,1,7,84,49,29,6,41,28,146,557,512,16,9,75,14,22,27,191,357]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=u.createDecorator("IPeekViewService"),c.registerSingleton(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(g,f){const b=this._widgets.get(g);b&&(b.listener.dispose(),b.widget.dispose());const L=()=>{const N=this._widgets.get(g);N&&N.widget===f&&(N.listener.dispose(),this._widgets.delete(g))};this._widgets.set(g,{widget:f,listener:f.onDidClose(L)})}});var t;(function(g){g.inPeekEditor=new a.RawContextKey("inReferenceSearchEditor",!0,s.localize(0,null)),g.notInPeekEditor=g.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let l=class{constructor(f,b){f instanceof i.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(b)}dispose(){}};l.ID="editor.contrib.referenceController",l=Me([pe(1,a.IContextKeyService)],l),d.registerEditorContribution(l.ID,l);function h(g){let f=g.get(v.ICodeEditorService).getFocusedCodeEditor();return f instanceof i.EmbeddedCodeEditorWidget?f.getParentEditor():f}e.getOuterEditor=h;const m={headerBackgroundColor:y.Color.white,primaryHeadingColor:y.Color.fromHex("#333333"),secondaryHeadingColor:y.Color.fromHex("#6c6c6cb3")};let C=class extends _.ZoneWidget{constructor(f,b,L){super(f,b);this.instantiationService=L,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,p.mixin(this.options,m,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(f){let b=this.options;f.headerBackgroundColor&&(b.headerBackgroundColor=f.headerBackgroundColor),f.primaryHeadingColor&&(b.primaryHeadingColor=f.primaryHeadingColor),f.secondaryHeadingColor&&(b.secondaryHeadingColor=f.secondaryHeadingColor),super.style(f)}_applyStyles(){super._applyStyles();let f=this.options;this._headElement&&f.headerBackgroundColor&&(this._headElement.style.backgroundColor=f.headerBackgroundColor.toString()),this._primaryHeading&&f.primaryHeadingColor&&(this._primaryHeading.style.color=f.primaryHeadingColor.toString()),this._secondaryHeading&&f.secondaryHeadingColor&&(this._secondaryHeading.style.color=f.secondaryHeadingColor.toString()),this._bodyElement&&f.frameColor&&(this._bodyElement.style.borderColor=f.frameColor.toString())}_fillContainer(f){this.setCssClass("peekview-widget"),this._headElement=S.$(".head"),this._bodyElement=S.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),f.appendChild(this._headElement),f.appendChild(this._bodyElement)}_fillHead(f,b){const L=S.$(".peekview-title");S.append(this._headElement,L),S.addStandardDisposableListener(L,"click",I=>this._onTitleClick(I)),this._fillTitleIcon(L),this._primaryHeading=S.$("span.filename"),this._secondaryHeading=S.$("span.dirname"),this._metaHeading=S.$("span.meta"),S.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const N=S.$(".peekview-actions");S.append(this._headElement,N);const D=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(N,D),this._disposables.add(this._actionbarWidget),b||this._actionbarWidget.push(new M.Action("peekview.close",s.localize(1,null),n.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(f){}_getActionBarOptions(){return{actionViewItemProvider:o.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(f){}setTitle(f,b){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=f,this._primaryHeading.setAttribute("title",f),b?this._secondaryHeading.innerText=b:S.clearNode(this._secondaryHeading))}setMetaTitle(f){this._metaHeading&&(f?(this._metaHeading.innerText=f,S.show(this._metaHeading)):S.hide(this._metaHeading))}_doLayout(f,b){if(!this._isShowing&&f<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(56)*1.2),N=Math.round(f-(L+2));this._doLayoutHead(L,b),this._doLayoutBody(N,b)}_doLayoutHead(f,b){this._headElement&&(this._headElement.style.height=`${f}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(f,b){this._bodyElement&&(this._bodyElement.style.height=`${f}px`)}};C=Me([pe(2,u.IInstantiationService)],C),e.PeekViewWidget=C,e.peekViewTitleBackground=r.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},s.localize(2,null)),e.peekViewTitleForeground=r.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},s.localize(3,null)),e.peekViewTitleInfoForeground=r.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},s.localize(4,null)),e.peekViewBorder=r.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:r.contrastBorder},s.localize(5,null)),e.peekViewResultsBackground=r.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:y.Color.black},s.localize(6,null)),e.peekViewResultsMatchForeground=r.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:y.Color.white},s.localize(7,null)),e.peekViewResultsFileForeground=r.registerColor("peekViewResult.fileForeground",{dark:y.Color.white,light:"#1E1E1E",hc:y.Color.white},s.localize(8,null)),e.peekViewResultsSelectionBackground=r.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},s.localize(9,null)),e.peekViewResultsSelectionForeground=r.registerColor("peekViewResult.selectionForeground",{dark:y.Color.white,light:"#6C6C6C",hc:y.Color.white},s.localize(10,null)),e.peekViewEditorBackground=r.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:y.Color.black},s.localize(11,null)),e.peekViewEditorGutterBackground=r.registerColor("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},s.localize(12,null)),e.peekViewResultsMatchHighlight=r.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},s.localize(13,null)),e.peekViewEditorMatchHighlight=r.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},s.localize(14,null)),e.peekViewEditorMatchHighlightBorder=r.registerColor("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},s.localize(15,null))}),define(Q[663],J([0,1,7,84,2,121,525,191,33,16,9]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class s extends p.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id);if(!c)return super.updateLabel();this.label&&(this.label.textContent=w.localize(0,null,this._action.label,s.symbolPrintEnter(c)))}static symbolPrintEnter(c){var d;return(d=c.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(c,d,r,n){this._menuService=r,this._contextKeyService=n,this._menuDisposables=new M.DisposableStore,this.element=S.append(c,S.$(".suggest-status-bar"));const o=t=>t instanceof v.MenuItemAction?d.createInstance(s,t):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:o}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(y.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const r=[],n=[];for(let[o,t]of c.getActions())o==="left"?r.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(c.onDidChange(()=>d())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};a=Me([pe(1,_.IInstantiationService),pe(2,v.IMenuService),pe(3,i.IContextKeyService)],a),e.SuggestWidgetStatus=a}),define(Q[664],J([0,1,15,6,2,33,26,16]),function($,e,S,k,M,y,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let v=class{constructor(s){this._commandService=s}createMenu(s,a,u=!1){return new i(s,u,this._commandService,a,this)}};v=Me([pe(0,w.ICommandService)],v),e.MenuService=v;let i=class tt{constructor(s,a,u,c,d){this._id=s,this._fireEventsForSubmenuChanges=a,this._commandService=u,this._contextKeyService=c,this._menuService=d,this._dispoables=new M.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new S.RunOnceScheduler(()=>this._build(),50);this._dispoables.add(r),this._dispoables.add(y.MenuRegistry.onDidChangeMenu(o=>{o.has(s)&&r.schedule()}));const n=new S.RunOnceScheduler(()=>this._onDidChange.fire(this),50);this._dispoables.add(n),this._dispoables.add(c.onDidChangeContext(o=>{o.affectsSome(this._contextKeys)&&n.schedule()}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const s=y.MenuRegistry.getMenuItems(this._id);let a;s.sort(tt._compareMenuItems);for(let u of s){const c=u.group||"";(!a||a[0]!==c)&&(a=[c,[]],this._menuGroups.push(a)),a[1].push(u),this._collectContextKeys(u)}this._onDidChange.fire(this)}_collectContextKeys(s){if(tt._fillInKbExprKeys(s.when,this._contextKeys),y.isIMenuItem(s)){if(s.command.precondition&&tt._fillInKbExprKeys(s.command.precondition,this._contextKeys),s.command.toggled){const a=s.command.toggled.condition||s.command.toggled;tt._fillInKbExprKeys(a,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&y.MenuRegistry.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}getActions(s){const a=[];for(let u of this._menuGroups){const[c,d]=u,r=[];for(const n of d)if(this._contextKeyService.contextMatchesRules(n.when)){const o=y.isIMenuItem(n)?new y.MenuItemAction(n.command,n.alt,s,this._contextKeyService,this._commandService):new y.SubmenuItemAction(n,this._menuService,this._contextKeyService,s);r.push(o)}r.length>0&&a.push([c,r])}return a}static _fillInKbExprKeys(s,a){if(s)for(let u of s.keys())a.add(u)}static _compareMenuItems(s,a){let u=s.group,c=a.group;if(u!==c){if(u){if(!c)return-1}else return 1;if(u==="navigation")return-1;if(c==="navigation")return 1;let n=u.localeCompare(c);if(n!==0)return n}let d=s.order||0,r=a.order||0;return d<r?-1:d>r?1:tt._compareTitles(y.isIMenuItem(s)?s.command.title:s.title,y.isIMenuItem(a)?a.command.title:a.title)}static _compareTitles(s,a){const u=typeof s=="string"?s:s.original,c=typeof a=="string"?a:a.original;return u.localeCompare(c)}};i=Me([pe(2,w.ICommandService),pe(3,p.IContextKeyService),pe(4,y.IMenuService)],i)}),define(Q[665],J([0,1,593,69,88,34,11,37,2,7]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let _=class extends v.Disposable{constructor(a,u,c,d,r){super();this.contextMenuHandler=new S.ContextMenuHandler(c,a,u,d,r)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){this.contextMenuHandler.showContextMenu(a),i.ModifierKeyEmitter.getInstance().resetKeyStatus()}};_=Me([pe(0,M.ITelemetryService),pe(1,y.INotificationService),pe(2,k.IContextViewService),pe(3,p.IKeybindingService),pe(4,w.IThemeService)],_),e.ContextMenuService=_}),define(Q[149],J([0,1,7,319,106,6,2,537,47,97,16,9,37,32,120,11,251,236,438,437,65,322]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.didBindWorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSupportsKeyboardNavigation=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=s.createDecorator("listService");let m=class{constructor(te){this._themeService=te,this.disposables=new w.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(te,se){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ue=new M.DefaultStyleController(S.createStyleSheet(),"");this.disposables.add(c.attachListStyler(ue,this._themeService))}if(this.lists.some(ue=>ue.widget===te))throw new Error("Cannot register the same widget multiple times");const le={widget:te,extraContextKeys:se};return this.lists.push(le),te.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=te),w.combinedDisposable(te.onDidFocus(()=>this._lastFocusedWidget=te),w.toDisposable(()=>this.lists.splice(this.lists.indexOf(le),1)),te.onDidDispose(()=>{this.lists=this.lists.filter(ue=>ue!==le),this._lastFocusedWidget===te&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};m=Me([pe(0,d.IThemeService)],m),e.ListService=m;const C=new _.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new _.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=_.ContextKeyExpr.and(C,_.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new _.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new _.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new _.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new _.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsKeyboardNavigation=new _.RawContextKey("listSupportsKeyboardNavigation",!0),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",e.WorkbenchListAutomaticKeyboardNavigation=new _.RawContextKey(e.WorkbenchListAutomaticKeyboardNavigationKey,!0),e.didBindWorkbenchListAutomaticKeyboardNavigation=!1;function g(X,te){const se=X.createScoped(te.getHTMLElement());return C.bindTo(se),se}const f="workbench.list.multiSelectModifier",b="workbench.list.openMode",L="workbench.list.horizontalScrolling",N="workbench.list.keyboardNavigation",D="workbench.list.automaticKeyboardNavigation",I="workbench.tree.indent",T="workbench.tree.renderIndentGuides",A="workbench.list.smoothScrolling",R="workbench.tree.expandMode";function O(X){return X.getValue(f)==="alt"}class P extends w.Disposable{constructor(te){super();this.configurationService=te,this.useAltAsMultipleSelectionModifier=O(te),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(te=>{te.affectsConfiguration(f)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent(te){return this.useAltAsMultipleSelectionModifier?te.browserEvent.altKey:M.isSelectionSingleChangeEvent(te)}isSelectionRangeChangeEvent(te){return M.isSelectionRangeChangeEvent(te)}}function F(X,te,se){const le=new w.DisposableStore,ue=Object.assign({},X);if(X.multipleSelectionSupport!==!1&&!X.multipleSelectionController){const re=new P(te);ue.multipleSelectionController=re,le.add(re)}return ue.keyboardNavigationDelegate={mightProducePrintableCharacter(re){return se.mightProducePrintableCharacter(re)}},ue.smoothScrolling=Boolean(te.getValue(A)),[ue,le]}let E=class extends M.List{constructor(te,se,le,ue,re,ce,j,ne,Z,oe){const fe=typeof re.horizontalScrolling!="undefined"?re.horizontalScrolling:Boolean(Z.getValue(L)),[_e,be]=F(re,Z,oe);super(te,se,le,ue,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},c.computeStyles(ne.getColorTheme(),c.defaultListStyles)),_e),{horizontalScrolling:fe}));this.disposables.add(be),this.contextKeyService=g(ce,this),this.themeService=ne,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(re.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(re.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=re.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(Z),this.disposables.add(this.contextKeyService),this.disposables.add(j.register(this)),re.overrideStyles&&this.updateStyles(re.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Re=this.getSelection(),De=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Re.length>0||De.length>0),this.listMultiSelection.set(Re.length>1),this.listDoubleSelection.set(Re.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Re=this.getSelection(),De=this.getFocus();this.listHasSelectionOrFocus.set(Re.length>0||De.length>0)})),this.disposables.add(Z.onDidChangeConfiguration(Re=>{Re.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(Z));let De={};if(Re.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=Boolean(Z.getValue(L));De=Object.assign(Object.assign({},De),{horizontalScrolling:Te})}if(Re.affectsConfiguration(A)){const Te=Boolean(Z.getValue(A));De=Object.assign(Object.assign({},De),{smoothScrolling:Te})}Object.keys(De).length>0&&this.updateOptions(De)})),this.navigator=new q(this,Object.assign({configurationService:Z},re)),this.disposables.add(this.navigator)}updateOptions(te){super.updateOptions(te),te.overrideStyles&&this.updateStyles(te.overrideStyles)}updateStyles(te){var se;(se=this._styler)===null||se===void 0||se.dispose(),this._styler=c.attachListStyler(this,this.themeService,te)}dispose(){var te;(te=this._styler)===null||te===void 0||te.dispose(),super.dispose()}};E=Me([pe(5,_.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,v.IConfigurationService),pe(9,a.IKeybindingService)],E),e.WorkbenchList=E;let x=class extends k.PagedList{constructor(te,se,le,ue,re,ce,j,ne,Z,oe){const fe=typeof re.horizontalScrolling!="undefined"?re.horizontalScrolling:Boolean(Z.getValue(L)),[_e,be]=F(re,Z,oe);super(te,se,le,ue,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},c.computeStyles(ne.getColorTheme(),c.defaultListStyles)),_e),{horizontalScrolling:fe}));this.disposables=new w.DisposableStore,this.disposables.add(be),this.contextKeyService=g(ce,this),this.themeService=ne,this.horizontalScrolling=re.horizontalScrolling,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(re.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(re.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(Z),this.disposables.add(this.contextKeyService),this.disposables.add(j.register(this)),re.overrideStyles&&this.updateStyles(re.overrideStyles),re.overrideStyles&&this.disposables.add(c.attachListStyler(this,ne,re.overrideStyles)),this.disposables.add(Z.onDidChangeConfiguration(Re=>{Re.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(Z));let De={};if(Re.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=Boolean(Z.getValue(L));De=Object.assign(Object.assign({},De),{horizontalScrolling:Te})}if(Re.affectsConfiguration(A)){const Te=Boolean(Z.getValue(A));De=Object.assign(Object.assign({},De),{smoothScrolling:Te})}Object.keys(De).length>0&&this.updateOptions(De)})),this.navigator=new q(this,Object.assign({configurationService:Z},re)),this.disposables.add(this.navigator)}updateOptions(te){super.updateOptions(te),te.overrideStyles&&this.updateStyles(te.overrideStyles)}updateStyles(te){var se;(se=this._styler)===null||se===void 0||se.dispose(),this._styler=c.attachListStyler(this,this.themeService,te)}dispose(){var te;(te=this._styler)===null||te===void 0||te.dispose(),this.disposables.dispose(),super.dispose()}};x=Me([pe(5,_.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,v.IConfigurationService),pe(9,a.IKeybindingService)],x),e.WorkbenchPagedList=x;let H=class extends h.Table{constructor(te,se,le,ue,re,ce,j,ne,Z,oe,fe){const _e=typeof ce.horizontalScrolling!="undefined"?ce.horizontalScrolling:Boolean(oe.getValue(L)),[be,Le]=F(ce,oe,fe);super(te,se,le,ue,re,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},c.computeStyles(Z.getColorTheme(),c.defaultListStyles)),be),{horizontalScrolling:_e}));this.disposables=new w.DisposableStore,this.disposables.add(Le),this.contextKeyService=g(j,this),this.themeService=Z,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ce.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(oe),this.disposables.add(this.contextKeyService),this.disposables.add(ne.register(this)),ce.overrideStyles&&this.updateStyles(ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const De=this.getSelection(),Te=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(De.length>0||Te.length>0),this.listMultiSelection.set(De.length>1),this.listDoubleSelection.set(De.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const De=this.getSelection(),Te=this.getFocus();this.listHasSelectionOrFocus.set(De.length>0||Te.length>0)})),this.disposables.add(oe.onDidChangeConfiguration(De=>{De.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(oe));let Te={};if(De.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const we=Boolean(oe.getValue(L));Te=Object.assign(Object.assign({},Te),{horizontalScrolling:we})}if(De.affectsConfiguration(A)){const we=Boolean(oe.getValue(A));Te=Object.assign(Object.assign({},Te),{smoothScrolling:we})}Object.keys(Te).length>0&&this.updateOptions(Te)})),this.navigator=new G(this,Object.assign({configurationService:oe},ce)),this.disposables.add(this.navigator)}updateOptions(te){super.updateOptions(te),te.overrideStyles&&this.updateStyles(te.overrideStyles)}updateStyles(te){var se;(se=this._styler)===null||se===void 0||se.dispose(),this._styler=c.attachListStyler(this,this.themeService,te)}dispose(){var te;(te=this._styler)===null||te===void 0||te.dispose(),this.disposables.dispose(),super.dispose()}};H=Me([pe(6,_.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,v.IConfigurationService),pe(10,a.IKeybindingService)],H),e.WorkbenchTable=H;class K extends w.Disposable{constructor(te,se){var le;super();this.widget=te,this._onDidOpen=this._register(new y.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(y.Event.filter(this.widget.onDidChangeSelection,ue=>ue.browserEvent instanceof KeyboardEvent)(ue=>this.onSelectionFromKeyboard(ue))),this._register(this.widget.onPointer(ue=>this.onPointer(ue.element,ue.browserEvent))),this._register(this.widget.onMouseDblClick(ue=>this.onMouseDblClick(ue.element,ue.browserEvent))),typeof(se==null?void 0:se.openOnSingleClick)!="boolean"&&(se==null?void 0:se.configurationService)?(this.openOnSingleClick=(se==null?void 0:se.configurationService.getValue(b))!=="doubleClick",this._register(se==null?void 0:se.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(se==null?void 0:se.configurationService.getValue(b))!=="doubleClick"}))):this.openOnSingleClick=(le=se==null?void 0:se.openOnSingleClick)!==null&&le!==void 0?le:!0}onSelectionFromKeyboard(te){if(te.elements.length!==1)return;const se=te.browserEvent,le=typeof se.preserveFocus=="boolean"?se.preserveFocus:!0,ue=typeof se.pinned=="boolean"?se.pinned:!le,re=!1;this._open(this.getSelectedElement(),le,ue,re,te.browserEvent)}onPointer(te,se){if(!this.openOnSingleClick||se.detail===2)return;const ue=se.button===1,re=!0,ce=ue,j=se.ctrlKey||se.metaKey||se.altKey;this._open(te,re,ce,j,se)}onMouseDblClick(te,se){if(!se)return;const le=se.target;if(le.classList.contains("monaco-tl-twistie")||le.classList.contains("monaco-icon-label")&&le.classList.contains("folder-icon")&&se.offsetX<16)return;const re=!1,ce=!0,j=se.ctrlKey||se.metaKey||se.altKey;this._open(te,re,ce,j,se)}_open(te,se,le,ue,re){!te||this._onDidOpen.fire({editorOptions:{preserveFocus:se,pinned:le,revealIfVisible:!0},sideBySide:ue,element:te,browserEvent:re})}}class q extends K{constructor(te,se){super(te,se);this.widget=te}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class G extends K{constructor(te,se){super(te,se)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ee extends K{constructor(te,se){super(te,se)}getSelectedElement(){var te;return(te=this.widget.getSelection()[0])!==null&&te!==void 0?te:void 0}}function ie(X,te){let se=!1;return le=>{if(se)return se=!1,!1;const ue=te.softDispatch(le,X);return ue&&ue.enterChord?(se=!0,!1):(se=!1,!0)}}let ae=class extends n.ObjectTree{constructor(te,se,le,ue,re,ce,j,ne,Z,oe,fe){const{options:_e,getAutomaticKeyboardNavigation:be,disposable:Le}=V(se,re,ce,Z,oe,fe);super(te,se,le,ue,_e);this.disposables.add(Le),this.internals=new z(this,re,be,re.overrideStyles,ce,j,ne,Z,fe),this.disposables.add(this.internals)}};ae=Me([pe(5,_.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,v.IConfigurationService),pe(9,a.IKeybindingService),pe(10,l.IAccessibilityService)],ae),e.WorkbenchObjectTree=ae;let de=class extends n.CompressibleObjectTree{constructor(te,se,le,ue,re,ce,j,ne,Z,oe,fe){const{options:_e,getAutomaticKeyboardNavigation:be,disposable:Le}=V(se,re,ce,Z,oe,fe);super(te,se,le,ue,_e);this.disposables.add(Le),this.internals=new z(this,re,be,re.overrideStyles,ce,j,ne,Z,fe),this.disposables.add(this.internals)}updateOptions(te={}){super.updateOptions(te),te.overrideStyles&&this.internals.updateStyleOverrides(te.overrideStyles)}};de=Me([pe(5,_.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,v.IConfigurationService),pe(9,a.IKeybindingService),pe(10,l.IAccessibilityService)],de),e.WorkbenchCompressibleObjectTree=de;let Y=class extends t.DataTree{constructor(te,se,le,ue,re,ce,j,ne,Z,oe,fe,_e){const{options:be,getAutomaticKeyboardNavigation:Le,disposable:Ee}=V(se,ce,j,oe,fe,_e);super(te,se,le,ue,re,be);this.disposables.add(Ee),this.internals=new z(this,ce,Le,ce.overrideStyles,j,ne,Z,oe,_e),this.disposables.add(this.internals)}updateOptions(te={}){super.updateOptions(te),te.overrideStyles&&this.internals.updateStyleOverrides(te.overrideStyles)}};Y=Me([pe(6,_.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,v.IConfigurationService),pe(10,a.IKeybindingService),pe(11,l.IAccessibilityService)],Y),e.WorkbenchDataTree=Y;let B=class extends o.AsyncDataTree{constructor(te,se,le,ue,re,ce,j,ne,Z,oe,fe,_e){const{options:be,getAutomaticKeyboardNavigation:Le,disposable:Ee}=V(se,ce,j,oe,fe,_e);super(te,se,le,ue,re,be);this.disposables.add(Ee),this.internals=new z(this,ce,Le,ce.overrideStyles,j,ne,Z,oe,_e),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(te={}){super.updateOptions(te),te.overrideStyles&&this.internals.updateStyleOverrides(te.overrideStyles)}};B=Me([pe(6,_.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,v.IConfigurationService),pe(10,a.IKeybindingService),pe(11,l.IAccessibilityService)],B),e.WorkbenchAsyncDataTree=B;let W=class extends o.CompressibleAsyncDataTree{constructor(te,se,le,ue,re,ce,j,ne,Z,oe,fe,_e,be){const{options:Le,getAutomaticKeyboardNavigation:Ee,disposable:Re}=V(se,j,ne,fe,_e,be);super(te,se,le,ue,re,ce,Le);this.disposables.add(Re),this.internals=new z(this,j,Ee,j.overrideStyles,ne,Z,oe,fe,be),this.disposables.add(this.internals)}};W=Me([pe(7,_.IContextKeyService),pe(8,e.IListService),pe(9,d.IThemeService),pe(10,v.IConfigurationService),pe(11,a.IKeybindingService),pe(12,l.IAccessibilityService)],W),e.WorkbenchCompressibleAsyncDataTree=W;function V(X,te,se,le,ue,re){var ce;e.WorkbenchListSupportsKeyboardNavigation.bindTo(se),e.didBindWorkbenchListAutomaticKeyboardNavigation||(e.WorkbenchListAutomaticKeyboardNavigation.bindTo(se),e.didBindWorkbenchListAutomaticKeyboardNavigation=!0);const j=()=>{let Le=Boolean(se.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return Le&&(Le=Boolean(le.getValue(D))),Le},ne=re.isScreenReaderOptimized(),Z=te.simpleKeyboardNavigation||ne?"simple":le.getValue(N),oe=te.horizontalScrolling!==void 0?te.horizontalScrolling:Boolean(le.getValue(L)),[fe,_e]=F(te,le,ue),be=te.additionalScrollHeight;return{getAutomaticKeyboardNavigation:j,disposable:_e,options:Object.assign(Object.assign({keyboardSupport:!1},fe),{indent:le.getValue(I),renderIndentGuides:le.getValue(T),smoothScrolling:Boolean(le.getValue(A)),automaticKeyboardNavigation:j(),simpleKeyboardNavigation:Z==="simple",filterOnType:Z==="filter",horizontalScrolling:oe,keyboardNavigationEventFilter:ie(X,ue),additionalScrollHeight:be,hideTwistiesOfChildlessElements:te.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ce=te.expandOnlyOnTwistieClick)!==null&&ce!==void 0?ce:le.getValue(R)==="doubleClick"})}}let z=class{constructor(te,se,le,ue,re,ce,j,ne,Z){this.tree=te,this.themeService=j,this.disposables=[],this.contextKeyService=g(re,te),e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(se.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(ne);const _e=new Set;_e.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const be=()=>{const Ee=Z.isScreenReaderOptimized()?"simple":ne.getValue(N);te.updateOptions({simpleKeyboardNavigation:Ee==="simple",filterOnType:Ee==="filter"})};this.updateStyleOverrides(ue),this.disposables.push(this.contextKeyService,ce.register(te),te.onDidChangeSelection(()=>{const Le=te.getSelection(),Ee=te.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Le.length>0||Ee.length>0),this.hasMultiSelection.set(Le.length>1),this.hasDoubleSelection.set(Le.length===2)})}),te.onDidChangeFocus(()=>{const Le=te.getSelection(),Ee=te.getFocus();this.hasSelectionOrFocus.set(Le.length>0||Ee.length>0)}),ne.onDidChangeConfiguration(Le=>{let Ee={};if(Le.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(ne)),Le.affectsConfiguration(I)){const Re=ne.getValue(I);Ee=Object.assign(Object.assign({},Ee),{indent:Re})}if(Le.affectsConfiguration(T)){const Re=ne.getValue(T);Ee=Object.assign(Object.assign({},Ee),{renderIndentGuides:Re})}if(Le.affectsConfiguration(A)){const Re=Boolean(ne.getValue(A));Ee=Object.assign(Object.assign({},Ee),{smoothScrolling:Re})}if(Le.affectsConfiguration(N)&&be(),Le.affectsConfiguration(D)&&(Ee=Object.assign(Object.assign({},Ee),{automaticKeyboardNavigation:le()})),Le.affectsConfiguration(L)&&se.horizontalScrolling===void 0){const Re=Boolean(ne.getValue(L));Ee=Object.assign(Object.assign({},Ee),{horizontalScrolling:Re})}Le.affectsConfiguration(R)&&se.expandOnlyOnTwistieClick===void 0&&(Ee=Object.assign(Object.assign({},Ee),{expandOnlyOnTwistieClick:ne.getValue(R)==="doubleClick"})),Object.keys(Ee).length>0&&te.updateOptions(Ee)}),this.contextKeyService.onDidChangeContext(Le=>{Le.affectsSome(_e)&&te.updateOptions({automaticKeyboardNavigation:le()})}),Z.onDidChangeScreenReaderOptimized(()=>be())),this.navigator=new ee(te,Object.assign({configurationService:ne},se)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(te){w.dispose(this.styler),this.styler=te?c.attachListStyler(this.tree,this.themeService,te):w.Disposable.None}dispose(){this.disposables=w.dispose(this.disposables),w.dispose(this.styler),this.styler=void 0}};z=Me([pe(4,_.IContextKeyService),pe(5,e.IListService),pe(6,d.IThemeService),pe(7,v.IConfigurationService),pe(8,l.IAccessibilityService)],z),u.Registry.as(i.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:p.localize(0,null),type:"object",properties:{[f]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[p.localize(1,null),p.localize(2,null)],default:"ctrlCmd",description:p.localize(3,null)},[b]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p.localize(4,null)},[L]:{type:"boolean",default:!1,description:p.localize(5,null)},[I]:{type:"number",default:8,minimum:0,maximum:40,description:p.localize(6,null)},[T]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:p.localize(7,null)},[A]:{type:"boolean",default:!1,description:p.localize(8,null)},[N]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[p.localize(9,null),p.localize(10,null),p.localize(11,null)],default:"highlight",description:p.localize(12,null)},[D]:{type:"boolean",default:!0,markdownDescription:p.localize(13,null)},[R]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:p.localize(14,null)}}})}),define(Q[666],J([0,1,140,9,11,22,23,120,16,65,453,149,588]),function($,e,S,k,M,y,w,p,v,i,_,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let u=class extends M.Themable{constructor(d,r,n,o,t){super(n);this.instantiationService=d,this.contextKeyService=r,this.accessibilityService=o,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(a.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,r){var n,o;const t={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>d.focus(),createList:(h,m,C,g,f)=>this.instantiationService.createInstance(s.WorkbenchList,h,m,C,g,f),styles:this.computeStyles()},l=this._register(new _.QuickInputController(Object.assign(Object.assign({},t),r)));return l.layout(d.dimension,(o=(n=d.offset)===null||n===void 0?void 0:n.top)!==null&&o!==void 0?o:0),this._register(d.onDidLayout(h=>{var m,C;return l.layout(h,(C=(m=d.offset)===null||m===void 0?void 0:m.top)!==null&&C!==void 0?C:0)})),this._register(l.onShow(()=>this.resetContextKeys())),this._register(l.onHide(()=>this.resetContextKeys())),l}setContextKey(d){let r;d&&(r=this.contexts.get(d),r||(r=new v.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,r={},n=w.CancellationToken.None){return this.controller.pick(d,r,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},p.computeStyles(this.theme,{quickInputBackground:y.quickInputBackground,quickInputForeground:y.quickInputForeground,quickInputTitleBackground:y.quickInputTitleBackground,contrastBorder:y.contrastBorder,widgetShadow:y.widgetShadow})),inputBox:p.computeStyles(this.theme,{inputForeground:y.inputForeground,inputBackground:y.inputBackground,inputBorder:y.inputBorder,inputValidationInfoBackground:y.inputValidationInfoBackground,inputValidationInfoForeground:y.inputValidationInfoForeground,inputValidationInfoBorder:y.inputValidationInfoBorder,inputValidationWarningBackground:y.inputValidationWarningBackground,inputValidationWarningForeground:y.inputValidationWarningForeground,inputValidationWarningBorder:y.inputValidationWarningBorder,inputValidationErrorBackground:y.inputValidationErrorBackground,inputValidationErrorForeground:y.inputValidationErrorForeground,inputValidationErrorBorder:y.inputValidationErrorBorder}),countBadge:p.computeStyles(this.theme,{badgeBackground:y.badgeBackground,badgeForeground:y.badgeForeground,badgeBorder:y.contrastBorder}),button:p.computeStyles(this.theme,{buttonForeground:y.buttonForeground,buttonBackground:y.buttonBackground,buttonHoverBackground:y.buttonHoverBackground,buttonBorder:y.contrastBorder}),progressBar:p.computeStyles(this.theme,{progressBarBackground:y.progressBarBackground}),keybindingLabel:p.computeStyles(this.theme,{keybindingLabelBackground:y.keybindingLabelBackground,keybindingLabelForeground:y.keybindingLabelForeground,keybindingLabelBorder:y.keybindingLabelBorder,keybindingLabelBottomBorder:y.keybindingLabelBottomBorder,keybindingLabelShadow:y.widgetShadow}),list:p.computeStyles(this.theme,{listBackground:y.quickInputBackground,listInactiveFocusForeground:y.quickInputListFocusForeground,listInactiveFocusBackground:y.quickInputListFocusBackground,listFocusOutline:y.activeContrastBorder,listInactiveFocusOutline:y.activeContrastBorder,pickerGroupBorder:y.pickerGroupBorder,pickerGroupForeground:y.pickerGroupForeground})}}};u=Me([pe(0,k.IInstantiationService),pe(1,v.IContextKeyService),pe(2,M.IThemeService),pe(3,i.IAccessibilityService),pe(4,S.ILayoutService)],u),e.QuickInputService=u}),define(Q[667],J([0,1,14,11,23,9,16,65,140,28,666,90,365]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let a=class extends _.QuickInputService{constructor(n,o,t,l,h,m){super(o,t,l,h,m);this.host=void 0;const C=c.get(n);this.host={_serviceBrand:void 0,get container(){return C.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};a=Me([pe(1,y.IInstantiationService),pe(2,w.IContextKeyService),pe(3,k.IThemeService),pe(4,p.IAccessibilityService),pe(5,v.ILayoutService)],a),e.EditorScopedQuickInputServiceImpl=a;let u=class{constructor(n,o){this.instantiationService=n,this.codeEditorService=o,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let o=this.mapEditorToService.get(n);if(!o){const t=o=this.instantiationService.createInstance(a,n);this.mapEditorToService.set(n,o),s.once(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return o}get quickAccess(){return this.activeService.quickAccess}pick(n,o={},t=M.CancellationToken.None){return this.activeService.pick(n,o,t)}createQuickPick(){return this.activeService.createQuickPick()}};u=Me([pe(0,y.IInstantiationService),pe(1,i.ICodeEditorService)],u),e.StandaloneQuickInputServiceImpl=u;class c{constructor(n){this.editor=n,this.widget=new d(this.editor)}static get(n){return n.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class d{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",S.registerEditorContribution(c.ID,c)}),define(Q[668],J([0,1,74,11,22,27]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var w;(function(p){function v(i){switch(i){case S.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case S.default.Info:return y.Codicon.info.classNames;case S.default.Warning:return y.Codicon.warning.classNames;case S.default.Error:return y.Codicon.error.classNames;default:return""}}p.className=v})(w=e.SeverityIcon||(e.SeverityIcon={})),k.registerThemingParticipant((p,v)=>{const i=p.getColor(M.problemsErrorIconForeground);if(i){const a=y.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a} {
				color: ${i};
			}
		`)}const _=p.getColor(M.problemsWarningIconForeground);if(_){const a=y.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a} {
				color: ${_};
			}
		`)}const s=p.getColor(M.problemsInfoIconForeground);if(s){const a=y.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a} {
				color: ${s};
			}
		`)}})}),define(Q[669],J([0,1,490,7,2,86,3,22,11,29,62,161,19,6,122,45,668,59,33,16,191,9,8,119,350]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class g{constructor(I,T,A,R,O){this._openerService=R,this._labelService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new M.DisposableStore,this._editor=T;const P=document.createElement("div");P.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),P.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),P.appendChild(this._relatedBlock),this._disposables.add(k.addStandardDisposableListener(this._relatedBlock,"click",F=>{F.preventDefault();const E=this._relatedDiagnostics.get(F.target);E&&A(E)})),this._scrollable=new _.ScrollableElement(P,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),I.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(F=>{P.style.left=`-${F.scrollLeft}px`,P.style.top=`-${F.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){M.dispose(this._disposables)}update(I){const{source:T,message:A,relatedInformation:R,code:O}=I;let P=((T==null?void 0:T.length)||0)+"()".length;O&&(typeof O=="string"?P+=O.length:P+=O.value.length);const F=m.splitLines(A);this._lines=F.length,this._longestLineLength=0;for(const q of F)this._longestLineLength=Math.max(q.length+P,this._longestLineLength);k.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(I)),this._editor.applyFontInfo(this._messageBlock);let E=this._messageBlock;for(const q of F)E=document.createElement("div"),E.innerText=q,q===""&&(E.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(E);if(T||O){const q=document.createElement("span");if(q.classList.add("details"),E.appendChild(q),T){const G=document.createElement("span");G.innerText=T,G.classList.add("source"),q.appendChild(G)}if(O)if(typeof O=="string"){const G=document.createElement("span");G.innerText=`(${O})`,G.classList.add("code"),q.appendChild(G)}else{this._codeLink=k.$("a.code-link"),this._codeLink.setAttribute("href",`${O.target.toString()}`),this._codeLink.onclick=ee=>{this._openerService.open(O.target,{allowCommands:!0}),ee.preventDefault(),ee.stopPropagation()};const G=k.append(this._codeLink,k.$("span"));G.innerText=O.value,q.appendChild(this._codeLink)}}if(k.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),a.isNonEmptyArray(R)){const q=this._relatedBlock.appendChild(document.createElement("div"));q.style.paddingTop=`${Math.floor(this._editor.getOption(56)*.66)}px`,this._lines+=1;for(const G of R){let ee=document.createElement("div"),ie=document.createElement("a");ie.classList.add("filename"),ie.innerText=`${s.getBaseLabel(G.resource)}(${G.startLineNumber}, ${G.startColumn}): `,ie.title=this._labelService.getUriLabel(G.resource),this._relatedDiagnostics.set(ie,G);let ae=document.createElement("span");ae.innerText=G.message,ee.appendChild(ie),ee.appendChild(ae),this._lines+=1,q.appendChild(ee)}}const x=this._editor.getOption(40),H=Math.ceil(x.typicalFullwidthCharacterWidth*this._longestLineLength*.75),K=x.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:H,scrollHeight:K})}layout(I,T){this._scrollable.getDomNode().style.height=`${I}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:I})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(I){let T="";switch(I.severity){case y.MarkerSeverity.Error:T=S.localize(0,null);break;case y.MarkerSeverity.Warning:T=S.localize(1,null);break;case y.MarkerSeverity.Info:T=S.localize(2,null);break;case y.MarkerSeverity.Hint:T=S.localize(3,null);break}let A=S.localize(4,null,T,I.startLineNumber+":"+I.startColumn);const R=this._editor.getModel();return R&&I.startLineNumber<=R.getLineCount()&&I.startLineNumber>=1&&(A=`${R.getLineContent(I.startLineNumber)}, ${A}`),A}}let f=class jt extends c.PeekViewWidget{constructor(I,T,A,R,O,P,F){super(I,{showArrow:!0,showFrame:!0,isAccessible:!0},O);this._themeService=T,this._openerService=A,this._menuService=R,this._contextKeyService=P,this._labelService=F,this._callOnDispose=new M.DisposableStore,this._onDidSelectRelatedInformation=new u.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=y.MarkerSeverity.Warning,this._backgroundColor=i.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(I){this._backgroundColor=I.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError;this._severity===y.MarkerSeverity.Warning?T=e.editorMarkerNavigationWarning:this._severity===y.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo);const A=I.getColor(T);this.style({arrowColor:A,frameColor:A,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:I.getColor(c.peekViewTitleForeground),secondaryHeadingColor:I.getColor(c.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(I){super._fillHead(I),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(R=>this.editor.focus()));const T=[],A=this._menuService.createMenu(jt.TitleMenu,this._contextKeyService);l.createAndFillInActionBarActions(A,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),A.dispose()}_fillTitleIcon(I){this._icon=k.append(I,k.$(""))}_fillBody(I){this._parentContainer=I,I.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),I.appendChild(this._container),this._message=new g(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(I,T,A){this._container.classList.remove("stale"),this._message.update(I),this._severity=I.severity,this._applyTheme(this._themeService.getColorTheme());let R=w.Range.lift(I);const O=this.editor.getPosition();let P=O&&R.containsPosition(O)?O:R.getStartPosition();super.show(P,this.computeRequiredHeight());const F=this.editor.getModel();if(F){const E=A>1?S.localize(5,null,T,A):S.localize(6,null,T,A);this.setTitle(d.basename(F.uri),E)}this._icon.className=`codicon ${r.SeverityIcon.className(y.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(P,0),this.editor.focus()}updateMarker(I){this._container.classList.remove("stale"),this._message.update(I)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(I,T){super._doLayoutBody(I,T),this._heightInPixel=I,this._message.layout(I,T),this._container.style.height=`${I}px`}_onWidth(I){this._message.layout(this._heightInPixel,I)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};f.TitleMenu=new o.MenuId("gotoErrorTitleMenu"),f=Me([pe(1,v.IThemeService),pe(2,n.IOpenerService),pe(3,o.IMenuService),pe(4,h.IInstantiationService),pe(5,t.IContextKeyService),pe(6,C.ILabelService)],f),e.MarkerNavigationWidget=f;let b=p.oneOf(p.editorErrorForeground,p.editorErrorBorder),L=p.oneOf(p.editorWarningForeground,p.editorWarningBorder),N=p.oneOf(p.editorInfoForeground,p.editorInfoBorder);e.editorMarkerNavigationError=p.registerColor("editorMarkerNavigationError.background",{dark:b,light:b,hc:b},S.localize(7,null)),e.editorMarkerNavigationWarning=p.registerColor("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:L},S.localize(8,null)),e.editorMarkerNavigationInfo=p.registerColor("editorMarkerNavigationInfo.background",{dark:N,light:N,hc:N},S.localize(9,null)),e.editorMarkerNavigationBackground=p.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:i.Color.white,hc:"#0C141F"},S.localize(10,null)),v.registerThemingParticipant((D,I)=>{const T=D.getColor(p.textLinkForeground);T&&(I.addRule(`.monaco-editor .marker-widget a { color: ${T}; }`),I.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${T}; }`))})}),define(Q[80],J([0,1,32,11,6,542,187,15,27]),function($,e,S,k,M,y,w,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:y.localize(0,null)},fontCharacter:{type:"string",description:y.localize(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${v.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,o,t,l){const h=this.iconsById[n];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const g=this.iconReferenceSchema.enum.indexOf(n);g!==-1&&(this.iconReferenceSchema.enumDescriptions[g]=t),this._onDidChange.fire()}return h}let m={id:n,description:t,defaults:o,deprecationMessage:l};this.iconsById[n]=m;let C={$ref:"#/definitions/icons"};return l&&(C.deprecationMessage=l),t&&(C.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=C,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(h,m)=>h.id.localeCompare(m.id),o=h=>{for(;k.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const l=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of l.filter(m=>!!m.description).sort(n))t.push(`|<i class="${o(h)}"></i>|${h.id}|${k.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of l.filter(m=>!k.ThemeIcon.isThemeIcon(m.defaults)).sort(n))t.push(`|<i class="${o(h)}"></i>|${h.id}|`);return t.join(`
`)}}const _=new i;S.Registry.add(e.Extensions.IconContribution,_);function s(r,n,o,t){return _.registerIcon(r,n,o,t)}e.registerIcon=s;function a(){return _}e.getIconRegistry=a;function u(){for(const r of v.iconRegistry.all)_.registerIcon(r.id,r.definition,r.description);v.iconRegistry.onDidRegister(r=>_.registerIcon(r.id,r.definition,r.description))}u(),e.iconsSchemaId="vscode://schemas/icons";let c=S.Registry.as(w.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,_.getIconSchema());const d=new p.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);_.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=s("widget-close",v.Codicon.close,y.localize(2,null))}),define(Q[670],J([0,1,460,7,30,84,62,49,2,66,14,28,35,96,13,48,112,63,16,22,11,27,80,340]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const g=3;class f{constructor(P,F,E,x){this.originalLineStart=P,this.originalLineEnd=F,this.modifiedLineStart=E,this.modifiedLineEnd=x}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class b{constructor(P){this.entries=P}}const L=m.registerIcon("diff-review-insert",h.Codicon.add,S.localize(0,null)),N=m.registerIcon("diff-review-remove",h.Codicon.remove,S.localize(1,null)),D=m.registerIcon("diff-review-close",h.Codicon.close,S.localize(2,null));class I extends v.Disposable{constructor(P){super();this._width=0,this._diffEditor=P,this._isVisible=!1,this.shadow=M.createFastDomNode(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=M.createFastDomNode(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new y.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new p.Action("diffreview.close",S.localize(3,null),"close-diff-review "+l.ThemeIcon.asClassName(D),!0,()=>Ie(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=M.createFastDomNode(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=M.createFastDomNode(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new w.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(P.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(P.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"click",F=>{F.preventDefault();let E=k.findParentWithClass(F.target,"diff-review-row");E&&this._goToRow(E)})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"keydown",F=>{(F.equals(18)||F.equals(2048|18)||F.equals(512|18))&&(F.preventDefault(),this._goToRow(this._getNextRow())),(F.equals(16)||F.equals(2048|16)||F.equals(512|16))&&(F.preventDefault(),this._goToRow(this._getPrevRow())),(F.equals(9)||F.equals(2048|9)||F.equals(512|9)||F.equals(1024|9))&&(F.preventDefault(),this.hide()),(F.equals(10)||F.equals(3))&&(F.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let x=0,H=this._diffs.length;x<H;x++)if(this._diffs[x]===this._currentDiff){E=x;break}P=this._diffs.length+E-1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const F=this._diffs[P].entries;this._diffEditor.setPosition(new c.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let x=0,H=this._diffs.length;x<H;x++)if(this._diffs[x]===this._currentDiff){E=x;break}P=E+1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const F=this._diffs[P].entries;this._diffEditor.setPosition(new c.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let P=-1,F=this._getCurrentFocusedRow();if(F){let E=parseInt(F.getAttribute("data-line"),10);isNaN(E)||(P=E)}this.hide(),P!==-1&&(this._diffEditor.setPosition(new c.Position(P,1)),this._diffEditor.revealPosition(new c.Position(P,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let P=this._getCurrentFocusedRow();return P?P.previousElementSibling?P.previousElementSibling:P:this._getFirstRow()}_getNextRow(){let P=this._getCurrentFocusedRow();return P?P.nextElementSibling?P.nextElementSibling:P:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let P=document.activeElement;return P&&/diff-review-row/.test(P.className)?P:null}_goToRow(P){let F=this._getCurrentFocusedRow();P.tabIndex=0,P.focus(),F&&F!==P&&(F.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(P,F,E){this._width=F,this.shadow.setTop(P-6),this.shadow.setWidth(F),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(P),this.domNode.setWidth(F),this.domNode.setHeight(E),this._content.setHeight(E),this._content.setWidth(F),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const P=this._diffEditor.getLineChanges();if(!P||P.length===0)return[];const F=this._diffEditor.getOriginalEditor().getModel(),E=this._diffEditor.getModifiedEditor().getModel();return!F||!E?[]:I._mergeAdjacent(P,F.getLineCount(),E.getLineCount())}static _mergeAdjacent(P,F,E){if(!P||P.length===0)return[];let x=[],H=0;for(let ee=0,ie=P.length;ee<ie;ee++){const ae=P[ee],de=ae.originalStartLineNumber,Y=ae.originalEndLineNumber,B=ae.modifiedStartLineNumber,W=ae.modifiedEndLineNumber;let V=[],z=0;{const U=Y===0?de:de-1,X=W===0?B:B-1;let te=1,se=1;if(ee>0){const re=P[ee-1];re.originalEndLineNumber===0?te=re.originalStartLineNumber+1:te=re.originalEndLineNumber+1,re.modifiedEndLineNumber===0?se=re.modifiedStartLineNumber+1:se=re.modifiedEndLineNumber+1}let le=U-g+1,ue=X-g+1;if(le<te){const re=te-le;le=le+re,ue=ue+re}if(ue<se){const re=se-ue;le=le+re,ue=ue+re}V[z++]=new f(le,U,ue,X)}Y!==0&&(V[z++]=new f(de,Y,0,0)),W!==0&&(V[z++]=new f(0,0,B,W));{const U=Y===0?de+1:Y+1,X=W===0?B+1:W+1;let te=F,se=E;if(ee+1<ie){const re=P[ee+1];re.originalEndLineNumber===0?te=re.originalStartLineNumber:te=re.originalStartLineNumber-1,re.modifiedEndLineNumber===0?se=re.modifiedStartLineNumber:se=re.modifiedStartLineNumber-1}let le=U+g-1,ue=X+g-1;if(le>te){const re=te-le;le=le+re,ue=ue+re}if(ue>se){const re=se-ue;le=le+re,ue=ue+re}V[z++]=new f(U,le,X,ue)}x[H++]=new b(V)}let K=x[0].entries,q=[],G=0;for(let ee=1,ie=x.length;ee<ie;ee++){const ae=x[ee].entries,de=K[K.length-1],Y=ae[0];if(de.getType()===0&&Y.getType()===0&&Y.originalLineStart<=de.originalLineEnd){K[K.length-1]=new f(de.originalLineStart,Y.originalLineEnd,de.modifiedLineStart,Y.modifiedLineEnd),K=K.concat(ae.slice(1));continue}q[G++]=new b(K),K=ae}return q[G++]=new b(K),q}_findDiffIndex(P){const F=P.lineNumber;for(let E=0,x=this._diffs.length;E<x;E++){const H=this._diffs[E].entries,K=H[H.length-1].modifiedLineEnd;if(F<=K)return E}return 0}_render(){const P=this._diffEditor.getOriginalEditor().getOptions(),F=this._diffEditor.getModifiedEditor().getOptions(),E=this._diffEditor.getOriginalEditor().getModel(),x=this._diffEditor.getModifiedEditor().getModel(),H=E.getOptions(),K=x.getOptions();if(!this._isVisible||!E||!x){k.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const q=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[q]===this._currentDiff)return;this._currentDiff=this._diffs[q];const G=this._diffs[q].entries;let ee=document.createElement("div");ee.className="diff-review-table",ee.setAttribute("role","list"),ee.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(ee,F.get(40));let ie=0,ae=0,de=0,Y=0;for(let ue=0,re=G.length;ue<re;ue++){const ce=G[ue],j=ce.originalLineStart,ne=ce.originalLineEnd,Z=ce.modifiedLineStart,oe=ce.modifiedLineEnd;j!==0&&(ie===0||j<ie)&&(ie=j),ne!==0&&(ae===0||ne>ae)&&(ae=ne),Z!==0&&(de===0||Z<de)&&(de=Z),oe!==0&&(Y===0||oe>Y)&&(Y=oe)}let B=document.createElement("div");B.className="diff-review-row";let W=document.createElement("div");W.className="diff-review-cell diff-review-summary";const V=ae-ie+1,z=Y-de+1;W.appendChild(document.createTextNode(`${q+1}/${this._diffs.length}: @@ -${ie},${V} +${de},${z} @@`)),B.setAttribute("data-line",String(de));const U=ue=>ue===0?S.localize(4,null):ue===1?S.localize(5,null):S.localize(6,null,ue),X=U(V),te=U(z);B.setAttribute("aria-label",S.localize(7,null,q+1,this._diffs.length,ie,X,de,te)),B.appendChild(W),B.setAttribute("role","listitem"),ee.appendChild(B);const se=F.get(56);let le=de;for(let ue=0,re=G.length;ue<re;ue++){const ce=G[ue];I._renderSection(ee,ce,le,se,this._width,P,E,H,F,x,K),ce.modifiedLineStart!==0&&(le=ce.modifiedLineEnd)}k.clearNode(this._content.domNode),this._content.domNode.appendChild(ee),this.scrollbar.scanDomNode()}static _renderSection(P,F,E,x,H,K,q,G,ee,ie,ae){const de=F.getType();let Y="diff-review-row",B="";const W="diff-review-spacer";let V=null;switch(de){case 1:Y="diff-review-row line-insert",B=" char-insert",V=L;break;case 2:Y="diff-review-row line-delete",B=" char-delete",V=N;break}const z=F.originalLineStart,U=F.originalLineEnd,X=F.modifiedLineStart,te=F.modifiedLineEnd,se=Math.max(te-X,U-z),le=K.get(128),ue=le.glyphMarginWidth+le.lineNumbersWidth,re=ee.get(128),ce=10+re.glyphMarginWidth+re.lineNumbersWidth;for(let j=0;j<=se;j++){const ne=z===0?0:z+j,Z=X===0?0:X+j,oe=document.createElement("div");oe.style.minWidth=H+"px",oe.className=Y,oe.setAttribute("role","listitem"),Z!==0&&(E=Z),oe.setAttribute("data-line",String(E));let fe=document.createElement("div");fe.className="diff-review-cell",fe.style.height=`${x}px`,oe.appendChild(fe);const _e=document.createElement("span");_e.style.width=ue+"px",_e.style.minWidth=ue+"px",_e.className="diff-review-line-number"+B,ne!==0?_e.appendChild(document.createTextNode(String(ne))):_e.innerText="\xA0",fe.appendChild(_e);const be=document.createElement("span");be.style.width=ce+"px",be.style.minWidth=ce+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+B,Z!==0?be.appendChild(document.createTextNode(String(Z))):be.innerText="\xA0",fe.appendChild(be);const Le=document.createElement("span");if(Le.className=W,V){const De=document.createElement("span");De.className=l.ThemeIcon.asClassName(V),De.innerText="\xA0\xA0",Le.appendChild(De)}else Le.innerText="\xA0\xA0";fe.appendChild(Le);let Ee;if(Z!==0){let De=this._renderLine(ie,ee,ae.tabSize,Z);I._ttPolicy&&(De=I._ttPolicy.createHTML(De)),fe.insertAdjacentHTML("beforeend",De),Ee=ie.getLineContent(Z)}else{let De=this._renderLine(q,K,G.tabSize,ne);I._ttPolicy&&(De=I._ttPolicy.createHTML(De)),fe.insertAdjacentHTML("beforeend",De),Ee=q.getLineContent(ne)}Ee.length===0&&(Ee=S.localize(8,null));let Re="";switch(de){case 0:ne===Z?Re=S.localize(9,null,Ee,ne):Re=S.localize(10,null,Ee,ne,Z);break;case 1:Re=S.localize(11,null,Ee,Z);break;case 2:Re=S.localize(12,null,Ee,ne);break}oe.setAttribute("aria-label",Re),P.appendChild(oe)}}static _renderLine(P,F,E,x){const H=P.getLineContent(x),K=F.get(40),q=u.LineTokens.createEmpty(H),G=n.ViewLineRenderingData.isBasicASCII(H,P.mightContainNonBasicASCII()),ee=n.ViewLineRenderingData.containsRTL(H,G,P.mightContainRTL());return r.renderViewLine2(new r.RenderLineInput(K.isMonospace&&!F.get(27),K.canUseHalfwidthRightwardsArrow,H,!1,G,ee,0,q,[],E,0,K.spaceWidth,K.middotWidth,K.wsmiddotWidth,F.get(103),F.get(86),F.get(80),F.get(41)!==a.EditorFontLigatures.OFF,null)).html}}e.DiffReview=I,I._ttPolicy=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("diffReview",{createHTML:O=>O}),l.registerThemingParticipant((O,P)=>{const F=O.getColor(d.editorLineNumbers);F&&P.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${F}; }`);const E=O.getColor(t.scrollbarShadow);E&&P.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${E} 0 -6px 6px -6px inset; }`)});class T extends _.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:S.localize(13,null),alias:"Go to Next Difference",precondition:o.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(P,F){const E=R(P);E&&E.diffReviewNext()}}class A extends _.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:S.localize(14,null),alias:"Go to Previous Difference",precondition:o.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(P,F){const E=R(P);E&&E.diffReviewPrev()}}function R(O){const P=O.get(s.ICodeEditorService),F=P.listDiffEditors(),E=P.getActiveCodeEditor();if(!E)return null;for(let x=0,H=F.length;x<H;x++){const K=F[x];if(K.getModifiedEditor().getId()===E.getId()||K.getOriginalEditor().getId()===E.getId())return K}return null}_.registerEditorAction(T),_.registerEditorAction(A)}),define(Q[269],J([0,1,459,7,30,105,15,6,2,66,71,28,145,670,35,3,83,108,31,76,222,173,112,63,16,9,139,34,22,11,69,462,85,14,12,60,213,27,128,80,339]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I,T,A,R,O,P,F,E,x,H){"use strict";var K;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class q{constructor(Z,oe){this._contextMenuService=Z,this._clipboardService=oe,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Z){return Z.filter(oe=>!this._zonesMap[String(oe.id)])}clean(Z){this._zones.length>0&&Z.changeViewZones(oe=>{for(const fe of this._zones)oe.removeZone(fe)}),this._zones=[],this._zonesMap={},this._decorations=Z.deltaDecorations(this._decorations,[])}apply(Z,oe,fe,_e){const be=_e?_.StableEditorScrollState.capture(Z):null;Z.changeViewZones(Le=>{for(const Ee of this._zones)Le.removeZone(Ee);for(const Ee of this._inlineDiffMargins)Ee.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ee=0,Re=fe.zones.length;Ee<Re;Ee++){const De=fe.zones[Ee];De.suppressMouseDown=!0;const Te=Le.addZone(De);this._zones.push(Te),this._zonesMap[String(Te)]=!0,fe.zones[Ee].diff&&De.marginDomNode&&(De.suppressMouseDown=!1,this._inlineDiffMargins.push(new T.InlineDiffMargin(Te,De.marginDomNode,Z,fe.zones[Ee].diff,this._contextMenuService,this._clipboardService)))}}),be&&be.restore(Z),this._decorations=Z.deltaDecorations(this._decorations,fe.decorations),oe&&oe.setZones(fe.overviewZones)}}let G=0;const ee=H.registerIcon("diff-insert",E.Codicon.add,S.localize(0,null)),ie=H.registerIcon("diff-remove",E.Codicon.remove,S.localize(1,null)),ae=(K=window.trustedTypes)===null||K===void 0?void 0:K.createPolicy("diffEditorWidget",{createHTML:ne=>ne});let de=class je extends v.Disposable{constructor(Z,oe,fe,_e,be,Le,Ee,Re,De,Te,we,Se){super();this._editorProgressService=Se,this._onDidDispose=this._register(new p.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new p.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new p.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=be,this._codeEditorService=Re,this._contextKeyService=this._register(Le.createScoped(Z)),this._instantiationService=Ee.createChild(new b.ServiceCollection([g.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=De,this._notificationService=Te,this._id=++G,this._state=0,this._updatingDiffProgress=null,this._domElement=Z,oe=oe||{},this._renderSideBySide=!0,typeof oe.renderSideBySide!="undefined"&&(this._renderSideBySide=oe.renderSideBySide),this._maxComputationTime=5e3,typeof oe.maxComputationTime!="undefined"&&(this._maxComputationTime=oe.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof oe.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=oe.ignoreTrimWhitespace),this._renderIndicators=!0,typeof oe.renderIndicators!="undefined"&&(this._renderIndicators=oe.renderIndicators),this._originalIsEditable=c.boolean(oe.originalEditable,!1),this._diffCodeLens=c.boolean(oe.diffCodeLens,!1),this._diffWordWrap=le(oe.diffWordWrap,"inherit"),typeof oe.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",oe.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof oe.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(oe.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new w.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=M.createFastDomNode(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(k.addStandardDisposableListener(this._overviewDomElement,"mousedown",me=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(me)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new q(we,_e),this._modifiedEditorState=new q(we,_e),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new F.ElementSizeObserver(this._containerDomElement,oe.dimension,()=>this._onDidContainerSizeChanged())),oe.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(oe,fe.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(oe,fe.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new u.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof oe.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=oe.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new U(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new te(this._createDataSource(),this._enableSplitViewResizing)),this._register(De.onDidColorThemeChange(me=>{this._strategy&&this._strategy.applyColors(me)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const ye=R.EditorExtensionsRegistry.getDiffEditorContributions();for(const me of ye)try{this._register(Ee.createInstance(me.ctor,this))}catch(Ce){O.onUnexpectedError(Ce)}this._codeEditorService.addDiffEditor(this)}_setState(Z){this._state!==Z&&(this._state=Z,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Z,oe){let fe="monaco-diff-editor monaco-editor-background ";return oe&&(fe+="side-by-side "),fe+=D.getThemeTypeSelector(Z.type),fe}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Z,oe){const fe=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Z),oe);this._register(fe.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(fe.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(fe.onDidChangeConfiguration(be=>{!fe.getModel()||(be.hasChanged(40)&&this._updateDecorationsRunner.schedule(),be.hasChanged(129)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(fe.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const _e=this._contextKeyService.createKey("isInDiffLeftEditor",fe.hasWidgetFocus());return this._register(fe.onDidFocusEditorWidget(()=>_e.set(!0))),this._register(fe.onDidBlurEditorWidget(()=>_e.set(!1))),this._register(fe.onDidContentSizeChange(be=>{const Le=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+je.ONE_OVERVIEW_WIDTH,Ee=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ee,contentWidth:Le,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),fe}_createRightHandSideEditor(Z,oe){const fe=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Z),oe);this._register(fe.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(fe.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(fe.onDidChangeConfiguration(be=>{!fe.getModel()||(be.hasChanged(40)&&this._updateDecorationsRunner.schedule(),be.hasChanged(129)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(fe.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(fe.onDidChangeModelOptions(be=>{be.tabSize&&this._updateDecorationsRunner.schedule()}));const _e=this._contextKeyService.createKey("isInDiffRightEditor",fe.hasWidgetFocus());return this._register(fe.onDidFocusEditorWidget(()=>_e.set(!0))),this._register(fe.onDidBlurEditorWidget(()=>_e.set(!1))),this._register(fe.onDidContentSizeChange(be=>{const Le=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+je.ONE_OVERVIEW_WIDTH,Ee=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ee,contentWidth:Le,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),fe}_createInnerEditor(Z,oe,fe,_e){return Z.createInstance(a.CodeEditorWidget,oe,fe,_e)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Z){let oe=!1;typeof Z.renderSideBySide!="undefined"&&this._renderSideBySide!==Z.renderSideBySide&&(this._renderSideBySide=Z.renderSideBySide,oe=!0),typeof Z.maxComputationTime!="undefined"&&(this._maxComputationTime=Z.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let fe=!1;typeof Z.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==Z.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=Z.ignoreTrimWhitespace,fe=!0),typeof Z.renderIndicators!="undefined"&&this._renderIndicators!==Z.renderIndicators&&(this._renderIndicators=Z.renderIndicators,fe=!0),fe&&this._beginUpdateDecorations(),this._originalIsEditable=c.boolean(Z.originalEditable,this._originalIsEditable),this._diffCodeLens=c.boolean(Z.diffCodeLens,this._diffCodeLens),this._diffWordWrap=le(Z.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Z)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Z)),typeof Z.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=Z.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),oe&&(this._renderSideBySide?this._setStrategy(new U(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new te(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof Z.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==Z.renderOverviewRuler&&(this._renderOverviewRuler=Z.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Z){if(Z&&(!Z.original||!Z.modified))throw new Error(Z.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Z?Z.original:null),this._modifiedEditor.setModel(Z?Z.modified:null),this._updateDecorationsRunner.cancel(),Z&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Z&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(Z){return this._modifiedEditor.getVisibleColumnFromPosition(Z)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Z){this._modifiedEditor.setPosition(Z)}revealLine(Z,oe=0){this._modifiedEditor.revealLine(Z,oe)}revealLineInCenter(Z,oe=0){this._modifiedEditor.revealLineInCenter(Z,oe)}revealLineInCenterIfOutsideViewport(Z,oe=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Z,oe)}revealLineNearTop(Z,oe=0){this._modifiedEditor.revealLineNearTop(Z,oe)}revealPosition(Z,oe=0){this._modifiedEditor.revealPosition(Z,oe)}revealPositionInCenter(Z,oe=0){this._modifiedEditor.revealPositionInCenter(Z,oe)}revealPositionInCenterIfOutsideViewport(Z,oe=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Z,oe)}revealPositionNearTop(Z,oe=0){this._modifiedEditor.revealPositionNearTop(Z,oe)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Z){this._modifiedEditor.setSelection(Z)}setSelections(Z){this._modifiedEditor.setSelections(Z)}revealLines(Z,oe,fe=0){this._modifiedEditor.revealLines(Z,oe,fe)}revealLinesInCenter(Z,oe,fe=0){this._modifiedEditor.revealLinesInCenter(Z,oe,fe)}revealLinesInCenterIfOutsideViewport(Z,oe,fe=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Z,oe,fe)}revealLinesNearTop(Z,oe,fe=0){this._modifiedEditor.revealLinesNearTop(Z,oe,fe)}revealRange(Z,oe=0,fe=!1,_e=!0){this._modifiedEditor.revealRange(Z,oe,fe,_e)}revealRangeInCenter(Z,oe=0){this._modifiedEditor.revealRangeInCenter(Z,oe)}revealRangeInCenterIfOutsideViewport(Z,oe=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Z,oe)}revealRangeNearTop(Z,oe=0){this._modifiedEditor.revealRangeNearTop(Z,oe)}revealRangeNearTopIfOutsideViewport(Z,oe=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Z,oe)}revealRangeAtTop(Z,oe=0){this._modifiedEditor.revealRangeAtTop(Z,oe)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const Z=this._originalEditor.saveViewState(),oe=this._modifiedEditor.saveViewState();return{original:Z,modified:oe}}restoreViewState(Z){if(Z&&Z.original&&Z.modified){const oe=Z;this._originalEditor.restoreViewState(oe.original),this._modifiedEditor.restoreViewState(oe.modified)}}layout(Z){this._elementSizeObserver.observe(Z)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Z,oe,fe){this._modifiedEditor.trigger(Z,oe,fe)}changeDecorations(Z){return this._modifiedEditor.changeDecorations(Z)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Z=this._elementSizeObserver.getHeight(),oe=this._getReviewHeight(),fe=je.ENTIRE_DIFF_OVERVIEW_WIDTH-2*je.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:je.ONE_OVERVIEW_WIDTH,right:fe+je.ONE_OVERVIEW_WIDTH,height:Z-oe}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:je.ONE_OVERVIEW_WIDTH,height:Z-oe}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),je.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Z,oe){return!Z&&!oe?!0:!Z||!oe?!1:Z.toString()===oe.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Z=this._originalEditor.getModel(),oe=this._modifiedEditor.getModel();if(!Z||!oe)return;this._diffComputationToken++;const fe=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(Z.uri,oe.uri)){(!je._equals(Z.uri,this._lastOriginalWarning)||!je._equals(oe.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Z.uri,this._lastModifiedWarning=oe.uri,this._notificationService.warn(S.localize(2,null)));return}this._editorWorkerService.computeDiff(Z.uri,oe.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(_e=>{fe===this._diffComputationToken&&Z===this._originalEditor.getModel()&&oe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=_e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},_e=>{fe===this._diffComputationToken&&Z===this._originalEditor.getModel()&&oe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Z=this._diffComputationResult?this._diffComputationResult.changes:[],oe=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),fe=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),_e=this._strategy.getEditorsDiffDecorations(Z,this._ignoreTrimWhitespace,this._renderIndicators,oe,fe);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,_e.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,_e.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Z){const oe=Object.assign({},Z);return oe.inDiffEditor=!0,oe.automaticLayout=!1,oe.scrollbar=Object.assign({},oe.scrollbar||{}),oe.scrollbar.vertical="visible",oe.folding=!1,oe.codeLens=this._diffCodeLens,oe.fixedOverflowWidgets=!0,oe.minimap=Object.assign({},oe.minimap||{}),oe.minimap.enabled=!1,oe}_adjustOptionsForLeftHandSide(Z){const oe=this._adjustOptionsForSubEditor(Z);return this._renderSideBySide?oe.wordWrapOverride1=this._diffWordWrap:oe.wordWrapOverride1="off",Z.originalAriaLabel&&(oe.ariaLabel=Z.originalAriaLabel),oe.readOnly=!this._originalIsEditable,oe.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},oe),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Z){const oe=this._adjustOptionsForSubEditor(Z);return Z.modifiedAriaLabel&&(oe.ariaLabel=Z.modifiedAriaLabel),oe.wordWrapOverride1=this._diffWordWrap,oe.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+je.ENTIRE_DIFF_OVERVIEW_WIDTH,oe.scrollbar.verticalHasArrows=!1,oe.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},oe),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Z=this._elementSizeObserver.getWidth(),oe=this._elementSizeObserver.getHeight(),fe=this._getReviewHeight(),_e=this._strategy.layout();this._originalDomNode.style.width=_e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Z-_e+"px",this._modifiedDomNode.style.left=_e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=oe-fe+"px",this._overviewDomElement.style.width=je.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Z-je.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(je.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:_e,height:oe-fe}),this._modifiedEditor.layout({width:Z-_e-(this._renderOverviewRuler?je.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:oe-fe}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(oe-fe,Z,fe),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Z=this._computeOverviewViewport();Z?(this._overviewViewportDomElement.setTop(Z.top),this._overviewViewportDomElement.setHeight(Z.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Z=this._modifiedEditor.getLayoutInfo();if(!Z)return null;const oe=this._modifiedEditor.getScrollTop(),fe=this._modifiedEditor.getScrollHeight(),_e=Math.max(0,Z.height),be=Math.max(0,_e-2*0),Le=fe>0?be/fe:0,Ee=Math.max(0,Math.floor(Z.height*Le)),Re=Math.floor(oe*Le);return{height:Ee,top:Re}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Z){this._strategy&&this._strategy.dispose(),this._strategy=Z,Z.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Z,oe){const fe=this._diffComputationResult?this._diffComputationResult.changes:[];if(fe.length===0||Z<oe(fe[0]))return null;let _e=0,be=fe.length-1;for(;_e<be;){const Le=Math.floor((_e+be)/2),Ee=oe(fe[Le]),Re=Le+1<=be?oe(fe[Le+1]):1073741824;Z<Ee?be=Le-1:Z>=Re?_e=Le+1:(_e=Le,be=Le)}return fe[_e]}_getEquivalentLineForOriginalLineNumber(Z){const oe=this._getLineChangeAtOrBeforeLineNumber(Z,Re=>Re.originalStartLineNumber);if(!oe)return Z;const fe=oe.originalStartLineNumber+(oe.originalEndLineNumber>0?-1:0),_e=oe.modifiedStartLineNumber+(oe.modifiedEndLineNumber>0?-1:0),be=oe.originalEndLineNumber>0?oe.originalEndLineNumber-oe.originalStartLineNumber+1:0,Le=oe.modifiedEndLineNumber>0?oe.modifiedEndLineNumber-oe.modifiedStartLineNumber+1:0,Ee=Z-fe;return Ee<=be?_e+Math.min(Ee,Le):_e+Le-be+Ee}_getEquivalentLineForModifiedLineNumber(Z){const oe=this._getLineChangeAtOrBeforeLineNumber(Z,Re=>Re.modifiedStartLineNumber);if(!oe)return Z;const fe=oe.originalStartLineNumber+(oe.originalEndLineNumber>0?-1:0),_e=oe.modifiedStartLineNumber+(oe.modifiedEndLineNumber>0?-1:0),be=oe.originalEndLineNumber>0?oe.originalEndLineNumber-oe.originalStartLineNumber+1:0,Le=oe.modifiedEndLineNumber>0?oe.modifiedEndLineNumber-oe.modifiedStartLineNumber+1:0,Ee=Z-_e;return Ee<=Le?fe+Math.min(Ee,be):fe+be-Le+Ee}getDiffLineInformationForOriginal(Z){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Z)}:null}getDiffLineInformationForModified(Z){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Z)}:null}};de.ONE_OVERVIEW_WIDTH=15,de.ENTIRE_DIFF_OVERVIEW_WIDTH=30,de.UPDATE_DIFF_DECORATIONS_DELAY=200,de=Me([pe(3,A.IClipboardService),pe(4,t.IEditorWorkerService),pe(5,g.IContextKeyService),pe(6,f.IInstantiationService),pe(7,s.ICodeEditorService),pe(8,D.IThemeService),pe(9,L.INotificationService),pe(10,I.IContextMenuService),pe(11,P.IEditorProgressService)],de),e.DiffEditorWidget=de;class Y extends v.Disposable{constructor(Z){super();this._dataSource=Z,this._insertColor=null,this._removeColor=null}applyColors(Z){const oe=(Z.getColor(N.diffInserted)||N.defaultInsertColor).transparent(2),fe=(Z.getColor(N.diffRemoved)||N.defaultRemoveColor).transparent(2),_e=!oe.equals(this._insertColor)||!fe.equals(this._removeColor);return this._insertColor=oe,this._removeColor=fe,_e}getEditorsDiffDecorations(Z,oe,fe,_e,be){be=be.sort((De,Te)=>De.afterLineNumber-Te.afterLineNumber),_e=_e.sort((De,Te)=>De.afterLineNumber-Te.afterLineNumber);const Le=this._getViewZones(Z,_e,be,fe),Ee=this._getOriginalEditorDecorations(Z,oe,fe),Re=this._getModifiedEditorDecorations(Z,oe,fe);return{original:{decorations:Ee.decorations,overviewZones:Ee.overviewZones,zones:Le.original},modified:{decorations:Re.decorations,overviewZones:Re.overviewZones,zones:Le.modified}}}}class B{constructor(Z){this._source=Z,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class W{constructor(Z,oe,fe,_e,be){this._lineChanges=Z,this._originalForeignVZ=oe,this._modifiedForeignVZ=fe,this._originalEditor=_e,this._modifiedEditor=be}static _getViewLineCount(Z,oe,fe){const _e=Z.getModel(),be=Z._getViewModel();if(_e&&be){const Le=j(_e,be,oe,fe);return Le.endLineNumber-Le.startLineNumber+1}return fe-oe+1}getViewZones(){const Z=this._originalEditor.getOption(56),oe=this._modifiedEditor.getOption(56),fe=this._originalEditor.getOption(129).wrappingColumn!==-1,_e=this._modifiedEditor.getOption(129).wrappingColumn!==-1,be=fe||_e,Le=this._originalEditor.getModel(),Ee=this._originalEditor._getViewModel().coordinatesConverter,Re=this._modifiedEditor._getViewModel().coordinatesConverter,De={original:[],modified:[]};let Te=0,we=0,Se=0,ye=0,me=0,Ce=0;const he=(Pe,Fe)=>Pe.afterLineNumber-Fe.afterLineNumber,ge=(Pe,Fe)=>{if(Fe.domNode===null&&Pe.length>0){const Oe=Pe[Pe.length-1];if(Oe.afterLineNumber===Fe.afterLineNumber&&Oe.domNode===null){Oe.heightInLines+=Fe.heightInLines;return}}Pe.push(Fe)},ve=new B(this._modifiedForeignVZ),ke=new B(this._originalForeignVZ);let Ne=1,Ae=1;for(let Pe=0,Fe=this._lineChanges.length;Pe<=Fe;Pe++){const Oe=Pe<Fe?this._lineChanges[Pe]:null;Oe!==null?(Se=Oe.originalStartLineNumber+(Oe.originalEndLineNumber>0?-1:0),ye=Oe.modifiedStartLineNumber+(Oe.modifiedEndLineNumber>0?-1:0),we=Oe.originalEndLineNumber>0?W._getViewLineCount(this._originalEditor,Oe.originalStartLineNumber,Oe.originalEndLineNumber):0,Te=Oe.modifiedEndLineNumber>0?W._getViewLineCount(this._modifiedEditor,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber):0,me=Math.max(Oe.originalStartLineNumber,Oe.originalEndLineNumber),Ce=Math.max(Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber)):(Se+=1e7+we,ye+=1e7+Te,me=Se,Ce=ye);let xe=[],We=[];if(be){let Be;Oe?Oe.originalEndLineNumber>0?Be=Oe.originalStartLineNumber-Ne:Be=Oe.modifiedStartLineNumber-Ae:Be=Le.getLineCount()-Ne;for(let He=0;He<Be;He++){const Ve=Ne+He,Ue=Ae+He,Ge=Ee.getModelLineViewLineCount(Ve),$e=Re.getModelLineViewLineCount(Ue);Ge<$e?xe.push({afterLineNumber:Ve,heightInLines:$e-Ge,domNode:null,marginDomNode:null}):Ge>$e&&We.push({afterLineNumber:Ue,heightInLines:Ge-$e,domNode:null,marginDomNode:null})}Oe&&(Ne=(Oe.originalEndLineNumber>0?Oe.originalEndLineNumber:Oe.originalStartLineNumber)+1,Ae=(Oe.modifiedEndLineNumber>0?Oe.modifiedEndLineNumber:Oe.modifiedStartLineNumber)+1)}for(;ve.current&&ve.current.afterLineNumber<=Ce;){let Be;ve.current.afterLineNumber<=ye?Be=Se-ye+ve.current.afterLineNumber:Be=me;let He=null;Oe&&Oe.modifiedStartLineNumber<=ve.current.afterLineNumber&&ve.current.afterLineNumber<=Oe.modifiedEndLineNumber&&(He=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:Be,heightInLines:ve.current.height/oe,domNode:null,marginDomNode:He}),ve.advance()}for(;ke.current&&ke.current.afterLineNumber<=me;){let Be;ke.current.afterLineNumber<=Se?Be=ye-Se+ke.current.afterLineNumber:Be=Ce,We.push({afterLineNumber:Be,heightInLines:ke.current.height/Z,domNode:null}),ke.advance()}if(Oe!==null&&ue(Oe)){const Be=this._produceOriginalFromDiff(Oe,we,Te);Be&&xe.push(Be)}if(Oe!==null&&re(Oe)){const Be=this._produceModifiedFromDiff(Oe,we,Te);Be&&We.push(Be)}let ze=0,Ke=0;for(xe=xe.sort(he),We=We.sort(he);ze<xe.length&&Ke<We.length;){const Be=xe[ze],He=We[Ke],Ve=Be.afterLineNumber-Se,Ue=He.afterLineNumber-ye;Ve<Ue?(ge(De.original,Be),ze++):Ue<Ve?(ge(De.modified,He),Ke++):Be.shouldNotShrink?(ge(De.original,Be),ze++):He.shouldNotShrink?(ge(De.modified,He),Ke++):Be.heightInLines>=He.heightInLines?(Be.heightInLines-=He.heightInLines,Ke++):(He.heightInLines-=Be.heightInLines,ze++)}for(;ze<xe.length;)ge(De.original,xe[ze]),ze++;for(;Ke<We.length;)ge(De.modified,We[Ke]),Ke++}return{original:W._ensureDomNodes(De.original),modified:W._ensureDomNodes(De.modified)}}static _ensureDomNodes(Z){return Z.map(oe=>(oe.domNode||(oe.domNode=ce()),oe))}}function V(ne,Z,oe,fe,_e){return{range:new d.Range(ne,Z,oe,fe),options:_e}}const z={charDelete:o.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:o.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:o.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:o.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:o.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:o.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+D.ThemeIcon.asClassName(ee),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:o.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:o.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+D.ThemeIcon.asClassName(ie),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:o.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class U extends Y{constructor(Z,oe){super(Z);this._disableSash=oe===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new y.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(fe=>this._onSashDrag(fe)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Z){const oe=Z===!1;this._disableSash!==oe&&(this._disableSash=oe,this._sash.state=this._disableSash?0:3)}layout(Z=this._sashRatio){const fe=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let _e=Math.floor((Z||.5)*fe);const be=Math.floor(.5*fe);return _e=this._disableSash?be:_e||be,fe>U.MINIMUM_EDITOR_WIDTH*2?(_e<U.MINIMUM_EDITOR_WIDTH&&(_e=U.MINIMUM_EDITOR_WIDTH),_e>fe-U.MINIMUM_EDITOR_WIDTH&&(_e=fe-U.MINIMUM_EDITOR_WIDTH)):_e=be,this._sashPosition!==_e&&(this._sashPosition=_e,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Z){const fe=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0),_e=this.layout((this._startSashPosition+(Z.currentX-Z.startX))/fe);this._sashRatio=_e/fe,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Z){return 0}getVerticalSashLeft(Z){return this._sashPosition}getVerticalSashHeight(Z){return this._dataSource.getHeight()}_getViewZones(Z,oe,fe){const _e=this._dataSource.getOriginalEditor(),be=this._dataSource.getModifiedEditor();return new X(Z,oe,fe,_e,be).getViewZones()}_getOriginalEditorDecorations(Z,oe,fe){const _e=this._dataSource.getOriginalEditor(),be=String(this._removeColor),Le={decorations:[],overviewZones:[]},Ee=_e.getModel(),Re=_e._getViewModel();for(const De of Z)if(re(De)){Le.decorations.push({range:new d.Range(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824),options:fe?z.lineDeleteWithSign:z.lineDelete}),(!ue(De)||!De.charChanges)&&Le.decorations.push(V(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const Te=j(Ee,Re,De.originalStartLineNumber,De.originalEndLineNumber);if(Le.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,be)),De.charChanges){for(const we of De.charChanges)if(re(we))if(oe)for(let Se=we.originalStartLineNumber;Se<=we.originalEndLineNumber;Se++){let ye,me;Se===we.originalStartLineNumber?ye=we.originalStartColumn:ye=Ee.getLineFirstNonWhitespaceColumn(Se),Se===we.originalEndLineNumber?me=we.originalEndColumn:me=Ee.getLineLastNonWhitespaceColumn(Se),Le.decorations.push(V(Se,ye,Se,me,z.charDelete))}else Le.decorations.push(V(we.originalStartLineNumber,we.originalStartColumn,we.originalEndLineNumber,we.originalEndColumn,z.charDelete))}}return Le}_getModifiedEditorDecorations(Z,oe,fe){const _e=this._dataSource.getModifiedEditor(),be=String(this._insertColor),Le={decorations:[],overviewZones:[]},Ee=_e.getModel(),Re=_e._getViewModel();for(const De of Z)if(ue(De)){Le.decorations.push({range:new d.Range(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824),options:fe?z.lineInsertWithSign:z.lineInsert}),(!re(De)||!De.charChanges)&&Le.decorations.push(V(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const Te=j(Ee,Re,De.modifiedStartLineNumber,De.modifiedEndLineNumber);if(Le.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,be)),De.charChanges){for(const we of De.charChanges)if(ue(we))if(oe)for(let Se=we.modifiedStartLineNumber;Se<=we.modifiedEndLineNumber;Se++){let ye,me;Se===we.modifiedStartLineNumber?ye=we.modifiedStartColumn:ye=Ee.getLineFirstNonWhitespaceColumn(Se),Se===we.modifiedEndLineNumber?me=we.modifiedEndColumn:me=Ee.getLineLastNonWhitespaceColumn(Se),Le.decorations.push(V(Se,ye,Se,me,z.charInsert))}else Le.decorations.push(V(we.modifiedStartLineNumber,we.modifiedStartColumn,we.modifiedEndLineNumber,we.modifiedEndColumn,z.charInsert))}}return Le}}U.MINIMUM_EDITOR_WIDTH=100;class X extends W{constructor(Z,oe,fe,_e,be){super(Z,oe,fe,_e,be)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Z,oe,fe){return fe>oe?{afterLineNumber:Math.max(Z.originalStartLineNumber,Z.originalEndLineNumber),heightInLines:fe-oe,domNode:null}:null}_produceModifiedFromDiff(Z,oe,fe){return oe>fe?{afterLineNumber:Math.max(Z.modifiedStartLineNumber,Z.modifiedEndLineNumber),heightInLines:oe-fe,domNode:null}:null}}class te extends Y{constructor(Z,oe){super(Z);this._decorationsLeft=Z.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Z.getOriginalEditor().onDidLayoutChange(fe=>{this._decorationsLeft!==fe.decorationsLeft&&(this._decorationsLeft=fe.decorationsLeft,Z.relayoutEditors())}))}setEnableSplitViewResizing(Z){}_getViewZones(Z,oe,fe,_e){const be=this._dataSource.getOriginalEditor(),Le=this._dataSource.getModifiedEditor();return new se(Z,oe,fe,be,Le,_e).getViewZones()}_getOriginalEditorDecorations(Z,oe,fe){const _e=String(this._removeColor),be={decorations:[],overviewZones:[]},Le=this._dataSource.getOriginalEditor(),Ee=Le.getModel(),Re=Le._getViewModel();for(const De of Z)if(re(De)){be.decorations.push({range:new d.Range(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});const Te=j(Ee,Re,De.originalStartLineNumber,De.originalEndLineNumber);be.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,_e))}return be}_getModifiedEditorDecorations(Z,oe,fe){const _e=this._dataSource.getModifiedEditor(),be=String(this._insertColor),Le={decorations:[],overviewZones:[]},Ee=_e.getModel(),Re=_e._getViewModel();for(const De of Z)if(ue(De)){Le.decorations.push({range:new d.Range(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824),options:fe?z.lineInsertWithSign:z.lineInsert});const Te=j(Ee,Re,De.modifiedStartLineNumber,De.modifiedEndLineNumber);if(Le.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,be)),De.charChanges){for(const we of De.charChanges)if(ue(we))if(oe)for(let Se=we.modifiedStartLineNumber;Se<=we.modifiedEndLineNumber;Se++){let ye,me;Se===we.modifiedStartLineNumber?ye=we.modifiedStartColumn:ye=Ee.getLineFirstNonWhitespaceColumn(Se),Se===we.modifiedEndLineNumber?me=we.modifiedEndColumn:me=Ee.getLineLastNonWhitespaceColumn(Se),Le.decorations.push(V(Se,ye,Se,me,z.charInsert))}else Le.decorations.push(V(we.modifiedStartLineNumber,we.modifiedStartColumn,we.modifiedEndLineNumber,we.modifiedEndColumn,z.charInsert))}else Le.decorations.push(V(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return Le}layout(){return Math.max(5,this._decorationsLeft)}}class se extends W{constructor(Z,oe,fe,_e,be,Le){super(Z,oe,fe,_e,be);this._originalModel=_e.getModel(),this._renderIndicators=Le,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Z=super.getViewZones();return this._finalize(Z),Z}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Z=document.createElement("div");return Z.className="inline-added-margin-view-zone",Z}_produceOriginalFromDiff(Z,oe,fe){const _e=document.createElement("div");return _e.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Z.originalStartLineNumber,Z.originalEndLineNumber),heightInLines:fe,domNode:document.createElement("div"),marginDomNode:_e}}_produceModifiedFromDiff(Z,oe,fe){const _e=document.createElement("div");_e.className=`view-lines line-delete ${x.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const be=document.createElement("div");be.className="inline-deleted-margin-view-zone";const Le={shouldNotShrink:!0,afterLineNumber:Z.modifiedEndLineNumber===0?Z.modifiedStartLineNumber:Z.modifiedStartLineNumber-1,heightInLines:oe,minWidthInPx:0,domNode:_e,marginDomNode:be,diff:{originalStartLineNumber:Z.originalStartLineNumber,originalEndLineNumber:Z.originalEndLineNumber,modifiedStartLineNumber:Z.modifiedStartLineNumber,modifiedEndLineNumber:Z.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ee=Z.originalStartLineNumber;Ee<=Z.originalEndLineNumber;Ee++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ee),null);return this._pendingLineChange.push(Z),this._pendingViewZones.push(Le),Le}_finalize(Z){const oe=this._modifiedEditor.getOptions(),fe=this._modifiedEditor.getModel().getOptions().tabSize,_e=oe.get(40),be=oe.get(27),Le=_e.typicalHalfwidthCharacterWidth,Ee=oe.get(91),Re=this._originalModel.mightContainNonBasicASCII(),De=this._originalModel.mightContainRTL(),Te=oe.get(56),Se=oe.get(128).decorationsWidth,ye=oe.get(103),me=oe.get(86),Ce=oe.get(80),he=oe.get(41),ge=this._lineBreaksComputer.finalize();let ve=0;for(let ke=0;ke<this._pendingLineChange.length;ke++){const Ne=this._pendingLineChange[ke],Ae=this._pendingViewZones[ke],Pe=Ae.domNode;i.Configuration.applyFontInfoSlow(Pe,_e);const Fe=Ae.marginDomNode;i.Configuration.applyFontInfoSlow(Fe,_e);const Oe=[];if(Ne.charChanges)for(const Ue of Ne.charChanges)re(Ue)&&Oe.push(new C.InlineDecoration(new d.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const xe=Oe.length>0,We=r.createStringBuilder(1e4);let ze=0,Ke=0,Be=null;for(let Ue=Ne.originalStartLineNumber;Ue<=Ne.originalEndLineNumber;Ue++){const Ge=Ue-Ne.originalStartLineNumber,$e=this._originalModel.getLineTokens(Ue),Qe=$e.getLineContent(),Ye=ge[ve++],Xe=h.LineDecoration.filter(Oe,Ue,1,Qe.length+1);if(Ye){let Ze=0;for(const et of Ye.breakOffsets){const at=$e.sliceAndInflate(Ze,et,0),nt=Qe.substring(Ze,et);ze=Math.max(ze,this._renderOriginalLine(Ke++,nt,at,h.LineDecoration.extractWrapped(Xe,Ze,et),xe,Re,De,_e,be,Te,Se,ye,me,Ce,he,fe,We,Fe)),Ze=et}for(Be||(Be=[]);Be.length<Ge;)Be[Be.length]=1;Be[Ge]=Ye.breakOffsets.length,Ae.heightInLines+=Ye.breakOffsets.length-1;const Je=document.createElement("div");Je.className="line-delete",Z.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:Ye.breakOffsets.length-1,domNode:ce(),marginDomNode:Je})}else ze=Math.max(ze,this._renderOriginalLine(Ke++,Qe,$e,Xe,xe,Re,De,_e,be,Te,Se,ye,me,Ce,he,fe,We,Fe))}ze+=Ee;const He=We.build(),Ve=ae?ae.createHTML(He):He;if(Pe.innerHTML=Ve,Ae.minWidthInPx=ze*Le,Be){const Ue=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;Be.length<=Ue;)Be[Be.length]=1}Ae.diff.viewLineCounts=Be}Z.original.sort((ke,Ne)=>ke.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(Z,oe,fe,_e,be,Le,Ee,Re,De,Te,we,Se,ye,me,Ce,he,ge,ve){ge.appendASCIIString('<div class="view-line'),be||ge.appendASCIIString(" char-delete"),ge.appendASCIIString('" style="top:'),ge.appendASCIIString(String(Z*Te)),ge.appendASCIIString('px;width:1000000px;">');const ke=C.ViewLineRenderingData.isBasicASCII(oe,Le),Ne=C.ViewLineRenderingData.containsRTL(oe,ke,Ee),Ae=m.renderViewLine(new m.RenderLineInput(Re.isMonospace&&!De,Re.canUseHalfwidthRightwardsArrow,oe,!1,ke,Ne,0,fe,_e,he,0,Re.spaceWidth,Re.middotWidth,Re.wsmiddotWidth,Se,ye,me,Ce!==c.EditorFontLigatures.OFF,null),ge);if(ge.appendASCIIString("</div>"),this._renderIndicators){const Fe=document.createElement("div");Fe.className=`delete-sign ${D.ThemeIcon.asClassName(ie)}`,Fe.setAttribute("style",`position:absolute;top:${Z*Te}px;width:${we}px;height:${Te}px;right:0;`),ve.appendChild(Fe)}const Pe=Ae.characterMapping.getAbsoluteOffsets();return Pe.length>0?Pe[Pe.length-1]:0}}function le(ne,Z){return c.stringSet(ne,Z,["off","on","inherit"])}function ue(ne){return ne.modifiedEndLineNumber>0}function re(ne){return ne.originalEndLineNumber>0}function ce(){const ne=document.createElement("div");return ne.className="diagonal-fill",ne}function j(ne,Z,oe,fe){const _e=ne.getLineCount();return oe=Math.min(_e,Math.max(1,oe)),fe=Math.min(_e,Math.max(1,fe)),Z.coordinatesConverter.convertModelRangeToViewRange(new d.Range(oe,ne.getLineMinColumn(oe),fe,ne.getLineMaxColumn(fe)))}D.registerThemingParticipant((ne,Z)=>{const oe=ne.getColor(N.diffInserted);oe&&(Z.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${oe}; }`),Z.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${oe}; }`),Z.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${oe}; }`));const fe=ne.getColor(N.diffRemoved);fe&&(Z.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${fe}; }`),Z.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${fe}; }`),Z.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${fe}; }`));const _e=ne.getColor(N.diffInsertedOutline);_e&&Z.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${ne.type==="hc"?"dashed":"solid"} ${_e}; }`);const be=ne.getColor(N.diffRemovedOutline);be&&Z.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${ne.type==="hc"?"dashed":"solid"} ${be}; }`);const Le=ne.getColor(N.scrollbarShadow);Le&&Z.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Le}; }`);const Ee=ne.getColor(N.diffBorder);Ee&&Z.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ee}; }`);const Re=ne.getColor(N.scrollbarSliderBackground);Re&&Z.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Re};
			}
		`);const De=ne.getColor(N.scrollbarSliderHoverBackground);De&&Z.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${De};
			}
		`);const Te=ne.getColor(N.scrollbarSliderActiveBackground);Te&&Z.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Te};
			}
		`);const we=ne.getColor(N.diffDiagonalFill);Z.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${we} 12.5%,
			#0000 12.5%, #0000 50%,
			${we} 50%, ${we} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(Q[671],J([0,1,483,7,42,162,105,51,15,12,2,17,8,3,143,22,11,585,27,80,348]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const l=t.registerIcon("find-selection",o.Codicon.selection,S.localize(0,null)),h=t.registerIcon("find-collapsed",o.Codicon.chevronRight,S.localize(1,null)),m=t.registerIcon("find-expanded",o.Codicon.chevronDown,S.localize(2,null));e.findReplaceIcon=t.registerIcon("find-replace",o.Codicon.replace,S.localize(3,null)),e.findReplaceAllIcon=t.registerIcon("find-replace-all",o.Codicon.replaceAll,S.localize(4,null)),e.findPreviousMatchIcon=t.registerIcon("find-previous-match",o.Codicon.arrowUp,S.localize(5,null)),e.findNextMatchIcon=t.registerIcon("find-next-match",o.Codicon.arrowDown,S.localize(6,null));const C=S.localize(7,null),g=S.localize(8,null),f=S.localize(9,null),b=S.localize(10,null),L=S.localize(11,null),N=S.localize(12,null),D=S.localize(13,null),I=S.localize(14,null),T=S.localize(15,null),A=S.localize(16,null),R=S.localize(17,null),O=S.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=S.localize(19,null),e.NLS_NO_RESULTS=S.localize(20,null);const P=419,E=275-54;let x=69;const H=33,K="ctrlEnterReplaceAll.windows.donotask",q=s.isMacintosh?256:2048;class G{constructor(B){this.afterLineNumber=B,this.heightInPx=H,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=G;function ee(Y,B,W){const V=!!B.match(/\n/);if(W&&V&&W.selectionStart>0){Y.stopPropagation();return}}function ie(Y,B,W){const V=!!B.match(/\n/);if(W&&V&&W.selectionEnd<W.value.length){Y.stopPropagation();return}}class ae extends p.Widget{constructor(B,W,V,z,U,X,te,se,le){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=B,this._controller=W,this._state=V,this._contextViewProvider=z,this._keybindingService=U,this._contextKeyService=X,this._storageService=se,this._notificationService=le,this._ctrlEnterReplaceAllWarningPrompted=!!se.getBoolean(K,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new v.Delayer(500),this._register(_.toDisposable(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ue=>this._onStateChanged(ue))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ue=>{if(ue.hasChanged(78)&&(this._codeEditor.getOption(78)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ue.hasChanged(128)&&this._tryUpdateWidgetWidth(),ue.hasChanged(2)&&this.updateAccessibilitySupport(),ue.hasChanged(33)){const re=this._codeEditor.getOption(33).addExtraSpaceOnTop;re&&!this._viewZone&&(this._viewZone=new G(0),this._showViewZone()),!re&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ie(this,void 0,void 0,function*(){if(this._isVisible){let ue=yield this._controller.getGlobalBufferTerm();ue&&ue!==this._state.searchString&&(this._state.change({searchString:ue},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(X),this._findFocusTracker=this._register(k.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(X),this._replaceFocusTracker=this._register(k.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new G(0)),this._applyTheme(te.getColorTheme()),this._register(te.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ue=>{if(ue.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ae.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(B){if(B.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(B.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),B.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),B.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(78)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(B.isRevealed||B.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),B.isRegex&&this._findInput.setRegex(this._state.isRegex),B.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),B.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),B.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),B.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),B.searchString||B.matchesCount||B.matchesPosition){let W=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",W),this._updateMatchesCount(),this._updateButtons()}(B.searchString||B.currentMatch)&&this._layoutViewZone(),B.updateHistory&&this._delayedUpdateHistory(),B.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=x+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=O:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let B;if(this._state.matchesCount>0){let W=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(W+="+");let V=String(this._state.matchesPosition);V==="0"&&(V="?"),B=a.format(e.NLS_MATCHES_LOCATION,V,W)}else B=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(B)),M.alert(this._getAriaLabel(B,this._state.currentMatch,this._state.searchString)),x=Math.max(x,this._matchesCount.clientWidth)}_getAriaLabel(B,W,V){if(B===e.NLS_NO_RESULTS)return V===""?S.localize(21,null,B):S.localize(22,null,B,V);if(W){const z=S.localize(23,null,B,V,W.startLineNumber+":"+W.startColumn),U=this._codeEditor.getModel();return U&&W.startLineNumber<=U.getLineCount()&&W.startLineNumber>=1?`${U.getLineContent(W.startLineNumber)}, ${z}`:z}return S.localize(24,null,B,V)}_updateToggleSelectionFindButton(){let B=this._codeEditor.getSelection(),W=B?B.startLineNumber!==B.endLineNumber||B.startColumn!==B.endColumn:!1,V=this._toggleSelectionFind.checked;this._isVisible&&(V||W)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let B=this._state.searchString.length>0,W=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&B&&W&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&B&&W&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let V=!this._codeEditor.getOption(78);this._toggleReplaceBtn.setEnabled(this._isVisible&&V)}_reveal(){if(this._revealTimeouts.forEach(B=>{clearTimeout(B)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const B=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const V=!!B&&B.startLineNumber!==B.endLineNumber;this._toggleSelectionFind.checked=V;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let W=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&B){const V=this._codeEditor.getDomNode();if(V){const z=k.getDomNodePagePosition(V),U=this._codeEditor.getScrolledVisiblePosition(B.getStartPosition()),X=z.left+(U?U.left:0),te=U?U.top:0;if(this._viewZone&&te<this._viewZone.heightInPx){B.endLineNumber>B.startLineNumber&&(W=!1);const se=k.getTopLeftOffset(this._domNode).left;X>se&&(W=!1);const le=this._codeEditor.getScrolledVisiblePosition(B.getEndPosition());z.left+(le?le.left:0)>se&&(W=!1)}}}this._showViewZone(W)}}_hide(B){this._revealTimeouts.forEach(W=>{clearTimeout(W)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),B&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(B){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const V=this._viewZone;this._viewZoneId!==void 0||!V||this._codeEditor.changeViewZones(z=>{V.heightInPx=this._getHeight(),this._viewZoneId=z.addZone(V),this._codeEditor.setScrollTop(B||this._codeEditor.getScrollTop()+V.heightInPx)})}_showViewZone(B=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new G(0));const V=this._viewZone;this._codeEditor.changeViewZones(z=>{if(this._viewZoneId!==void 0){const U=this._getHeight();if(U===V.heightInPx)return;let X=U-V.heightInPx;V.heightInPx=U,z.layoutZone(this._viewZoneId),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+X);return}else{let U=this._getHeight();if(U-=this._codeEditor.getOption(72).top,U<=0)return;V.heightInPx=U,this._viewZoneId=z.addZone(V),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+U)}})}_removeViewZone(){this._codeEditor.changeViewZones(B=>{this._viewZoneId!==void 0&&(B.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(B){let W={inputActiveOptionBorder:B.getColor(d.inputActiveOptionBorder),inputActiveOptionBackground:B.getColor(d.inputActiveOptionBackground),inputActiveOptionForeground:B.getColor(d.inputActiveOptionForeground),inputBackground:B.getColor(d.inputBackground),inputForeground:B.getColor(d.inputForeground),inputBorder:B.getColor(d.inputBorder),inputValidationInfoBackground:B.getColor(d.inputValidationInfoBackground),inputValidationInfoForeground:B.getColor(d.inputValidationInfoForeground),inputValidationInfoBorder:B.getColor(d.inputValidationInfoBorder),inputValidationWarningBackground:B.getColor(d.inputValidationWarningBackground),inputValidationWarningForeground:B.getColor(d.inputValidationWarningForeground),inputValidationWarningBorder:B.getColor(d.inputValidationWarningBorder),inputValidationErrorBackground:B.getColor(d.inputValidationErrorBackground),inputValidationErrorForeground:B.getColor(d.inputValidationErrorForeground),inputValidationErrorBorder:B.getColor(d.inputValidationErrorBorder)};this._findInput.style(W),this._replaceInput.style(W),this._toggleSelectionFind.style(W)}_tryUpdateWidgetWidth(){if(!this._isVisible||!k.isInDOM(this._domNode))return;const B=this._codeEditor.getLayoutInfo();if(B.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const V=B.width,z=B.minimap.minimapWidth;let U=!1,X=!1,te=!1;if(this._resized&&k.getTotalWidth(this._domNode)>P){this._domNode.style.maxWidth=`${V-28-z-15}px`,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode);return}if(P+28+z>=V&&(X=!0),P+28+z-x>=V&&(te=!0),P+28+z-x>=V+50&&(U=!0),this._domNode.classList.toggle("collapsed-find-widget",U),this._domNode.classList.toggle("narrow-find-widget",te),this._domNode.classList.toggle("reduced-find-widget",X),!te&&!U&&(this._domNode.style.maxWidth=`${V-28-z-15}px`),this._resized){this._findInput.inputBox.layout();let se=this._findInput.inputBox.element.clientWidth;se>0&&(this._replaceInput.width=se)}else this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode))}_getHeight(){let B=0;return B+=4,B+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(B+=4,B+=this._replaceInput.inputBox.height+2),B+=4,B}_tryUpdateHeight(){const B=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===B?!1:(this._cachedHeight=B,this._domNode.style.height=`${B}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let B=this._codeEditor.getSelections();B.map(W=>{W.endColumn===1&&W.endLineNumber>W.startLineNumber&&(W=W.setEndPosition(W.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(W.endLineNumber-1)));const V=this._state.currentMatch;return W.startLineNumber!==W.endLineNumber&&!u.Range.equalsRange(W,V)?W:null}).filter(W=>!!W),B.length&&this._state.change({searchScope:B},!0)}}_onFindInputMouseDown(B){B.middleButton&&B.stopPropagation()}_onFindInputKeyDown(B){if(B.equals(q|3)){this._findInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return ee(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(B.equals(18))return ie(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(B){if(B.equals(q|3)){s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(S.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(K,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(1024|2)){this._findInput.focus(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return ee(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(B.equals(18))return ie(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(B){return 0}_keybindingLabelFor(B){let W=this._keybindingService.lookupKeybinding(B);return W?` (${W.getLabel()})`:""}_buildDomNode(){const B=!0,W=!0;this._findInput=this._register(new n.ContextScopedFindInput(null,this._contextViewProvider,{width:E,label:C,placeholder:g,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:se=>{if(se.length===0||!this._findInput.getRegex())return null;try{return new RegExp(se,"gu"),null}catch(le){return{content:le.message}}},flexibleHeight:B,flexibleWidth:W,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(se=>this._onFindInputKeyDown(se))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(se=>{se.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),se.preventDefault())})),this._register(this._findInput.onRegexKeyDown(se=>{se.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),se.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(se=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(se=>this._onFindInputMouseDown(se))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new de({label:f+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new de({label:b+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let V=document.createElement("div");V.className="find-part",V.appendChild(this._findInput.domNode);const z=document.createElement("div");z.className="find-actions",V.appendChild(z),z.appendChild(this._matchesCount),z.appendChild(this._prevBtn.domNode),z.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Checkbox({icon:l,title:L+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let se=this._codeEditor.getSelections();se.map(le=>(le.endColumn===1&&le.endLineNumber>le.startLineNumber&&(le=le.setEndPosition(le.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(le.endLineNumber-1))),le.isEmpty()?null:le)).filter(le=>!!le),se.length&&this._state.change({searchScope:se},!0)}}else this._state.change({searchScope:null},!0)})),z.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new de({label:N+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:se=>{se.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),se.preventDefault())}})),z.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new n.ContextScopedReplaceInput(null,void 0,{label:D,placeholder:I,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:B,flexibleWidth:W,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(se=>this._onReplaceInputKeyDown(se))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(se=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(se=>{se.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),se.preventDefault())})),this._replaceBtn=this._register(new de({label:T+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:se=>{se.equals(1024|2)&&(this._closeBtn.focus(),se.preventDefault())}})),this._replaceAllBtn=this._register(new de({label:A+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let U=document.createElement("div");U.className="replace-part",U.appendChild(this._replaceInput.domNode);const X=document.createElement("div");X.className="replace-actions",U.appendChild(X),X.appendChild(this._replaceBtn.domNode),X.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new de({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${P}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(V),this._domNode.appendChild(U),this._resizeSash=new w.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let te=P;this._register(this._resizeSash.onDidStart(()=>{te=k.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(se=>{this._resized=!0;let le=te+se.startX-se.currentX;if(le<P)return;const ue=parseFloat(k.getComputedStyle(this._domNode).maxWidth)||0;le>ue||(this._domNode.style.width=`${le}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const se=k.getTotalWidth(this._domNode);if(se<P)return;let le=P;if(!this._resized||se===P){const ue=this._codeEditor.getLayoutInfo();le=ue.width-28-ue.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${le}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const B=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(B!==2)}}e.FindWidget=ae,ae.ID="editor.contrib.findWidget";class de extends p.Widget{constructor(B){super();this._opts=B;let W="button";this._opts.className&&(W=W+" "+this._opts.className),this._opts.icon&&(W=W+" "+r.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=W,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,V=>{this._opts.onTrigger(),V.preventDefault()}),this.onkeydown(this._domNode,V=>{if(V.equals(10)||V.equals(3)){this._opts.onTrigger(),V.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(V)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(B){this._domNode.classList.toggle("disabled",!B),this._domNode.setAttribute("aria-disabled",String(!B)),this._domNode.tabIndex=B?0:-1}setExpanded(B){this._domNode.setAttribute("aria-expanded",String(!!B)),B?(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(m))):(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(m)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=de,r.registerThemingParticipant((Y,B)=>{const W=(j,ne)=>{ne&&B.addRule(`.monaco-editor ${j} { background-color: ${ne}; }`)};W(".findMatch",Y.getColor(d.editorFindMatchHighlight)),W(".currentFindMatch",Y.getColor(d.editorFindMatch)),W(".findScope",Y.getColor(d.editorFindRangeHighlight));const V=Y.getColor(d.editorWidgetBackground);W(".find-widget",V);const z=Y.getColor(d.widgetShadow);z&&B.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${z}; }`);const U=Y.getColor(d.editorFindMatchHighlightBorder);U&&B.addRule(`.monaco-editor .findMatch { border: 1px ${Y.type==="hc"?"dotted":"solid"} ${U}; box-sizing: border-box; }`);const X=Y.getColor(d.editorFindMatchBorder);X&&B.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${X}; padding: 1px; box-sizing: border-box; }`);const te=Y.getColor(d.editorFindRangeHighlightBorder);te&&B.addRule(`.monaco-editor .findScope { border: 1px ${Y.type==="hc"?"dashed":"solid"} ${te}; }`);const se=Y.getColor(d.contrastBorder);se&&B.addRule(`.monaco-editor .find-widget { border: 1px solid ${se}; }`);const le=Y.getColor(d.editorWidgetForeground);le&&B.addRule(`.monaco-editor .find-widget { color: ${le}; }`);const ue=Y.getColor(d.errorForeground);ue&&B.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ue}; }`);const re=Y.getColor(d.editorWidgetResizeBorder);if(re)B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${re}; }`);else{const j=Y.getColor(d.editorWidgetBorder);j&&B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${j}; }`)}const ce=Y.getColor(d.focusBorder);ce&&B.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ce}; }`)})}),define(Q[270],J([0,1,482,15,2,8,14,25,143,613,614,671,33,85,16,69,37,79,11,34]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const l=524288;function h(A,R="single"){if(!A.hasModel())return null;const O=A.getSelection();if(R==="single"&&O.startLineNumber===O.endLineNumber||R==="multiple"){if(O.isEmpty()){const P=A.getConfiguredWordAtPosition(O.getStartPosition());if(P)return P.word}else if(A.getModel().getValueLengthInRange(O)<l)return A.getModel().getValueInRange(O)}return null}e.getSelectionSearchString=h;let m=class Gt extends M.Disposable{constructor(R,O,P,F){super();this._editor=R,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=P,this._clipboardService=F,this._updateHistoryDelayer=new k.Delayer(500),this._state=this._register(new _.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(E=>this._onStateChanged(E))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let E=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),E&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(R){return R.getContribution(Gt.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(R){this.saveQueryState(R),R.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),R.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(R){R.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),R.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),R.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),R.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let R=this._editor.getSelections();R.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),R.length&&this._state.change({searchScope:R},!0)}}setSearchString(R){this._state.isRegex&&(R=y.escapeRegExpCharacters(R)),this._state.change({searchString:R},!1)}highlightFindOptions(R=!1){}_start(R){return Ie(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let O={isRevealed:!0};if(R.seedSearchStringFromSelection==="single"){let P=h(this._editor,R.seedSearchStringFromSelection);P&&(this._state.isRegex?O.searchString=y.escapeRegExpCharacters(P):O.searchString=P)}else if(R.seedSearchStringFromSelection==="multiple"&&!R.updateSearchScope){let P=h(this._editor,R.seedSearchStringFromSelection);P&&(O.searchString=P)}if(!O.searchString&&R.seedSearchStringFromGlobalClipboard){let P=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;P&&(O.searchString=P)}if(R.forceRevealReplace?O.isReplaceRevealed=!0:this._findWidgetVisible.get()||(O.isReplaceRevealed=!1),R.updateSearchScope){let P=this._editor.getSelections();P.some(F=>!F.isEmpty())&&(O.searchScope=P)}O.loop=R.loop,this._state.change(O,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))})}start(R){return this._start(R)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ie(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(R){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(R)}};m.ID="editor.contrib.findController",m=Me([pe(1,c.IContextKeyService),pe(2,n.IStorageService),pe(3,u.IClipboardService)],m),e.CommonFindController=m;let C=class extends m{constructor(R,O,P,F,E,x,H,K){super(R,P,H,K);this._contextViewService=O,this._keybindingService=F,this._themeService=E,this._notificationService=x,this._widget=null,this._findOptionsWidget=null}_start(R){const O=Object.create(null,{_start:{get:()=>super._start}});return Ie(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const P=this._editor.getSelection();let F=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":F=!0;break;case"never":F=!1;break;case"multiline":F=!!P&&P.startLineNumber!==P.endLineNumber;break;default:break}R.updateSearchScope=F,yield O._start.call(this,R),this._widget&&(R.shouldFocus===2?this._widget.focusReplaceInput():R.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(R=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!R?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new s.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};C=Me([pe(1,d.IContextViewService),pe(2,c.IContextKeyService),pe(3,r.IKeybindingService),pe(4,o.IThemeService),pe(5,t.INotificationService),pe(6,n.IStorageService),pe(7,u.IClipboardService)],C),e.FindController=C,e.StartFindAction=w.registerMultiEditorAction(new w.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:S.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:S.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(A,R,O)=>{const P=m.get(R);return P?P.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:R.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(33).loop}):!1});class g extends w.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:S.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(R,O){return Ie(this,void 0,void 0,function*(){let P=m.get(O);P&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(33).loop}),P.setGlobalBufferTerm(P.getState().searchString))})}}e.StartFindWithSelectionAction=g;class f extends w.EditorAction{run(R,O){return Ie(this,void 0,void 0,function*(){let P=m.get(O);P&&!this._run(P)&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getState().searchString.length===0&&O.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(33).loop}),this._run(P))})}}e.MatchFindAction=f;class b extends f{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:S.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(R){return R.moveToNextMatch()?(R.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=b;class L extends f{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:S.localize(4,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(R){return R.moveToPrevMatch()}}e.PreviousMatchFindAction=L;class N extends w.EditorAction{run(R,O){return Ie(this,void 0,void 0,function*(){let P=m.get(O);if(!P)return;let F=h(O);F&&P.setSearchString(F),this._run(P)||(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(33).loop}),this._run(P))})}}e.SelectionMatchFindAction=N;class D extends N{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:S.localize(5,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(R){return R.moveToNextMatch()}}e.NextSelectionMatchFindAction=D;class I extends N{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:S.localize(6,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=I,e.StartFindReplaceAction=w.registerMultiEditorAction(new w.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:S.localize(7,null),alias:"Replace",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:S.localize(8,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(A,R,O)=>{if(!R.hasModel()||R.getOption(78))return!1;const P=m.get(R);if(!P)return!1;const F=R.getSelection(),E=P.isFindInputFocused(),x=!F.isEmpty()&&F.startLineNumber===F.endLineNumber&&R.getOption(33).seedSearchStringFromSelection&&!E,H=E||x?2:1;return P.start({forceRevealReplace:!0,seedSearchStringFromSelection:x?"single":"none",seedSearchStringFromGlobalClipboard:R.getOption(33).seedSearchStringFromSelection,shouldFocus:H,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(33).loop})}),w.registerEditorContribution(m.ID,C),w.registerEditorAction(g),w.registerEditorAction(b),w.registerEditorAction(L),w.registerEditorAction(D),w.registerEditorAction(I);const T=w.EditorCommand.bindToContribution(m.get);w.registerEditorCommand(new T({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:A=>A.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:A=>A.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:A=>A.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:A=>A.toggleRegex(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:A=>A.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),w.registerEditorCommand(new T({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:A=>A.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:A=>A.replace(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|1024|22}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:A=>A.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:A=>A.replaceAll(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|512|3}})),w.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:A=>A.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),w.registerEditorCommand(new T({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:A=>A.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:512|3}}))}),define(Q[672],J([0,1,31,27,485,80,11]),function($,e,S,k,M,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=y.registerIcon("folding-expanded",k.Codicon.chevronDown,M.localize(0,null)),e.foldingCollapsedIcon=y.registerIcon("folding-collapsed",k.Codicon.chevronRight,M.localize(1,null));class p{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,_){return _?p.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:p.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:p.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,_){return this.editor.deltaDecorations(i,_)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=p,p.COLLAPSED_VISUAL_DECORATION=S.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=S.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=S.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.EXPANDED_VISUAL_DECORATION=S.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.HIDDEN_RANGE_DECORATION=S.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(Q[673],J([0,1,484,20,8,15,40,2,14,413,672,25,414,43,555,18,226,415,12,16,11,22,349]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const m=new t.RawContextKey("foldingEnabled",!1);let C=class Zt extends p.Disposable{constructor(K,q){super();this.contextKeyService=q,this.localToDispose=this._register(new p.DisposableStore),this.editor=K;const G=this.editor.getOptions();this._isEnabled=G.get(35),this._useFoldingProviders=G.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=G.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new _.FoldingDecorationProvider(K),this.foldingDecorationProvider.autoHideFoldingControls=G.get(97)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=G.get(37),this.foldingEnabled=m.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(ee=>{if(ee.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),ee.hasChanged(97)||ee.hasChanged(37)){const ie=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=ie.get(97)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ie.get(37),this.onModelContentChanged()}ee.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),ee.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(K){return K.getContribution(Zt.ID)}saveViewState(){let K=this.editor.getModel();if(!K||!this._isEnabled||K.isTooLargeForTokenization())return{};if(this.foldingModel){let q=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),G=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:q,lineCount:K.getLineCount(),provider:G}}}restoreViewState(K){let q=this.editor.getModel();if(!q||!this._isEnabled||q.isTooLargeForTokenization()||!this.hiddenRangeModel||!K||!K.collapsedRegions||K.lineCount!==q.getLineCount())return;(K.provider===r.ID_SYNTAX_PROVIDER||K.provider===n.ID_INIT_PROVIDER)&&(this.foldingStateMemento=K);const G=K.collapsedRegions;if(this.hiddenRangeModel.applyMemento(G)){const ee=this.getFoldingModel();ee&&ee.then(ie=>{if(ie){this._restoringViewState=!0;try{ie.applyMemento(G)}finally{this._restoringViewState=!1}}}).then(void 0,o.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let K=this.editor.getModel();!this._isEnabled||!K||K.isTooLargeForTokenization()||(this.foldingModel=new i.FoldingModel(K,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(q=>this.onHiddenRangesChanges(q))),this.updateScheduler=new y.Delayer(200),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(d.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(q=>this.onEditorMouseDown(q))),this.localToDispose.add(this.editor.onMouseUp(q=>this.onEditorMouseUp(q))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(K){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new c.IndentRangeProvider(K),this._useFoldingProviders&&this.foldingModel){let q=d.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(q.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new n.InitializingRangeProvider(K,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);q.length>0&&(this.rangeProvider=new r.SyntaxRangeProvider(K,q,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const K=this.foldingModel;if(!K)return null;let q=this.foldingRegionPromise=y.createCancelablePromise(G=>this.getRangeProvider(K.textModel).compute(G));return q.then(G=>{if(G&&q===this.foldingRegionPromise){let ee=this.editor.getSelections(),ie=ee?ee.map(ae=>ae.startLineNumber):[];K.update(G,ie)}return K})}).then(void 0,K=>(o.onUnexpectedError(K),null)))}onHiddenRangesChanges(K){if(this.hiddenRangeModel&&K.length&&!this._restoringViewState){let q=this.editor.getSelections();q&&this.hiddenRangeModel.adjustSelections(q)&&this.editor.setSelections(q)}this.editor.setHiddenAreas(K)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const K=this.getFoldingModel();!K||K.then(q=>{if(q){let G=this.editor.getSelections();if(G&&G.length>0){let ee=[];for(let ie of G){let ae=ie.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ae)&&ee.push(...q.getAllRegionsAtLine(ae,de=>de.isCollapsed&&ae>de.startLineNumber))}ee.length&&(q.toggleCollapseState(ee),this.reveal(G[0].getPosition()))}}}).then(void 0,o.onUnexpectedError)}onEditorMouseDown(K){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!K.target||!K.target.range||!K.event.leftButton&&!K.event.middleButton)return;const q=K.target.range;let G=!1;switch(K.target.type){case 4:const ee=K.target.detail,ie=K.target.element.offsetLeft;if(ee.offsetX-ie<5)return;G=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!K.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let de=this.editor.getModel();if(de&&q.startColumn===de.getLineMaxColumn(q.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:q.startLineNumber,iconClicked:G}}onEditorMouseUp(K){const q=this.getFoldingModel();if(!q||!this.mouseDownInfo||!K.target)return;let G=this.mouseDownInfo.lineNumber,ee=this.mouseDownInfo.iconClicked,ie=K.target.range;if(!(!ie||ie.startLineNumber!==G)){if(ee){if(K.target.type!==4)return}else{let ae=this.editor.getModel();if(!ae||ie.startColumn!==ae.getLineMaxColumn(G))return}q.then(ae=>{if(ae){let de=ae.getRegionAtLine(G);if(de&&de.startLineNumber===G){let Y=de.isCollapsed;if(ee||Y){let B=K.event.altKey,W=[];if(B){let V=U=>!U.containedBy(de)&&!de.containedBy(U),z=ae.getRegionsInside(null,V);for(const U of z)U.isCollapsed&&W.push(U);W.length===0&&(W=z)}else{let V=K.event.middleButton||K.event.shiftKey;if(V)for(const z of ae.getRegionsInside(de))z.isCollapsed===Y&&W.push(z);(Y||!V||W.length===0)&&W.push(de)}ae.toggleCollapseState(W),this.reveal({lineNumber:G,column:1})}}}}).then(void 0,o.onUnexpectedError)}}reveal(K){this.editor.revealPositionInCenterIfOutsideViewport(K,0)}};C.ID="editor.contrib.folding",C=Me([pe(1,t.IContextKeyService)],C),e.FoldingController=C;class g extends v.EditorAction{runEditorCommand(K,q,G){let ee=C.get(q);if(!ee)return;let ie=ee.getFoldingModel();if(ie)return this.reportTelemetry(K,q),ie.then(ae=>{if(ae){this.invoke(ee,ae,q,G);const de=q.getSelection();de&&ee.reveal(de.getStartPosition())}})}getSelectedLines(K){let q=K.getSelections();return q?q.map(G=>G.startLineNumber):[]}getLineNumbers(K,q){return K&&K.selectionLines?K.selectionLines.map(G=>G+1):this.getSelectedLines(q)}run(K,q){}}function f(H){if(!k.isUndefined(H)){if(!k.isObject(H))return!1;const K=H;if(!k.isUndefined(K.levels)&&!k.isNumber(K.levels)||!k.isUndefined(K.direction)&&!k.isString(K.direction)||!k.isUndefined(K.selectionLines)&&(!k.isArray(K.selectionLines)||!K.selectionLines.every(k.isNumber)))return!1}return!0}class b extends g{constructor(){super({id:"editor.unfold",label:S.localize(0,null),alias:"Unfold",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:f,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(K,q,G,ee){let ie=ee&&ee.levels||1,ae=this.getLineNumbers(ee,G);ee&&ee.direction==="up"?i.setCollapseStateLevelsUp(q,!1,ie,ae):i.setCollapseStateLevelsDown(q,!1,ie,ae)}}class L extends g{constructor(){super({id:"editor.unfoldRecursively",label:S.localize(1,null),alias:"Unfold Recursively",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|89),weight:100}})}invoke(K,q,G,ee){i.setCollapseStateLevelsDown(q,!1,Number.MAX_VALUE,this.getSelectedLines(G))}}class N extends g{constructor(){super({id:"editor.fold",label:S.localize(2,null),alias:"Fold",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:f,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(K,q,G,ee){let ie=this.getLineNumbers(ee,G);const ae=ee&&ee.levels,de=ee&&ee.direction;typeof ae!="number"&&typeof de!="string"?i.setCollapseStateUp(q,!0,ie):de==="up"?i.setCollapseStateLevelsUp(q,!0,ae||1,ie):i.setCollapseStateLevelsDown(q,!0,ae||1,ie)}}class D extends g{constructor(){super({id:"editor.toggleFold",label:S.localize(3,null),alias:"Toggle Fold",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|42),weight:100}})}invoke(K,q,G){let ee=this.getSelectedLines(G);i.toggleCollapseState(q,1,ee)}}class I extends g{constructor(){super({id:"editor.foldRecursively",label:S.localize(4,null),alias:"Fold Recursively",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|87),weight:100}})}invoke(K,q,G){let ee=this.getSelectedLines(G);i.setCollapseStateLevelsDown(q,!0,Number.MAX_VALUE,ee)}}class T extends g{constructor(){super({id:"editor.foldAllBlockComments",label:S.localize(5,null),alias:"Fold All Block Comments",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|85),weight:100}})}invoke(K,q,G){if(q.regions.hasTypes())i.setCollapseStateForType(q,d.FoldingRangeKind.Comment.value,!0);else{const ee=G.getModel();if(!ee)return;let ie=u.LanguageConfigurationRegistry.getComments(ee.getLanguageIdentifier().id);if(ie&&ie.blockCommentStartToken){let ae=new RegExp("^\\s*"+M.escapeRegExpCharacters(ie.blockCommentStartToken));i.setCollapseStateForMatchingLines(q,ae,!0)}}}}class A extends g{constructor(){super({id:"editor.foldAllMarkerRegions",label:S.localize(6,null),alias:"Fold All Regions",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|29),weight:100}})}invoke(K,q,G){if(q.regions.hasTypes())i.setCollapseStateForType(q,d.FoldingRangeKind.Region.value,!0);else{const ee=G.getModel();if(!ee)return;let ie=u.LanguageConfigurationRegistry.getFoldingRules(ee.getLanguageIdentifier().id);if(ie&&ie.markers&&ie.markers.start){let ae=new RegExp(ie.markers.start);i.setCollapseStateForMatchingLines(q,ae,!0)}}}}class R extends g{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:S.localize(7,null),alias:"Unfold All Regions",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|30),weight:100}})}invoke(K,q,G){if(q.regions.hasTypes())i.setCollapseStateForType(q,d.FoldingRangeKind.Region.value,!1);else{const ee=G.getModel();if(!ee)return;let ie=u.LanguageConfigurationRegistry.getFoldingRules(ee.getLanguageIdentifier().id);if(ie&&ie.markers&&ie.markers.start){let ae=new RegExp(ie.markers.start);i.setCollapseStateForMatchingLines(q,ae,!1)}}}}class O extends g{constructor(){super({id:"editor.foldAllExcept",label:S.localize(8,null),alias:"Fold All Regions Except Selected",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|83),weight:100}})}invoke(K,q,G){let ee=this.getSelectedLines(G);i.setCollapseStateForRest(q,!0,ee)}}class P extends g{constructor(){super({id:"editor.unfoldAllExcept",label:S.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|81),weight:100}})}invoke(K,q,G){let ee=this.getSelectedLines(G);i.setCollapseStateForRest(q,!1,ee)}}class F extends g{constructor(){super({id:"editor.foldAll",label:S.localize(10,null),alias:"Fold All",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|21),weight:100}})}invoke(K,q,G){i.setCollapseStateLevelsDown(q,!0)}}class E extends g{constructor(){super({id:"editor.unfoldAll",label:S.localize(11,null),alias:"Unfold All",precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|40),weight:100}})}invoke(K,q,G){i.setCollapseStateLevelsDown(q,!1)}}class x extends g{getFoldingLevel(){return parseInt(this.id.substr(x.ID_PREFIX.length))}invoke(K,q,G){i.setCollapseStateAtLevel(q,this.getFoldingLevel(),!0,this.getSelectedLines(G))}}x.ID_PREFIX="editor.foldLevel",x.ID=H=>x.ID_PREFIX+H,v.registerEditorContribution(C.ID,C),v.registerEditorAction(b),v.registerEditorAction(L),v.registerEditorAction(N),v.registerEditorAction(I),v.registerEditorAction(F),v.registerEditorAction(E),v.registerEditorAction(T),v.registerEditorAction(A),v.registerEditorAction(R),v.registerEditorAction(O),v.registerEditorAction(P),v.registerEditorAction(D);for(let H=1;H<=7;H++)v.registerInstantiatedEditorAction(new x({id:x.ID(H),label:S.localize(12,null,H),alias:`Fold Level ${H}`,precondition:m,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:w.KeyChord(2048|41,2048|21+H),weight:100}}));e.foldBackgroundBackground=h.registerColor("editor.foldBackground",{light:h.transparent(h.editorSelectionBackground,.3),dark:h.transparent(h.editorSelectionBackground,.3),hc:null},S.localize(13,null),!0),e.editorFoldForeground=h.registerColor("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},S.localize(14,null)),l.registerThemingParticipant((H,K)=>{const q=H.getColor(e.foldBackgroundBackground);q&&K.addRule(`.monaco-editor .folded-background { background-color: ${q}; }`);const G=H.getColor(e.editorFoldForeground);G&&K.addRule(`
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(_.foldingExpandedIcon)},
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(_.foldingCollapsedIcon)} {
			color: ${G} !important;
		}
		`)})}),define(Q[271],J([0,1,489,2,16,13,3,14,25,669,28,33,27,9,571,80]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class ft{constructor(f,b,L,N,D){this._markerNavigationService=b,this._contextKeyService=L,this._editorService=N,this._instantiationService=D,this._sessionDispoables=new k.DisposableStore,this._editor=f,this._widgetVisible=m.bindTo(this._contextKeyService)}static get(f){return f.getContribution(ft.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(f){if(this._model&&this._model.matches(f))return this._model;let b=!1;return this._model&&(b=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(f),b&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(i.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var N,D,I;(!((N=this._model)===null||N===void 0?void 0:N.selected)||!w.Range.containsPosition((D=this._model)===null||D===void 0?void 0:D.selected.marker,L.position))&&((I=this._model)===null||I===void 0||I.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:w.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(f=!0){this._cleanUp(),f&&this._editor.focus()}showAtMarker(f){if(this._editor.hasModel()){const b=this._getOrCreateModel(this._editor.getModel().uri);b.resetIndex(),b.move(!0,this._editor.getModel(),new y.Position(f.startLineNumber,f.startColumn)),b.selected&&this._widget.showAtMarker(b.selected.marker,b.selected.index,b.selected.total)}}nagivate(f,b){return Ie(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._getOrCreateModel(b?void 0:this._editor.getModel().uri);if(L.move(f,this._editor.getModel(),this._editor.getPosition()),!L.selected)return;if(L.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=yield this._editorService.openCodeEditor({resource:L.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:L.selected.marker}},this._editor);N&&(ft.get(N).close(),ft.get(N).nagivate(f,b))}else this._widget.showAtMarker(L.selected.marker,L.selected.index,L.selected.total)}})}};r.ID="editor.contrib.markerController",r=Me([pe(1,c.IMarkerNavigationService),pe(2,M.IContextKeyService),pe(3,_.ICodeEditorService),pe(4,u.IInstantiationService)],r),e.MarkerController=r;class n extends p.EditorAction{constructor(f,b,L){super(L);this._next=f,this._multiFile=b}run(f,b){return Ie(this,void 0,void 0,function*(){b.hasModel()&&r.get(b).nagivate(this._next,this._multiFile)})}}class o extends n{constructor(){super(!0,!1,{id:o.ID,label:o.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:d.registerIcon("marker-navigation-next",a.Codicon.chevronDown,S.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=o,o.ID="editor.action.marker.next",o.LABEL=S.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:d.registerIcon("marker-navigation-previous",a.Codicon.chevronUp,S.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=S.localize(2,null);class l extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:S.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:S.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:S.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:S.localize(7,null),group:"6_problem_nav",order:2}})}}p.registerEditorContribution(r.ID,r),p.registerEditorAction(o),p.registerEditorAction(t),p.registerEditorAction(l),p.registerEditorAction(h);const m=new M.RawContextKey("markersNavigationVisible",!1),C=p.EditorCommand.bindToContribution(r.get);p.registerEditorCommand(new C({id:"closeMarkersNavigation",precondition:m,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(Q[674],J([0,1,500,7,2,3,19,86,45,181,12,59,271,15,147,266,133,60]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const o=k.$;class t{constructor(C,g,f){this.owner=C,this.range=g,this.marker=f}isValidForHoverAnchor(C){return C.type===1&&this.range.startColumn<=C.range.startColumn&&this.range.endColumn>=C.range.endColumn}}e.MarkerHover=t;const l={type:1,filter:{include:r.CodeActionKind.QuickFix}};let h=class{constructor(C,g,f,b){this._editor=C,this._hover=g,this._markerDecorationsService=f,this._openerService=b,this.recentMarkerCodeActionsInfo=void 0}computeSync(C,g){if(!this._editor.hasModel()||C.type!==1)return[];const f=this._editor.getModel(),b=C.range.startLineNumber,L=f.getLineMaxColumn(b),N=[];for(const D of g){const I=D.range.startLineNumber===b?D.range.startColumn:1,T=D.range.endLineNumber===b?D.range.endColumn:L,A=this._markerDecorationsService.getMarker(f.uri,D);if(!A)continue;const R=new y.Range(C.range.startLineNumber,I,C.range.startLineNumber,T);N.push(new t(this,R,A))}return N}renderHoverParts(C,g,f){if(!C.length)return M.Disposable.None;const b=new M.DisposableStore;C.forEach(N=>g.appendChild(this.renderMarkerHover(N,b)));const L=C.length===1?C[0]:C.sort((N,D)=>p.MarkerSeverity.compare(N.marker.severity,D.marker.severity))[0];return this.renderMarkerStatusbar(L,f,b),b}renderMarkerHover(C,g){const f=o("div.hover-row"),b=k.append(f,o("div.marker.hover-contents")),{source:L,message:N,code:D,relatedInformation:I}=C.marker;this._editor.applyFontInfo(b);const T=k.append(b,o("span"));if(T.style.whiteSpace="pre-wrap",T.innerText=N,L||D)if(D&&typeof D!="string"){const A=o("span");if(L){const F=k.append(A,o("span"));F.innerText=L}const R=k.append(A,o("a.code-link"));R.setAttribute("href",D.target.toString()),g.add(k.addDisposableListener(R,"click",F=>{this._openerService.open(D.target,{allowCommands:!0}),F.preventDefault(),F.stopPropagation()}));const O=k.append(R,o("span"));O.innerText=D.value;const P=k.append(b,A);P.style.opacity="0.6",P.style.paddingLeft="6px"}else{const A=k.append(b,o("span"));A.style.opacity="0.6",A.style.paddingLeft="6px",A.innerText=L&&D?`${L}(${D})`:L||`(${D})`}if(w.isNonEmptyArray(I))for(const{message:A,resource:R,startLineNumber:O,startColumn:P}of I){const F=k.append(b,o("div"));F.style.marginTop="8px";const E=k.append(F,o("a"));E.innerText=`${v.basename(R)}(${O}, ${P}): `,E.style.cursor="pointer",g.add(k.addDisposableListener(E,"click",H=>{H.stopPropagation(),H.preventDefault(),this._openerService&&this._openerService.open(R,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:P}}}).catch(_.onUnexpectedError)}));const x=k.append(F,o("span"));x.innerText=A,this._editor.applyFontInfo(x)}return f}renderMarkerStatusbar(C,g,f){if((C.marker.severity===p.MarkerSeverity.Error||C.marker.severity===p.MarkerSeverity.Warning||C.marker.severity===p.MarkerSeverity.Info)&&g.addAction({label:S.localize(0,null),commandId:a.NextMarkerAction.ID,run:()=>{this._hover.hide(),a.MarkerController.get(this._editor).showAtMarker(C.marker),this._editor.focus()}}),!this._editor.getOption(78)){const b=g.append(o("div"));this.recentMarkerCodeActionsInfo&&(p.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===p.IMarkerData.makeKey(C.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(b.textContent=S.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const L=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?M.Disposable.None:f.add(u.disposableTimeout(()=>b.textContent=S.localize(2,null),200));b.textContent||(b.textContent=String.fromCharCode(160));const N=this.getCodeActions(C.marker);f.add(M.toDisposable(()=>N.cancel())),N.then(D=>{if(L.dispose(),this.recentMarkerCodeActionsInfo={marker:C.marker,hasCodeActions:D.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){D.dispose(),b.textContent=S.localize(3,null);return}b.style.display="none";let I=!1;f.add(M.toDisposable(()=>{I||D.dispose()})),g.addAction({label:S.localize(4,null),commandId:d.QuickFixAction.Id,run:T=>{I=!0;const A=d.QuickFixController.get(this._editor),R=k.getDomNodePagePosition(T);this._hover.hide(),A.showCodeActions(l,D,{x:R.left+6,y:R.top+R.height+6})}})})}}getCodeActions(C){return u.createCancelablePromise(g=>c.getCodeActions(this._editor.getModel(),new y.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),l,n.Progress.None,g))}};h=Me([pe(2,i.IMarkerDecorationsService),pe(3,s.IOpenerService)],h),e.MarkerHoverParticipant=h}),define(Q[675],J([0,1,509,15,40,2,42,14,242,3,21,25,52,31,18,270,33,22,11,16]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l(K,q){const G=q.filter(ee=>!K.find(ie=>ie.equals(ee)));if(G.length>=1){const ee=G.map(ae=>`line ${ae.viewState.position.lineNumber} column ${ae.viewState.position.column}`).join(", "),ie=G.length===1?S.localize(0,null,ee):S.localize(1,null,ee);w.status(ie)}}class h extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:S.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:S.localize(3,null),order:2}})}run(q,G,ee){if(!G.hasModel())return;const ie=ee&&ee.logicalLine===!0,ae=G._getViewModel();if(ae.cursorConfig.readOnly)return;ae.pushStackElement();const de=ae.getCursorStates();ae.setCursorStates(ee.source,3,v.CursorMoveCommands.addCursorUp(ae,de,ie)),ae.revealTopMostCursor(ee.source),l(de,ae.getCursorStates())}}e.InsertCursorAbove=h;class m extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:S.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:S.localize(5,null),order:3}})}run(q,G,ee){if(!G.hasModel())return;const ie=ee&&ee.logicalLine===!0,ae=G._getViewModel();if(ae.cursorConfig.readOnly)return;ae.pushStackElement();const de=ae.getCursorStates();ae.setCursorStates(ee.source,3,v.CursorMoveCommands.addCursorDown(ae,de,ie)),ae.revealBottomMostCursor(ee.source),l(de,ae.getCursorStates())}}e.InsertCursorBelow=m;class C extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:S.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:S.localize(7,null),order:4}})}getCursorsForSelection(q,G,ee){if(!q.isEmpty()){for(let ie=q.startLineNumber;ie<q.endLineNumber;ie++){let ae=G.getLineMaxColumn(ie);ee.push(new _.Selection(ie,ae,ie,ae))}q.endColumn>1&&ee.push(new _.Selection(q.endLineNumber,q.endColumn,q.endLineNumber,q.endColumn))}}run(q,G){if(!G.hasModel())return;const ee=G.getModel(),ie=G.getSelections(),ae=G._getViewModel(),de=ae.getCursorStates();let Y=[];ie.forEach(B=>this.getCursorsForSelection(B,ee,Y)),Y.length>0&&G.setSelections(Y),l(de,ae.getCursorStates())}}class g extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:S.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(q,G){if(!G.hasModel())return;const ee=G.getSelections(),ie=G.getModel().getLineCount();let ae=[];for(let B=ee[0].startLineNumber;B<=ie;B++)ae.push(new _.Selection(B,ee[0].startColumn,B,ee[0].endColumn));const de=G._getViewModel(),Y=de.getCursorStates();ae.length>0&&G.setSelections(ae),l(Y,de.getCursorStates())}}class f extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:S.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(q,G){if(!G.hasModel())return;const ee=G.getSelections();let ie=[];for(let Y=ee[0].startLineNumber;Y>=1;Y--)ie.push(new _.Selection(Y,ee[0].startColumn,Y,ee[0].endColumn));const ae=G._getViewModel(),de=ae.getCursorStates();ie.length>0&&G.setSelections(ie),l(de,ae.getCursorStates())}}class b{constructor(q,G,ee){this.selections=q,this.revealRange=G,this.revealScrollType=ee}}e.MultiCursorSessionResult=b;class L{constructor(q,G,ee,ie,ae,de,Y){this._editor=q,this.findController=G,this.isDisconnectedFromFindController=ee,this.searchText=ie,this.wholeWord=ae,this.matchCase=de,this.currentMatch=Y}static create(q,G){if(!q.hasModel())return null;const ee=G.getState();if(!q.hasTextFocus()&&ee.isRevealed&&ee.searchString.length>0)return new L(q,G,!1,ee.searchString,ee.wholeWord,ee.matchCase,null);let ie=!1,ae,de;const Y=q.getSelections();Y.length===1&&Y[0].isEmpty()?(ie=!0,ae=!0,de=!0):(ae=ee.wholeWord,de=ee.matchCase);const B=q.getSelection();let W,V=null;if(B.isEmpty()){const z=q.getConfiguredWordAtPosition(B.getStartPosition());if(!z)return null;W=z.word,V=new _.Selection(B.startLineNumber,z.startColumn,B.startLineNumber,z.endColumn)}else W=q.getModel().getValueInRange(B).replace(/\r\n/g,`
`);return new L(q,G,ie,W,ae,de,V)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const q=this._getNextMatch();if(!q)return null;const G=this._editor.getSelections();return new b(G.concat(q),q,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const q=this._getNextMatch();if(!q)return null;const G=this._editor.getSelections();return new b(G.slice(0,G.length-1).concat(q),q,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const q=this._editor.getSelections(),G=q[q.length-1],ee=this._editor.getModel().findNextMatch(this.searchText,G.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1);return ee?new _.Selection(ee.range.startLineNumber,ee.range.startColumn,ee.range.endLineNumber,ee.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const q=this._getPreviousMatch();if(!q)return null;const G=this._editor.getSelections();return new b(G.concat(q),q,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const q=this._getPreviousMatch();if(!q)return null;const G=this._editor.getSelections();return new b(G.slice(0,G.length-1).concat(q),q,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const q=this._editor.getSelections(),G=q[q.length-1],ee=this._editor.getModel().findPreviousMatch(this.searchText,G.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1);return ee?new _.Selection(ee.range.startLineNumber,ee.range.startColumn,ee.range.endLineNumber,ee.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1,1073741824)):[]}}e.MultiCursorSession=L;class N extends y.Disposable{constructor(q){super();this._sessionDispose=this._register(new y.DisposableStore),this._editor=q,this._ignoreSelectionChange=!1,this._session=null}static get(q){return q.getContribution(N.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(q){if(!this._session){const G=L.create(this._editor,q);if(!G)return;this._session=G;const ee={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ee.wholeWordOverride=1,ee.matchCaseOverride=1,ee.isRegexOverride=2),q.getState().change(ee,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ie=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(q.getState().onFindReplaceStateChange(ie=>{(ie.matchCase||ie.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const q={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(q,!1)}this._session=null}_setSelections(q){this._ignoreSelectionChange=!0,this._editor.setSelections(q),this._ignoreSelectionChange=!1}_expandEmptyToWord(q,G){if(!G.isEmpty())return G;const ee=this._editor.getConfiguredWordAtPosition(G.getStartPosition());return ee?new _.Selection(G.startLineNumber,ee.startColumn,G.startLineNumber,ee.endColumn):G}_applySessionResult(q){!q||(this._setSelections(q.selections),q.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(q.revealRange,q.revealScrollType))}getSession(q){return this._session}addSelectionToNextFindMatch(q){if(!!this._editor.hasModel()){if(!this._session){const G=this._editor.getSelections();if(G.length>1){const ie=q.getState().matchCase;if(!x(this._editor.getModel(),G,ie)){const de=this._editor.getModel();let Y=[];for(let B=0,W=G.length;B<W;B++)Y[B]=this._expandEmptyToWord(de,G[B]);this._editor.setSelections(Y);return}}}this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(q){if(!this._editor.hasModel())return;let G=null;const ee=q.getState();if(ee.isRevealed&&ee.searchString.length>0&&ee.isRegex)G=this._editor.getModel().findMatches(ee.searchString,!0,ee.isRegex,ee.matchCase,ee.wholeWord?this._editor.getOption(114):null,!1,1073741824);else{if(this._beginSessionIfNeeded(q),!this._session)return;G=this._session.selectAll()}if(ee.searchScope){const ie=ee.searchScope;let ae=[];G.forEach(de=>{ie.forEach(Y=>{de.range.endLineNumber<=Y.endLineNumber&&de.range.startLineNumber>=Y.startLineNumber&&ae.push(de)})}),G=ae}if(G.length>0){const ie=this._editor.getSelection();for(let ae=0,de=G.length;ae<de;ae++){const Y=G[ae];if(Y.range.intersectRanges(ie)){G[ae]=G[0],G[0]=Y;break}}this._setSelections(G.map(ae=>new _.Selection(ae.range.startLineNumber,ae.range.startColumn,ae.range.endLineNumber,ae.range.endColumn)))}}}e.MultiCursorSelectionController=N,N.ID="editor.contrib.multiCursorController";class D extends p.EditorAction{run(q,G){const ee=N.get(G);if(!ee)return;const ie=d.CommonFindController.get(G);if(!ie)return;const ae=G._getViewModel();if(ae){const de=ae.getCursorStates();this._run(ee,ie),l(de,ae.getCursorStates())}}}e.MultiCursorSelectionControllerAction=D;class I extends D{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:S.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:S.localize(11,null),order:5}})}_run(q,G){q.addSelectionToNextFindMatch(G)}}e.AddSelectionToNextFindMatchAction=I;class T extends D{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:S.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:S.localize(13,null),order:6}})}_run(q,G){q.addSelectionToPreviousFindMatch(G)}}e.AddSelectionToPreviousFindMatchAction=T;class A extends D{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:S.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:M.KeyChord(2048|41,2048|34),weight:100}})}_run(q,G){q.moveSelectionToNextFindMatch(G)}}e.MoveSelectionToNextFindMatchAction=A;class R extends D{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:S.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(q,G){q.moveSelectionToPreviousFindMatch(G)}}e.MoveSelectionToPreviousFindMatchAction=R;class O extends D{constructor(){super({id:"editor.action.selectHighlights",label:S.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:S.localize(17,null),order:7}})}_run(q,G){q.selectAll(G)}}e.SelectHighlightsAction=O;class P extends D{constructor(){super({id:"editor.action.changeAll",label:S.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(q,G){q.selectAll(G)}}e.CompatChangeAll=P;class F{constructor(q,G,ee,ie){this.searchText=q,this.matchCase=G,this.wordSeparators=ee,this.modelVersionId=ie}static softEquals(q,G){return!q&&!G?!0:!q||!G?!1:q.searchText===G.searchText&&q.matchCase===G.matchCase&&q.wordSeparators===G.wordSeparators&&q.modelVersionId===G.modelVersionId}}class E extends y.Disposable{constructor(q){super();this.editor=q,this._isEnabled=q.getOption(95),this.decorations=[],this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(q.onDidChangeConfiguration(G=>{this._isEnabled=q.getOption(95)})),this._register(q.onDidChangeCursorSelection(G=>{!this._isEnabled||(G.selection.isEmpty()?G.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(q.onDidChangeModel(G=>{this._setState(null)})),this._register(q.onDidChangeModelContent(G=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(d.CommonFindController.get(q).getState().onFindReplaceStateChange(G=>{this._update()}))}_update(){this._setState(E._createState(this._isEnabled,this.editor))}static _createState(q,G){if(!q||!G.hasModel())return null;const ee=G.getSelection();if(ee.startLineNumber!==ee.endLineNumber)return null;const ie=N.get(G);if(!ie)return null;const ae=d.CommonFindController.get(G);if(!ae)return null;let de=ie.getSession(ae);if(!de){const W=G.getSelections();if(W.length>1){const z=ae.getState().matchCase;if(!x(G.getModel(),W,z))return null}de=L.create(G,ae)}if(!de||de.currentMatch||/^[ \t]+$/.test(de.searchText)||de.searchText.length>200)return null;const Y=ae.getState(),B=Y.matchCase;if(Y.isRevealed){let W=Y.searchString;B||(W=W.toLowerCase());let V=de.searchText;if(B||(V=V.toLowerCase()),W===V&&de.matchCase===Y.matchCase&&de.wholeWord===Y.wholeWord&&!Y.isRegex)return null}return new F(de.searchText,de.matchCase,de.wholeWord?G.getOption(114):null,G.getModel().getVersionId())}_setState(q){if(F.softEquals(this.state,q)){this.state=q;return}if(this.state=q,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const G=this.editor.getModel();if(G.isTooLargeForTokenization())return;const ee=c.DocumentHighlightProviderRegistry.has(G)&&this.editor.getOption(69);let ie=G.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(B=>B.range);ie.sort(i.Range.compareRangesUsingStarts);let ae=this.editor.getSelections();ae.sort(i.Range.compareRangesUsingStarts);let de=[];for(let B=0,W=0,V=ie.length,z=ae.length;B<V;){const U=ie[B];if(W>=z)de.push(U),B++;else{const X=i.Range.compareRangesUsingStarts(U,ae[W]);X<0?((ae[W].isEmpty()||!i.Range.areIntersecting(U,ae[W]))&&de.push(U),B++):(X>0||B++,W++)}}const Y=de.map(B=>({range:B,options:ee?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,Y)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=E,E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=u.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:o.themeColorFromId(n.overviewRulerSelectionHighlightForeground),position:a.OverviewRulerLane.Center}}),E._SELECTION_HIGHLIGHT=u.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function x(K,q,G){const ee=H(K,q[0],!G);for(let ie=1,ae=q.length;ie<ae;ie++){const de=q[ie];if(de.isEmpty())return!1;const Y=H(K,de,!G);if(ee!==Y)return!1}return!0}function H(K,q,G){const ee=K.getValueInRange(q);return G?ee.toLowerCase():ee}p.registerEditorContribution(N.ID,N),p.registerEditorContribution(E.ID,E),p.registerEditorAction(h),p.registerEditorAction(m),p.registerEditorAction(C),p.registerEditorAction(I),p.registerEditorAction(T),p.registerEditorAction(A),p.registerEditorAction(R),p.registerEditorAction(O),p.registerEditorAction(P),p.registerEditorAction(g),p.registerEditorAction(f)}),define(Q[676],J([0,1,7,54,42,62,6,2,58,141,186,511,16,59,22,11,561,8,27,20,99,80,356]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const m=S.$,C=h.registerIcon("parameter-hints-next",o.Codicon.chevronDown,s.localize(0,null)),g=h.registerIcon("parameter-hints-previous",o.Codicon.chevronUp,s.localize(1,null));let f=class Yt extends p.Disposable{constructor(L,N,D,I){super();this.editor=L,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new i.MarkdownRenderer({editor:L},I,D)),this.model=this._register(new r.ParameterHintsModel(L)),this.keyVisible=_.Context.Visible.bindTo(N),this.keyMultipleSignatures=_.Context.MultipleSignatures.bindTo(N),this._register(this.model.onChangedHints(T=>{T?(this.show(),this.render(T)):this.hide()}))}createParamaterHintDOMNodes(){const L=m(".editor-widget.parameter-hints-widget"),N=S.append(L,m(".phwrapper"));N.tabIndex=-1;const D=S.append(N,m(".controls")),I=S.append(D,m(".button"+d.ThemeIcon.asCSSSelector(g))),T=S.append(D,m(".overloads")),A=S.append(D,m(".button"+d.ThemeIcon.asCSSSelector(C))),R=k.stop(k.domEvent(I,"click"));this._register(R(this.previous,this));const O=k.stop(k.domEvent(A,"click"));this._register(O(this.next,this));const P=m(".body"),F=new y.DomScrollableElement(P,{});this._register(F),N.appendChild(F.getDomNode());const E=S.append(P,m(".signature")),x=S.append(P,m(".docs"));L.style.userSelect="text",this.domNodes={element:L,signature:E,overloads:T,docs:x,scrollbar:F},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(K=>{this.visible&&this.editor.layoutContentWidget(this)}));const H=()=>{if(!this.domNodes)return;const K=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${K.fontSize}px`};H(),this._register(w.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(K=>K.hasChanged(40)).on(H,null)),this._register(this.editor.onDidLayoutChange(K=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(L){var N;if(this.renderDisposeables.clear(),!this.domNodes)return;const D=L.signatures.length>1;this.domNodes.element.classList.toggle("multiple",D),this.keyMultipleSignatures.set(D),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const I=L.signatures[L.activeSignature];if(!I)return;const T=S.append(this.domNodes.signature,m(".code")),A=this.editor.getOption(40);T.style.fontSize=`${A.fontSize}px`,T.style.fontFamily=A.fontFamily;const R=I.parameters.length>0,O=(N=I.activeParameter)!==null&&N!==void 0?N:L.activeParameter;if(R)this.renderParameters(T,I,O);else{const E=S.append(T,m("span"));E.textContent=I.label}const P=I.parameters[O];if(P==null?void 0:P.documentation){const E=m("span.documentation");if(typeof P.documentation=="string")E.textContent=P.documentation;else{const x=this.renderMarkdownDocs(P.documentation);E.appendChild(x.element)}S.append(this.domNodes.docs,m("p",{},E))}if(I.documentation!==void 0)if(typeof I.documentation=="string")S.append(this.domNodes.docs,m("p",{},I.documentation));else{const E=this.renderMarkdownDocs(I.documentation);S.append(this.domNodes.docs,E.element)}const F=this.hasDocs(I,P);if(this.domNodes.signature.classList.toggle("has-docs",F),this.domNodes.docs.classList.toggle("empty",!F),this.domNodes.overloads.textContent=String(L.activeSignature+1).padStart(L.signatures.length.toString().length,"0")+"/"+L.signatures.length,P){const E=this.getParameterLabel(I,O);this.announcedLabel!==E&&(M.alert(s.localize(2,null,E)),this.announcedLabel=E)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(L){const N=this.renderDisposeables.add(this.markdownRenderer.render(L,{asyncRenderCallback:()=>{var D;(D=this.domNodes)===null||D===void 0||D.scrollbar.scanDomNode()}}));return N.element.classList.add("markdown-docs"),N}hasDocs(L,N){return!!(N&&typeof N.documentation=="string"&&t.assertIsDefined(N.documentation).length>0||N&&typeof N.documentation=="object"&&t.assertIsDefined(N.documentation).value.length>0||L.documentation&&typeof L.documentation=="string"&&t.assertIsDefined(L.documentation).length>0||L.documentation&&typeof L.documentation=="object"&&t.assertIsDefined(L.documentation.value).length>0)}renderParameters(L,N,D){const[I,T]=this.getParameterLabelOffsets(N,D),A=document.createElement("span");A.textContent=N.label.substring(0,I);const R=document.createElement("span");R.textContent=N.label.substring(I,T),R.className="parameter active";const O=document.createElement("span");O.textContent=N.label.substring(T),S.append(L,A,R,O)}getParameterLabel(L,N){const D=L.parameters[N];return Array.isArray(D.label)?L.label.substring(D.label[0],D.label[1]):D.label}getParameterLabelOffsets(L,N){const D=L.parameters[N];if(D){if(Array.isArray(D.label))return D.label;if(D.label.length){const I=new RegExp(`(\\W|^)${n.escapeRegExpCharacters(D.label)}(?=\\W|$)`,"g");I.test(L.label);const T=I.lastIndex-D.label.length;return T>=0?[T,I.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return Yt.ID}trigger(L){this.model.trigger(L,0)}updateMaxHeight(){if(!this.domNodes)return;const N=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=N;const D=this.domNodes.element.getElementsByClassName("phwrapper");D.length&&(D[0].style.maxHeight=N)}};f.ID="editor.widget.parameterHintsWidget",f=Me([pe(1,a.IContextKeyService),pe(2,u.IOpenerService),pe(3,v.IModeService)],f),e.ParameterHintsWidget=f,d.registerThemingParticipant((b,L)=>{const N=b.getColor(c.editorHoverBorder);if(N){const R=b.type===l.ColorScheme.HIGH_CONTRAST?2:1;L.addRule(`.monaco-editor .parameter-hints-widget { border: ${R}px solid ${N}; }`),L.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${N.transparent(.5)}; }`),L.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${N.transparent(.5)}; }`)}const D=b.getColor(c.editorHoverBackground);D&&L.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${D}; }`);const I=b.getColor(c.textLinkForeground);I&&L.addRule(`.monaco-editor .parameter-hints-widget a { color: ${I}; }`);const T=b.getColor(c.editorHoverForeground);T&&L.addRule(`.monaco-editor .parameter-hints-widget { color: ${T}; }`);const A=b.getColor(c.textCodeBlockBackground);A&&L.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${A}; }`)})}),define(Q[677],J([0,1,510,2,9,25,16,14,676,186,18]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let s=class Xt extends k.Disposable{constructor(r,n){super();this.editor=r,this.widget=this._register(n.createInstance(v.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(Xt.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};s.ID="editor.controller.parameterHints",s=Me([pe(1,M.IInstantiationService)],s);class a extends p.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:S.localize(0,null),alias:"Trigger Parameter Hints",precondition:y.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,n){const o=s.get(n);o&&o.trigger({triggerKind:_.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=a,p.registerEditorContribution(s.ID,s),p.registerEditorAction(a);const u=100+75,c=p.EditorCommand.bindToContribution(s.get);p.registerEditorCommand(new c({id:"closeParameterHints",precondition:i.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:u,kbExpr:y.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),p.registerEditorCommand(new c({id:"showPrevParameterHint",precondition:w.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:u,kbExpr:y.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),p.registerEditorCommand(new c({id:"showNextParameterHint",precondition:w.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:u,kbExpr:y.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(Q[678],J([0,1,524,67,2,7,11,58,18,177,576,36,24,238,19,255,27,6,80]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function l(g){return`suggest-aria-id:${g}`}e.getAriaId=l,e.suggestMoreInfoIcon=o.registerIcon("suggest-more-info",r.Codicon.chevronRight,S.localize(0,null));const h=new(t=class mt{extract(f,b){if(f.textLabel.match(mt._regexStrict))return b[0]=f.textLabel,!0;if(f.completion.detail&&f.completion.detail.match(mt._regexStrict))return b[0]=f.completion.detail,!0;if(typeof f.completion.documentation=="string"){const L=mt._regexRelaxed.exec(f.completion.documentation);if(L&&(L.index===0||L.index+L[0].length===f.completion.documentation.length))return b[0]=L[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let m=class{constructor(f,b,L,N){this._editor=f,this._modelService=b,this._modeService=L,this._themeService=N,this._onDidToggleDetails=new n.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(f){const b=Object.create(null);b.disposables=new M.DisposableStore,b.root=f,b.root.classList.add("show-file-icons"),b.icon=y.append(f,y.$(".icon")),b.colorspan=y.append(b.icon,y.$("span.colorspan"));const L=y.append(f,y.$(".contents")),N=y.append(L,y.$(".main"));b.iconContainer=y.append(N,y.$(".icon-label.codicon")),b.left=y.append(N,y.$("span.left")),b.right=y.append(N,y.$("span.right")),b.iconLabel=new i.IconLabel(b.left,{supportHighlights:!0,supportIcons:!0}),b.disposables.add(b.iconLabel),b.parametersLabel=y.append(b.left,y.$("span.signature-label")),b.qualifierLabel=y.append(b.left,y.$("span.qualifier-label")),b.detailsLabel=y.append(b.right,y.$("span.details-label")),b.readMore=y.append(b.right,y.$("span.readMore"+w.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),b.readMore.title=S.localize(1,null);const D=()=>{const I=this._editor.getOptions(),T=I.get(40),A=T.fontFamily,R=T.fontFeatureSettings,O=I.get(105)||T.fontSize,P=I.get(106)||T.lineHeight,F=T.fontWeight,E=`${O}px`,x=`${P}px`;b.root.style.fontSize=E,b.root.style.fontWeight=F,N.style.fontFamily=A,N.style.fontFeatureSettings=R,N.style.lineHeight=x,b.icon.style.height=x,b.icon.style.width=x,b.readMore.style.height=x,b.readMore.style.width=x};return D(),b.disposables.add(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(40)||I.hasChanged(105)||I.hasChanged(106))&&D()})),b}renderElement(f,b,L){var N,D,I;const{completion:T}=f;L.root.id=l(b),L.colorspan.style.backgroundColor="";const A={labelEscapeNewLines:!0,matches:k.createMatches(f.score)};let R=[];if(T.kind===19&&h.extract(f,R))L.icon.className="icon customcolor",L.iconContainer.className="icon hide",L.colorspan.style.backgroundColor=R[0];else if(T.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){L.icon.className="icon hide",L.iconContainer.className="icon hide";const O=_.getIconClasses(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:f.textLabel}),u.FileKind.FILE),P=_.getIconClasses(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:T.detail}),u.FileKind.FILE);A.extraClasses=O.length>P.length?O:P}else T.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(L.icon.className="icon hide",L.iconContainer.className="icon hide",A.extraClasses=c.flatten([_.getIconClasses(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:f.textLabel}),u.FileKind.FOLDER),_.getIconClasses(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:T.detail}),u.FileKind.FOLDER)])):(L.icon.className="icon hide",L.iconContainer.className="",L.iconContainer.classList.add("suggest-icon",...v.completionKindToCssClass(T.kind).split(" ")));T.tags&&T.tags.indexOf(1)>=0&&(A.extraClasses=(A.extraClasses||[]).concat(["deprecated"]),A.matches=[]),L.iconLabel.setLabel(f.textLabel,void 0,A),typeof T.label=="string"?(L.parametersLabel.textContent="",L.qualifierLabel.textContent="",L.detailsLabel.textContent=C(T.detail||""),L.root.classList.add("string-label"),L.root.title=""):(L.parametersLabel.textContent=C(T.label.parameters||""),L.qualifierLabel.textContent=C(T.label.qualifier||""),L.detailsLabel.textContent=C(T.label.type||""),L.root.classList.remove("string-label"),L.root.title=`${f.textLabel}${(N=T.label.parameters)!==null&&N!==void 0?N:""}  ${(D=T.label.qualifier)!==null&&D!==void 0?D:""}  ${(I=T.label.type)!==null&&I!==void 0?I:""}`),this._editor.getOption(104).showInlineDetails?y.show(L.detailsLabel):y.hide(L.detailsLabel),d.canExpandCompletionItem(f)?(L.right.classList.add("can-expand-details"),y.show(L.readMore),L.readMore.onmousedown=O=>{O.stopPropagation(),O.preventDefault()},L.readMore.onclick=O=>{O.stopPropagation(),O.preventDefault(),this._onDidToggleDetails.fire()}):(L.right.classList.remove("can-expand-details"),y.hide(L.readMore),L.readMore.onmousedown=null,L.readMore.onclick=null)}disposeTemplate(f){f.disposables.dispose()}};m=Me([pe(1,s.IModelService),pe(2,p.IModeService),pe(3,w.IThemeService)],m),e.ItemRenderer=m;function C(g){return g.replace(/\r\n|\r|\n/g,"")}}),define(Q[679],J([0,1,522,8,7,6,12,2,106,16,121,120,11,22,79,15,9,255,663,678,233,146,101,360,127,260]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=u.registerColor("editorSuggestWidget.background",{dark:u.editorWidgetBackground,light:u.editorWidgetBackground,hc:u.editorWidgetBackground},S.localize(0,null)),e.editorSuggestWidgetBorder=u.registerColor("editorSuggestWidget.border",{dark:u.editorWidgetBorder,light:u.editorWidgetBorder,hc:u.editorWidgetBorder},S.localize(1,null)),e.editorSuggestWidgetForeground=u.registerColor("editorSuggestWidget.foreground",{dark:u.editorForeground,light:u.editorForeground,hc:u.editorForeground},S.localize(2,null)),e.editorSuggestWidgetSelectedForeground=u.registerColor("editorSuggestWidget.selectedForeground",{dark:u.quickInputListFocusForeground,light:u.quickInputListFocusForeground,hc:u.quickInputListFocusForeground},S.localize(3,null)),e.editorSuggestWidgetSelectedBackground=u.registerColor("editorSuggestWidget.selectedBackground",{dark:u.quickInputListFocusBackground,light:u.quickInputListFocusBackground,hc:u.quickInputListFocusBackground},S.localize(4,null)),e.editorSuggestWidgetHighlightForeground=u.registerColor("editorSuggestWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hc:u.listHighlightForeground},S.localize(5,null)),e.editorSuggestWidgetHighlightFocusForeground=u.registerColor("editorSuggestWidget.focusHighlightForeground",{dark:u.listFocusHighlightForeground,light:u.listFocusHighlightForeground,hc:u.listFocusHighlightForeground},S.localize(6,null));class C{constructor(L,N){this._service=L,this._key=`suggestWidget.size/${N.getEditorType()}/${N instanceof h.EmbeddedCodeEditorWidget}`}restore(){var L;const N=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const D=JSON.parse(N);if(M.Dimension.is(D))return M.Dimension.lift(D)}catch(D){}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let g=class yt{constructor(L,N,D,I,T){this.editor=L,this._storageService=N,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new d.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new y.Emitter,this._onDidFocus=new y.Emitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new l.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new f(this,L),this._persistedSize=new C(N,L);class A{constructor(H,K,q=!1,G=!1){this.persistedSize=H,this.currentSize=K,this.persistHeight=q,this.persistWidth=G}}let R;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),R=new A(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(x=>{var H,K,q,G;if(this._resize(x.dimension.width,x.dimension.height),R&&(R.persistHeight=R.persistHeight||!!x.north||!!x.south,R.persistWidth=R.persistWidth||!!x.east||!!x.west),!!x.done){if(R){const{itemHeight:ee,defaultSize:ie}=this.getLayoutInfo(),ae=Math.round(ee/2);let{width:de,height:Y}=this.element.size;(!R.persistHeight||Math.abs(R.currentSize.height-Y)<=ae)&&(Y=(K=(H=R.persistedSize)===null||H===void 0?void 0:H.height)!==null&&K!==void 0?K:ie.height),(!R.persistWidth||Math.abs(R.currentSize.width-de)<=ae)&&(de=(G=(q=R.persistedSize)===null||q===void 0?void 0:q.width)!==null&&G!==void 0?G:ie.width),this._persistedSize.store(new M.Dimension(de,Y))}this._contentWidget.unlockPreference(),R=void 0}})),this._messageElement=M.append(this.element.domNode,M.$(".message")),this._listElement=M.append(this.element.domNode,M.$(".tree"));const O=T.createInstance(n.SuggestDetailsWidget,this.editor);O.onDidClose(this.toggleDetails,this,this._disposables),this._details=new n.SuggestDetailsOverlay(O,this.editor);const P=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(104).showIcons);P();const F=T.createInstance(t.ItemRenderer,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new v.List("SuggestWidget",this._listElement,{getHeight:x=>this.getLayoutInfo().itemHeight,getTemplateId:x=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:x=>{if(x.isResolved&&this._isDetailsVisible()){const{documentation:H,detail:K}=x.completion,q=k.format("{0}{1}",K||"",H?typeof H=="string"?H:H.value:"");return S.localize(9,null,x.textLabel,q)}else return x.textLabel},getWidgetAriaLabel:()=>S.localize(10,null),getWidgetRole:()=>"listbox"}}),this._status=T.createInstance(o.SuggestWidgetStatus,this.element.domNode);const E=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(104).showStatusBar);E(),this._disposables.add(s.attachListStyler(this._list,I,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:u.activeContrastBorder})),this._disposables.add(I.onDidColorThemeChange(x=>this._onThemeChange(x))),this._onThemeChange(I.getColorTheme()),this._disposables.add(this._list.onMouseDown(x=>this._onListMouseDownOrTap(x))),this._disposables.add(this._list.onTap(x=>this._onListMouseDownOrTap(x))),this._disposables.add(this._list.onDidChangeSelection(x=>this._onListSelection(x))),this._disposables.add(this._list.onDidChangeFocus(x=>this._onListFocus(x))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(x=>{x.hasChanged(104)&&(E(),P())})),this._ctxSuggestWidgetVisible=_.Context.Visible.bindTo(D),this._ctxSuggestWidgetDetailsVisible=_.Context.DetailsVisible.bindTo(D),this._ctxSuggestWidgetMultipleSuggestions=_.Context.MultipleSuggestions.bindTo(D),this._disposables.add(M.addStandardDisposableListener(this._details.widget.domNode,"keydown",x=>{this._onDetailsKeydown.fire(x)})),this._disposables.add(this.editor.onMouseDown(x=>this._onEditorMouseDown(x)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,N){const D=this._completionModel;D&&(this._onDidSelect.fire({item:L,index:N,model:D}),this.editor.focus())}_onThemeChange(L){const N=L.getColor(e.editorSuggestWidgetBackground);N&&(this.element.domNode.style.backgroundColor=N.toString(),this._messageElement.style.backgroundColor=N.toString(),this._details.widget.domNode.style.backgroundColor=N.toString());const D=L.getColor(e.editorSuggestWidgetBorder);D&&(this.element.domNode.style.borderColor=D.toString(),this._messageElement.style.borderColor=D.toString(),this._status.element.style.borderTopColor=D.toString(),this._details.widget.domNode.style.borderColor=D.toString(),this._detailsBorderColor=D.toString());const I=L.getColor(u.focusBorder);I&&(this._detailsFocusBorderColor=I.toString()),this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var N;if(this._ignoreFocusEvents)return;if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const D=L.elements[0],I=L.indexes[0];D!==this._focusedItem&&((N=this._currentSuggestionDetails)===null||N===void 0||N.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=D,this._list.reveal(I),this._currentSuggestionDetails=d.createCancelablePromise(T=>Ie(this,void 0,void 0,function*(){const A=d.disposableTimeout(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);T.onCancellationRequested(()=>A.dispose());const R=yield D.resolve(T);return A.dispose(),R})),this._currentSuggestionDetails.then(()=>{I>=this._list.length||D!==this._list.element(I)||(this._ignoreFocusEvents=!0,this._list.splice(I,1,[D]),this._list.setFocus([I]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:t.getAriaId(I)}))}).catch(w.onUnexpectedError)),this._onDidFocus.fire({item:D,index:I,model:this._completionModel})}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:M.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=yt.LOADING_MESSAGE,M.hide(this._listElement,this._status.element),M.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=yt.NO_SUGGESTIONS_MESSAGE,M.hide(this._listElement,this._status.element),M.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._show();break;case 4:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._show();break;case 5:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,N){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=d.disposableTimeout(()=>this._setState(1),N)))}showSuggestions(L,N,D,I){var T,A;if(this._contentWidget.setPosition(this.editor.getPosition()),(T=this._loadingTimeout)===null||T===void 0||T.dispose(),(A=this._currentSuggestionDetails)===null||A===void 0||A.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),D&&this._state!==2&&this._state!==0){this._setState(4);return}const R=this._completionModel.items.length,O=R===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(R>1),O){this._setState(I?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(D?4:3),this._list.reveal(N,0),this._list.setFocus([N]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(n.canExpandCompletionItem(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const N=this._persistedSize.restore(),D=Math.ceil(this.getLayoutInfo().itemHeight*4.3);N&&N.height<D&&this._persistedSize.store(N.with(void 0,D))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var N,D,I;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const T=M.getClientArea(document.body),A=this.getLayoutInfo();L||(L=A.defaultSize);let R=L.height,O=L.width;if(this._status.element.style.lineHeight=`${A.itemHeight}px`,this._state===2||this._state===1)R=A.itemHeight+A.borderHeight,O=A.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new M.Dimension(O,R),this._contentWidget.setPreference(2);else{const P=T.width-A.borderHeight-2*A.horizontalPadding;O>P&&(O=P);const F=this._completionModel?this._completionModel.stats.pLabelLen*A.typicalHalfwidthCharacterWidth:O,E=A.statusBarHeight+this._list.contentHeight+A.borderHeight,x=A.itemHeight+A.statusBarHeight,H=M.getDomNodePagePosition(this.editor.getDomNode()),K=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),q=H.top+K.top+K.height,G=Math.min(T.height-q-A.verticalPadding,E),ee=Math.min(H.top+K.top-A.verticalPadding,E);let ie=Math.min(Math.max(ee,G)+A.borderHeight,E);R===((N=this._cappedHeight)===null||N===void 0?void 0:N.capped)&&(R=this._cappedHeight.wanted),R<x&&(R=x),R>ie&&(R=ie),R>G||this._forceRenderingAbove?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=ee):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=G),this.element.preferredSize=new M.Dimension(F,A.defaultSize.height),this.element.maxSize=new M.Dimension(P,ie),this.element.minSize=new M.Dimension(220,x),this._cappedHeight=R===E?{wanted:(I=(D=this._cappedHeight)===null||D===void 0?void 0:D.wanted)!==null&&I!==void 0?I:L.height,capped:R}:void 0}this._resize(O,R)}_resize(L,N){const{width:D,height:I}=this.element.maxSize;L=Math.min(D,L),N=Math.min(I,N);const{statusBarHeight:T}=this.getLayoutInfo();this._list.layout(N-T,L),this._listElement.style.height=`${N-T}px`,this.element.layout(N,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const L=this.editor.getOption(40),N=m.clamp(this.editor.getOption(106)||L.lineHeight,8,1e3),D=!this.editor.getOption(104).showStatusBar||this._state===2||this._state===1?0:N,I=this._details.widget.borderWidth,T=2*I;return{itemHeight:N,statusBarHeight:D,borderWidth:I,borderHeight:T,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new M.Dimension(430,D+12*N+T)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};g.LOADING_MESSAGE=S.localize(7,null),g.NO_SUGGESTIONS_MESSAGE=S.localize(8,null),g=Me([pe(1,c.IStorageService),pe(2,i.IContextKeyService),pe(3,a.IThemeService),pe(4,r.IInstantiationService)],g),e.SuggestWidget=g;class f{constructor(L,N){this._widget=L,this._editor=N,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:N}=this._widget.element.size,{borderWidth:D,horizontalPadding:I}=this._widget.getLayoutInfo();return new M.Dimension(N+2*D+I,L+2*D)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=f,a.registerThemingParticipant((b,L)=>{const N=b.getColor(e.editorSuggestWidgetHighlightForeground);N&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${N}; }`);const D=b.getColor(e.editorSuggestWidgetHighlightFocusForeground);N&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${D}; }`);const I=b.getColor(e.editorSuggestWidgetForeground);I&&L.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${I}; }`);const T=b.getColor(e.editorSuggestWidgetSelectedForeground);T&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${T}; }`);const A=b.getColor(u.textLinkForeground);A&&L.addRule(`.monaco-editor .suggest-details a { color: ${A}; }`);const R=b.getColor(u.textCodeBlockBackground);R&&L.addRule(`.monaco-editor .suggest-details code { background-color: ${R}; }`)})}),define(Q[680],J([0,1,11,80,7,6]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function w(){const p=new y.Emitter,v=k.getIconRegistry();return v.onDidChange(()=>p.fire()),{onDidChange:p.event,getCSS(){const i={},_=a=>{let u=a.defaults;for(;S.ThemeIcon.isThemeIcon(u);){const d=v.getIcon(u.id);if(!d)return;u=d.defaults}const c=u.fontId;if(c){const d=v.getIconFont(c);if(d)return i[c]=d,`.codicon-${a.id}:before { content: '${u.fontCharacter}'; font-family: ${M.asCSSPropertyValue(c)}; }`}return`.codicon-${a.id}:before { content: '${u.fontCharacter}'; }`},s=[];for(let a of v.getIcons()){const u=_(a);u&&s.push(u)}for(let a in i){const c=i[a].definition.src.map(d=>`${M.asCSSUrl(d.location)} format('${d.format}')`).join(", ");s.push(`@font-face { src: ${c}; font-family: ${M.asCSSPropertyValue(a)}; }`)}return s.join(`
`)}}}e.getIconsStyleSheet=w}),define(Q[681],J([0,1,7,29,6,18,389,619,32,22,11,2,99,680]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",d="vs-dark",r="hc-black",n=v.Registry.as(i.Extensions.ColorContribution),o=v.Registry.as(_.Extensions.ThemingContribution);class t{constructor(f,b){this.semanticHighlighting=!1,this.themeData=b;let L=b.base;f.length>0?(l(f)?this.id=f:this.id=L+" "+f,this.themeName=f):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(let b in this.themeData.colors)f.set(b,k.Color.fromHex(this.themeData.colors[b]));if(this.themeData.inherit){let b=h(this.themeData.base);for(let L in b.colors)f.has(L)||f.set(L,k.Color.fromHex(b.colors[L]))}this.colors=f}return this.colors}getColor(f,b){const L=this.getColors().get(f);if(L)return L;if(b!==!1)return this.getDefault(f)}getDefault(f){let b=this.defaultColors[f];return b||(b=n.resolveDefaultColor(f,this),this.defaultColors[f]=b,b)}defines(f){return Object.prototype.hasOwnProperty.call(this.getColors(),f)}get type(){switch(this.base){case c:return a.ColorScheme.LIGHT;case r:return a.ColorScheme.HIGH_CONTRAST;default:return a.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],b=[];if(this.themeData.inherit){let L=h(this.themeData.base);f=L.rules,L.encodedTokensColors&&(b=L.encodedTokensColors)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(b=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(f,b)}return this._tokenTheme}getTokenStyleMetadata(f,b,L){const D=this.tokenTheme._match([f].concat(b).join(".")).metadata,I=y.TokenMetadata.getForeground(D),T=y.TokenMetadata.getFontStyle(D);return{foreground:I,italic:Boolean(T&1),bold:Boolean(T&2),underline:Boolean(T&4)}}}function l(g){return g===c||g===d||g===r}function h(g){switch(g){case c:return p.vs;case d:return p.vs_dark;case r:return p.hc_black}}function m(g){let f=h(g);return new t(g,f)}class C extends s.Disposable{constructor(){super();this._onColorThemeChange=this._register(new M.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,m(c)),this._knownThemes.set(d,m(d)),this._knownThemes.set(r,m(r));const f=u.getIconsStyleSheet();this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()}),S.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(f){return S.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=S.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),s.Disposable.None}_registerShadowDomContainer(f){const b=S.createStyleSheet(f);return b.className="monaco-colors",b.textContent=this._allCSS,this._styleElements.push(b),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===b){this._styleElements.splice(L,1);return}}}}defineTheme(f,b){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!l(b.base)&&!l(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new t(f,b)),l(f)&&this._knownThemes.forEach(L=>{L.base===f&&L.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let b;this._knownThemes.has(f)?b=this._knownThemes.get(f):b=this._knownThemes.get(c),this._desiredTheme=b,this._updateActualTheme()}_updateActualTheme(){const f=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(r):this._desiredTheme;this._theme!==f&&(this._theme=f,this._updateThemeOrColorMap())}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._updateActualTheme()}_updateThemeOrColorMap(){let f=[],b={},L={addRule:D=>{b[D]||(f.push(D),b[D]=!0)}};o.getThemingParticipants().forEach(D=>D(this._theme,L,this._environment));const N=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule(w.generateTokensCSSForColorMap(N)),this._themeCSS=f.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(N),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=C}),define(Q[150],J([0,1,9]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=S.createDecorator("undoRedoService");class k{constructor(p,v){this.resource=p,this.elements=v}}e.ResourceEditStackSnapshot=k;class M{constructor(){this.id=M._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=M,M._ID=0,M.None=new M;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=y,y._ID=0,y.None=new y}),define(Q[272],J([0,1,6,2,17,12,35,31,18,142,138,47,15,23,11,70,150,91,237,44,254,248]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function m(O){return O.toString()}function C(O){const P=new n.StringSHA1,F=O.createSnapshot();let E;for(;E=F.read();)P.update(E);return P.digest()}class g{constructor(P,F,E){this._modelEventListeners=new k.DisposableStore,this.model=P,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(P.onWillDispose(()=>F(P))),this._modelEventListeners.add(P.onDidChangeLanguage(x=>E(P,x)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(P){this._disposeLanguageSelection(),this._languageSelection=P,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(P.languageIdentifier)),this.model.setMode(P.languageIdentifier)}}const f=M.isLinux||M.isMacintosh?1:2;class b{constructor(P,F,E,x,H,K,q,G){this.uri=P,this.initialUndoRedoSnapshot=F,this.time=E,this.sharesUndoRedoStack=x,this.heapSize=H,this.sha1=K,this.versionId=q,this.alternativeVersionId=G}}function L(O){return O.scheme===t.Schemas.file||O.scheme===t.Schemas.vscodeRemote||O.scheme===t.Schemas.userData||O.scheme==="fake-fs"}let N=class st extends k.Disposable{constructor(P,F,E,x,H){super();this._configurationService=P,this._resourcePropertiesService=F,this._themeService=E,this._logService=x,this._undoRedoService=H,this._onModelAdded=this._register(new S.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new S.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new S.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new T(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new I(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(P,F){let E=w.EDITOR_MODEL_DEFAULTS.tabSize;if(P.editor&&typeof P.editor.tabSize!="undefined"){const ae=parseInt(P.editor.tabSize,10);isNaN(ae)||(E=ae),E<1&&(E=1)}let x=E;if(P.editor&&typeof P.editor.indentSize!="undefined"&&P.editor.indentSize!=="tabSize"){const ae=parseInt(P.editor.indentSize,10);isNaN(ae)||(x=ae),x<1&&(x=1)}let H=w.EDITOR_MODEL_DEFAULTS.insertSpaces;P.editor&&typeof P.editor.insertSpaces!="undefined"&&(H=P.editor.insertSpaces==="false"?!1:Boolean(P.editor.insertSpaces));let K=f;const q=P.eol;q===`\r
`?K=2:q===`
`&&(K=1);let G=w.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;P.editor&&typeof P.editor.trimAutoWhitespace!="undefined"&&(G=P.editor.trimAutoWhitespace==="false"?!1:Boolean(P.editor.trimAutoWhitespace));let ee=w.EDITOR_MODEL_DEFAULTS.detectIndentation;P.editor&&typeof P.editor.detectIndentation!="undefined"&&(ee=P.editor.detectIndentation==="false"?!1:Boolean(P.editor.detectIndentation));let ie=w.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return P.editor&&typeof P.editor.largeFileOptimizations!="undefined"&&(ie=P.editor.largeFileOptimizations==="false"?!1:Boolean(P.editor.largeFileOptimizations)),{isForSimpleWidget:F,tabSize:E,indentSize:x,insertSpaces:H,detectIndentation:ee,defaultEOL:K,trimAutoWhitespace:G,largeFileOptimizations:ie}}_getEOL(P,F){if(P)return this._resourcePropertiesService.getEOL(P,F);const E=this._configurationService.getValue("files.eol",{overrideIdentifier:F});return E&&E!=="auto"?E:M.OS===3||M.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const P=this._configurationService.getValue("files.restoreUndoStack");return typeof P=="boolean"?P:!0}getCreationOptions(P,F,E){let x=this._modelCreationOptionsByLanguageAndResource[P+F];if(!x){const H=this._configurationService.getValue("editor",{overrideIdentifier:P,resource:F}),K=this._getEOL(F,P);x=st._readModelOptions({editor:H,eol:K},E),this._modelCreationOptionsByLanguageAndResource[P+F]=x}return x}_updateModelOptions(){const P=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const F=Object.keys(this._models);for(let E=0,x=F.length;E<x;E++){const H=F[E],K=this._models[H],q=K.model.getLanguageIdentifier().language,G=K.model.uri,ee=P[q+G],ie=this.getCreationOptions(q,G,K.model.isForSimpleWidget);st._setModelOptionsForModel(K.model,ie,ee)}}static _setModelOptionsForModel(P,F,E){E&&E.defaultEOL!==F.defaultEOL&&P.getLineCount()===1&&P.setEOL(F.defaultEOL===1?0:1),!(E&&E.detectIndentation===F.detectIndentation&&E.insertSpaces===F.insertSpaces&&E.tabSize===F.tabSize&&E.indentSize===F.indentSize&&E.trimAutoWhitespace===F.trimAutoWhitespace)&&(F.detectIndentation?(P.detectIndentation(F.insertSpaces,F.tabSize),P.updateOptions({trimAutoWhitespace:F.trimAutoWhitespace})):P.updateOptions({insertSpaces:F.insertSpaces,tabSize:F.tabSize,indentSize:F.indentSize,trimAutoWhitespace:F.trimAutoWhitespace}))}_insertDisposedModel(P){this._disposedModels.set(m(P.uri),P),this._disposedModelsHeapSize+=P.heapSize}_removeDisposedModel(P){const F=this._disposedModels.get(m(P));return F&&(this._disposedModelsHeapSize-=F.heapSize),this._disposedModels.delete(m(P)),F}_ensureDisposedModelsHeapSize(P){if(this._disposedModelsHeapSize>P){const F=[];for(this._disposedModels.forEach(E=>{E.sharesUndoRedoStack||F.push(E)}),F.sort((E,x)=>E.time-x.time);F.length>0&&this._disposedModelsHeapSize>P;){const E=F.shift();this._removeDisposedModel(E.uri),E.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(E.initialUndoRedoSnapshot)}}}_createModelData(P,F,E,x){const H=this.getCreationOptions(F.language,E,x),K=new p.TextModel(P,H,F,E,this._undoRedoService);if(E&&this._disposedModels.has(m(E))){const ee=this._removeDisposedModel(E),ie=this._undoRedoService.getElements(E),ae=C(K)===ee.sha1;if(ae||ee.sharesUndoRedoStack){for(const de of ie.past)o.isEditStackElement(de)&&de.matchesResource(E)&&de.setModel(K);for(const de of ie.future)o.isEditStackElement(de)&&de.matchesResource(E)&&de.setModel(K);this._undoRedoService.setElementsValidFlag(E,!0,de=>o.isEditStackElement(de)&&de.matchesResource(E)),ae&&(K._overwriteVersionId(ee.versionId),K._overwriteAlternativeVersionId(ee.alternativeVersionId),K._overwriteInitialUndoRedoSnapshot(ee.initialUndoRedoSnapshot))}else ee.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ee.initialUndoRedoSnapshot)}const q=m(K.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");const G=new g(K,ee=>this._onWillDispose(ee),(ee,ie)=>this._onDidChangeLanguage(ee,ie));return this._models[q]=G,G}createModel(P,F,E,x=!1){let H;return F?(H=this._createModelData(P,F.languageIdentifier,E,x),this.setMode(H.model,F)):H=this._createModelData(P,i.PLAINTEXT_LANGUAGE_IDENTIFIER,E,x),this._onModelAdded.fire(H.model),H.model}setMode(P,F){if(!F)return;const E=this._models[m(P.uri)];!E||E.setLanguage(F)}getModels(){const P=[],F=Object.keys(this._models);for(let E=0,x=F.length;E<x;E++){const H=F[E];P.push(this._models[H].model)}return P}getModel(P){const F=m(P),E=this._models[F];return E?E.model:null}getSemanticTokensProviderStyling(P){return this._semanticStyling.get(P)}_onWillDispose(P){const F=m(P.uri),E=this._models[F],x=this._undoRedoService.getUriComparisonKey(P.uri)!==P.uri.toString();let H=!1,K=0;if(x||this._shouldRestoreUndoStack()&&L(P.uri)){const G=this._undoRedoService.getElements(P.uri);if(G.past.length>0||G.future.length>0){for(const ee of G.past)o.isEditStackElement(ee)&&ee.matchesResource(P.uri)&&(H=!0,K+=ee.heapSize(P.uri),ee.setModel(P.uri));for(const ee of G.future)o.isEditStackElement(ee)&&ee.matchesResource(P.uri)&&(H=!0,K+=ee.heapSize(P.uri),ee.setModel(P.uri))}}const q=st.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(H)if(!x&&K>q){const G=E.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}else this._ensureDisposedModelsHeapSize(q-K),this._undoRedoService.setElementsValidFlag(P.uri,!1,G=>o.isEditStackElement(G)&&G.matchesResource(P.uri)),this._insertDisposedModel(new b(P.uri,E.model.getInitialUndoRedoSnapshot(),Date.now(),x,K,C(P),P.getVersionId(),P.getAlternativeVersionId()));else if(!x){const G=E.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}delete this._models[F],E.dispose(),delete this._modelCreationOptionsByLanguageAndResource[P.getLanguageIdentifier().language+P.uri],this._onModelRemoved.fire(P)}_onDidChangeLanguage(P,F){const E=F.oldLanguage,x=P.getLanguageIdentifier().language,H=this.getCreationOptions(E,P.uri,P.isForSimpleWidget),K=this.getCreationOptions(x,P.uri,P.isForSimpleWidget);st._setModelOptionsForModel(P,K,H),this._onModelModeChanged.fire({model:P,oldModeId:E})}};N.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,N=Me([pe(0,s.IConfigurationService),pe(1,_.ITextResourcePropertiesService),pe(2,c.IThemeService),pe(3,d.ILogService),pe(4,r.IUndoRedoService)],N),e.ModelServiceImpl=N,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function D(O,P,F){var E;const x=(E=F.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:O.getLanguageIdentifier().language,resource:O.uri}))===null||E===void 0?void 0:E.enabled;return typeof x=="boolean"?x:P.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=D;class I extends k.Disposable{constructor(P,F,E,x){super();this._watchers=Object.create(null),this._semanticStyling=x;const H=G=>{this._watchers[G.uri.toString()]=new R(G,F,this._semanticStyling)},K=(G,ee)=>{ee.dispose(),delete this._watchers[G.uri.toString()]},q=()=>{for(let G of P.getModels()){const ee=this._watchers[G.uri.toString()];D(G,F,E)?ee||H(G):ee&&K(G,ee)}};this._register(P.onModelAdded(G=>{D(G,F,E)&&H(G)})),this._register(P.onModelRemoved(G=>{const ee=this._watchers[G.uri.toString()];ee&&K(G,ee)})),this._register(E.onDidChangeConfiguration(G=>{G.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&q()})),this._register(F.onDidColorThemeChange(q))}}class T extends k.Disposable{constructor(P,F){super();this._themeService=P,this._logService=F,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(P){return this._caches.has(P)||this._caches.set(P,new l.SemanticTokensProviderStyling(P.getLegend(),this._themeService,this._logService)),this._caches.get(P)}}class A{constructor(P,F,E){this._provider=P,this.resultId=F,this.data=E}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class R extends k.Disposable{constructor(P,F,E){super();this._isDisposed=!1,this._model=P,this._semanticStyling=E,this._fetchDocumentSemanticTokens=this._register(new a.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const x=()=>{k.dispose(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const H of v.DocumentSemanticTokensProviderRegistry.all(P))typeof H.onDidChange=="function"&&this._documentProvidersChangeListeners.push(H.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};x(),this._register(v.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{x(),this._fetchDocumentSemanticTokens.schedule()})),this._register(F.onDidColorThemeChange(H=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const P=new u.CancellationTokenSource,F=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,E=h.getDocumentSemanticTokens(this._model,F,P.token);if(!E){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:x,request:H}=E;this._currentDocumentRequestCancellationTokenSource=P;const K=[],q=this._model.onDidChangeContent(ee=>{K.push(ee)}),G=this._semanticStyling.get(x);H.then(ee=>{this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),this._setDocumentSemanticTokens(x,ee||null,G,K)},ee=>{ee&&(y.isPromiseCanceledError(ee)||typeof ee.message=="string"&&ee.message.indexOf("busy")!==-1)||y.onUnexpectedError(ee),this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),K.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(P,F,E,x,H){for(let K=0;K<H;K++)E[x+K]=P[F+K]}_setDocumentSemanticTokens(P,F,E,x){const H=this._currentDocumentResponse,K=()=>{x.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){P&&F&&P.releaseDocumentSemanticTokens(F.resultId);return}if(!P||!E){this._model.setSemanticTokens(null,!1);return}if(!F){this._model.setSemanticTokens(null,!0),K();return}if(h.isSemanticTokensEdits(F)){if(!H){this._model.setSemanticTokens(null,!0);return}if(F.edits.length===0)F={resultId:F.resultId,data:H.data};else{let q=0;for(const de of F.edits)q+=(de.data?de.data.length:0)-de.deleteCount;const G=H.data,ee=new Uint32Array(G.length+q);let ie=G.length,ae=ee.length;for(let de=F.edits.length-1;de>=0;de--){const Y=F.edits[de],B=ie-(Y.start+Y.deleteCount);B>0&&(R._copy(G,ie-B,ee,ae-B,B),ae-=B),Y.data&&(R._copy(Y.data,0,ee,ae-Y.data.length,Y.data.length),ae-=Y.data.length),ie=Y.start}ie>0&&R._copy(G,0,ee,0,ie),F={resultId:F.resultId,data:ee}}}if(h.isSemanticTokens(F)){this._currentDocumentResponse=new A(P,F.resultId,F.data);const q=l.toMultilineTokens2(F,E,this._model.getLanguageIdentifier());if(x.length>0)for(const G of x)for(const ee of q)for(const ie of G.changes)ee.applyEdit(ie.range,ie.text);this._model.setSemanticTokens(q,!0)}else this._model.setSemanticTokens(null,!0);K()}}e.ModelSemanticColoring=R,R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(Q[682],J([0,1,7,29,6,2,44,45,146,3,31,68,615,495,9,119,149,22,11,122,116,211,150,37,352]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class g{constructor(D,I){this._editor=D,this._model=I,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const D=this._editor.getModel();if(!!D){for(let I of this._model.references)if(I.uri.toString()===D.uri.toString()){this._addDecorations(I.parent);return}}}_addDecorations(D){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const I=[],T=[];for(let R=0,O=D.children.length;R<O;R++){let P=D.children[R];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(I.push({range:P.range,options:g.DecorationOptions}),T.push(R))}const A=this._editor.deltaDecorations([],I);for(let R=0;R<A.length;R++)this._decorations.set(A[R],D.children[T[R]])}_onDecorationChanged(){const D=[],I=this._editor.getModel();if(!!I){for(let[T,A]of this._decorations){const R=I.getDecorationRange(T);if(!R)continue;let O=!1;if(!i.Range.equalsRange(R,A.range)){if(i.Range.spansMultipleLines(R))O=!0;else{const P=A.range.endColumn-A.range.startColumn,F=R.endColumn-R.startColumn;P!==F&&(O=!0)}O?(this._decorationIgnoreSet.add(A.id),D.push(T)):A.range=R}}for(let T=0,A=D.length;T<A;T++)this._decorations.delete(D[T]);this._editor.deltaDecorations(D,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}g.DecorationOptions=_.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class f{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(D){let I,T;try{const A=JSON.parse(D);I=A.ratio,T=A.heightInLines}catch(A){}return{ratio:I||.7,heightInLines:T||18}}}e.LayoutData=f;class b extends r.WorkbenchAsyncDataTree{}let L=class extends t.PeekViewWidget{constructor(D,I,T,A,R,O,P,F,E,x){super(D,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},O);this._defaultTreeKeyboardSupport=I,this.layoutData=T,this._textModelResolverService=R,this._instantiationService=O,this._peekViewService=P,this._uriLabel=F,this._undoRedoService=E,this._keybindingService=x,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new M.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new S.Dimension(0,0),this._applyTheme(A.getColorTheme()),this._callOnDispose.add(A.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(D,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),y.dispose(this._preview),y.dispose(this._previewNotAvailableMessage),y.dispose(this._tree),y.dispose(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(D){const I=D.getColor(t.peekViewBorder)||k.Color.transparent;this.style({arrowColor:I,frameColor:I,headerBackgroundColor:D.getColor(t.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:D.getColor(t.peekViewTitleForeground),secondaryHeadingColor:D.getColor(t.peekViewTitleInfoForeground)})}show(D){this.editor.revealRangeInCenterIfOutsideViewport(D,0),super.show(D,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(D){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:D.ctrlKey||D.metaKey||D.altKey?"side":"open",source:"title"})}_fillBody(D){this.setCssClass("reference-zone-widget"),this._messageContainer=S.append(D,S.$("div.messages")),S.hide(this._messageContainer),this._splitView=new h.SplitView(D,{orientation:1}),this._previewContainer=S.append(D,S.$("div.preview.inline"));let I={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,I,this.editor),S.hide(this._previewContainer),this._previewNotAvailableMessage=new _.TextModel(u.localize(0,null),_.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=S.append(D,S.$("div.ref-tree.inline"));const T={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new a.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(a.StringRepresentationProvider),identityProvider:new a.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(S.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(b,"ReferencesWidget",this._treeContainer,new a.Delegate,[this._instantiationService.createInstance(a.FileReferencesRenderer),this._instantiationService.createInstance(a.OneReferenceRenderer)],this._instantiationService.createInstance(a.DataSource),T),this._splitView.addView({onDidChange:M.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:M.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let A=(R,O)=>{R instanceof l.OneReference&&(O==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:O,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?A(R.element,"side"):R.editorOptions.pinned?A(R.element,"goto"):A(R.element,"show")}),S.hide(this._treeContainer)}_onWidth(D){this._dim&&this._doLayoutBody(this._dim.height,D)}_doLayoutBody(D,I){super._doLayoutBody(D,I),this._dim=new S.Dimension(I,D),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(I),this._splitView.resizeView(0,I*this.layoutData.ratio)}setSelection(D){return this._revealReference(D,!0).then(()=>{!this._model||(this._tree.setSelection([D]),this._tree.setFocus([D]))})}setModel(D){return this._disposeOnNewModel.clear(),this._model=D,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),S.show(this._messageContainer),Promise.resolve(void 0)):(S.hide(this._messageContainer),this._decorationsManager=new g(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(D=>this._tree.rerender(D))),this._disposeOnNewModel.add(this._preview.onMouseDown(D=>{const{event:I,target:T}=D;if(I.detail!==2)return;const A=this._getFocusedReference();!A||this._onDidSelectReference.fire({element:{uri:A.uri,range:T.range},kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),S.show(this._treeContainer),S.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[D]=this._tree.getFocus();if(D instanceof l.OneReference)return D;if(D instanceof l.FileReferences&&D.children.length>0)return D.children[0]}revealReference(D){return Ie(this,void 0,void 0,function*(){yield this._revealReference(D,!1),this._onDidSelectReference.fire({element:D,kind:"goto",source:"tree"})})}_revealReference(D,I){return Ie(this,void 0,void 0,function*(){if(this._revealedReference===D)return;this._revealedReference=D,D.uri.scheme!==w.Schemas.inMemory?this.setTitle(p.basenameOrAuthority(D.uri),this._uriLabel.getUriLabel(p.dirname(D.uri))):this.setTitle(u.localize(2,null));const T=this._textModelResolverService.createModelReference(D.uri);this._tree.getInput()===D.parent?this._tree.reveal(D):(I&&this._tree.reveal(D.parent),yield this._tree.expand(D.parent),this._tree.reveal(D));const A=yield T;if(!this._model){A.dispose();return}y.dispose(this._previewModelReference);const R=A.object;if(R){const O=this._preview.getModel()===R.textEditorModel?0:1,P=i.Range.lift(D.range).collapseToStart();this._previewModelReference=A,this._preview.setModel(R.textEditorModel),this._preview.setSelection(P),this._preview.revealRangeInCenter(P,O)}else this._preview.setModel(this._previewNotAvailableMessage),A.dispose()})}};L=Me([pe(3,o.IThemeService),pe(4,s.ITextModelService),pe(5,c.IInstantiationService),pe(6,t.IPeekViewService),pe(7,d.ILabelService),pe(8,m.IUndoRedoService),pe(9,C.IKeybindingService)],L),e.ReferenceWidget=L,o.registerThemingParticipant((N,D)=>{const I=N.getColor(t.peekViewResultsMatchHighlight);I&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${I}; }`);const T=N.getColor(t.peekViewEditorMatchHighlight);T&&D.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${T}; }`);const A=N.getColor(t.peekViewEditorMatchHighlightBorder);A&&D.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${A}; box-sizing: border-box; }`);const R=N.getColor(n.activeContrastBorder);R&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${R}; box-sizing: border-box; }`);const O=N.getColor(t.peekViewResultsBackground);O&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${O}; }`);const P=N.getColor(t.peekViewResultsMatchForeground);P&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${P}; }`);const F=N.getColor(t.peekViewResultsFileForeground);F&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${F}; }`);const E=N.getColor(t.peekViewResultsSelectionBackground);E&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${E}; }`);const x=N.getColor(t.peekViewResultsSelectionForeground);x&&D.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${x} !important; }`);const H=N.getColor(t.peekViewEditorBackground);H&&D.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${H};}`);const K=N.getColor(t.peekViewEditorGutterBackground);K&&D.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${K};}`)})}),define(Q[273],J([0,1,493,12,2,28,9,16,47,79,116,682,3,13,34,15,122,149,87,40,26]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new p.RawContextKey("referenceSearchVisible",!1,S.localize(0,null));let h=class Lt{constructor(g,f,b,L,N,D,I,T){this._defaultTreeKeyboardSupport=g,this._editor=f,this._editorService=L,this._notificationService=N,this._instantiationService=D,this._storageService=I,this._configurationService=T,this._disposables=new M.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(b)}static get(g){return g.getContribution(Lt.ID)}dispose(){var g,f;this._referenceSearchVisible.reset(),this._disposables.dispose(),(g=this._widget)===null||g===void 0||g.dispose(),(f=this._model)===null||f===void 0||f.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(g,f,b){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!!L&&g.containsPosition(L))return;this._peekMode=b,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",D=s.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(s.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,D),this._widget.setTitle(S.localize(1,null)),this._widget.show(g),this._disposables.add(this._widget.onDidClose(()=>{f.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(T=>{let{element:A,kind:R}=T;if(!!A)switch(R){case"open":(T.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(A,!1,!1);break;case"side":this.openReference(A,!0,!1);break;case"goto":b?this._gotoReference(A):this.openReference(A,!1,!0);break}}));const I=++this._requestIdPool;f.then(T=>{var A;if(I!==this._requestIdPool||!this._widget){T.dispose();return}return(A=this._model)===null||A===void 0||A.dispose(),this._model=T,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(S.localize(2,null,this._model.title,this._model.references.length));let R=this._editor.getModel().uri,O=new u.Position(g.startLineNumber,g.startColumn),P=this._model.nearestReference(R,O);if(P)return this._widget.setSelection(P).then(()=>{this._widget&&this._editor.getOption(74)==="editor"&&this._widget.focusOnPreviewEditor()})}})},T=>{this._notificationService.error(T)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(g){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const f=this._widget.position;if(!f)return;const b=this._model.nearestReference(this._editor.getModel().uri,f);if(!b)return;const L=this._model.nextOrPreviousReference(b,g),N=this._editor.hasTextFocus(),D=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),N?this._editor.focus():this._widget&&D&&this._widget.focusOnPreviewEditor()})}revealReference(g){return Ie(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(g))})}closeWidget(g=!0){var f,b;(f=this._widget)===null||f===void 0||f.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,g&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(g){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const f=a.Range.lift(g.range).collapseToStart();return this._editorService.openCodeEditor({resource:g.uri,options:{selection:f}},this._editor).then(b=>{var L;if(this._ignoreModelChangeEvent=!1,!b||!this._widget){this.closeWidget();return}if(this._editor===b)this._widget.show(f),this._widget.focusOnReferenceTree();else{const N=Lt.get(b),D=this._model.clone();this.closeWidget(),b.focus(),N.toggleWidget(f,d.createCancelablePromise(I=>Promise.resolve(D)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},b=>{this._ignoreModelChangeEvent=!1,k.onUnexpectedError(b)})}openReference(g,f,b){f||this.closeWidget();const{uri:L,range:N}=g;this._editorService.openCodeEditor({resource:L,options:{selection:N,pinned:b}},this._editor,f)}};h.ID="editor.contrib.referencesController",h=Me([pe(2,p.IContextKeyService),pe(3,y.ICodeEditorService),pe(4,c.INotificationService),pe(5,w.IInstantiationService),pe(6,i.IStorageService),pe(7,v.IConfigurationService)],h),e.ReferencesController=h;function m(C,g){const f=r.getOuterEditor(C);if(!f)return;let b=h.get(f);b&&g(b)}o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:t.KeyChord(2048|41,60),when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(C){m(C,g=>{g.changeFocusBetweenPreviewAndReferences()})}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(C){m(C,g=>{g.goToNextOrPreviousReference(!0)})}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(C){m(C,g=>{g.goToNextOrPreviousReference(!1)})}}),l.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),l.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),l.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),l.CommandsRegistry.registerCommand("closeReferenceSearch",C=>m(C,g=>g.closeWidget())),o.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(r.PeekContext.inPeekEditor,p.ContextKeyExpr.not("config.editor.stablePeek"))}),o.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,p.ContextKeyExpr.not("config.editor.stablePeek"))}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(C){var g;const b=(g=C.get(n.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(b)&&b[0]instanceof _.OneReference&&m(C,L=>L.revealReference(b[0]))}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(C){var g;const b=(g=C.get(n.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(b)&&b[0]instanceof _.OneReference&&m(C,L=>L.openReference(b[0],!0,!0))}}),l.CommandsRegistry.registerCommand("openReference",C=>{var g;const b=(g=C.get(n.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(b)&&b[0]instanceof _.OneReference&&m(C,L=>L.openReference(b[0],!1,!0))})}),define(Q[274],J([0,1,42,15,40,17,109,14,28,13,3,25,18,148,122,273,116,491,33,16,34,60,264,26,71,638,38,24,9,20,146]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I){"use strict";var T,A,R,O,P,F,E,x;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextPeek,title:n.localize(0,null),group:"navigation",order:100});const H=new Set;function K(W){const V=new W;return p.registerInstantiatedEditorAction(V),H.add(V.id),V}class q extends p.EditorAction{constructor(V,z){super(z);this._configuration=V}run(V,z){if(!z.hasModel())return Promise.resolve(void 0);const U=V.get(l.INotificationService),X=V.get(v.ICodeEditorService),te=V.get(h.IEditorProgressService),se=V.get(f.ISymbolNavigationService),le=z.getModel(),ue=z.getPosition(),re=new g.EditorStateCancellationTokenSource(z,1|4),ce=k.raceCancellation(this._getLocationModel(le,ue,re.token),re.token).then(j=>Ie(this,void 0,void 0,function*(){if(!j||re.token.isCancellationRequested)return;S.alert(j.ariaMessage);let ne;if(j.referenceAt(le.uri,ue)){const oe=this._getAlternativeCommand(z);oe!==this.id&&H.has(oe)&&(ne=z.getAction(oe))}const Z=j.references.length;if(Z===0){if(!this._configuration.muteMessage){const oe=le.getWordAtPosition(ue);u.MessageController.get(z).showMessage(this._getNoResultFoundMessage(oe),ue)}}else if(Z===1&&ne)ne.run();else return this._onResult(X,se,z,j)}),j=>{U.error(j)}).finally(()=>{re.dispose()});return te.showWhile(ce,250),ce}_onResult(V,z,U,X){return Ie(this,void 0,void 0,function*(){const te=this._getGoToPreference(U);if(!(U instanceof I.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||te==="peek"&&X.references.length>1))this._openInPeek(U,X);else{const se=X.firstReference(),le=X.references.length>1&&te==="gotoAndPeek",ue=yield this._openReference(U,V,se,this._configuration.openToSide,!le);le&&ue?this._openInPeek(ue,X):X.dispose(),te==="goto"&&z.put(se)}})}_openReference(V,z,U,X,te){return Ie(this,void 0,void 0,function*(){let se;if(a.isLocationLink(U)&&(se=U.targetSelectionRange),se||(se=U.range),!se)return;const le=yield z.openCodeEditor({resource:U.uri,options:{selection:_.Range.collapseToStart(se),selectionRevealType:3}},V,X);if(!!le){if(te){const ue=le.getModel(),re=le.deltaDecorations([],[{range:se,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{le.getModel()===ue&&le.deltaDecorations(re,[])},350)}return le}})}_openInPeek(V,z){let U=d.ReferencesController.get(V);U&&V.hasModel()?U.toggleWidget(V.getSelection(),k.createCancelablePromise(X=>Promise.resolve(z)),this._configuration.openInPeek):z.dispose()}}class G extends q{_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield m.getDefinitionsAtPosition(V,z,U),n.localize(1,null))})}_getNoResultFoundMessage(V){return V&&V.word?n.localize(2,null,V.word):n.localize(3,null)}_getAlternativeCommand(V){return V.getOption(47).alternativeDefinitionCommand}_getGoToPreference(V){return V.getOption(47).multipleDefinitions}}e.DefinitionAction=G;const ee=y.isWeb&&!b.isStandalone?2048|70:70;K((T=class Et extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Et.id,label:n.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:ee,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:o.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:n.localize(5,null)}});C.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Et.id)}},T.id="editor.action.revealDefinition",T)),K((A=class Dt extends G{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Dt.id,label:n.localize(6,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,ee),weight:100}});C.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Dt.id)}},A.id="editor.action.revealDefinitionAside",A)),K((R=class It extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:It.id,label:n.localize(7,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:o.MenuId.EditorContextPeek,group:"peek",order:2}});C.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",It.id)}},R.id="editor.action.peekDefinition",R));class ie extends q{_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield m.getDeclarationsAtPosition(V,z,U),n.localize(8,null))})}_getNoResultFoundMessage(V){return V&&V.word?n.localize(9,null,V.word):n.localize(10,null)}_getAlternativeCommand(V){return V.getOption(47).alternativeDeclarationCommand}_getGoToPreference(V){return V.getOption(47).multipleDeclarations}}K((O=class Qt extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qt.id,label:n.localize(11,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:o.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(12,null)}})}_getNoResultFoundMessage(V){return V&&V.word?n.localize(13,null,V.word):n.localize(14,null)}},O.id="editor.action.revealDeclaration",O)),K(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:n.localize(15,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:o.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ae extends q{_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield m.getTypeDefinitionsAtPosition(V,z,U),n.localize(16,null))})}_getNoResultFoundMessage(V){return V&&V.word?n.localize(17,null,V.word):n.localize(18,null)}_getAlternativeCommand(V){return V.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(V){return V.getOption(47).multipleTypeDefinitions}}K((P=class Jt extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Jt.ID,label:n.localize(19,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:o.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(20,null)}})}},P.ID="editor.action.goToTypeDefinition",P)),K((F=class ei extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ei.ID,label:n.localize(21,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:o.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class de extends q{_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield m.getImplementationsAtPosition(V,z,U),n.localize(22,null))})}_getNoResultFoundMessage(V){return V&&V.word?n.localize(23,null,V.word):n.localize(24,null)}_getAlternativeCommand(V){return V.getOption(47).alternativeImplementationCommand}_getGoToPreference(V){return V.getOption(47).multipleImplementations}}K((E=class ti extends de{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ti.ID,label:n.localize(25,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:n.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},E.ID="editor.action.goToImplementation",E)),K((x=class ii extends de{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ii.ID,label:n.localize(27,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:o.MenuId.EditorContextPeek,group:"peek",order:5}})}},x.ID="editor.action.peekImplementation",x));class Y extends q{_getNoResultFoundMessage(V){return V?n.localize(28,null,V.word):n.localize(29,null)}_getAlternativeCommand(V){return V.getOption(47).alternativeReferenceCommand}_getGoToPreference(V){return V.getOption(47).multipleReferences}}K(class extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:n.localize(30,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:o.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:n.localize(31,null)}})}_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield m.getReferencesAtPosition(V,z,!0,U),n.localize(32,null))})}}),K(class extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:n.localize(33,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:o.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield m.getReferencesAtPosition(V,z,!1,U),n.localize(34,null))})}});class B extends q{constructor(V,z,U){super(V,{id:"editor.action.goToLocation",label:n.localize(35,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=z,this._gotoMultipleBehaviour=U}_getLocationModel(V,z,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,n.localize(36,null))})}_getNoResultFoundMessage(V){return V&&n.localize(37,null,V.word)||""}_getGoToPreference(V){var z;return(z=this._gotoMultipleBehaviour)!==null&&z!==void 0?z:V.getOption(47).multipleReferences}_getAlternativeCommand(){return""}}C.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(W,V,z,U,X,te,se)=>Ie(void 0,void 0,void 0,function*(){D.assertType(L.URI.isUri(V)),D.assertType(i.Position.isIPosition(z)),D.assertType(Array.isArray(U)),D.assertType(typeof X=="undefined"||typeof X=="string"),D.assertType(typeof se=="undefined"||typeof se=="boolean");const le=W.get(v.ICodeEditorService),ue=yield le.openCodeEditor({resource:V},le.getFocusedCodeEditor());if(w.isCodeEditor(ue))return ue.setPosition(z),ue.revealPositionInCenterIfOutsideViewport(z,0),ue.invokeWithinContext(re=>{const ce=new class extends B{_getNoResultFoundMessage(j){return te||super._getNoResultFoundMessage(j)}}({muteMessage:!Boolean(te),openInPeek:Boolean(se),openToSide:!1},U,X);re.get(N.IInstantiationService).invokeFunction(ce.run.bind(ce),ue)})})}),C.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(W,V,z,U,X)=>Ie(void 0,void 0,void 0,function*(){W.get(C.ICommandService).executeCommand("editor.action.goToLocations",V,z,U,X,void 0,!0)})}),C.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(W,V,z)=>{D.assertType(L.URI.isUri(V)),D.assertType(i.Position.isIPosition(z));const U=W.get(v.ICodeEditorService);return U.openCodeEditor({resource:V},U.getFocusedCodeEditor()).then(X=>{if(!w.isCodeEditor(X)||!X.hasModel())return;const te=d.ReferencesController.get(X);if(!te)return;const se=k.createCancelablePromise(ue=>m.getReferencesAtPosition(X.getModel(),i.Position.lift(z),!1,ue).then(re=>new r.ReferencesModel(re,n.localize(38,null)))),le=new _.Range(z.lineNumber,z.column,z.lineNumber,z.column);return Promise.resolve(te.toggleWidget(le,se,!1))})}}),C.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(Q[275],J([0,1,492,15,12,82,58,3,18,14,264,2,68,11,22,71,274,228,13,20,122,16,351]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let m=class rt{constructor(g,f,b){this.textModelResolverService=f,this.modeService=b,this.toUnhook=new s.DisposableStore,this.toUnhookForKeyboard=new s.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=g;let L=new n.ClickLinkGesture(g);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([N,D])=>{this.startFindDefinitionFromMouse(N,t.withNullAsUndefined(D))})),this.toUnhook.add(L.onExecute(N=>{this.isEnabled(N)&&this.gotoDefinition(N.target.position,N.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},D=>{this.removeLinkDecorations(),M.onUnexpectedError(D)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(g){return g.getContribution(rt.ID)}startFindDefinitionFromCursor(g){return this.startFindDefinition(g).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(f=>{f&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(g,f){if(g.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(g,f)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const b=g.target.position;this.startFindDefinition(b)}startFindDefinition(g){var f;this.toUnhookForKeyboard.clear();const b=g?(f=this.editor.getModel())===null||f===void 0?void 0:f.getWordAtPosition(g):null;if(!b)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===b.startColumn&&this.currentWordAtPosition.endColumn===b.endColumn&&this.currentWordAtPosition.word===b.word)return Promise.resolve(0);this.currentWordAtPosition=b;let L=new d.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=k.createCancelablePromise(N=>this.findDefinition(g,N)),this.previousPromise.then(N=>{if(!N||!N.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(N.length>1)this.addDecoration(new p.Range(g.lineNumber,b.startColumn,g.lineNumber,b.endColumn),new y.MarkdownString().appendText(S.localize(0,null,N.length)));else{let D=N[0];if(!D.uri)return;this.textModelResolverService.createModelReference(D.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:A}=D.range;if(A<1||A>T.getLineCount()){I.dispose();return}const R=this.getPreviewValue(T,A,D);let O;D.originSelectionRange?O=p.Range.lift(D.originSelectionRange):O=new p.Range(g.lineNumber,b.startColumn,g.lineNumber,b.endColumn);const P=this.modeService.getModeIdByFilepathOrFirstLine(T.uri);this.addDecoration(O,new y.MarkdownString().appendCodeblock(P||"",R)),I.dispose()})}}).then(void 0,M.onUnexpectedError)}getPreviewValue(g,f,b){let L=b.targetSelectionRange?b.range:this.getPreviewRangeBasedOnBrackets(g,f);return L.endLineNumber-L.startLineNumber>=rt.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(g,f)),this.stripIndentationFromPreviewRange(g,f,L)}stripIndentationFromPreviewRange(g,f,b){let N=g.getLineFirstNonWhitespaceColumn(f);for(let I=f+1;I<b.endLineNumber;I++){const T=g.getLineFirstNonWhitespaceColumn(I);N=Math.min(N,T)}return g.getValueInRange(b).replace(new RegExp(`^\\s{${N-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(g,f){const b=g.getLineFirstNonWhitespaceColumn(f),L=Math.min(g.getLineCount(),f+rt.MAX_SOURCE_PREVIEW_LINES);let N=f+1;for(;N<L;N++){let D=g.getLineFirstNonWhitespaceColumn(N);if(b===D)break}return new p.Range(f,1,N+1,1)}getPreviewRangeBasedOnBrackets(g,f){const b=Math.min(g.getLineCount(),f+rt.MAX_SOURCE_PREVIEW_LINES),L=[];let N=!0,D=g.findNextBracket(new o.Position(f,1));for(;D!==null;){if(L.length===0)L.push(D);else{const R=L[L.length-1];if(R.open[0]===D.open[0]&&R.isOpen&&!D.isOpen?L.pop():L.push(D),L.length===0)if(N)N=!1;else return new p.Range(f,1,D.range.endLineNumber+1,1)}const I=g.getLineMaxColumn(f);let T=D.range.endLineNumber,A=D.range.endColumn;if(I===D.range.endColumn&&(T++,A=1),T>b)return new p.Range(f,1,b+1,1);D=g.findNextBracket(new o.Position(T,A))}return new p.Range(f,1,b+1,1)}addDecoration(g,f){const b={range:g,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:f}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[b])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(g,f){return this.editor.hasModel()&&g.isNoneOrSingleMouseDown&&g.target.type===6&&(g.hasTriggerModifier||(f?f.keyCodeIsTriggerKey:!1))&&v.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(g,f){const b=this.editor.getModel();return b?_.getDefinitionsAtPosition(b,g,f):Promise.resolve(null)}gotoDefinition(g,f){return this.editor.setPosition(g),this.editor.invokeWithinContext(b=>{const L=!f&&this.editor.getOption(75)&&!this.isInPeekEditor(b);return new r.DefinitionAction({openToSide:f,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(b,this.editor)})}isInPeekEditor(g){const f=g.get(h.IContextKeyService);return l.PeekContext.inPeekEditor.getValue(f)}dispose(){this.toUnhook.dispose()}};m.ID="editor.contrib.gotodefinitionatposition",m.MAX_SOURCE_PREVIEW_LINES=8,m=Me([pe(1,a.ITextModelService),pe(2,w.IModeService)],m),e.GotoDefinitionAtPositionEditorContribution=m,i.registerEditorContribution(m.ID,m),u.registerThemingParticipant((C,g)=>{const f=C.getColor(c.editorActiveLinkForeground);f&&g.addRule(`.monaco-editor .goto-definition-link { color: ${f} !important; }`)})}),define(Q[683],J([0,1,15,2,14,18,36,254,11,47,272,248]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class extends k.Disposable{constructor(c,d,r,n){super();this._modelService=d,this._themeService=r,this._configurationService=n,this._editor=c,this._tokenizeViewport=new S.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(o=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(y.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(_.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let d=0,r=this._outstandingRequests.length;d<r;d++)if(this._outstandingRequests[d]===c){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.hasCompleteSemanticTokens())return;if(!_.isSemanticColoringEnabled(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const d=s.getDocumentRangeSemanticTokensProvider(c);if(!d){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const r=this._modelService.getSemanticTokensProviderStyling(d),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(o=>this._requestRange(c,o,d,r)))}_requestRange(c,d,r,n){const o=c.getVersionId(),t=S.createCancelablePromise(l=>Promise.resolve(r.provideDocumentRangeSemanticTokens(c,d,l)));return t.then(l=>{!l||c.isDisposed()||c.getVersionId()!==o||c.setPartialSemanticTokens(d,p.toMultilineTokens2(l,n,c.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};a.ID="editor.contrib.viewportSemanticTokens",a=Me([pe(1,w.IModelService),pe(2,v.IThemeService),pe(3,i.IConfigurationService)],a),M.registerEditorContribution(a.ID,a)}),define(Q[684],J([0,1,14,28,273,47,16,9,34,79]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let _=class extends M.ReferencesController{constructor(a,u,c,d,r,n,o){super(!0,a,u,c,d,r,n,o)}};_=Me([pe(1,w.IContextKeyService),pe(2,k.ICodeEditorService),pe(3,v.INotificationService),pe(4,p.IInstantiationService),pe(5,i.IStorageService),pe(6,y.IConfigurationService)],_),e.StandaloneReferencesController=_,S.registerEditorContribution(M.ReferencesController.ID,_)}),define(Q[685],J([0,1,543,150,12,75,118,74,44,34,2]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function a(C){return C.scheme===v.Schemas.file?C.fsPath:C.path}let u=0;class c{constructor(g,f,b,L,N,D,I){this.id=++u,this.type=0,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabel=f,this.strResource=b,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=N,this.sourceId=D,this.sourceOrder=I,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(g,f){this.resourceLabel=g,this.reason=f}}class r{constructor(){this.elements=new Map}createMessage(){const g=[],f=[];for(const[,L]of this.elements)(L.reason===0?g:f).push(L.resourceLabel);let b=[];return g.length>0&&b.push(S.localize(0,null,g.join(", "))),f.length>0&&b.push(S.localize(1,null,f.join(", "))),b.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,f){this.elements.set(g,f)}delete(g){return this.elements.delete(g)}}class n{constructor(g,f,b,L,N,D,I){this.id=++u,this.type=1,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabels=f,this.strResources=b,this.groupId=L,this.groupOrder=N,this.sourceId=D,this.sourceOrder=I,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,f,b){this.removedResources||(this.removedResources=new r),this.removedResources.has(f)||this.removedResources.set(f,new d(g,b))}setValid(g,f,b){b?this.invalidatedResources&&(this.invalidatedResources.delete(f),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(f)||this.invalidatedResources.set(f,new d(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class o{constructor(g,f){this.resourceLabel=g,this.strResource=f,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let g=[];g.push(`* ${this.strResource}:`);for(let f=0;f<this._past.length;f++)g.push(`   * [UNDO] ${this._past[f]}`);for(let f=this._future.length-1;f>=0;f--)g.push(`   * [REDO] ${this._future[f]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,f){g.type===1?g.setValid(this.resourceLabel,this.strResource,f):g.setValid(f)}setElementsValidFlag(g,f){for(const b of this._past)f(b.actual)&&this._setElementValidFlag(b,g);for(const b of this._future)f(b.actual)&&this._setElementValidFlag(b,g)}pushElement(g){for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const f=[];for(let b=0,L=this._past.length;b<L;b++)f.push(this._past[b].id);for(let b=this._future.length-1;b>=0;b--)f.push(this._future[b].id);return new k.ResourceEditStackSnapshot(g,f)}restoreSnapshot(g){const f=g.elements.length;let b=!0,L=0,N=-1;for(let I=0,T=this._past.length;I<T;I++,L++){const A=this._past[I];b&&(L>=f||A.id!==g.elements[L])&&(b=!1,N=0),!b&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let D=-1;for(let I=this._future.length-1;I>=0;I--,L++){const T=this._future[I];b&&(L>=f||T.id!==g.elements[L])&&(b=!1,D=I),!b&&T.type===1&&T.removeResource(this.resourceLabel,this.strResource,0)}N!==-1&&(this._past=this._past.slice(0,N)),D!==-1&&(this._future=this._future.slice(D+1)),this.versionId++}getElements(){const g=[],f=[];for(const b of this._past)g.push(b.actual);for(const b of this._future)f.push(b.actual);return{past:g,future:f}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,f){for(let b=this._past.length-1;b>=0;b--)if(this._past[b]===g){f.has(this.strResource)?this._past[b]=f.get(this.strResource):this._past.splice(b,1);break}this.versionId++}splitFutureWorkspaceElement(g,f){for(let b=this._future.length-1;b>=0;b--)if(this._future[b]===g){f.has(this.strResource)?this._future[b]=f.get(this.strResource):this._future.splice(b,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class t{constructor(g){this.editStacks=g,this._versionIds=[];for(let f=0,b=this.editStacks.length;f<b;f++)this._versionIds[f]=this.editStacks[f].versionId}isValid(){for(let g=0,f=this.editStacks.length;g<f;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const l=new o("","");l.locked=!0;let h=class{constructor(g,f){this._dialogService=g,this._notificationService=f,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const f of this._uriComparisonKeyComputers)if(f[0]===g.scheme)return f[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);let f=[];for(const b of this._editStacks)f.push(b[1].toString());console.log(f.join(`
`))}pushElement(g,f=k.UndoRedoGroup.None,b=k.UndoRedoSource.None){if(g.type===0){const L=a(g.resource),N=this.getUriComparisonKey(g.resource);this._pushElement(new c(g,L,N,f.id,f.nextOrder(),b.id,b.nextOrder()))}else{const L=new Set,N=[],D=[];for(const I of g.resources){const T=a(I),A=this.getUriComparisonKey(I);L.has(A)||(L.add(A),N.push(T),D.push(A))}N.length===1?this._pushElement(new c(g,N[0],D[0],f.id,f.nextOrder(),b.id,b.nextOrder())):this._pushElement(new n(g,N,D,f.id,f.nextOrder(),b.id,b.nextOrder()))}s&&this._print("pushElement")}_pushElement(g){for(let f=0,b=g.strResources.length;f<b;f++){const L=g.resourceLabels[f],N=g.strResources[f];let D;this._editStacks.has(N)?D=this._editStacks.get(N):(D=new o(L,N),this._editStacks.set(N,D)),D.pushElement(g)}}getLastElement(g){const f=this.getUriComparisonKey(g);if(this._editStacks.has(f)){const b=this._editStacks.get(f);if(b.hasFutureElements())return null;const L=b.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(g,f){const b=g.actual.split(),L=new Map;for(const N of b){const D=a(N.resource),I=this.getUriComparisonKey(N.resource),T=new c(N,D,I,0,0,0,0);L.set(T.strResource,T)}for(const N of g.strResources){if(f&&f.has(N))continue;this._editStacks.get(N).splitPastWorkspaceElement(g,L)}}_splitFutureWorkspaceElement(g,f){const b=g.actual.split(),L=new Map;for(const N of b){const D=a(N.resource),I=this.getUriComparisonKey(N.resource),T=new c(N,D,I,0,0,0,0);L.set(T.strResource,T)}for(const N of g.strResources){if(f&&f.has(N))continue;this._editStacks.get(N).splitFutureWorkspaceElement(g,L)}}removeElements(g){const f=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(f)&&(this._editStacks.get(f).dispose(),this._editStacks.delete(f)),s&&this._print("removeElements")}setElementsValidFlag(g,f,b){const L=this.getUriComparisonKey(g);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(f,b),s&&this._print("setElementsValidFlag")}createSnapshot(g){const f=this.getUriComparisonKey(g);return this._editStacks.has(f)?this._editStacks.get(f).createSnapshot(g):new k.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const f=this.getUriComparisonKey(g.resource);if(this._editStacks.has(f)){const b=this._editStacks.get(f);b.restoreSnapshot(g),!b.hasPastElements()&&!b.hasFutureElements()&&(b.dispose(),this._editStacks.delete(f))}s&&this._print("restoreSnapshot")}getElements(g){const f=this.getUriComparisonKey(g);return this._editStacks.has(f)?this._editStacks.get(f).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let f=null,b=null;for(const[L,N]of this._editStacks){const D=N.getClosestPastElement();!D||D.sourceId===g&&(!f||D.sourceOrder>f.sourceOrder)&&(f=D,b=L)}return[f,b]}canUndo(g){if(g instanceof k.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(g.id);return!!b}const f=this.getUriComparisonKey(g);return this._editStacks.has(f)?this._editStacks.get(f).hasPastElements():!1}_onError(g,f){M.onUnexpectedError(g);for(const b of f.strResources)this.removeElements(b);this._notificationService.error(g)}_acquireLocks(g){for(const f of g.editStacks)if(f.locked)throw new Error("Cannot acquire edit stack lock");for(const f of g.editStacks)f.locked=!0;return()=>{for(const f of g.editStacks)f.locked=!1}}_safeInvokeWithLocks(g,f,b,L,N){const D=this._acquireLocks(b);let I;try{I=f()}catch(T){return D(),L.dispose(),this._onError(T,g)}return I?I.then(()=>(D(),L.dispose(),N()),T=>(D(),L.dispose(),this._onError(T,g))):(D(),L.dispose(),N())}_invokeWorkspacePrepare(g){return Ie(this,void 0,void 0,function*(){if(typeof g.actual.prepareUndoRedo=="undefined")return _.Disposable.None;const f=g.actual.prepareUndoRedo();return typeof f=="undefined"?_.Disposable.None:f})}_invokeResourcePrepare(g,f){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo=="undefined")return f(_.Disposable.None);const b=g.actual.prepareUndoRedo();return b?_.isDisposable(b)?f(b):b.then(L=>f(L)):f(_.Disposable.None)}_getAffectedEditStacks(g){const f=[];for(const b of g.strResources)f.push(this._editStacks.get(b)||l);return new t(f)}_tryToSplitAndUndo(g,f,b,L){if(f.canSplit())return this._splitPastWorkspaceElement(f,b),this._notificationService.warn(L),new m(this._undo(g,0,!0));for(const N of f.strResources)this.removeElements(N);return this._notificationService.warn(L),new m}_checkWorkspaceUndo(g,f,b,L){if(f.removedResources)return this._tryToSplitAndUndo(g,f,f.removedResources,S.localize(2,null,f.label,f.removedResources.createMessage()));if(L&&f.invalidatedResources)return this._tryToSplitAndUndo(g,f,f.invalidatedResources,S.localize(3,null,f.label,f.invalidatedResources.createMessage()));const N=[];for(const I of b.editStacks)I.getClosestPastElement()!==f&&N.push(I.resourceLabel);if(N.length>0)return this._tryToSplitAndUndo(g,f,null,S.localize(4,null,f.label,N.join(", ")));const D=[];for(const I of b.editStacks)I.locked&&D.push(I.resourceLabel);return D.length>0?this._tryToSplitAndUndo(g,f,null,S.localize(5,null,f.label,D.join(", "))):b.isValid()?null:this._tryToSplitAndUndo(g,f,null,S.localize(6,null,f.label))}_workspaceUndo(g,f,b){const L=this._getAffectedEditStacks(f),N=this._checkWorkspaceUndo(g,f,L,!1);return N?N.returnValue:this._confirmAndExecuteWorkspaceUndo(g,f,L,b)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,f]of this._editStacks){const b=f.getClosestPastElement();if(!!b){if(b===g){const L=f.getSecondClosestPastElement();if(L&&L.groupId===g.groupId)return!0}if(b.groupId===g.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(g,f,b,L){return Ie(this,void 0,void 0,function*(){if(f.canSplit()&&!this._isPartOfUndoGroup(f)){const I=yield this._dialogService.show(p.default.Info,S.localize(7,null,f.label),[S.localize(8,null,b.editStacks.length),S.localize(9,null),S.localize(10,null)],{cancelId:2});if(I.choice===2)return;if(I.choice===1)return this._splitPastWorkspaceElement(f,null),this._undo(g,0,!0);const T=this._checkWorkspaceUndo(g,f,b,!1);if(T)return T.returnValue;L=!0}let N;try{N=yield this._invokeWorkspacePrepare(f)}catch(I){return this._onError(I,f)}const D=this._checkWorkspaceUndo(g,f,b,!0);if(D)return N.dispose(),D.returnValue;for(const I of b.editStacks)I.moveBackward(f);return this._safeInvokeWithLocks(f,()=>f.actual.undo(),b,N,()=>this._continueUndoInGroup(f.groupId,L))})}_resourceUndo(g,f,b){if(!f.isValid){g.flushAllElements();return}if(g.locked){const L=S.localize(11,null,f.label);this._notificationService.warn(L);return}return this._invokeResourcePrepare(f,L=>(g.moveBackward(f),this._safeInvokeWithLocks(f,()=>f.actual.undo(),new t([g]),L,()=>this._continueUndoInGroup(f.groupId,b))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let f=null,b=null;for(const[L,N]of this._editStacks){const D=N.getClosestPastElement();!D||D.groupId===g&&(!f||D.groupOrder>f.groupOrder)&&(f=D,b=L)}return[f,b]}_continueUndoInGroup(g,f){if(!g)return;const[,b]=this._findClosestUndoElementInGroup(g);if(b)return this._undo(b,0,f)}undo(g){if(g instanceof k.UndoRedoSource){const[,f]=this._findClosestUndoElementWithSource(g.id);return f?this._undo(f,g.id,!1):void 0}return typeof g=="string"?this._undo(g,0,!1):this._undo(this.getUriComparisonKey(g),0,!1)}_undo(g,f=0,b){if(!this._editStacks.has(g))return;const L=this._editStacks.get(g),N=L.getClosestPastElement();if(!N)return;if(N.groupId){const[I,T]=this._findClosestUndoElementInGroup(N.groupId);if(N!==I&&T)return this._undo(T,f,b)}if((N.sourceId!==f||N.confirmBeforeUndo)&&!b)return this._confirmAndContinueUndo(g,f,N);try{return N.type===1?this._workspaceUndo(g,N,b):this._resourceUndo(L,N,b)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(g,f,b){return Ie(this,void 0,void 0,function*(){if((yield this._dialogService.show(p.default.Info,S.localize(12,null,b.label),[S.localize(13,null),S.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(g,f,!0)})}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let f=null,b=null;for(const[L,N]of this._editStacks){const D=N.getClosestFutureElement();!D||D.sourceId===g&&(!f||D.sourceOrder<f.sourceOrder)&&(f=D,b=L)}return[f,b]}canRedo(g){if(g instanceof k.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(g.id);return!!b}const f=this.getUriComparisonKey(g);return this._editStacks.has(f)?this._editStacks.get(f).hasFutureElements():!1}_tryToSplitAndRedo(g,f,b,L){if(f.canSplit())return this._splitFutureWorkspaceElement(f,b),this._notificationService.warn(L),new m(this._redo(g));for(const N of f.strResources)this.removeElements(N);return this._notificationService.warn(L),new m}_checkWorkspaceRedo(g,f,b,L){if(f.removedResources)return this._tryToSplitAndRedo(g,f,f.removedResources,S.localize(15,null,f.label,f.removedResources.createMessage()));if(L&&f.invalidatedResources)return this._tryToSplitAndRedo(g,f,f.invalidatedResources,S.localize(16,null,f.label,f.invalidatedResources.createMessage()));const N=[];for(const I of b.editStacks)I.getClosestFutureElement()!==f&&N.push(I.resourceLabel);if(N.length>0)return this._tryToSplitAndRedo(g,f,null,S.localize(17,null,f.label,N.join(", ")));const D=[];for(const I of b.editStacks)I.locked&&D.push(I.resourceLabel);return D.length>0?this._tryToSplitAndRedo(g,f,null,S.localize(18,null,f.label,D.join(", "))):b.isValid()?null:this._tryToSplitAndRedo(g,f,null,S.localize(19,null,f.label))}_workspaceRedo(g,f){const b=this._getAffectedEditStacks(f),L=this._checkWorkspaceRedo(g,f,b,!1);return L?L.returnValue:this._executeWorkspaceRedo(g,f,b)}_executeWorkspaceRedo(g,f,b){return Ie(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(f)}catch(D){return this._onError(D,f)}const N=this._checkWorkspaceRedo(g,f,b,!0);if(N)return L.dispose(),N.returnValue;for(const D of b.editStacks)D.moveForward(f);return this._safeInvokeWithLocks(f,()=>f.actual.redo(),b,L,()=>this._continueRedoInGroup(f.groupId))})}_resourceRedo(g,f){if(!f.isValid){g.flushAllElements();return}if(g.locked){const b=S.localize(20,null,f.label);this._notificationService.warn(b);return}return this._invokeResourcePrepare(f,b=>(g.moveForward(f),this._safeInvokeWithLocks(f,()=>f.actual.redo(),new t([g]),b,()=>this._continueRedoInGroup(f.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let f=null,b=null;for(const[L,N]of this._editStacks){const D=N.getClosestFutureElement();!D||D.groupId===g&&(!f||D.groupOrder<f.groupOrder)&&(f=D,b=L)}return[f,b]}_continueRedoInGroup(g){if(!g)return;const[,f]=this._findClosestRedoElementInGroup(g);if(f)return this._redo(f)}redo(g){if(g instanceof k.UndoRedoSource){const[,f]=this._findClosestRedoElementWithSource(g.id);return f?this._redo(f):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!this._editStacks.has(g))return;const f=this._editStacks.get(g),b=f.getClosestFutureElement();if(!!b){if(b.groupId){const[L,N]=this._findClosestRedoElementInGroup(b.groupId);if(b!==L&&N)return this._redo(N)}try{return b.type===1?this._workspaceRedo(g,b):this._resourceRedo(f,b)}finally{s&&this._print("redo")}}}};h=Me([pe(0,w.IDialogService),pe(1,i.INotificationService)],h),e.UndoRedoService=h;class m{constructor(g){this.returnValue=g}}y.registerSingleton(k.IUndoRedoService,h)}),define(Q[192],J([0,1,9,50]),function($,e,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=S.createDecorator("contextService");class M{constructor(p,v,i,_){this._id=p,this._configuration=i,this._ignorePathCasing=_,this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=v}get folders(){return this._folders}set folders(p){this._folders=p,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(p){this._configuration=p}getFolder(p){return p&&this._foldersMap.findSubstr(p.with({scheme:p.scheme,authority:p.authority,path:p.path}))||null}updateFoldersMap(){this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing);for(const p of this.folders)this._foldersMap.set(p.uri,p)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=M;class y{constructor(p,v){this.raw=v,this.uri=p.uri,this.index=p.index,this.name=p.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=y}),define(Q[193],J([0,1,8,7,55,6,40,2,17,74,24,109,134,188,57,13,3,36,26,47,583,565,252,87,567,568,34,192,64]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class D{constructor(B){this.disposed=!1,this.model=B,this._onWillDispose=new y.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=D;function I(Y,B,W){return s.isCodeEditor(Y)?B(Y):W(Y)}let T=class{constructor(B){this.modelService=B}setEditor(B){this.editor=B}createModelReference(B){let W=null;return this.editor&&(W=I(this.editor,V=>this.findModel(V,B),V=>this.findModel(V.getOriginalEditor(),B)||this.findModel(V.getModifiedEditor(),B))),W?Promise.resolve(new p.ImmortalReference(new D(W))):Promise.reject(new Error("Model not found"))}findModel(B,W){let V=this.modelService.getModel(W);return V&&V.uri.toString()!==W.toString()?null:V}};T=Me([pe(0,n.IModelService)],T),e.SimpleEditorModelResolverService=T;class A{show(){return A.NULL_PROGRESS_RUNNER}showWhile(B,W){return Ie(this,void 0,void 0,function*(){yield B})}}e.SimpleEditorProgressService=A,A.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class R{confirm(B){return this.doConfirm(B).then(W=>({confirmed:W,checkboxChecked:!1}))}doConfirm(B){let W=B.message;return B.detail&&(W=W+`

`+B.detail),Promise.resolve(window.confirm(W))}show(B,W,V,z){return Promise.resolve({choice:0})}}e.SimpleDialogService=R;class O{info(B){return this.notify({severity:i.default.Info,message:B})}warn(B){return this.notify({severity:i.default.Warning,message:B})}error(B){return this.notify({severity:i.default.Error,message:B})}notify(B){switch(B.severity){case i.default.Error:console.error(B.message);break;case i.default.Warning:console.warn(B.message);break;default:console.log(B.message);break}return O.NO_OP}status(B,W){return p.Disposable.None}}e.SimpleNotificationService=O,O.NO_OP=new b.NoOpNotification;class P{constructor(B){this._onWillExecuteCommand=new y.Emitter,this._onDidExecuteCommand=new y.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=B}executeCommand(B,...W){const V=o.CommandsRegistry.getCommand(B);if(!V)return Promise.reject(new Error(`command '${B}' not found`));try{this._onWillExecuteCommand.fire({commandId:B,args:W});const z=this._instantiationService.invokeFunction.apply(this._instantiationService,[V.handler,...W]);return this._onDidExecuteCommand.fire({commandId:B,args:W}),Promise.resolve(z)}catch(z){return Promise.reject(z)}}}e.StandaloneCommandService=P;class F extends h.AbstractKeybindingService{constructor(B,W,V,z,U,X){super(B,W,V,z,U);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(k.addDisposableListener(X,k.EventType.KEY_DOWN,te=>{const se=new M.StandardKeyboardEvent(te);this._dispatch(se,se.target)&&(se.preventDefault(),se.stopPropagation())})),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,te=>{const se=new M.StandardKeyboardEvent(te);this._singleModifierDispatch(se,se.target)&&se.preventDefault()}))}addDynamicKeybinding(B,W,V,z){const U=w.createKeybinding(W,v.OS),X=new p.DisposableStore;return U&&(this._dynamicKeybindings.push({keybinding:U,command:B,when:z,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),X.add(p.toDisposable(()=>{for(let te=0;te<this._dynamicKeybindings.length;te++)if(this._dynamicKeybindings[te].command===B){this._dynamicKeybindings.splice(te,1),this.updateResolver({source:1});return}}))),X.add(o.CommandsRegistry.registerCommand(B,V)),this.updateResolver({source:1}),X}updateResolver(B){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(B)}_getResolver(){if(!this._cachedResolver){const B=this._toNormalizedKeybindingItems(C.KeybindingsRegistry.getDefaultKeybindings(),!0),W=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new m.KeybindingResolver(B,W,V=>this._log(V))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(B,W){let V=[],z=0;for(const U of B){const X=U.when||void 0,te=U.keybinding;if(!te)V[z++]=new g.ResolvedKeybindingItem(void 0,U.command,U.commandArgs,X,W,null,!1);else{const se=this.resolveKeybinding(te);for(const le of se)V[z++]=new g.ResolvedKeybindingItem(le,U.command,U.commandArgs,X,W,null,!1)}}return V}resolveKeybinding(B){return[new f.USLayoutResolvedKeybinding(B,v.OS)]}resolveKeyboardEvent(B){let W=new w.SimpleKeybinding(B.ctrlKey,B.shiftKey,B.altKey,B.metaKey,B.keyCode).toChord();return new f.USLayoutResolvedKeybinding(W,v.OS)}}e.StandaloneKeybindingService=F;function E(Y){return Y&&typeof Y=="object"&&(!Y.overrideIdentifier||typeof Y.overrideIdentifier=="string")&&(!Y.resource||Y.resource instanceof _.URI)}class x{constructor(){this._onDidChangeConfiguration=new y.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new l.Configuration(new l.DefaultConfigurationModel,new l.ConfigurationModel)}getValue(B,W){const V=typeof B=="string"?B:void 0,z=E(B)?B:E(W)?W:{};return this._configuration.getValue(V,z,void 0)}updateValues(B){const W={data:this._configuration.toData()};let V=[];for(const z of B){const[U,X]=z;this.getValue(U)!==X&&(this._configuration.updateValue(U,X),V.push(U))}if(V.length>0){const z=new l.ConfigurationChangeEvent({keys:V,overrides:[]},W,this._configuration);z.source=7,z.sourceConfig=null,this._onDidChangeConfiguration.fire(z)}return Promise.resolve()}}e.SimpleConfigurationService=x;class H{constructor(B){this.configurationService=B,this._onDidChangeConfiguration=new y.Emitter,this.configurationService.onDidChangeConfiguration(W=>{this._onDidChangeConfiguration.fire({affectedKeys:W.affectedKeys,affectsConfiguration:(V,z)=>W.affectsConfiguration(z)})})}getValue(B,W,V){const U=(d.Position.isIPosition(W)?W:null)?typeof V=="string"?V:void 0:typeof W=="string"?W:void 0;return typeof U=="undefined"?this.configurationService.getValue():this.configurationService.getValue(U)}}e.SimpleResourceConfigurationService=H;let K=class{constructor(B){this.configurationService=B}getEOL(B,W){const V=this.configurationService.getValue("files.eol",{overrideIdentifier:W,resource:B});return V&&V!=="auto"?V:v.isLinux||v.isMacintosh?`
`:`\r
`}};K=Me([pe(0,t.IConfigurationService)],K),e.SimpleResourcePropertiesService=K;class q{publicLog(B,W){return Promise.resolve(void 0)}publicLog2(B,W){return this.publicLog(B,W)}}e.StandaloneTelemetryService=q;class G{constructor(){const B=_.URI.from({scheme:G.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new L.WorkspaceFolder({uri:B,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=G,G.SCHEME="inmemory";function ee(Y,B,W){if(!B||!(Y instanceof x))return;let V=[];Object.keys(B).forEach(z=>{u.isEditorConfigurationKey(z)&&V.push([`editor.${z}`,B[z]]),W&&u.isDiffEditorConfigurationKey(z)&&V.push([`diffEditor.${z}`,B[z]])}),V.length>0&&Y.updateValues(V)}e.updateConfigurationService=ee;class ie{constructor(B){this._modelService=B}hasPreviewHandler(){return!1}apply(B,W){return Ie(this,void 0,void 0,function*(){const V=new Map;for(let X of B){if(!(X instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const te=this._modelService.getModel(X.resource);if(!te)throw new Error("bad edit - model not found");if(typeof X.versionId=="number"&&te.getVersionId()!==X.versionId)throw new Error("bad state - model changed in the meantime");let se=V.get(te);se||(se=[],V.set(te,se)),se.push(c.EditOperation.replaceMove(r.Range.lift(X.textEdit.range),X.textEdit.text))}let z=0,U=0;for(const[X,te]of V)X.pushStackElement(),X.pushEditOperations([],te,()=>[]),X.pushStackElement(),U+=1,z+=te.length;return{ariaSummary:S.format(N.SimpleServicesNLS.bulkEditServiceSummary,z,U)}})}}e.SimpleBulkEditService=ie;class ae{getUriLabel(B,W){return B.scheme==="file"?B.fsPath:B.path}}e.SimpleUriLabelService=ae;class de{constructor(B,W){this._codeEditorService=B,this._container=W,this.onDidLayout=y.Event.None}get dimension(){return this._dimension||(this._dimension=k.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var B;(B=this._codeEditorService.getFocusedCodeEditor())===null||B===void 0||B.focus()}}e.SimpleLayoutService=de}),define(Q[686],J([0,1,42,2,28,145,269,218,76,193,117,33,26,47,16,69,9,37,34,11,65,64,85,60,36,58,261]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let L=0,N=!1;function D(){N||(N=!0,S.setARIAContainer(document.body))}let I=class extends y.CodeEditorWidget{constructor(F,E,x,H,K,q,G,ee,ie,ae){const de=Object.assign({},E);de.ariaLabel=de.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,de.ariaLabel=de.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(F,de,{},x,H,K,q,ee,ie,ae),G instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=G:this._standaloneKeybindingService=null,D()}addCommand(F,E,x){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let H="DYNAMIC_"+ ++L,K=c.ContextKeyExpr.deserialize(x);return this._standaloneKeybindingService.addDynamicKeybinding(H,F,E,K),H}createContextKey(F,E){return this._contextKeyService.createKey(F,E)}addAction(F){if(typeof F.id!="string"||typeof F.label!="string"||typeof F.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const E=F.id,x=F.label,H=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(F.precondition)),K=F.keybindings,q=c.ContextKeyExpr.and(H,c.ContextKeyExpr.deserialize(F.keybindingContext)),G=F.contextMenuGroupId||null,ee=F.contextMenuOrder||0,ie=(B,...W)=>Promise.resolve(F.run(this,...W)),ae=new k.DisposableStore,de=this.getId()+":"+E;if(ae.add(a.CommandsRegistry.registerCommand(de,ie)),G){let B={command:{id:de,title:x},when:H,group:G,order:ee};ae.add(s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,B))}if(Array.isArray(K))for(const B of K)ae.add(this._standaloneKeybindingService.addDynamicKeybinding(de,B,ie,q));let Y=new p.InternalEditorAction(de,x,x,H,ie,this._contextKeyService);return this._actions[E]=Y,ae.add(k.toDisposable(()=>{delete this._actions[E]})),ae}_triggerCommand(F,E){if(this._codeEditorService instanceof b.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(F,E)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(F,E)}};I=Me([pe(2,r.IInstantiationService),pe(3,M.ICodeEditorService),pe(4,a.ICommandService),pe(5,c.IContextKeyService),pe(6,n.IKeybindingService),pe(7,t.IThemeService),pe(8,o.INotificationService),pe(9,l.IAccessibilityService)],I),e.StandaloneCodeEditor=I;let T=class extends I{constructor(F,E,x,H,K,q,G,ee,ie,ae,de,Y,B,W,V){const z=Object.assign({},E);i.updateConfigurationService(Y,z,!1);const U=ae.registerEditorContainer(F);typeof z.theme=="string"&&ae.setTheme(z.theme),typeof z.autoDetectHighContrast!="undefined"&&ae.setAutoDetectHighContrast(Boolean(z.autoDetectHighContrast));let X=z.model;delete z.model,super(F,z,H,K,q,G,ee,ae,de,B),this._contextViewService=ie,this._configurationService=Y,this._standaloneThemeService=ae,this._register(x),this._register(U);let te;if(typeof X=="undefined"?(te=R(W,V,z.value||"",z.language||"text/plain",void 0),this._ownsModel=!0):(te=X,this._ownsModel=!1),this._attachModel(te),te){let se={oldModelUrl:null,newModelUrl:te.uri};this._onDidChangeModel.fire(se)}}dispose(){super.dispose()}updateOptions(F){i.updateConfigurationService(this._configurationService,F,!1),typeof F.theme=="string"&&this._standaloneThemeService.setTheme(F.theme),typeof F.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(F.autoDetectHighContrast)),super.updateOptions(F)}_attachModel(F){super._attachModel(F),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(F){super._postDetachModelCleanup(F),F&&this._ownsModel&&(F.dispose(),this._ownsModel=!1)}};T=Me([pe(3,r.IInstantiationService),pe(4,M.ICodeEditorService),pe(5,a.ICommandService),pe(6,c.IContextKeyService),pe(7,n.IKeybindingService),pe(8,d.IContextViewService),pe(9,_.IStandaloneThemeService),pe(10,o.INotificationService),pe(11,u.IConfigurationService),pe(12,l.IAccessibilityService),pe(13,g.IModelService),pe(14,f.IModeService)],T),e.StandaloneEditor=T;let A=class extends w.DiffEditorWidget{constructor(F,E,x,H,K,q,G,ee,ie,ae,de,Y,B,W,V){const z=Object.assign({},E);i.updateConfigurationService(Y,z,!0);const U=ae.registerEditorContainer(F);typeof z.theme=="string"&&ae.setTheme(z.theme),typeof z.autoDetectHighContrast!="undefined"&&ae.setAutoDetectHighContrast(Boolean(z.autoDetectHighContrast)),super(F,z,{},V,ee,K,H,ie,ae,de,B,W),this._contextViewService=G,this._configurationService=Y,this._standaloneThemeService=ae,this._register(x),this._register(U),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(F){i.updateConfigurationService(this._configurationService,F,!0),typeof F.theme=="string"&&this._standaloneThemeService.setTheme(F.theme),typeof F.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(F.autoDetectHighContrast)),super.updateOptions(F)}_createInnerEditor(F,E,x){return F.createInstance(I,E,x)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(F,E,x){return this.getModifiedEditor().addCommand(F,E,x)}createContextKey(F,E){return this.getModifiedEditor().createContextKey(F,E)}addAction(F){return this.getModifiedEditor().addAction(F)}};A=Me([pe(3,r.IInstantiationService),pe(4,c.IContextKeyService),pe(5,n.IKeybindingService),pe(6,d.IContextViewService),pe(7,v.IEditorWorkerService),pe(8,M.ICodeEditorService),pe(9,_.IStandaloneThemeService),pe(10,o.INotificationService),pe(11,u.IConfigurationService),pe(12,d.IContextMenuService),pe(13,C.IEditorProgressService),pe(14,m.IClipboardService)],A),e.StandaloneDiffEditor=A;function R(P,F,E,x,H){if(E=E||"",!x){const K=E.indexOf(`
`);let q=E;return K!==-1&&(q=E.substring(0,K)),O(P,E,F.createByFilepathOrFirstLine(H||null,q),H)}return O(P,E,F.create(x),H)}e.createTextModel=R;function O(P,F,E,x){return P.createModel(F,E,x)}}),define(Q[276],J([0,1,2,134,28,76,253,58,581,36,272,138,193,261,681,117,33,26,47,584,16,665,69,569,118,9,564,139,37,119,149,70,572,86,34,60,79,88,11,192,664,181,608,65,140,75,582,85,544,150,685,667,78]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I,T,A,R,O,P,F,E,x,H,K,q,G,ee,ie,ae,de,Y,B,W,V,z,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var X;(function(se){const le=new L.ServiceCollection;class ue{constructor(oe,fe){this._serviceId=oe,this._factory=fe,this._value=null}get id(){return this._serviceId}get(oe){if(!this._value){if(oe&&(this._value=oe[this._serviceId.toString()]),this._value||(this._value=this._factory(oe)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");le.set(this._serviceId,this._value)}return this._value}}se.LazyStaticService=ue;let re=[];function ce(Z,oe){let fe=new ue(Z,oe);return re.push(fe),fe}function j(Z){let oe=new L.ServiceCollection;for(const[_e,be]of ae.getSingletonServiceDescriptors())oe.set(_e,be);for(let _e in Z)Z.hasOwnProperty(_e)&&oe.set(f.createDecorator(_e),Z[_e]);re.forEach(_e=>oe.set(_e.id,_e.get(Z)));let fe=new b.InstantiationService(oe,!0);return oe.set(f.IInstantiationService,fe),[oe,fe]}se.init=j,se.instantiationService=ce(f.IInstantiationService,()=>new b.InstantiationService(le,!0));const ne=new a.SimpleConfigurationService;se.configurationService=ce(o.IConfigurationService,()=>ne),se.resourceConfigurationService=ce(s.ITextResourceConfigurationService,()=>new a.SimpleResourceConfigurationService(ne)),se.resourcePropertiesService=ce(s.ITextResourcePropertiesService,()=>new a.SimpleResourcePropertiesService(ne)),se.contextService=ce(H.IWorkspaceContextService,()=>new a.SimpleWorkspaceContextService),se.labelService=ce(D.ILabelService,()=>new a.SimpleUriLabelService),se.telemetryService=ce(E.ITelemetryService,()=>new a.StandaloneTelemetryService),se.dialogService=ce(g.IDialogService,()=>new a.SimpleDialogService),se.notificationService=ce(O.INotificationService,()=>new a.SimpleNotificationService),se.markerService=ce(R.IMarkerService,()=>new A.MarkerService),se.modeService=ce(p.IModeService,Z=>new v.ModeServiceImpl),se.standaloneThemeService=ce(d.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),se.logService=ce(T.ILogService,()=>new T.LogService(new T.ConsoleLogger)),se.undoRedoService=ce(W.IUndoRedoService,Z=>new V.UndoRedoService(se.dialogService.get(Z),se.notificationService.get(Z))),se.modelService=ce(i.IModelService,Z=>new _.ModelServiceImpl(se.configurationService.get(Z),se.resourcePropertiesService.get(Z),se.standaloneThemeService.get(Z),se.logService.get(Z),se.undoRedoService.get(Z))),se.markerDecorationsService=ce(q.IMarkerDecorationsService,Z=>new G.MarkerDecorationsService(se.modelService.get(Z),se.markerService.get(Z))),se.contextKeyService=ce(l.IContextKeyService,Z=>new t.ContextKeyService(se.configurationService.get(Z))),se.codeEditorService=ce(M.ICodeEditorService,Z=>new u.StandaloneCodeEditorServiceImpl(null,se.contextKeyService.get(Z),se.standaloneThemeService.get(Z))),se.editorProgressService=ce(P.IEditorProgressService,()=>new a.SimpleEditorProgressService),se.storageService=ce(F.IStorageService,()=>new F.InMemoryStorageService),se.editorWorkerService=ce(y.IEditorWorkerService,Z=>new w.EditorWorkerServiceImpl(se.modelService.get(Z),se.resourceConfigurationService.get(Z),se.logService.get(Z)))})(X=e.StaticServices||(e.StaticServices={}));class te extends S.Disposable{constructor(le,ue){super();const[re,ce]=X.init(ue);this._serviceCollection=re,this._instantiationService=ce;const j=this.get(o.IConfigurationService),ne=this.get(O.INotificationService),Z=this.get(E.ITelemetryService),oe=this.get(x.IThemeService),fe=this.get(T.ILogService),_e=this.get(l.IContextKeyService);let be=(Te,we)=>{let Se=null;return ue&&(Se=ue[Te.toString()]),Se||(Se=we()),this._serviceCollection.set(Te,Se),Se};be(ee.IAccessibilityService,()=>new de.AccessibilityService(_e,j)),be(I.IListService,()=>new I.ListService(oe));let Le=be(n.ICommandService,()=>new a.StandaloneCommandService(this._instantiationService)),Ee=be(N.IKeybindingService,()=>this._register(new a.StandaloneKeybindingService(_e,Le,Z,ne,fe,le))),Re=be(ie.ILayoutService,()=>new a.SimpleLayoutService(X.codeEditorService.get(M.ICodeEditorService),le));be(U.IQuickInputService,()=>new z.StandaloneQuickInputServiceImpl(ce,X.codeEditorService.get(M.ICodeEditorService)));let De=be(m.IContextViewService,()=>this._register(new C.ContextViewService(Re)));be(Y.IClipboardService,()=>new B.BrowserClipboardService),be(m.IContextMenuService,()=>{const Te=new h.ContextMenuService(Z,ne,De,Ee,oe);return Te.configure({blockMouse:!1}),this._register(Te)}),be(r.IMenuService,()=>new K.MenuService(Le)),be(k.IBulkEditService,()=>new a.SimpleBulkEditService(X.modelService.get(i.IModelService)))}get(le){let ue=this._serviceCollection.get(le);if(!ue)throw new Error("Missing service "+le);return ue}set(le,ue){this._serviceCollection.set(le,ue)}has(le){return this._serviceCollection.has(le)}}e.DynamicStandaloneServices=te}),define(Q[687],J([0,1,28,573,216,35,165,108,52,18,77,76,58,68,570,171,558,193,686,276,117,26,47,16,69,9,37,34,59,65,66,60,85,8,36,366]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I,T,A,R,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function P(ne,Z,oe){let fe=new t.DynamicStandaloneServices(ne,Z),_e=null;fe.has(u.ITextModelService)||(_e=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),fe.set(u.ITextModelService,_e)),fe.has(N.IOpenerService)||fe.set(N.IOpenerService,new k.OpenerService(fe.get(S.ICodeEditorService),fe.get(h.ICommandService)));let be=oe(fe);return _e&&_e.setEditor(be),be}function F(ne,Z,oe){return P(ne,oe||{},fe=>new o.StandaloneEditor(ne,Z,fe,fe.get(f.IInstantiationService),fe.get(S.ICodeEditorService),fe.get(h.ICommandService),fe.get(C.IContextKeyService),fe.get(b.IKeybindingService),fe.get(g.IContextViewService),fe.get(l.IStandaloneThemeService),fe.get(L.INotificationService),fe.get(m.IConfigurationService),fe.get(D.IAccessibilityService),fe.get(O.IModelService),fe.get(a.IModeService)))}e.create=F;function E(ne){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(Z=>{ne(Z)})}e.onDidCreateEditor=E;function x(ne,Z,oe){return P(ne,oe||{},fe=>new o.StandaloneDiffEditor(ne,Z,fe,fe.get(f.IInstantiationService),fe.get(C.IContextKeyService),fe.get(b.IKeybindingService),fe.get(g.IContextViewService),fe.get(s.IEditorWorkerService),fe.get(S.ICodeEditorService),fe.get(l.IStandaloneThemeService),fe.get(L.INotificationService),fe.get(m.IConfigurationService),fe.get(g.IContextMenuService),fe.get(T.IEditorProgressService),fe.get(A.IClipboardService)))}e.createDiffEditor=x;function H(ne,Z){return new M.DiffNavigator(ne,Z)}e.createDiffNavigator=H;function K(ne,Z,oe){return o.createTextModel(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),ne,Z,oe)}e.createModel=K;function q(ne,Z){t.StaticServices.modelService.get().setMode(ne,t.StaticServices.modeService.get().create(Z))}e.setModelLanguage=q;function G(ne,Z,oe){ne&&t.StaticServices.markerService.get().changeOne(Z,ne.uri,oe)}e.setModelMarkers=G;function ee(ne){return t.StaticServices.markerService.get().read(ne)}e.getModelMarkers=ee;function ie(ne){return t.StaticServices.markerService.get().onMarkerChanged(ne)}e.onDidChangeMarkers=ie;function ae(ne){return t.StaticServices.modelService.get().getModel(ne)}e.getModel=ae;function de(){return t.StaticServices.modelService.get().getModels()}e.getModels=de;function Y(ne){return t.StaticServices.modelService.get().onModelAdded(ne)}e.onDidCreateModel=Y;function B(ne){return t.StaticServices.modelService.get().onModelRemoved(ne)}e.onWillDisposeModel=B;function W(ne){return t.StaticServices.modelService.get().onModelModeChanged(Z=>{ne({model:Z.model,oldLanguage:Z.oldModeId})})}e.onDidChangeModelLanguage=W;function V(ne){return c.createWebWorker(t.StaticServices.modelService.get(),ne)}e.createWebWorker=V;function z(ne,Z){const oe=t.StaticServices.standaloneThemeService.get();return oe.registerEditorContainer(ne),r.Colorizer.colorizeElement(oe,t.StaticServices.modeService.get(),ne,Z)}e.colorizeElement=z;function U(ne,Z,oe){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorize(t.StaticServices.modeService.get(),ne,Z,oe)}e.colorize=U;function X(ne,Z,oe=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorizeModelLine(ne,Z,oe)}e.colorizeModelLine=X;function te(ne){let Z=i.TokenizationRegistry.get(ne);return Z||{getInitialState:()=>_.NULL_STATE,tokenize:(oe,fe,_e,be)=>_.nullTokenize(ne,oe,_e,be)}}function se(ne,Z){t.StaticServices.modeService.get().triggerMode(Z);let fe=te(Z),_e=R.splitLines(ne),be=[],Le=fe.getInitialState();for(let Ee=0,Re=_e.length;Ee<Re;Ee++){let De=_e[Ee],Te=fe.tokenize(De,!0,Le,0);be[Ee]=Te.tokens,Le=Te.endState}return be}e.tokenize=se;function le(ne,Z){t.StaticServices.standaloneThemeService.get().defineTheme(ne,Z)}e.defineTheme=le;function ue(ne){t.StaticServices.standaloneThemeService.get().setTheme(ne)}e.setTheme=ue;function re(){I.clearAllFontInfos()}e.remeasureFonts=re;function ce(ne,Z){return h.CommandsRegistry.registerCommand({id:ne,handler:Z})}e.registerCommand=ce;function j(){return{create:F,onDidCreateEditor:E,createDiffEditor:x,createDiffNavigator:H,createModel:K,setModelLanguage:q,setModelMarkers:G,getModelMarkers:ee,onDidChangeMarkers:ie,getModels:de,getModel:ae,onDidCreateModel:Y,onWillDisposeModel:B,onDidChangeModelLanguage:W,createWebWorker:V,colorizeElement:z,colorize:U,colorizeModelLine:X,tokenize:se,defineTheme:le,setTheme:ue,remeasureFonts:re,registerCommand:ce,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,ConfigurationChangedEvent:y.ConfigurationChangedEvent,BareFontInfo:w.BareFontInfo,FontInfo:w.FontInfo,TextModelResolvedOptions:v.TextModelResolvedOptions,FindMatch:v.FindMatch,EditorType:p.EditorType,EditorOptions:y.EditorOptions}}e.createMonacoEditorAPI=j}),define(Q[688],J([0,1,29,3,131,18,43,142,171,276,426,247]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function a(W){p.ModesRegistry.registerLanguage(W)}e.register=a;function u(){let W=[];return W=W.concat(p.ModesRegistry.getLanguages()),W}e.getLanguages=u;function c(W){let V=i.StaticServices.modeService.get().getLanguageIdentifier(W);return V?V.id:0}e.getEncodedLanguageId=c;function d(W,V){let z=i.StaticServices.modeService.get().onDidCreateMode(U=>{U.getId()===W&&(z.dispose(),V())});return z}e.onLanguage=d;function r(W,V){let z=i.StaticServices.modeService.get().getLanguageIdentifier(W);if(!z)throw new Error(`Cannot set configuration for unknown language ${W}`);return w.LanguageConfigurationRegistry.register(z,V,100)}e.setLanguageConfiguration=r;class n{constructor(V,z){this._languageIdentifier=V,this._actual=z}getInitialState(){return this._actual.getInitialState()}tokenize(V,z,U,X){if(typeof this._actual.tokenize=="function")return o.adaptTokenize(this._languageIdentifier.language,this._actual,V,U,X);throw new Error("Not supported!")}tokenize2(V,z,U){let X=this._actual.tokenizeEncoded(V,U);return new M.TokenizationResult2(X.tokens,X.endState)}}e.EncodedTokenizationSupport2Adapter=n;class o{constructor(V,z,U){this._standaloneThemeService=V,this._languageIdentifier=z,this._actual=U}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(V,z,U){let X=[],te=0;for(let se=0,le=V.length;se<le;se++){const ue=V[se];let re=ue.startIndex;se===0?re=0:re<te&&(re=te),X[se]=new M.Token(re+U,ue.scopes,z),te=re}return X}static adaptTokenize(V,z,U,X,te){let se=z.tokenize(U,X),le=o._toClassicTokens(se.tokens,V,te),ue;return se.endState.equals(X)?ue=X:ue=se.endState,new M.TokenizationResult(le,ue)}tokenize(V,z,U,X){return o.adaptTokenize(this._languageIdentifier.language,this._actual,V,U,X)}_toBinaryTokens(V,z){const U=this._languageIdentifier.id,X=this._standaloneThemeService.getColorTheme().tokenTheme;let te=[],se=0,le=0;for(let re=0,ce=V.length;re<ce;re++){const j=V[re],ne=X.match(U,j.scopes);if(se>0&&te[se-1]===ne)continue;let Z=j.startIndex;re===0?Z=0:Z<le&&(Z=le),te[se++]=Z+z,te[se++]=ne,le=Z}let ue=new Uint32Array(se);for(let re=0;re<se;re++)ue[re]=te[re];return ue}tokenize2(V,z,U,X){let te=this._actual.tokenize(V,U),se=this._toBinaryTokens(te.tokens,X),le;return te.endState.equals(U)?le=U:le=te.endState,new M.TokenizationResult2(se,le)}}e.TokenizationSupport2Adapter=o;function t(W){return"tokenizeEncoded"in W}function l(W){return W&&typeof W.then=="function"}function h(W){if(W){const V=[null];for(let z=1,U=W.length;z<U;z++)V[z]=S.Color.fromHex(W[z]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(V)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function m(W,V){let z=i.StaticServices.modeService.get().getLanguageIdentifier(W);if(!z)throw new Error(`Cannot set tokens provider for unknown language ${W}`);const U=X=>t(X)?new n(z,X):new o(i.StaticServices.standaloneThemeService.get(),z,X);return l(V)?y.TokenizationRegistry.registerPromise(W,V.then(X=>U(X))):y.TokenizationRegistry.register(W,U(V))}e.setTokensProvider=m;function C(W,V){const z=U=>s.createTokenizationSupport(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),W,_.compile(W,U));return l(V)?y.TokenizationRegistry.registerPromise(W,V.then(U=>z(U))):y.TokenizationRegistry.register(W,z(V))}e.setMonarchTokensProvider=C;function g(W,V){return y.ReferenceProviderRegistry.register(W,V)}e.registerReferenceProvider=g;function f(W,V){return y.RenameProviderRegistry.register(W,V)}e.registerRenameProvider=f;function b(W,V){return y.SignatureHelpProviderRegistry.register(W,V)}e.registerSignatureHelpProvider=b;function L(W,V){return y.HoverProviderRegistry.register(W,{provideHover:(z,U,X)=>{let te=z.getWordAtPosition(U);return Promise.resolve(V.provideHover(z,U,X)).then(se=>{if(!!se)return!se.range&&te&&(se.range=new k.Range(U.lineNumber,te.startColumn,U.lineNumber,te.endColumn)),se.range||(se.range=new k.Range(U.lineNumber,U.column,U.lineNumber,U.column)),se})}})}e.registerHoverProvider=L;function N(W,V){return y.DocumentSymbolProviderRegistry.register(W,V)}e.registerDocumentSymbolProvider=N;function D(W,V){return y.DocumentHighlightProviderRegistry.register(W,V)}e.registerDocumentHighlightProvider=D;function I(W,V){return y.LinkedEditingRangeProviderRegistry.register(W,V)}e.registerLinkedEditingRangeProvider=I;function T(W,V){return y.DefinitionProviderRegistry.register(W,V)}e.registerDefinitionProvider=T;function A(W,V){return y.ImplementationProviderRegistry.register(W,V)}e.registerImplementationProvider=A;function R(W,V){return y.TypeDefinitionProviderRegistry.register(W,V)}e.registerTypeDefinitionProvider=R;function O(W,V){return y.CodeLensProviderRegistry.register(W,V)}e.registerCodeLensProvider=O;function P(W,V){return y.CodeActionProviderRegistry.register(W,{provideCodeActions:(z,U,X,te)=>{let se=i.StaticServices.markerService.get().read({resource:z.uri}).filter(le=>k.Range.areIntersectingOrTouching(le,U));return V.provideCodeActions(z,U,{markers:se,only:X.only},te)}})}e.registerCodeActionProvider=P;function F(W,V){return y.DocumentFormattingEditProviderRegistry.register(W,V)}e.registerDocumentFormattingEditProvider=F;function E(W,V){return y.DocumentRangeFormattingEditProviderRegistry.register(W,V)}e.registerDocumentRangeFormattingEditProvider=E;function x(W,V){return y.OnTypeFormattingEditProviderRegistry.register(W,V)}e.registerOnTypeFormattingEditProvider=x;function H(W,V){return y.LinkProviderRegistry.register(W,V)}e.registerLinkProvider=H;function K(W,V){return y.CompletionProviderRegistry.register(W,V)}e.registerCompletionItemProvider=K;function q(W,V){return y.ColorProviderRegistry.register(W,V)}e.registerColorProvider=q;function G(W,V){return y.FoldingRangeProviderRegistry.register(W,V)}e.registerFoldingRangeProvider=G;function ee(W,V){return y.DeclarationProviderRegistry.register(W,V)}e.registerDeclarationProvider=ee;function ie(W,V){return y.SelectionRangeRegistry.register(W,V)}e.registerSelectionRangeProvider=ie;function ae(W,V){return y.DocumentSemanticTokensProviderRegistry.register(W,V)}e.registerDocumentSemanticTokensProvider=ae;function de(W,V){return y.DocumentRangeSemanticTokensProviderRegistry.register(W,V)}e.registerDocumentRangeSemanticTokensProvider=de;function Y(W,V){return y.InlineCompletionsProviderRegistry.register(W,V)}e.registerInlineCompletionsProvider=Y;function B(){return{register:a,getLanguages:u,onLanguage:d,getEncodedLanguageId:c,setLanguageConfiguration:r,setColorMap:h,setTokensProvider:m,setMonarchTokensProvider:C,registerReferenceProvider:g,registerRenameProvider:f,registerCompletionItemProvider:K,registerSignatureHelpProvider:b,registerHoverProvider:L,registerDocumentSymbolProvider:N,registerDocumentHighlightProvider:D,registerLinkedEditingRangeProvider:I,registerDefinitionProvider:T,registerImplementationProvider:A,registerTypeDefinitionProvider:R,registerCodeLensProvider:O,registerCodeActionProvider:P,registerDocumentFormattingEditProvider:F,registerDocumentRangeFormattingEditProvider:E,registerOnTypeFormattingEditProvider:x,registerLinkProvider:H,registerColorProvider:q,registerFoldingRangeProvider:G,registerDeclarationProvider:ee,registerSelectionRangeProvider:ie,registerDocumentSemanticTokensProvider:ae,registerDocumentRangeSemanticTokensProvider:de,registerInlineCompletionsProvider:Y,DocumentHighlightKind:v.DocumentHighlightKind,CompletionItemKind:v.CompletionItemKind,CompletionItemTag:v.CompletionItemTag,CompletionItemInsertTextRule:v.CompletionItemInsertTextRule,SymbolKind:v.SymbolKind,SymbolTag:v.SymbolTag,IndentAction:v.IndentAction,CompletionTriggerKind:v.CompletionTriggerKind,SignatureHelpTriggerKind:v.SignatureHelpTriggerKind,InlayHintKind:v.InlayHintKind,InlineCompletionTriggerKind:v.InlineCompletionTriggerKind,FoldingRangeKind:y.FoldingRangeKind}}e.createMonacoLanguagesAPI=B}),define(Q[689],J([0,1,35,221,687,688,17,263]),function($,e,S,k,M,y,w,p){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,S.EditorOptions.wrappingIndent.defaultValue=0,S.EditorOptions.glyphMargin.defaultValue=!1,S.EditorOptions.autoIndent.defaultValue=3,S.EditorOptions.overviewRulerLanes.defaultValue=2,p.FormattingConflicts.setFormatterSelector((_,s,a)=>Promise.resolve(_[0]));const i=k.createMonacoBaseAPI();i.editor=M.createMonacoEditorAPI(),i.languages=y.createMonacoLanguagesAPI(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((v=w.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(Q[690],J([0,1,24]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function k(y){const w=y;return typeof(w==null?void 0:w.id)=="string"&&S.URI.isUri(w.uri)}e.isSingleFolderWorkspaceIdentifier=k;function M(y){if(y.configuration)return{id:y.id,configPath:y.configuration};if(y.folders.length===1)return{id:y.id,uri:y.folders[0].uri}}e.toWorkspaceIdentifier=M}),define(Q[691],J([0,1,519,73,45,114,43,8,690,161,298]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class s{constructor(l){this._delegates=l}resolve(l){for(const h of this._delegates){let m=h.resolve(l);if(m!==void 0)return m}}}e.CompositeSnippetVariableResolver=s;class a{constructor(l,h,m,C){this._model=l,this._selection=h,this._selectionIdx=m,this._overtypingCapturer=C}resolve(l){const{name:h}=l;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let m=this._model.getValueInRange(this._selection)||void 0,C=this._selection.startLineNumber!==this._selection.endLineNumber;if(!m&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(m=g.value,C=g.multiline)}if(m&&C&&l.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),f=p.getLeadingWhitespace(g,0,this._selection.startColumn-1);let b=f;l.snippet.walk(N=>N===l?!1:(N instanceof y.Text&&(b=p.getLeadingWhitespace(p.splitLines(N.value).pop())),!0));const L=p.commonPrefixLength(b,f);m=m.replace(/(\r\n|\r|\n)(.*)/g,(N,D,I)=>`${D}${b.substr(L)}${I}`)}return m}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const m=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return m&&m.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=a;class u{constructor(l,h){this._labelService=l,this._model=h}resolve(l){const{name:h}=l;if(h==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const m=k.basename(this._model.uri.fsPath),C=m.lastIndexOf(".");return C<=0?m:m.slice(0,C)}else{if(h==="TM_DIRECTORY"&&this._labelService)return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(M.dirname(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=u;class c{constructor(l,h,m,C){this._readClipboardText=l,this._selectionIdx=h,this._selectionCount=m,this._spread=C}resolve(l){if(l.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(!!h){if(this._spread){const m=h.split(/\r\n|\n|\r/).filter(C=>!p.isFalsyOrWhitespace(C));if(m.length===this._selectionCount)return m[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=c;class d{constructor(l,h){this._model=l,this._selection=h}resolve(l){const{name:h}=l,m=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),C=w.LanguageConfigurationRegistry.getComments(m);if(!!C){if(h==="LINE_COMMENT")return C.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return C.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return C.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=d;class r{resolve(l){const{name:h}=l;if(h==="CURRENT_YEAR")return String(new Date().getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return r.dayNames[new Date().getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[new Date().getDay()];if(h==="CURRENT_MONTH_NAME")return r.monthNames[new Date().getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[new Date().getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[S.localize(0,null),S.localize(1,null),S.localize(2,null),S.localize(3,null),S.localize(4,null),S.localize(5,null),S.localize(6,null)],r.dayNamesShort=[S.localize(7,null),S.localize(8,null),S.localize(9,null),S.localize(10,null),S.localize(11,null),S.localize(12,null),S.localize(13,null)],r.monthNames=[S.localize(14,null),S.localize(15,null),S.localize(16,null),S.localize(17,null),S.localize(18,null),S.localize(19,null),S.localize(20,null),S.localize(21,null),S.localize(22,null),S.localize(23,null),S.localize(24,null),S.localize(25,null)],r.monthNamesShort=[S.localize(26,null),S.localize(27,null),S.localize(28,null),S.localize(29,null),S.localize(30,null),S.localize(31,null),S.localize(32,null),S.localize(33,null),S.localize(34,null),S.localize(35,null),S.localize(36,null),S.localize(37,null)];class n{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const h=v.toWorkspaceIdentifier(this._workspaceService.getWorkspace());if(!!h){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(l){if(v.isSingleFolderWorkspaceIdentifier(l))return k.basename(l.uri.path);let h=k.basename(l.configPath.path);return h.endsWith(v.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-v.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(l){if(v.isSingleFolderWorkspaceIdentifier(l))return i.normalizeDriveLetter(l.uri.fsPath);let h=k.basename(l.configPath.path),m=l.configPath.fsPath;return m.endsWith(h)&&(m=m.substr(0,m.length-h.length-1)),m?i.normalizeDriveLetter(m):"/"}}e.WorkspaceBasedVariableResolver=n;class o{resolve(l){const{name:h}=l;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return _.generateUuid()}}e.RandomBasedVariableResolver=o}),define(Q[277],J([0,1,19,2,8,57,3,21,31,192,9,114,691,11,22,119,359]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,u.registerThemingParticipant((t,l)=>{function h(m){const C=t.getColor(m);return C?C.toString():"transparent"}l.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(c.snippetTabstopHighlightBackground)}; outline-color: ${h(c.snippetTabstopHighlightBorder)}; }`),l.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(c.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(c.snippetFinalTabstopHighlightBorder)}; }`)});class r{constructor(l,h,m,C){this._editor=l,this._snippet=h,this._offset=m,this._snippetLineLeadingWhitespace=C,this._nestingLevel=1,this._placeholderGroups=S.groupBy(h.placeholders,s.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const l=this._editor.getModel();this._editor.changeDecorations(h=>{for(const m of this._snippet.placeholders){const C=this._snippet.offset(m),g=this._snippet.fullLen(m),f=w.Range.fromPositions(l.getPositionAt(this._offset+C),l.getPositionAt(this._offset+C+g)),b=m.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,L=h.addDecoration(f,b);this._placeholderDecorations.set(m,L)}})}move(l){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let C=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const f=this._placeholderDecorations.get(g),b=this._editor.getModel().getDecorationRange(f),L=this._editor.getModel().getValueInRange(b),N=g.transform.resolve(L).split(/\r\n|\r|\n/);for(let D=1;D<N.length;D++)N[D]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+N[D]);C.push(y.EditOperation.replace(b,N.join(this._editor.getModel().getEOL())))}C.length>0&&this._editor.executeEdits("snippet.placeholderTransform",C)}let h=!1;l===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):l===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const m=this._editor.getModel().changeDecorations(C=>{const g=new Set,f=[];for(const b of this._placeholderGroups[this._placeholderGroupsIdx]){const L=this._placeholderDecorations.get(b),N=this._editor.getModel().getDecorationRange(L);f.push(new p.Selection(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(b),C.changeDecorationOptions(L,b.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(b);for(const D of this._snippet.enclosingPlaceholders(b)){const I=this._placeholderDecorations.get(D);C.changeDecorationOptions(I,D.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(D)}}for(const[b,L]of this._placeholderDecorations)g.has(b)||C.changeDecorationOptions(L,b.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return f});return h?this.move(l):m??[]}_hasPlaceholderBeenCollapsed(l){let h=l;for(;h;){if(h instanceof s.Placeholder){const m=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(m).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const l=new Map;for(const h of this._placeholderGroups){let m;for(const C of h){if(C.isFinalTabstop)break;m||(m=[],l.set(C.index,m));const g=this._placeholderDecorations.get(C),f=this._editor.getModel().getDecorationRange(g);if(!f){l.delete(C.index);break}m.push(f)}}return l}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(l){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(m=>{for(const C of this._placeholderGroups[this._placeholderGroupsIdx]){const g=l.shift();console.assert(!g._placeholderDecorations);const f=g._snippet.placeholderInfo.last.index;for(const L of g._snippet.placeholderInfo.all)L.isFinalTabstop?L.index=C.index+(f+1)/this._nestingLevel:L.index=C.index+L.index/this._nestingLevel;this._snippet.replace(C,g._snippet.children);const b=this._placeholderDecorations.get(C);m.removeDecoration(b),this._placeholderDecorations.delete(C);for(const L of g._snippet.placeholders){const N=g._snippet.offset(L),D=g._snippet.fullLen(L),I=w.Range.fromPositions(h.getPositionAt(g._offset+N),h.getPositionAt(g._offset+N+D)),T=m.addDecoration(I,r._decor.inactive);this._placeholderDecorations.set(L,T)}}this._placeholderGroups=S.groupBy(this._snippet.placeholders,s.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const n={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class o{constructor(l,h,m=n){this._templateMerges=[],this._snippets=[],this._editor=l,this._template=h,this._options=m}static adjustWhitespace(l,h,m,C,g){const f=l.getLineContent(h.lineNumber),b=M.getLeadingWhitespace(f,0,h.column-1);let L;return m.walk(N=>{if(!(N instanceof s.Text)||N.parent instanceof s.Choice)return!0;const D=N.value.split(/\r\n|\r|\n/);if(C){const T=m.offset(N);if(T===0)D[0]=l.normalizeIndentation(D[0]);else{L=L??m.toString();let A=L.charCodeAt(T-1);(A===10||A===13)&&(D[0]=l.normalizeIndentation(b+D[0]))}for(let A=1;A<D.length;A++)D[A]=l.normalizeIndentation(b+D[A])}const I=D.join(l.getEOL());return I!==N.value&&(N.parent.replace(N,[new s.Text(I)]),L=void 0),!0}),b}static adjustSelection(l,h,m,C){if(m!==0||C!==0){const{positionLineNumber:g,positionColumn:f}=h,b=f-m,L=f+C,N=l.validateRange({startLineNumber:g,startColumn:b,endLineNumber:g,endColumn:L});h=p.Selection.createWithDirection(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn,h.getDirection())}return h}static createEditsAndSnippets(l,h,m,C,g,f,b,L){const N=[],D=[];if(!l.hasModel())return{edits:N,snippets:D};const I=l.getModel(),T=l.invokeWithinContext(H=>H.get(i.IWorkspaceContextService,_.optional)),A=l.invokeWithinContext(H=>new a.ModelBasedVariableResolver(H.get(d.ILabelService,_.optional),I)),R=()=>b;let O=0,P=I.getValueInRange(o.adjustSelection(I,l.getSelection(),m,0)),F=I.getValueInRange(o.adjustSelection(I,l.getSelection(),0,C)),E=I.getLineFirstNonWhitespaceColumn(l.getSelection().positionLineNumber);const x=l.getSelections().map((H,K)=>({selection:H,idx:K})).sort((H,K)=>w.Range.compareRangesUsingStarts(H.selection,K.selection));for(const{selection:H,idx:K}of x){let q=o.adjustSelection(I,H,m,0),G=o.adjustSelection(I,H,0,C);P!==I.getValueInRange(q)&&(q=H),F!==I.getValueInRange(G)&&(G=H);const ee=H.setStartPosition(q.startLineNumber,q.startColumn).setEndPosition(G.endLineNumber,G.endColumn),ie=new s.SnippetParser().parse(h,!0,g),ae=ee.getStartPosition(),de=o.adjustWhitespace(I,ae,ie,f||K>0&&E!==I.getLineFirstNonWhitespaceColumn(H.positionLineNumber),!0);ie.resolveVariables(new a.CompositeSnippetVariableResolver([A,new a.ClipboardBasedVariableResolver(R,K,x.length,l.getOption(68)==="spread"),new a.SelectionBasedVariableResolver(I,H,K,L),new a.CommentBasedVariableResolver(I,H),new a.TimeBasedVariableResolver,new a.WorkspaceBasedVariableResolver(T),new a.RandomBasedVariableResolver]));const Y=I.getOffsetAt(ae)+O;O+=ie.toString().length-I.getValueLengthInRange(ee),N[K]=y.EditOperation.replace(ee,ie.toString()),N[K].identifier={major:K,minor:0},D[K]=new r(l,ie,Y,de)}return{edits:N,snippets:D}}dispose(){k.dispose(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:l,snippets:h}=o.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",l,m=>this._snippets[0].hasPlaceholder?this._move(!0):m.filter(C=>!!C.identifier).map(C=>p.Selection.fromPositions(C.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(l,h=n){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,l]);const{edits:m,snippets:C}=o.createEditsAndSnippets(this._editor,l,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",m,g=>{for(const f of this._snippets)f.merge(C);return console.assert(C.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):g.filter(f=>!!f.identifier).map(f=>p.Selection.fromPositions(f.range.getEndPosition()))})}next(){const l=this._move(!0);this._editor.setSelections(l),this._editor.revealPositionInCenterIfOutsideViewport(l[0].getPosition())}prev(){const l=this._move(!1);this._editor.setSelections(l),this._editor.revealPositionInCenterIfOutsideViewport(l[0].getPosition())}_move(l){const h=[];for(const m of this._snippets){const C=m.move(l);h.push(...C)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const l=this._editor.getSelections();if(l.length<this._snippets.length)return!1;let h=new Map;for(const m of this._snippets){const C=m.computePossibleSelections();if(h.size===0)for(const[g,f]of C){f.sort(w.Range.compareRangesUsingStarts);for(const b of l)if(f[0].containsRange(b)){h.set(g,[]);break}}if(h.size===0)return!1;h.forEach((g,f)=>{g.push(...C.get(f))})}l.sort(w.Range.compareRangesUsingStarts);for(let[m,C]of h){if(C.length!==l.length){h.delete(m);continue}C.sort(w.Range.compareRangesUsingStarts);for(let g=0;g<C.length;g++)if(!C[g].containsRange(l[g])){h.delete(m);continue}}return h.size>0}}e.SnippetSession=o}),define(Q[194],J([0,1,2,14,3,21,25,121,16,70,277,518]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=class ot{constructor(r,n,o){this._editor=r,this._logService=n,this._snippetListener=new S.DisposableStore,this._modelVersionId=-1,this._inSnippet=ot.InSnippetMode.bindTo(o),this._hasNextTabstop=ot.HasNextTabstop.bindTo(o),this._hasPrevTabstop=ot.HasPrevTabstop.bindTo(o)}static get(r){return r.getContribution(ot.ID)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,n){try{this._doInsert(r,typeof n=="undefined"?a:Object.assign(Object.assign({},a),n))}catch(o){this.cancel(),this._logService.error(o),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(r,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new _.SnippetSession(this._editor,r,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:r}=this._session;if(!r){this._currentChoice=void 0;return}if(this._currentChoice!==r){this._currentChoice=r,this._editor.setSelections(this._editor.getSelections().map(o=>y.Selection.fromPositions(o.getStartPosition())));const[n]=r.options;p.showSimpleSuggestions(this._editor,r.options.map((o,t)=>({kind:13,label:o.value,insertText:o.value,sortText:"a".repeat(t+1),range:M.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};u.ID="snippetController2",u.InSnippetMode=new v.RawContextKey("inSnippetMode",!1,s.localize(0,null)),u.HasNextTabstop=new v.RawContextKey("hasNextTabstop",!1,s.localize(1,null)),u.HasPrevTabstop=new v.RawContextKey("hasPrevTabstop",!1,s.localize(2,null)),u=Me([pe(1,i.ILogService),pe(2,v.IContextKeyService)],u),e.SnippetController2=u,k.registerEditorContribution(u.ID,u);const c=k.EditorCommand.bindToContribution(u.get);k.registerEditorCommand(new c({id:"jumpToNextSnippetPlaceholder",precondition:v.ContextKeyExpr.and(u.InSnippetMode,u.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:w.EditorContextKeys.editorTextFocus,primary:2}})),k.registerEditorCommand(new c({id:"jumpToPrevSnippetPlaceholder",precondition:v.ContextKeyExpr.and(u.InSnippetMode,u.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:w.EditorContextKeys.editorTextFocus,primary:1024|2}})),k.registerEditorCommand(new c({id:"leaveSnippet",precondition:u.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:w.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),k.registerEditorCommand(new c({id:"acceptSnippet",precondition:u.InSnippetMode,handler:d=>d.finish()}))}),define(Q[692],J([0,1,15,12,6,2,21,18,422,121,194,23,76,425,8,85,88,70]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class o{constructor(h,m,C,g){this.leadingLineContent=h.getLineContent(m.lineNumber).substr(0,m.column-1),this.leadingWord=h.getWordUntilPosition(m),this.lineNumber=m.lineNumber,this.column=m.column,this.auto=C,this.shy=g}static shouldAutoTrigger(h){if(!h.hasModel())return!1;const m=h.getModel(),C=h.getPosition();m.tokenizeIfCheap(C.lineNumber);const g=m.getWordAtPosition(C);return!(!g||g.endColumn!==C.column||!isNaN(Number(g.word)))}}e.LineContext=o;let t=class ni{constructor(h,m,C,g,f){this._editor=h,this._editorWorkerService=m,this._clipboardService=C,this._telemetryService=g,this._logService=f,this._toDispose=new y.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new S.TimeoutTimer,this._state=0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new M.Emitter,this._onDidTrigger=new M.Emitter,this._onDidSuggest=new M.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(p.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(L=>{this._onCursorChange(L)}));let b=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{b=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{b=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{b||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){y.dispose(this._triggerCharacterListener),y.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(77),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(78)||!this._editor.hasModel()||!this._editor.getOption(107))return;const h=new Map;for(const C of p.CompletionProviderRegistry.all(this._editor.getModel()))for(const g of C.triggerCharacters||[]){let f=h.get(g);f||(f=new Set,f.add(i.getSnippetSuggestSupport()),h.set(g,f)),f.add(C)}const m=C=>{if(!C){const b=this._editor.getPosition();C=this._editor.getModel().getLineContent(b.lineNumber).substr(0,b.column-1)}let g="";c.isLowSurrogate(C.charCodeAt(C.length-1))?c.isHighSurrogate(C.charCodeAt(C.length-2))&&(g=C.substr(C.length-2)):g=C.charAt(C.length-1);const f=h.get(g);if(f){const b=this._completionModel?{items:this._completionModel.adopt(f),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:g},Boolean(this._completionModel),f,b)}};this._triggerCharacterListener.add(this._editor.onDidType(m)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(m))}get state(){return this._state}cancel(h=!1){var m;this._state!==0&&(this._triggerQuickSuggest.cancel(),(m=this._requestToken)===null||m===void 0||m.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:h}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!p.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(h){if(!this._editor.hasModel())return;const m=this._editor.getModel(),C=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!h.selection.isEmpty()||h.reason!==0&&h.reason!==3||h.source!=="keyboard"&&h.source!=="deleteLeft"){this.cancel();return}if(!!p.CompletionProviderRegistry.has(m))if(this._state===0&&h.reason===0){if(this._editor.getOption(76)===!1||!C.containsRange(this._currentSelection)&&!C.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(104).snippetsPreventQuickSuggestions&&_.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!o.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const g=this._editor.getModel(),f=this._editor.getPosition(),b=this._editor.getOption(76);if(b!==!1){if(b!==!0){g.tokenizeIfCheap(f.lineNumber);const L=g.getLineTokens(f.lineNumber),N=L.getStandardTokenType(L.findTokenIndexAtOffset(Math.max(f.column-1-1,0)));if(!(b.other&&N===0||b.comments&&N===1||b.strings&&N===2))return}this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&h.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const h=this._editor.getModel(),m=this._editor.getPosition(),C=new o(h,m,this._state===2,!1);this._onNewContext(C)})}trigger(h,m=!1,C,g){var f;if(!this._editor.hasModel())return;const b=this._editor.getModel(),L=h.auto,N=new o(b,this._editor.getPosition(),L,h.shy);this.cancel(m),this._state=L?2:1,this._onDidTrigger.fire({auto:L,shy:h.shy,position:this._editor.getPosition()}),this._context=N;let D={triggerKind:(f=h.triggerKind)!==null&&f!==void 0?f:0};h.triggerCharacter&&(D={triggerKind:1,triggerCharacter:h.triggerCharacter}),this._requestToken=new s.CancellationTokenSource;const I=this._editor.getOption(99);let T=1;switch(I){case"top":T=0;break;case"bottom":T=2;break}const{itemKind:A,showDeprecated:R}=ni._createSuggestFilter(this._editor),O=u.WordDistance.create(this._editorWorkerService,this._editor),P=i.provideSuggestionItems(b,this._editor.getPosition(),new i.CompletionOptions(T,A,C,R),D,this._requestToken.token);Promise.all([P,O]).then(([F,E])=>Ie(this,void 0,void 0,function*(){var x;if((x=this._requestToken)===null||x===void 0||x.dispose(),!this._editor.hasModel())return;let H=g==null?void 0:g.clipboardText;if(!H&&F.needsClipboard&&(H=yield this._clipboardService.readText()),this._state===0)return;const K=this._editor.getModel();let q=F.items;if(g){const ee=i.getSuggestionComparator(T);q=q.concat(g.items).sort(ee)}const G=new o(K,this._editor.getPosition(),L,h.shy);this._completionModel=new v.CompletionModel(q,this._context.column,{leadingLineContent:G.leadingLineContent,characterCountDelta:G.column-this._context.column},E,this._editor.getOption(104),this._editor.getOption(99),H),this._completionDisposables.add(F.disposable),this._onNewContext(G),this._reportDurationsTelemetry(F.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(h){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(h)}),this._logService.debug("suggest.durations.json",h)})}static _createSuggestFilter(h){const m=new Set;h.getOption(99)==="none"&&m.add(27);const g=h.getOption(104);return g.showMethods||m.add(0),g.showFunctions||m.add(1),g.showConstructors||m.add(2),g.showFields||m.add(3),g.showVariables||m.add(4),g.showClasses||m.add(5),g.showStructs||m.add(6),g.showInterfaces||m.add(7),g.showModules||m.add(8),g.showProperties||m.add(9),g.showEvents||m.add(10),g.showOperators||m.add(11),g.showUnits||m.add(12),g.showValues||m.add(13),g.showConstants||m.add(14),g.showEnums||m.add(15),g.showEnumMembers||m.add(16),g.showKeywords||m.add(17),g.showWords||m.add(18),g.showColors||m.add(19),g.showFiles||m.add(20),g.showReferences||m.add(21),g.showColors||m.add(22),g.showFolders||m.add(23),g.showTypeParameters||m.add(24),g.showSnippets||m.add(27),g.showUsers||m.add(25),g.showIssues||m.add(26),{itemKind:m,showDeprecated:g.showDeprecated}}_onNewContext(h){if(!!this._context){if(h.lineNumber!==this._context.lineNumber){this.cancel();return}if(c.getLeadingWhitespace(h.leadingLineContent)!==c.getLeadingWhitespace(this._context.leadingLineContent)){this.cancel();return}if(h.column<this._context.column){h.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(h.leadingWord.word.length!==0&&h.leadingWord.startColumn>this._context.leadingWord.startColumn){const m=new Set(p.CompletionProviderRegistry.all(this._editor.getModel()));for(let g of this._completionModel.allProvider)m.delete(g);const C=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,m,{items:C,clipboardText:this._completionModel.clipboardText});return}if(h.column>this._context.column&&this._completionModel.incomplete.size>0&&h.leadingWord.word.length!==0){const{incomplete:m}=this._completionModel,C=this._completionModel.adopt(m);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,m,{items:C,clipboardText:this._completionModel.clipboardText})}else{let m=this._completionModel.lineContext,C=!1;if(this._completionModel.lineContext={leadingLineContent:h.leadingLineContent,characterCountDelta:h.column-this._context.column},this._completionModel.items.length===0){if(o.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<h.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=m,C=this._completionModel.items.length>0,C&&h.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:C})}}}}};t=Me([pe(1,a.IEditorWorkerService),pe(2,d.IClipboardService),pe(3,r.ITelemetryService),pe(4,n.ILogService)],t),e.SuggestModel=t}),define(Q[278],J([0,1,42,19,12,40,2,71,14,57,3,25,194,114,590,521,26,16,9,87,121,562,692,679,563,6,15,20,423,424,13,17,33,23,70,81]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l,h,m,C,g,f,b,L,N,D,I,T,A,R,O,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let F=!1;class E{constructor(ee,ie){if(this._model=ee,this._position=ie,ee.getLineMaxColumn(ie.lineNumber)!==ie.column){const de=ee.getOffsetAt(ie),Y=ee.getPositionAt(de+1);this._marker=ee.deltaDecorations([],[{range:_.Range.fromPositions(ie,Y),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ee){if(this._model.isDisposed()||this._position.lineNumber!==ee.lineNumber)return 0;if(this._marker){const ie=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ie.getStartPosition())-this._model.getOffsetAt(ee)}else return this._model.getLineMaxColumn(ee.lineNumber)-ee.column}}let x=class si{constructor(ee,ie,ae,de,Y,B){this._memoryService=ie,this._commandService=ae,this._contextKeyService=de,this._instantiationService=Y,this._logService=B,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this.editor=ee,this.model=Y.createInstance(m.SuggestModel,this.editor);const W=l.Context.InsertMode.bindTo(de);W.set(ee.getOption(104).insertMode),this.model.onDidTrigger(()=>W.set(ee.getOption(104).insertMode)),this.widget=this._toDispose.add(new b.IdleValue(()=>{const U=this._instantiationService.createInstance(C.SuggestWidget,this.editor);this._toDispose.add(U),this._toDispose.add(U.onDidSelect(ue=>this._insertSuggestion(ue,0),this));const X=new N.CommitCharacterController(this.editor,U,ue=>this._insertSuggestion(ue,2));this._toDispose.add(X),this._toDispose.add(this.model.onDidSuggest(ue=>{ue.completionModel.items.length===0&&X.reset()}));const te=l.Context.MakesTextEdit.bindTo(this._contextKeyService),se=l.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),le=l.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(w.toDisposable(()=>{te.reset(),se.reset(),le.reset()})),this._toDispose.add(U.onDidFocus(({item:ue})=>{const re=this.editor.getPosition(),ce=ue.editStart.column,j=re.column;let ne=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ue.completion.command&&!ue.completion.additionalTextEdits&&!(ue.completion.insertTextRules&4)&&j-ce===ue.completion.insertText.length&&(ne=this.editor.getModel().getValueInRange({startLineNumber:re.lineNumber,startColumn:ce,endLineNumber:re.lineNumber,endColumn:j})!==ue.completion.insertText),te.set(ne),se.set(!I.Position.equals(ue.editInsertEnd,ue.editReplaceEnd)),le.set(Boolean(ue.provider.resolveCompletionItem)||Boolean(ue.completion.documentation)||ue.completion.detail!==ue.completion.label)})),this._toDispose.add(U.onDetailsKeyDown(ue=>{if(ue.toKeybinding().equals(new y.SimpleKeybinding(!0,!1,!1,!1,33))||T.isMacintosh&&ue.toKeybinding().equals(new y.SimpleKeybinding(!1,!1,!1,!0,33))){ue.stopPropagation();return}ue.toKeybinding().isModifierKey()||this.editor.focus()})),U})),this._overtypingCapturer=this._toDispose.add(new b.IdleValue(()=>this._toDispose.add(new D.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new b.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Y.createInstance(g.WordContextKey,ee)),this._toDispose.add(this.model.onDidTrigger(U=>{this.widget.value.showTriggered(U.auto,U.shy?250:50),this._lineSuffix.value=new E(this.editor.getModel(),U.position)})),this._toDispose.add(this.model.onDidSuggest(U=>{if(!U.shy){let X=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),U.completionModel.items);this.widget.value.showSuggestions(U.completionModel,X,U.isFrozen,U.auto)}})),this._toDispose.add(this.model.onDidCancel(U=>{U.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));let V=l.Context.AcceptSuggestionsOnEnter.bindTo(de),z=()=>{const U=this.editor.getOption(1);V.set(U==="on"||U==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(ee){return ee.getContribution(si.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ee,ie){if(!ee||!ee.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const ae=this.editor.getModel(),de=ae.getAlternativeVersionId(),{item:Y}=ee,B=[],W=new R.CancellationTokenSource;ie&1||this.editor.pushUndoStop();const V=this.getOverwriteInfo(Y,Boolean(ie&8));if(this._memoryService.memorize(ae,this.editor.getPosition(),Y),Array.isArray(Y.completion.additionalTextEdits)){const U=p.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Y.completion.additionalTextEdits.map(X=>i.EditOperation.replace(_.Range.lift(X.range),X.text))),U.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Y.isResolved){const U=new P.StopWatch(!0);let X;const te=ae.onDidChangeContent(re=>{if(re.isFlush){W.cancel(),te.dispose();return}for(let ce of re.changes){const j=_.Range.getEndPosition(ce.range);(!X||I.Position.isBefore(j,X))&&(X=j)}});let se=ie;ie|=2;let le=!1,ue=this.editor.onWillType(()=>{ue.dispose(),le=!0,se&2||this.editor.pushUndoStop()});B.push(Y.resolve(W.token).then(()=>{if(!Y.completion.additionalTextEdits||W.token.isCancellationRequested||X&&Y.completion.additionalTextEdits.some(ce=>I.Position.isBefore(X,_.Range.getStartPosition(ce.range))))return!1;le&&this.editor.pushUndoStop();const re=p.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Y.completion.additionalTextEdits.map(ce=>i.EditOperation.replace(_.Range.lift(ce.range),ce.text))),re.restoreRelativeVerticalPositionOfCursor(this.editor),(le||!(se&2))&&this.editor.pushUndoStop(),!0}).then(re=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",U.elapsed(),re),te.dispose(),ue.dispose()}))}let{insertText:z}=Y.completion;Y.completion.insertTextRules&4||(z=u.SnippetParser.escape(z)),a.SnippetController2.get(this.editor).insert(z,{overwriteBefore:V.overwriteBefore,overwriteAfter:V.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Y.completion.insertTextRules&1),clipboardText:ee.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ie&2||this.editor.pushUndoStop(),Y.completion.command?Y.completion.command.id===H.id?this.model.trigger({auto:!0,shy:!1},!0):(B.push(this._commandService.executeCommand(Y.completion.command.id,...Y.completion.command.arguments?[...Y.completion.command.arguments]:[]).catch(M.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ie&4&&this._alternatives.value.set(ee,U=>{for(W.cancel();ae.canUndo();){de!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(U,1|2|(ie&8?8:0));break}}),this._alertCompletionItem(Y),Promise.all(B).finally(()=>{this.model.clear(),W.dispose()})}getOverwriteInfo(ee,ie){L.assertType(this.editor.hasModel());let ae=this.editor.getOption(104).insertMode==="replace";ie&&(ae=!ae);const de=ee.position.column-ee.editStart.column,Y=(ae?ee.editReplaceEnd.column:ee.editInsertEnd.column)-ee.position.column,B=this.editor.getPosition().column-ee.position.column,W=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:de+B,overwriteAfter:Y+W}}_alertCompletionItem(ee){if(k.isNonEmptyArray(ee.completion.additionalTextEdits)){let ie=d.localize(0,null,ee.textLabel,ee.completion.additionalTextEdits.length);S.alert(ie)}}triggerSuggest(ee){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,ee),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(ee){if(!this.editor.hasModel())return;const ie=this.editor.getPosition(),ae=()=>{ie.equals(this.editor.getPosition())&&this._commandService.executeCommand(ee.fallback)},de=Y=>{if(Y.completion.insertTextRules&4||Y.completion.additionalTextEdits)return!0;const B=this.editor.getPosition(),W=Y.editStart.column,V=B.column;return V-W!==Y.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:B.lineNumber,startColumn:W,endLineNumber:B.lineNumber,endColumn:V})!==Y.completion.insertText};f.Event.once(this.model.onDidTrigger)(Y=>{let B=[];f.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{w.dispose(B),ae()},void 0,B),this.model.onDidSuggest(({completionModel:W})=>{if(w.dispose(B),W.items.length===0){ae();return}const V=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),W.items),z=W.items[V];if(!de(z)){ae();return}this.editor.pushUndoStop(),this._insertSuggestion({index:V,item:z,model:W},4|1|2)},void 0,B)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(ie.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(ee,ie){const ae=this.widget.value.getFocusedItem();let de=0;ee&&(de|=4),ie&&(de|=8),this._insertSuggestion(ae,de)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.value.stopForceRenderingAbove()}};x.ID="editor.contrib.suggestController",x=Me([pe(1,c.ISuggestMemoryService),pe(2,r.ICommandService),pe(3,n.IContextKeyService),pe(4,o.IInstantiationService),pe(5,O.ILogService)],x),e.SuggestController=x;class H extends v.EditorAction{constructor(){super({id:H.id,label:d.localize(1,null),alias:"Trigger Suggest",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(ee,ie){const ae=x.get(ie);!ae||ae.triggerSuggest()}}e.TriggerSuggestAction=H,H.id="editor.action.triggerSuggest",v.registerEditorContribution(x.ID,x),v.registerEditorAction(H);const K=100+90,q=v.EditorCommand.bindToContribution(x.get);v.registerEditorCommand(new q({id:"acceptSelectedSuggestion",precondition:l.Context.Visible,handler(G){G.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(l.Context.Visible,s.EditorContextKeys.textInputFocus),primary:2,weight:K}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(l.Context.Visible,s.EditorContextKeys.textInputFocus,l.Context.AcceptSuggestionsOnEnter,l.Context.MakesTextEdit),primary:3,weight:K}),A.MenuRegistry.appendMenuItem(l.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(2,null)},group:"left",order:1,when:l.Context.HasInsertAndReplaceRange.toNegated()}),A.MenuRegistry.appendMenuItem(l.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(3,null)},group:"left",order:1,when:n.ContextKeyExpr.and(l.Context.HasInsertAndReplaceRange,l.Context.InsertMode.isEqualTo("insert"))}),A.MenuRegistry.appendMenuItem(l.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(4,null)},group:"left",order:1,when:n.ContextKeyExpr.and(l.Context.HasInsertAndReplaceRange,l.Context.InsertMode.isEqualTo("replace"))}),v.registerEditorCommand(new q({id:"acceptAlternativeSelectedSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,s.EditorContextKeys.textInputFocus),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(G){G.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:l.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(l.Context.HasInsertAndReplaceRange,l.Context.InsertMode.isEqualTo("insert")),title:d.localize(5,null)},{menuId:l.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(l.Context.HasInsertAndReplaceRange,l.Context.InsertMode.isEqualTo("replace")),title:d.localize(6,null)}]})),r.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),v.registerEditorCommand(new q({id:"hideSuggestWidget",precondition:l.Context.Visible,handler:G=>G.cancelSuggestWidget(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),v.registerEditorCommand(new q({id:"selectNextSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSuggestions),handler:G=>G.selectNextSuggestion(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),v.registerEditorCommand(new q({id:"selectNextPageSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSuggestions),handler:G=>G.selectNextPageSuggestion(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),v.registerEditorCommand(new q({id:"selectLastSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSuggestions),handler:G=>G.selectLastSuggestion()})),v.registerEditorCommand(new q({id:"selectPrevSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSuggestions),handler:G=>G.selectPrevSuggestion(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),v.registerEditorCommand(new q({id:"selectPrevPageSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSuggestions),handler:G=>G.selectPrevPageSuggestion(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),v.registerEditorCommand(new q({id:"selectFirstSuggestion",precondition:n.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSuggestions),handler:G=>G.selectFirstSuggestion()})),v.registerEditorCommand(new q({id:"toggleSuggestionDetails",precondition:l.Context.Visible,handler:G=>G.toggleSuggestionDetails(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:l.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(l.Context.DetailsVisible,l.Context.CanResolve),title:d.localize(7,null)},{menuId:l.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(l.Context.DetailsVisible.toNegated(),l.Context.CanResolve),title:d.localize(8,null)}]})),v.registerEditorCommand(new q({id:"toggleExplainMode",precondition:l.Context.Visible,handler:G=>G.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),v.registerEditorCommand(new q({id:"toggleSuggestionFocus",precondition:l.Context.Visible,handler:G=>G.toggleSuggestionFocus(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),v.registerEditorCommand(new q({id:"insertBestCompletion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),g.WordContextKey.AtEnd,l.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:(G,ee)=>{G.triggerSuggestAndAcceptBest(L.isObject(ee)?Object.assign({fallback:"tab"},ee):{fallback:"tab"})},kbOpts:{weight:K,primary:2}})),v.registerEditorCommand(new q({id:"insertNextSuggestion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,l.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptNextSuggestion(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),v.registerEditorCommand(new q({id:"insertPrevSuggestion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,l.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptPrevSuggestion(),kbOpts:{weight:K,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|2}})),v.registerEditorAction(class extends v.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:d.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(G,ee){x.get(ee).resetWidgetSize()}})}),define(Q[693],J([0,1,15,6,2,3,190,265,114,277,278]),function($,e,S,k,M,y,w,p,v,i,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetAdapterModel=void 0;class s extends w.BaseGhostTextWidgetModel{constructor(c){super(c);this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new S.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100));const d=_.SuggestController.get(this.editor);if(d){let r=!1;const n=()=>{r||(r=!0,this._register(d.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})),this._register(d.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()})),this._register(d.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})))};this._register(k.Event.once(d.model.onDidTrigger)(o=>{n()}))}this.updateFromSuggestion(),this._register(M.toDisposable(()=>{const r=_.SuggestController.get(this.editor);r&&r.stopForceRenderingAbove()}))}get isActive(){return this._isActive}setExpanded(c){super.setExpanded(c),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(104).preview}updateFromSuggestion(){const c=_.SuggestController.get(this.editor);if(!c){this.setCurrentInlineCompletion(void 0);return}if(!this.isSuggestWidgetVisible){this.setCurrentInlineCompletion(void 0);return}const d=c.widget.value.getFocusedItem();if(!d){this.setCurrentInlineCompletion(void 0);return}this.setCurrentInlineCompletion(a(c,this.editor.getPosition(),d))}setCurrentInlineCompletion(c){this.currentGhostText=c?p.inlineCompletionToGhostText(c,this.editor.getModel())||{lines:[],position:c.range.getEndPosition()}:void 0,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,this.currentGhostText.lines.length-1));const d=_.SuggestController.get(this.editor);d&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?d.forceRenderingAbove():d.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}e.SuggestWidgetAdapterModel=s;function a(u,c,d){const r=d.item;if(Array.isArray(r.completion.additionalTextEdits))return{text:"",range:y.Range.fromPositions(c,c)};let{insertText:n}=r.completion;if(r.completion.insertTextRules&4){const t=new v.SnippetParser().parse(n),l=u.editor.getModel();i.SnippetSession.adjustWhitespace(l,c,t,!0,!0),n=t.toString()}const o=u.getOverwriteInfo(r,!1);return{text:n,range:y.Range.fromPositions(c.delta(0,-o.overwriteBefore),c.delta(0,Math.max(o.overwriteAfter,0)))}}}),define(Q[279],J([0,1,2,14,25,190,265,693,503,26,16,9]),function($,e,S,k,M,y,w,p,v,i,_,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let a=class ri extends S.Disposable{constructor(l,h,m){super();this.editor=l,this.instantiationService=h,this.activeController=this._register(new S.MutableDisposable),this.triggeredExplicitly=!1,this.contextKeys=new u(m),this.widget=this._register(h.createInstance(y.GhostTextWidget,this.editor)),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(C=>{C.hasChanged(104)&&this.updateModelController()})),this.updateModelController()}static get(l){return l.getContribution(ri.ID)}updateModelController(){const l=this.editor.getOption(104),h=this.editor.getOption(52);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(l.preview||h.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(c,this.editor,this.widget,this.contextKeys):void 0}shouldShowHoverAt(l){var h;return((h=this.activeController.value)===null||h===void 0?void 0:h.shouldShowHoverAt(l))||!1}shouldShowHoverAtViewZone(l){return this.widget.shouldShowHoverAtViewZone(l)}trigger(){var l;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(l=this.activeController.value)===null||l===void 0||l.triggerInlineCompletion()}commit(){var l;(l=this.activeController.value)===null||l===void 0||l.commitInlineCompletion()}hide(){var l;(l=this.activeController.value)===null||l===void 0||l.hideInlineCompletion()}showNextInlineCompletion(){var l;(l=this.activeController.value)===null||l===void 0||l.showNextInlineCompletion()}showPreviousInlineCompletion(){var l;(l=this.activeController.value)===null||l===void 0||l.showPreviousInlineCompletion()}};a.inlineSuggestionVisible=new _.RawContextKey("inlineSuggestionVisible ",!1,v.localize(0,null)),a.inlineSuggestionHasIndentation=new _.RawContextKey("inlineSuggestionHasIndentation",!1,v.localize(1,null)),a.ID="editor.contrib.ghostTextController",a=Me([pe(1,s.IInstantiationService),pe(2,_.IContextKeyService)],a),e.GhostTextController=a;class u{constructor(l){this.contextKeyService=l,this.lastInlineCompletionVisibleValue=!1,this.inlineCompletionVisible=a.inlineSuggestionVisible.bindTo(this.contextKeyService),this.lastInlineCompletionSuggestsIndentationValue=!1,this.inlineCompletionSuggestsIndentation=a.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}setInlineCompletionVisible(l){l!==this.lastInlineCompletionVisibleValue&&(this.inlineCompletionVisible.set(l),this.lastInlineCompletionVisibleValue=l)}setInlineCompletionSuggestsIndentation(l){l!==this.lastInlineCompletionSuggestsIndentationValue&&(this.inlineCompletionSuggestsIndentation.set(l),this.lastInlineCompletionSuggestsIndentationValue=l)}}let c=class extends S.Disposable{constructor(l,h,m,C){super();this.editor=l,this.widget=h,this.contextKeys=m,this.commandService=C,this.suggestWidgetAdapterModel=this._register(new p.SuggestWidgetAdapterModel(this.editor)),this.inlineCompletionsModel=this._register(new w.InlineCompletionsModel(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel(),this.updateContextKeys()})),this.updateModel(),this._register(S.toDisposable(()=>{(h.model===this.suggestWidgetAdapterModel||h.model===this.inlineCompletionsModel)&&h.setModel(void 0),this.contextKeys.setInlineCompletionVisible(!1),this.contextKeys.setInlineCompletionSuggestsIndentation(!1)})),this.inlineCompletionsModel&&this._register(this.inlineCompletionsModel.onDidChange(()=>{this.updateContextKeys()}))}get activeInlineCompletionsModel(){if(this.widget.model===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateContextKeys(){var l,h;if(this.contextKeys.setInlineCompletionVisible(((l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText)!==void 0),(h=this.inlineCompletionsModel)===null||h===void 0?void 0:h.ghostText){const m=this.inlineCompletionsModel.ghostText.lines[0]||"",C=m.startsWith(" ")||m.startsWith("	"),g=this.inlineCompletionsModel.ghostText.position,f=this.editor.getModel().getLineIndentColumn(g.lineNumber),b=g.column<=f;this.contextKeys.setInlineCompletionSuggestsIndentation(this.widget.model===this.inlineCompletionsModel&&C&&b)}else this.contextKeys.setInlineCompletionSuggestsIndentation(!1)}shouldShowHoverAt(l){var h;const m=(h=this.activeInlineCompletionsModel)===null||h===void 0?void 0:h.ghostText;return m?l.containsPosition(m.position):!1}triggerInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.startSession()}commitInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.commitCurrentSuggestion()}hideInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.hide()}showNextInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.showNext()}showPreviousInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.showPrevious()}updateModel(){var l;this.widget.setModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),(l=this.inlineCompletionsModel)===null||l===void 0||l.setActive(this.widget.model===this.inlineCompletionsModel)}};c=Me([pe(3,i.ICommandService)],c),e.ActiveGhostTextController=c;const d=k.EditorCommand.bindToContribution(a.get);e.commitInlineSuggestionAction=new d({id:"editor.action.inlineSuggest.commit",precondition:_.ContextKeyExpr.and(a.inlineSuggestionVisible,a.inlineSuggestionHasIndentation.toNegated(),M.EditorContextKeys.tabMovesFocus.toNegated()),kbOpts:{weight:100,primary:2},handler(t){t.commit(),t.editor.focus()}}),k.registerEditorCommand(e.commitInlineSuggestionAction),k.registerEditorCommand(new d({id:"editor.action.inlineSuggest.hide",precondition:a.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(t){t.hide()}}));class r extends k.EditorAction{constructor(){super({id:r.ID,label:v.localize(2,null),alias:"Show Next Inline Suggestion",precondition:_.ContextKeyExpr.and(M.EditorContextKeys.writable,a.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(l,h){return Ie(this,void 0,void 0,function*(){const m=a.get(h);m&&(m.showNextInlineCompletion(),h.focus())})}}e.ShowNextInlineSuggestionAction=r,r.ID="editor.action.inlineSuggest.showNext";class n extends k.EditorAction{constructor(){super({id:n.ID,label:v.localize(3,null),alias:"Show Previous Inline Suggestion",precondition:_.ContextKeyExpr.and(M.EditorContextKeys.writable,a.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(l,h){return Ie(this,void 0,void 0,function*(){const m=a.get(h);m&&(m.showPreviousInlineCompletion(),h.focus())})}}e.ShowPreviousInlineSuggestionAction=n,n.ID="editor.action.inlineSuggest.showPrevious";class o extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:v.localize(4,null),alias:"Trigger Inline Suggestion",precondition:M.EditorContextKeys.writable})}run(l,h){return Ie(this,void 0,void 0,function*(){const m=a.get(h);m&&m.trigger()})}}e.TriggerInlineSuggestionAction=o,k.registerEditorContribution(a.ID,a),k.registerEditorAction(o),k.registerEditorAction(r),k.registerEditorAction(n)}),define(Q[694],J([0,1,504,230,3,2,279,26,33,16]),function($,e,S,k,M,y,w,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class _{constructor(u,c){this.owner=u,this.range=c}isValidForHoverAnchor(u){return u.type===1&&this.range.startColumn<=u.range.startColumn&&this.range.endColumn>=u.range.endColumn}}e.InlineCompletionsHover=_;let s=class{constructor(u,c,d,r,n){this._editor=u,this._commandService=d,this._menuService=r,this._contextKeyService=n}suggestHoverAnchor(u){const c=w.GhostTextController.get(this._editor);if(!c)return null;if(u.target.type===8){const d=u.target.detail;if(c.shouldShowHoverAtViewZone(d.viewZoneId))return new k.HoverForeignElementAnchor(1e3,this,M.Range.fromPositions(d.positionBefore||d.position,d.positionBefore||d.position))}return u.target.type===7&&u.target.range&&c.shouldShowHoverAt(u.target.range)?new k.HoverForeignElementAnchor(1e3,this,u.target.range):u.target.type===6&&u.target.range&&u.target.detail&&u.target.detail.mightBeForeignElement&&c.shouldShowHoverAt(u.target.range)?new k.HoverForeignElementAnchor(1e3,this,u.target.range):null}computeSync(u,c){const d=w.GhostTextController.get(this._editor);return d&&d.shouldShowHoverAt(u.range)?[new _(this,u.range)]:[]}renderHoverParts(u,c,d){const r=this._menuService.createMenu(v.MenuId.InlineCompletionsActions,this._contextKeyService);d.addAction({label:S.localize(0,null),commandId:w.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(w.ShowNextInlineSuggestionAction.ID)}),d.addAction({label:S.localize(1,null),commandId:w.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(w.ShowPreviousInlineSuggestionAction.ID)}),d.addAction({label:S.localize(2,null),commandId:w.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(w.commitInlineSuggestionAction.id)});for(const[n,o]of r.getActions())for(const t of o)t instanceof v.MenuItemAction&&d.addAction({label:t.label,commandId:t.item.id,run:()=>this._commandService.executeCommand(t.item.id)});return y.Disposable.None}};s=Me([pe(2,p.ICommandService),pe(3,v.IMenuService),pe(4,i.IContextKeyService)],s),e.InlineCompletionsHoverParticipant=s}),define(Q[695],J([0,1,7,2,13,3,31,18,229,11,19,22,51,318,674,9,641,694,639,37,230]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r,n,o,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const h=S.$;let m=class extends k.Disposable{constructor(b){super();this._keybindingService=b,this._hasContent=!1,this.hoverElement=h("div.hover-row.status-bar"),this.actionsElement=S.append(this.hoverElement,h("div.actions"))}get hasContent(){return this._hasContent}addAction(b){const L=this._keybindingService.lookupKeybinding(b.commandId),N=L?L.getLabel():null;this._register(u.renderHoverAction(this.actionsElement,b,N)),this._hasContent=!0}append(b){const L=S.append(this.actionsElement,b);return this._hasContent=!0,L}};m=Me([pe(0,t.IKeybindingService)],m);class C{constructor(b,L){this._participants=L,this._editor=b,this._result=[],this._anchor=null}setAnchor(b){this._anchor=b,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(b,L){if(L.type!==1)return[];const N=b.getModel(),D=L.range.startLineNumber,I=N.getLineMaxColumn(D);return b.getLineDecorations(D).filter(T=>{if(T.options.isWholeLine)return!0;const A=T.range.startLineNumber===D?T.range.startColumn:1,R=T.range.endLineNumber===D?T.range.endColumn:I;return!(A>L.range.startColumn||L.range.endColumn>R)})}computeAsync(b){return Ie(this,void 0,void 0,function*(){const L=this._anchor;if(!this._editor.hasModel()||!L)return Promise.resolve([]);const N=C._getLineDecorations(this._editor,L),D=yield Promise.all(this._participants.map(I=>this._computeAsync(I,N,L,b)));return _.flatten(D)})}_computeAsync(b,L,N,D){return Ie(this,void 0,void 0,function*(){return b.computeAsync?b.computeAsync(N,L,D):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const b=C._getLineDecorations(this._editor,this._anchor);let L=[];for(const N of this._participants)L=L.concat(N.computeSync(this._anchor,b));return _.coalesce(L)}onResult(b,L){L?this._result=b.concat(this._result):this._result=this._result.concat(b)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const b of this._participants)if(b.createLoadingMessage){const L=b.createLoadingMessage(this._anchor);if(L)return this._result.slice(0).concat([L])}}return this._result.slice(0)}}let g=class Nt extends a.Widget{constructor(b,L,N,D){super();this._hoverVisibleKey=L,this._keybindingService=D,this.allowEditorOverflow=!0,this._participants=[N.createInstance(o.ColorHoverParticipant,b,this),N.createInstance(r.MarkdownHoverParticipant,b,this),N.createInstance(n.InlineCompletionsHoverParticipant,b,this),N.createInstance(c.MarkerHoverParticipant,b,this)],this._hover=this._register(new u.HoverWidget),this._id=Nt.ID,this._editor=b,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,I=>{I.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(I=>{I.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new C(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new v.HoverOperation(this._computer,I=>this._withResult(I,!0),null,I=>this._withResult(I,!1),this._editor.getOption(50).delay),this._register(S.addStandardDisposableListener(this.getDomNode(),S.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(S.addStandardDisposableListener(this.getDomNode(),S.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(b.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(p.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(b){const L=b.target.type;if(L===6)return!0;if(L===7){const N=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,D=b.target.detail;if(D&&!D.isAfterLines&&typeof D.horizontalDistanceToText=="number"&&D.horizontalDistanceToText<N)return!0}return!1}maybeShowAt(b){var L;const N=[];for(const D of this._participants)if(typeof D.suggestHoverAnchor=="function"){const I=D.suggestHoverAnchor(b);I&&N.push(I)}if(this._shouldShowAt(b)&&b.target.range){const I=[...((L=b.target.element)===null||L===void 0?void 0:L.classList.values())||[]].find(T=>T.startsWith("ced-colorBox"))&&b.target.range.endColumn-b.target.range.startColumn==1?new y.Range(b.target.range.startLineNumber,b.target.range.startColumn+1,b.target.range.endLineNumber,b.target.range.endColumn+1):b.target.range;N.push(new l.HoverRangeAnchor(0,I))}return N.length===0?!1:(N.sort((D,I)=>I.priority-D.priority),this._startShowingAt(N[0],0,!1),!0)}_showAt(b,L,N){this._showAtPosition=b,this._showAtRange=L,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=N,N&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(L=>this._editor.applyFontInfo(L))}_updateContents(b){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(b),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const b=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:L,lineHeight:N}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${L}px`,this._hover.contentsDomNode.style.lineHeight=`${N}px`,this._hover.contentsDomNode.style.maxHeight=`${b}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(b,L,N){this._startShowingAt(new l.HoverRangeAnchor(0,b),L,N)}_startShowingAt(b,L,N){if(!(this._lastAnchor&&this._lastAnchor.equals(b))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!b.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const D=this._messages.filter(I=>I.isValidForHoverAnchor(b));if(D.length===0)this.hide();else{if(D.length===this._messages.length)return;this._renderMessages(b,D)}}this._lastAnchor=b,this._computer.setAnchor(b),this._shouldFocus=N,this._hoverOperation.start(L)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(b){this._colorPicker=b}onContentsChanged(){this._hover.onContentsChanged()}_withResult(b,L){this._messages=b,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):L&&this.hide()}_renderMessages(b,L){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let N=1073741824,D=L[0].range,I=null,T=document.createDocumentFragment();const A=new k.DisposableStore,R=new Map;for(const P of L)N=Math.min(N,P.range.startColumn),D=y.Range.plusRange(D,P.range),P.forceShowAtRange&&(I=P.range),R.has(P.owner)||R.set(P.owner,[]),R.get(P.owner).push(P);const O=A.add(new m(this._keybindingService));for(const[P,F]of R)A.add(P.renderHoverParts(F,T,O));O.hasContent&&T.appendChild(O.hoverElement),this._renderDisposable=A,T.hasChildNodes()&&(I?this._showAt(I.getStartPosition(),I,this._shouldFocus):this._showAt(new M.Position(b.range.startLineNumber,N),D,this._shouldFocus),this._updateContents(T)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,D?[{range:D,options:Nt._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};g.ID="editor.contrib.modesContentHoverWidget",g._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),g=Me([pe(2,d.IInstantiationService),pe(3,t.IKeybindingService)],g),e.ModesContentHoverWidget=g,i.registerThemingParticipant((f,b)=>{const L=f.getColor(s.textLinkForeground);L&&b.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${L}; }`)})}),define(Q[280],J([0,1,498,40,2,14,3,25,58,695,574,59,22,11,275,16,9]),function($,e,S,k,M,y,w,p,v,i,_,s,a,u,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class oi{constructor(h,m,C,g,f){this._editor=h,this._instantiationService=m,this._openerService=C,this._modeService=g,this._toUnhook=new M.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(b=>{b.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=p.EditorContextKeys.hoverVisible.bindTo(f)}static get(h){return h.getContribution(oi.ID)}_hookEvents(){const h=()=>this._hideWidgets(),m=this._editor.getOption(50);this._isHoverEnabled=m.enabled,this._isHoverSticky=m.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(C=>this._onEditorMouseDown(C))),this._toUnhook.add(this._editor.onMouseUp(C=>this._onEditorMouseUp(C))),this._toUnhook.add(this._editor.onMouseMove(C=>this._onEditorMouseMove(C))),this._toUnhook.add(this._editor.onKeyDown(C=>this._onKeyDown(C))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(C=>this._onEditorMouseMove(C))),this._toUnhook.add(this._editor.onKeyDown(C=>this._onKeyDown(C)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(C=>this._onEditorScrollChanged(C)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,m;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(m=this._glyphWidget)===null||m===void 0||m.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const m=h.target.type;if(m===9&&h.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}m===12&&h.target.detail===_.ModesGlyphHoverWidget.ID||(m!==12&&h.target.detail!==_.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var m,C,g,f,b;let L=h.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&L===9&&h.target.detail===i.ModesContentHoverWidget.ID||this._isHoverSticky&&!((C=(m=h.event.browserEvent.view)===null||m===void 0?void 0:m.getSelection())===null||C===void 0?void 0:C.isCollapsed)||!this._isHoverSticky&&L===9&&h.target.detail===i.ModesContentHoverWidget.ID&&((g=this._contentWidget)===null||g===void 0?void 0:g.isColorPickerVisible())||this._isHoverSticky&&L===12&&h.target.detail===_.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(h)){(f=this._glyphWidget)===null||f===void 0||f.hide();return}if(L===2&&h.target.position){(b=this._contentWidget)===null||b===void 0||b.hide(),this._glyphWidget||(this._glyphWidget=new _.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,m,C;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(m=this._glyphWidget)===null||m===void 0||m.hide(),(C=this._contentWidget)===null||C===void 0||C.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(i.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,m,C){this._getOrCreateContentWidget().startShowingAtRange(h,m,C)}dispose(){var h,m;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(m=this._contentWidget)===null||m===void 0||m.dispose()}};n.ID="editor.contrib.hover",n=Me([pe(1,r.IInstantiationService),pe(2,s.IOpenerService),pe(3,v.IModeService),pe(4,d.IContextKeyService)],n),e.ModesHoverController=n;class o extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:S.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|39),weight:100}})}run(h,m){if(!m.hasModel())return;let C=n.get(m);if(!C)return;const g=m.getPosition(),f=new w.Range(g.lineNumber,g.column,g.lineNumber,g.column),b=m.getOption(2)===2;C.showContentHover(f,1,b)}}class t extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:S.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,m){let C=n.get(m);if(!C)return;const g=m.getPosition();if(!g)return;const f=new w.Range(g.lineNumber,g.column,g.lineNumber,g.column);c.GotoDefinitionAtPositionEditorContribution.get(m).startFindDefinitionFromCursor(g).then(()=>{C.showContentHover(f,1,!0)})}}y.registerEditorContribution(n.ID,n),y.registerEditorAction(o),y.registerEditorAction(t),u.registerThemingParticipant((l,h)=>{const m=l.getColor(a.editorHoverHighlight);m&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${m}; }`);const C=l.getColor(a.editorHoverBackground);C&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${C}; }`);const g=l.getColor(a.editorHoverBorder);g&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${g}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${g.transparent(.5)}; }`));const f=l.getColor(a.textLinkForeground);f&&h.addRule(`.monaco-editor .monaco-hover a { color: ${f}; }`);const b=l.getColor(a.editorHoverForeground);b&&h.addRule(`.monaco-editor .monaco-hover { color: ${b}; }`);const L=l.getColor(a.editorHoverStatusBarBackground);L&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${L}; }`);const N=l.getColor(a.textCodeBlockBackground);N&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${N}; }`)})}),define(Q[696],J([0,1,2,14,280,3,262]),function($,e,S,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class w extends S.Disposable{constructor(v){super();this._editor=v,this._register(v.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(v){var i;if(v.target.type!==6||![...((i=v.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(u=>u.startsWith("ced-colorBox"))||!v.target.range)return;const a=this._editor.getContribution(M.ModesHoverController.ID);if(!a.isColorPickerVisible()){const u=new y.Range(v.target.range.startLineNumber,v.target.range.startColumn+1,v.target.range.endLineNumber,v.target.range.endColumn+1);a.showContentHover(u,0,!1)}}}e.ColorContribution=w,w.ID="editor.contrib.colorContribution",k.registerEditorContribution(w.ID,w)}),define(Q[697],J([0,1,144,145,269,216,624,625,626,627,628,649,631,696,632,633,634,635,270,673,636,637,559,279,274,275,271,280,643,644,642,645,646,647,675,677,650,651,194,278,652,267,653,683,654,268,655,64,127]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var pt=this&&this.__createBinding||(Object.create?function($,e,S,k){k===void 0&&(k=S),Object.defineProperty($,k,{enumerable:!0,get:function(){return e[S]}})}:function($,e,S,k){k===void 0&&(k=S),$[k]=e[S]}),Ct=this&&this.__exportStar||function($,e){for(var S in $)S!=="default"&&!Object.prototype.hasOwnProperty.call(e,S)&&pt(e,$,S)};define(Q[700],J([0,1,689,697,656,657,658,587,660,661,659,684,662]),function($,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(S,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.5.0(3fb5fa051e0afd1fbc215d047bb5d9995d25b947)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.3.2"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.5.0(aedb82f709242126ef24e80077cbc047d70a9da5)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.5.1(c306027c98c84a05885427d9fc8bbc5fd7c21747)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.5.1(e2a78745d6f2a829650ca4b0ecbdecb771fd3129)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco}));var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerHTMLLanguageService=t.razorDefaults=t.razorLanguageService=t.handlebarDefaults=t.handlebarLanguageService=t.htmlDefaults=t.htmlLanguageService=void 0;var r=function(){function e(e,t,r){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function o(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",u="handlebars",l="razor";function s(t,i,u){var l=this;void 0===i&&(i=a),void 0===u&&(u=o(t));var s,c=new r(t,i,u),g=n.languages.onLanguage(t,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){e(["./htmlMode"],t,n)}))];case 1:return s=t.sent().setupMode(c),[2]}}))}))}));return{defaults:c,dispose:function(){g.dispose(),null==s||s.dispose(),s=void 0}}}t.htmlLanguageService=s(i,a,o(i)),t.htmlDefaults=t.htmlLanguageService.defaults,t.handlebarLanguageService=s(u,a,o(u)),t.handlebarDefaults=t.handlebarLanguageService.defaults,t.razorLanguageService=s(l,a,o(l)),t.razorDefaults=t.razorLanguageService.defaults,n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults,htmlLanguageService:t.htmlLanguageService,handlebarLanguageService:t.handlebarLanguageService,razorLanguageService:t.razorLanguageService,registerHTMLLanguageService:s},t.registerHTMLLanguageService=s}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.5.0(19ce286ce42684fd0d08b19a2b8f36a7cfd830dd)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},r={},s=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return r[i]||(r[i]=new e(i)),r[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return s.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var r=s.getOrCreate(i);t.languages.setMonarchTokensProvider(i,r.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){r.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/bicep/bicep.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return new Promise((function(i,t){e(["./bicep"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/elixir/elixir.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return new Promise((function(i,t){e(["./elixir"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/liquid/liquid.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return new Promise((function(i,t){e(["./liquid"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./bicep/bicep.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./elixir/elixir.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./liquid/liquid.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map