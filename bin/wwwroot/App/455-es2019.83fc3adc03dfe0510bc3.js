(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[455],{76897:function(t,e,n){"use strict";n.d(e,{XU:function(){return o},cc:function(){return i},e5:function(){return l}});const o=400,i=3,l=5e3},46326:function(t,e,n){"use strict";n.d(e,{V:function(){return i}});var o=n(37716);let i=(()=>{class t{getItem(t){return localStorage.getItem(t)}setItem(t,e){localStorage.setItem(t,e)}removeItem(t){localStorage.removeItem(t)}clear(){localStorage.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},47010:function(t,e,n){"use strict";n.d(e,{D:function(){return m}});var o=n(37716),i=n(79765),l=n(3679),s=n(54395),r=n(87519),a=n(46782),c=n(76897),d=n(14625),p=n(38583);function u(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"nb-list-item"),o["\u0275\u0275elementStart"](1,"nb-checkbox",7),o["\u0275\u0275listener"]("checkedChange",function(e){return o["\u0275\u0275restoreView"](t).$implicit.checked=e})("checkedChange",function(e){const n=o["\u0275\u0275restoreView"](t).$implicit;return o["\u0275\u0275nextContext"]().toggle(n,e)}),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("checked",t.checked),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",t.label," ")}}let m=(()=>{class t{constructor(){this.destroyed$=new i.xQ,this.filtersCache=[],this.filtersChanges=new o.EventEmitter,this.areAllChecked=!1,this.isIntermediateState=!1,this.searchQueryControl=new l.NI(""),this.internalFilters=[],this.trackByItemIndex=(t,e)=>`${e.label}-${t}`,this.searchInFiltersCallback=t=>{const e=t.toLowerCase().trim();this.internalFilters=e?this.filtersCache.filter(t=>t.label.toLowerCase().includes(e)):[...this.filtersCache]}}set filters(t){if(!t)throw new Error("Filters are required");this.internalFilters=t,this.filtersCache=[...t],this.initSearch(),this.updateCheckStates()}selectAll(t){this.internalFilters.forEach(e=>this.toggle(e,t)),this.updateCheckStates()}toggle(t,e){t.checked=e,this.updateCheckStates()}applyFilters(){this.filtersChanges.emit([this.internalFilters,this.filterName])}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}initSearch(){this.searchQueryControl.valueChanges.pipe((0,s.b)(c.XU),(0,r.x)(),(0,a.R)(this.destroyed$)).subscribe(this.searchInFiltersCallback)}updateCheckStates(){const t=this.filtersCache.length,e=this.filtersCache.filter(t=>t.checked).length;this.areAllChecked=e===t,this.isIntermediateState=e>0&&e<t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-table-filter-popover"]],inputs:{filters:"filters",filterName:"filterName"},outputs:{filtersChanges:"filtersChanges"},decls:12,vars:6,consts:[[1,"content-layout"],["for","filters_search",1,"w-100"],["id","filters_search","type","text","placeholder","Search","nbInput","","fullWidth","","fieldSize","small",3,"formControl"],[3,"checked","indeterminate","checkedChange"],[1,"scrollable-container"],[4,"ngFor","ngForOf","ngForTrackBy"],["nbButton","","size","small","fullWidth","",3,"click"],[3,"checked","checkedChange"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-list",0),o["\u0275\u0275elementStart"](2,"nb-list-item"),o["\u0275\u0275elementStart"](3,"label",1),o["\u0275\u0275element"](4,"input",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"nb-checkbox",3),o["\u0275\u0275listener"]("checkedChange",function(t){return e.selectAll(t)}),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"nb-list",4),o["\u0275\u0275template"](8,u,3,2,"nb-list-item",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"nb-card-footer"),o["\u0275\u0275elementStart"](10,"button",6),o["\u0275\u0275listener"]("click",function(){return e.applyFilters()}),o["\u0275\u0275text"](11," Apply "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("formControl",e.searchQueryControl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("checked",e.areAllChecked)("indeterminate",e.isIntermediateState),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.areAllChecked?"Deselect":"Select"," all "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",e.internalFilters)("ngForTrackBy",e.trackByItemIndex))},directives:[d.Asz,d.zP_,d.qBV,d.h8i,l.Fj,l.JJ,l.oH,d.NTf,p.sg,d.XWE,d.DPz],styles:["[_nghost-%COMP%]{display:block;width:18.75em;height:27em;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0;height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]{height:100%;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{height:100%;align-items:start;flex-direction:column}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-list.scrollable-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-list.scrollable-container[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{height:auto;padding:.5em 0}[_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{padding:0 .5em}"]}),t})()},57455:function(t,e,n){"use strict";n.r(e),n.d(e,{DashboardModule:function(){return He}});var o=n(38583),i=n(10264),l=n(37716);let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-dashboard"]],decls:1,vars:0,template:function(t,e){1&t&&l["\u0275\u0275element"](0,"router-outlet")},directives:[i.lC],styles:[""]}),t})();var r=n(79765),a=n(46797),c=n(40205),d=n(25917),p=n(33866),u=n(34681),m=n(68307),h=n(11627),f=n(39761),g=n(43190),y=n(67666),S=n(5304),b=n(46782),v=n(87519),P=n(11173),C=n(14625),H=n(76897),x=n(3679);function T(t,e){return e.map(e=>{var n;const o=t.find(t=>t.label===e);return{label:e,checked:null!==(n=null==o?void 0:o.checked)&&void 0!==n&&n}})}var I=n(46326),A=n(47010);const w=["popoverRef"];function E(t,e){1&t&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275text"](1,"+"),l["\u0275\u0275elementContainerEnd"]())}function D(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",9)}function F(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",10)}function k(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ngx-table-filter-popover",11),l["\u0275\u0275listener"]("filtersChanges",function(e){return l["\u0275\u0275restoreView"](t),l["\u0275\u0275nextContext"]().filtersChanges(e)}),l["\u0275\u0275elementEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("filters",t.filtersList)}}let O=(()=>{class t{constructor(){this.MAX_SELECTED_FILTERS_BADGE_AMOUNT=9,this.filtersChanged=new l.EventEmitter,this.filtersList=[],this.selectedFiltersAmount=0,this.label=""}set filters(t){this.filtersList=t,this.selectedFiltersAmount=t.filter(t=>t.checked).length,this.buildInputValue([t])}filtersChanges([t]){var e;this.buildInputValue([t]),this.selectedFiltersAmount=t.filter(t=>t.checked).length,this.filtersChanged.emit([t]),null===(e=this.popoverRef)||void 0===e||e.hide()}buildInputValue([t]){this.label=t.filter(t=>t.checked).map(t=>t.label).join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-overview-popover-filter-trigger"]],viewQuery:function(t,e){if(1&t&&l["\u0275\u0275viewQuery"](w,7),2&t){let t;l["\u0275\u0275queryRefresh"](t=l["\u0275\u0275loadQuery"]())&&(e.popoverRef=t.first)}},inputs:{filters:"filters"},outputs:{filtersChanged:"filtersChanged"},decls:11,vars:6,consts:[["nbPopoverTrigger","focus","nbPopoverPlacement","bottom",1,"c-pointer",3,"nbPopover"],["popoverRef","nbPopover"],["nbPrefix","","icon","funnel-outline"],["type","text","nbInput","","fullWidth","","readonly","","placeholder","Select tenant filter(s) to apply",1,"c-pointer",3,"value"],["nbSuffix","",1,"badge"],[4,"ngIf"],["nbSuffix","","icon","chevron-down-outline",4,"ngIf"],["nbSuffix","","icon","chevron-up-outline",4,"ngIf"],["hostPoolsFilterPopoverTpl",""],["nbSuffix","","icon","chevron-down-outline"],["nbSuffix","","icon","chevron-up-outline"],[3,"filters","filtersChanges"]],template:function(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-form-field",0,1),l["\u0275\u0275element"](2,"nb-icon",2),l["\u0275\u0275element"](3,"input",3),l["\u0275\u0275elementStart"](4,"div",4),l["\u0275\u0275text"](5),l["\u0275\u0275template"](6,E,2,0,"ng-container",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](7,D,1,0,"nb-icon",6),l["\u0275\u0275template"](8,F,1,0,"nb-icon",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](9,k,1,1,"ng-template",null,8,l["\u0275\u0275templateRefExtractor"])),2&t){const t=l["\u0275\u0275reference"](1),n=l["\u0275\u0275reference"](10);l["\u0275\u0275property"]("nbPopover",n),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",e.label),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.selectedFiltersAmount," "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.selectedFiltersAmount>e.MAX_SELECTED_FILTERS_BADGE_AMOUNT),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isShown),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isShown)}},directives:[C.jBG,C.ydg,C.fMN,C.t3q,C.h8i,C.yyc,o.O5,A.D],styles:["[_nghost-%COMP%]   input[nbInput][_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-right:3rem!important}[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]{border-radius:50%;color:var(--white);background-color:var(--primary);width:2em;height:2em;display:flex;align-items:center;justify-content:center}"]}),t})();var N=n(78352);function L(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card",10),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](' No results for "',t.searchFormControl.value,'".\n')}}const B=function(t){return{"filter-by":t}};function M(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card",16),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275element"](2,"nb-icon",17),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"nb-card-body"),l["\u0275\u0275elementStart"](5,"div",11),l["\u0275\u0275elementStart"](6,"div",18),l["\u0275\u0275element"](7,"ngx-tacho",19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",20),l["\u0275\u0275elementStart"](9,"div",21),l["\u0275\u0275element"](10,"div",4),l["\u0275\u0275elementStart"](11,"div",22),l["\u0275\u0275text"](12,"Active users:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",23),l["\u0275\u0275elementStart"](14,"font",24),l["\u0275\u0275elementStart"](15,"b"),l["\u0275\u0275text"](16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",25),l["\u0275\u0275element"](18,"div",4),l["\u0275\u0275elementStart"](19,"div",22),l["\u0275\u0275text"](20,"Inactive users:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"div",23),l["\u0275\u0275text"](22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"div",26),l["\u0275\u0275elementStart"](24,"div",12),l["\u0275\u0275elementStart"](25,"b"),l["\u0275\u0275text"](26),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"div",27),l["\u0275\u0275elementStart"](28,"div",28),l["\u0275\u0275elementStart"](29,"div"),l["\u0275\u0275element"](30,"nb-icon",29),l["\u0275\u0275text"](31),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](32,"div"),l["\u0275\u0275element"](33,"nb-icon",30),l["\u0275\u0275text"](34),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](35,"div"),l["\u0275\u0275element"](36,"nb-icon",31),l["\u0275\u0275text"](37),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](38,"nb-card-footer"),l["\u0275\u0275elementStart"](39,"div",32),l["\u0275\u0275elementStart"](40,"div",33),l["\u0275\u0275element"](41,"nb-action",34),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=l["\u0275\u0275nextContext"](2).$implicit;l["\u0275\u0275property"]("queryParams",l["\u0275\u0275pureFunction1"](10,B,n.scene+","+t.id)),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",t.name," "),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("chartValue",t.policyUsageRate),l["\u0275\u0275advance"](9),l["\u0275\u0275textInterpolate"](t.activeUsers),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](t.inactiveUsers),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate2"]("Cloud PCs (",t.runningCloudPcs," of ",t.cloudPCs.length,"):"),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate1"](" ",t.provisionedCloudPcs," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",t.provisioningCloudPcs," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",t.deprovisioningCloudPcs," ")}}function $(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"div",14),l["\u0275\u0275template"](1,M,42,12,"nb-card",15),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]().$implicit,e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.policies)("ngForTrackBy",e.trackByPolicyId)}}function V(t,e){if(1&t&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",11),l["\u0275\u0275elementStart"](2,"div",12),l["\u0275\u0275elementStart"](3,"h2"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](5,$,2,2,"div",13),l["\u0275\u0275elementContainerEnd"]()),2&t){const t=e.$implicit;l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](t.sceneName),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.policies.length)}}let _=(()=>{class t{constructor(t,e,n){this.wd365Service=t,this.toastrService=e,this.storageService=n,this.destroyed$=new r.xQ,this.cloudPcs$=new r.xQ,this.groupedCloudPCsCache=[],this.searchFormControl=new x.NI(""),this.groupedCloudPCs=[],this.filters=[],this.selectedFilters=[],this.trackByGroupSceneId=(t,e)=>e.scene,this.trackByPolicyId=(t,e)=>e.id,this.retryApiCallWithToastCallback=t=>t.pipe((0,m.b)(t=>this.showDangerToast("Failure accessing the API",`Cannot read data from API. The message is: ${t.message} with status ${t.statusText}`)),(0,h.j)(()=>(0,a.H)(H.e5))),this.handleApiErrorCallback=t=>(0,c._)(()=>(this.showDangerToast("Failure accessing the API",`Cannot read data from API. Reload this site to try it again. The message is: ${t.message} with status ${t.statusText}`),(0,d.of)([])))}ngOnInit(){localStorage.getItem("Hydra.CloudPCsPolicies.Filter")&&this.searchFormControl.setValue(localStorage.getItem("Hydra.CloudPCsPolicies.Filter")),this.initCloudPcs(),this.initTableSearch()}update(){this.cloudPcs$.next()}filtersChanges([t]){this.selectedFilters=t.filter(t=>t.checked).map(t=>t.label.toLowerCase()),this.updateFilteredCloudPcs()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}initCloudPcs(){this.cloudPcs$.pipe((0,f.O)(0),(0,g.w)(()=>(0,a.H)(0,P.tc.autoRefreshDefault)),(0,g.w)(()=>this.wd365Service.getAllCloudPCs()),(0,y.a)(this.retryApiCallWithToastCallback),(0,S.K)(this.handleApiErrorCallback),(0,b.R)(this.destroyed$)).subscribe(t=>{const e=localStorage.getItem("Hydra.CloudPCsPolicies.Filter"),n=function(t){const e=function(t){return t.reduce((t,e)=>{const n=e.Scene;return t[n]||(t[n]={sceneName:e.SceneName,items:[]}),t[n]={...t[n],items:[...t[n].items,e]},t},{})}(t);return Object.entries(e).map(([t,{sceneName:e,items:n}])=>({scene:t,sceneName:e,policies:K(n)}))}(t);this.groupedCloudPCsCache=n,this.groupedCloudPCs=e?U(n,e):n,this.filters=this.buildFilters(Array.from(new Set(this.groupedCloudPCs.flatMap(t=>t.sceneName)))),this.updateFilteredCloudPcs()})}initTableSearch(){this.searchFormControl.valueChanges.pipe((0,v.x)(),(0,b.R)(this.destroyed$)).subscribe(t=>{const e=t.trim().toLowerCase();localStorage.setItem("Hydra.CloudPCsPolicies.Filter",e),this.groupedCloudPCs=U(this.groupedCloudPCsCache,e),this.updateFilteredCloudPcs()})}buildFilters(t){return this.filters.length?T(this.filters,t):t.map(t=>({label:t,checked:this.selectedFilters.includes(t.toLowerCase())}))}updateFilteredCloudPcs(){var t;let e=this.groupedCloudPCsCache;(null===(t=this.selectedFilters)||void 0===t?void 0:t.length)&&(e=e.filter(t=>this.selectedFilters.includes(t.sceneName.toLowerCase())));const n=this.searchFormControl.value.trim().toLowerCase();n&&(e=U(e,n)),this.groupedCloudPCs=e}showDangerToast(t,e){this.toastrService.danger(e,t,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:C.fe3.TOP_RIGHT,preventDuplicates:!0})}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](u.G),l["\u0275\u0275directiveInject"](C.quB),l["\u0275\u0275directiveInject"](I.V))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-w365-overview"]],decls:13,vars:5,consts:[[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-3"],["type","text","nbInput","","fullWidth","","placeholder","Search for provisioning policy name",3,"formControl"],[1,"col-md-2"],[3,"filters","filtersChanged"],["class","no-results-card",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button","nbButton","","status","semi-round",3,"click"],["icon","refresh"],[1,"no-results-card"],[1,"row"],[1,"col-md-12"],["class","d-flex flex-wrap",4,"ngIf"],[1,"d-flex","flex-wrap"],["routerLink","/pages/wd365/all-cloud-pcs",3,"queryParams",4,"ngFor","ngForOf","ngForTrackBy"],["routerLink","/pages/wd365/all-cloud-pcs",3,"queryParams"],["icon","monitor","nbTooltip","Provisioning policy"],["nbTooltip","Percentage of provisioned Cloud PCs with an active user, as reported by the Hydra Agent","nbTooltipPlacement","left",1,"col-md-2"],[3,"chartValue"],[1,"col-md-10"],["nbTooltip","Cloud PCs with the Hydra Agent installed and currently importing activity","nbTooltipPlacement","right",1,"row"],[1,"col-md-5"],[1,"col-md-5","text-right"],["size","+2"],["nbTooltip","Cloud PCs with Hydra Agent installed, but currently there is no reported activity","nbTooltipPlacement","right",1,"row"],[1,"row","pt-3"],[1,"row","d-flex","mt-1"],[1,"col-md-12","d-flex","justify-content-between"],["icon","play-circle","nbTooltip","Provisioned Cloud PCs","nbTooltipPlacement","bottom"],["icon","navigation-2","nbTooltip","Cloud PCs being provisioned","nbTooltipPlacement","bottom"],["icon","trash-2","nbTooltip","Cloud PCs being deprovisioned","nbTooltipPlacement","bottom"],[1,"d-flex","justify-content-end"],[1,"col-sm-1"],["icon","activity","nbTooltipIcon","activity","nbTooltip","Show details","nbTooltipPlacement","bottom"]],template:function(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"h1"),l["\u0275\u0275text"](3,"Windows 365"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",2),l["\u0275\u0275element"](5,"input",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"ngx-overview-popover-filter-trigger",5),l["\u0275\u0275listener"]("filtersChanged",function(t){return e.filtersChanges(t)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](8,L,2,1,"nb-card",6),l["\u0275\u0275template"](9,V,6,2,"ng-container",7),l["\u0275\u0275elementStart"](10,"button",8),l["\u0275\u0275listener"]("click",function(){return e.update()}),l["\u0275\u0275element"](11,"nb-icon",9),l["\u0275\u0275text"](12," Update\n"),l["\u0275\u0275elementEnd"]()),2&t&&(l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("formControl",e.searchFormControl),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("filters",e.filters),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!e.groupedCloudPCs.length&&e.searchFormControl.value),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",e.groupedCloudPCs)("ngForTrackBy",e.trackByGroupSceneId))},directives:[C.h8i,x.Fj,x.JJ,x.oH,O,o.O5,o.sg,C.DPz,C.fMN,C.Asz,i.rH,C.ndF,C.jNv,C.yKW,N.K,C.XWE,C.Bk3],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]:not(.no-results-card){width:26rem;height:17rem;margin-right:1rem}[_nghost-%COMP%]   nb-card.no-results-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem}"]}),t})();function U(t,e){if(!e)return t;const n=t.find(t=>t.sceneName.toLowerCase().includes(e));return n?[{...n,policies:[...n.policies]}]:t.map(t=>{const n=t.sceneName.toLowerCase().includes(e),o=t.policies.filter(t=>{var o;return n||(null===(o=t.name)||void 0===o?void 0:o.toLowerCase().includes(e))});return o.length>0?{...t,policies:o}:null}).filter(t=>null!==t)}function K(t){const e={};t.forEach(t=>{var n,o;const i=null===(n=t.Resource)||void 0===n?void 0:n.ProvisioningPolicyId,l=null===(o=t.Resource)||void 0===o?void 0:o.ProvisioningPolicyName,s=`${i}|${l}`;e[s]||(e[s]={id:i,name:l,policyUsageRate:0,activeUsers:0,inactiveUsers:0,unknownUsers:0,runningCloudPcs:0,cloudPCs:[],provisionedCloudPcs:0,provisioningCloudPcs:0,deprovisioningCloudPcs:0}),e[s]={...e[s],cloudPCs:[...e[s].cloudPCs,t.Resource]}});const n=function(t,e){return e.map(e=>{const n=t.filter(t=>{var n,o;return(null===(n=t.Resource)||void 0===n?void 0:n.ProvisioningPolicyId)===e.id&&(null===(o=t.Resource)||void 0===o?void 0:o.ProvisioningPolicyName)===e.name});return e={...e,activeUsers:n.filter(t=>!0===t.Advanced.SessionActive).length,inactiveUsers:n.filter(t=>!1===t.Advanced.SessionActive).length,runningCloudPcs:e.cloudPCs.filter(t=>t.Status===p.vs.Provisioned).length,provisionedCloudPcs:e.cloudPCs.filter(t=>t.Status===p.vs.Provisioned).length,provisioningCloudPcs:e.cloudPCs.filter(t=>t.Status===p.vs.Provisioning).length,deprovisioningCloudPcs:e.cloudPCs.filter(t=>t.Status===p.vs.Deprovisioning).length},e={...e,policyUsageRate:e.runningCloudPcs>0?e.activeUsers/e.runningCloudPcs*100:0}})}(t,Object.values(e));return Object.values(n).sort((t,e)=>{var n,o;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase()).localeCompare(null===(o=e.name)||void 0===o?void 0:o.toLowerCase())})}var R=n(86115),j=n(34794);function z(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card",2),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](' No results for "',t.searchQueryValue,'".\n')}}function G(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",20)}function Q(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card-header",17),l["\u0275\u0275elementStart"](1,"div"),l["\u0275\u0275element"](2,"nb-icon",18),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](4,G,1,0,"nb-icon",19),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]().$implicit,e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",t.V2HostPool.Name," "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.V2HostPool.Properties.ManagementType==e.ManagementTypeClass.Automated)}}function W(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",24)}function J(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",25)}function q(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",20)}function X(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card-header",17),l["\u0275\u0275elementStart"](1,"div"),l["\u0275\u0275element"](2,"nb-icon",21),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div"),l["\u0275\u0275template"](5,W,1,0,"nb-icon",22),l["\u0275\u0275template"](6,J,1,0,"ng-template",null,23,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](8,q,1,0,"nb-icon",19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275reference"](7),e=l["\u0275\u0275nextContext"]().$implicit,n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",e.V2HostPool.Name," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.V2HostPool.Properties.LoadBalancerType==n.LoadBalancerTypeClass.BreadthFirst)("ngIfElse",t),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",e.V2HostPool.Properties.ManagementType==n.ManagementTypeClass.Automated)}}function Y(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card-body"),l["\u0275\u0275elementStart"](1,"div",3),l["\u0275\u0275elementStart"](2,"div",26),l["\u0275\u0275element"](3,"ngx-tacho",27),l["\u0275\u0275pipe"](4,"number"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",28),l["\u0275\u0275elementStart"](6,"div",29),l["\u0275\u0275element"](7,"div",30),l["\u0275\u0275elementStart"](8,"div",31),l["\u0275\u0275text"](9,"Sessions:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",32),l["\u0275\u0275elementStart"](11,"font",33),l["\u0275\u0275elementStart"](12,"b"),l["\u0275\u0275text"](13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",34),l["\u0275\u0275element"](15,"div",30),l["\u0275\u0275elementStart"](16,"div",31),l["\u0275\u0275text"](17,"Capacity now:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"div",32),l["\u0275\u0275text"](19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",35),l["\u0275\u0275element"](21,"div",30),l["\u0275\u0275elementStart"](22,"div",31),l["\u0275\u0275text"](23,"Capacity soon:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"div",32),l["\u0275\u0275text"](25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"div",36),l["\u0275\u0275elementStart"](27,"div",37),l["\u0275\u0275text"](28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div",38),l["\u0275\u0275elementStart"](30,"div",39),l["\u0275\u0275elementStart"](31,"div"),l["\u0275\u0275element"](32,"nb-icon",40),l["\u0275\u0275text"](33),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](34,"div"),l["\u0275\u0275element"](35,"nb-icon",41),l["\u0275\u0275text"](36),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](37,"div"),l["\u0275\u0275element"](38,"nb-icon",42),l["\u0275\u0275text"](39),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](40,"div"),l["\u0275\u0275element"](41,"nb-icon",43),l["\u0275\u0275text"](42),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](43,"div"),l["\u0275\u0275element"](44,"nb-icon",44),l["\u0275\u0275text"](45),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](46,"div"),l["\u0275\u0275element"](47,"nb-icon",45),l["\u0275\u0275text"](48),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("chartValue",l["\u0275\u0275pipeBind2"](4,12,t.HostPoolHistoryAndStatistic.StatisticDetail.Utilization,"1.1-1")),l["\u0275\u0275advance"](10),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.UserSessions),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.UserCapacityNow," "),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.UserSessionsCapacitySoon," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate2"](" Session hosts (",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsNotOff," of ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHosts,"): "),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsAvailable," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsStarting," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsStopping," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsInCreation," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsInDeletion," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsTemporarilyScaledAndAvailable," ")}}function Z(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"div",46),l["\u0275\u0275element"](1,"nb-icon",47),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"number"),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](3,1,null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute,"1.1-1")," s/min ")}}function tt(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"div",46),l["\u0275\u0275element"](1,"nb-icon",48),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"number"),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](3,1,null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute,"1.1-1")," s/min ")}}function et(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"div",46),l["\u0275\u0275element"](1,"nb-icon",49),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"number"),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](3,1,null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute,"1.1-1")," s/min ")}}function nt(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"nb-action",50),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](t);const e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"](2).navigateTo("/pages/hostpools/"+e.Id+"/statistic","!failed")}),l["\u0275\u0275elementEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275propertyInterpolate1"]("nbTooltip","Some session hosts are in an error state (",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsFailed,")")}}function ot(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"nb-card",7),l["\u0275\u0275listener"]("click",function(){const e=l["\u0275\u0275restoreView"](t).$implicit;return l["\u0275\u0275nextContext"](2).navigateTo("/pages/hostpools/"+e.Id+"/statistic")}),l["\u0275\u0275template"](1,Q,5,2,"nb-card-header",8),l["\u0275\u0275template"](2,X,9,4,"ng-template",null,9,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](4,Y,49,15,"nb-card-body",10),l["\u0275\u0275elementStart"](5,"nb-card-footer"),l["\u0275\u0275elementStart"](6,"div",3),l["\u0275\u0275template"](7,Z,4,4,"div",11),l["\u0275\u0275template"](8,tt,4,4,"div",11),l["\u0275\u0275template"](9,et,4,4,"div",11),l["\u0275\u0275element"](10,"div",12),l["\u0275\u0275elementStart"](11,"div",13),l["\u0275\u0275template"](12,nt,1,1,"nb-action",14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",13),l["\u0275\u0275elementStart"](14,"nb-action",15),l["\u0275\u0275listener"]("click",function(){const e=l["\u0275\u0275restoreView"](t).$implicit;return l["\u0275\u0275nextContext"](2).navigateTo("/pages/hostpools/"+e.Id+"/statistic")}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",13),l["\u0275\u0275elementStart"](16,"nb-action",16),l["\u0275\u0275listener"]("click",function(){const e=l["\u0275\u0275restoreView"](t).$implicit;return l["\u0275\u0275nextContext"](2).navigateTo("/pages/hostpools/"+e.Id+"/configuration")}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=l["\u0275\u0275reference"](3),o=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.V2HostPool.Properties.LoadBalancerType===o.LoadBalancerTypeClass.Persistent||t.V2HostPool.Properties.LoadBalancerType===o.LoadBalancerTypeClass.MultiplePersistent)("ngIfElse",n),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",null!=(null==t?null:t.HostPoolHistoryAndStatistic)&&null!=(null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.StatisticDetail)),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",(null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute)>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",(null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute)<0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",0==(null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute)),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",((null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsFailed)||0)>0)}}function it(t,e){if(1&t&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",3),l["\u0275\u0275elementStart"](2,"div",4),l["\u0275\u0275elementStart"](3,"h2"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",5),l["\u0275\u0275template"](6,ot,17,7,"nb-card",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&t){const t=e.$implicit,n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](t.sceneDisplayName),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.hostPools)("ngForTrackBy",n.trackByHostPoolId)}}let lt=(()=>{class t{constructor(t){this.router=t,this.destroyed$=new r.xQ,this.hostPoolsGroupsCache=[],this.currentFilters=[],this.LoadBalancerTypeClass=j.rQ,this.ManagementTypeClass=j.a2,this.searchQueryValue="",this.hostPoolsGroups=[],this.trackBySceneId=(t,e)=>e.sceneDisplayName,this.trackByHostPoolId=(t,e)=>e.Id}set hostPools(t){t&&(this.hostPoolsGroupsCache=this.groupHostPools(t),this.updateHostPoolsGroups())}set searchQuery(t){const e=t.trim().toLowerCase();localStorage.setItem("Hydra.HostPools.Filter",e),this.currentSearchQuery=e,this.updateHostPoolsGroups()}set appliedFilters(t){this.currentFilters=t,this.updateHostPoolsGroups()}navigateTo(t,e=null){this.router.navigate([t],{queryParams:{search:e}})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}updateHostPoolsGroups(){var t;let e=this.hostPoolsGroupsCache;(null===(t=this.currentFilters)||void 0===t?void 0:t.length)&&(e=e.filter(t=>this.currentFilters.includes(t.sceneDisplayName.toLowerCase()))),this.currentSearchQuery&&(e=this.filterHostPoolsGroups(e,this.currentSearchQuery)),this.hostPoolsGroups=e}groupHostPools(t){return Array.from(new Set(t.map(t=>t.SceneDisplayName))).map(e=>({sceneDisplayName:e,hostPools:t.filter(t=>t.SceneDisplayName===e)}))}filterHostPoolsGroups(t,e){if(!e)return t;const n=e.substring(1);return e.startsWith("!")?"failed"===n?this.filterGroupsByFailed(t):this.filterGroupsByLocation(t,n):this.filterGroupsByTenantOrName(t,e)}filterGroupsByFailed(t){return t.map(t=>({...t,hostPools:t.hostPools.filter(this.isFailedHostPool)})).filter(t=>t.hostPools.length>0)}isFailedHostPool(t){var e,n,o;return(null!==(o=null===(n=null===(e=t.HostPoolHistoryAndStatistic)||void 0===e?void 0:e.StatisticDetail)||void 0===n?void 0:n.SessionHostsFailed)&&void 0!==o?o:0)>0}filterGroupsByLocation(t,e){return t.map(t=>({...t,hostPools:t.hostPools.filter(t=>t.V2HostPool.Location.toLowerCase().includes(e))})).filter(t=>t.hostPools.length>0)}filterGroupsByTenantOrName(t,e){const n=this.getMatchedTenants(t,e);return t.map(t=>({...t,hostPools:t.hostPools.filter(t=>n.has(t.Scene)||t.V2HostPool.Name.toLowerCase().includes(e))})).filter(t=>t.hostPools.length>0)}getMatchedTenants(t,e){return new Set(t.flatMap(t=>t.hostPools).filter(t=>{var n;return null===(n=t.SceneDisplayName)||void 0===n?void 0:n.toLowerCase().includes(e)}).map(t=>t.Scene))}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](i.F0))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-host-pools-tiles-view"]],inputs:{hostPools:"hostPools",searchQuery:"searchQuery",appliedFilters:"appliedFilters"},decls:2,vars:3,consts:[["class","no-results-card",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-results-card"],[1,"row"],[1,"col-md-12"],[1,"d-flex","flex-wrap"],["class","tiles-view-card","size","tiny",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["size","tiny",1,"tiles-view-card",3,"click"],["class","d-flex justify-content-between",4,"ngIf","ngIfElse"],["elseBlockHostPoolType",""],[4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-5"],[1,"col-md-1"],["class","floated","icon","alert-triangle","nbTooltipIcon","alert-triangle","nbTooltipPlacement","bottom",3,"nbTooltip","click",4,"ngIf"],["icon","activity","nbTooltipIcon","activity","nbTooltip","Details","nbTooltipPlacement","bottom",1,"floated",3,"click"],["icon","menu","nbTooltipIcon","menu","nbTooltip","Configuration","nbTooltipPlacement","right",1,"floated",3,"click"],[1,"d-flex","justify-content-between"],["icon","person","nbTooltipIcon","person","nbTooltip","VDI host pool","nbTooltipPlacement","top"],["icon","lock-outline","nbTooltipIcon","lock-outline","nbTooltip","The session hosts deployments of this pool are auto-managed from the Azure Portal. You can still manage the pool but not create new hosts.","nbTooltipPlacement","top",4,"ngIf"],["icon","lock-outline","nbTooltipIcon","lock-outline","nbTooltip","The session hosts deployments of this pool are auto-managed from the Azure Portal. You can still manage the pool but not create new hosts.","nbTooltipPlacement","top"],["icon","people","nbTooltipIcon","people","nbTooltip","Multi-session host pool","nbTooltipPlacement","top"],["icon","repeat","nbTooltipIcon","repeat","nbTooltip","Load-balancer mode: Breadth first","nbTooltipPlacement","top",4,"ngIf","ngIfElse"],["elseBlockLbType",""],["icon","repeat","nbTooltipIcon","repeat","nbTooltip","Load-balancer mode: Breadth first","nbTooltipPlacement","top"],["icon","flip","nbTooltipIcon","flip","nbTooltip","Load-balancer mode: Depth first","nbTooltipPlacement","top"],["nbTooltip","% Load of the session host based on the number of sessions and the session capacity","nbTooltipPlacement","left",1,"col-md-2"],[3,"chartValue"],[1,"col-md-10"],["nbTooltip","Number of the connected and disconnected sessions","nbTooltipPlacement","right",1,"row"],[1,"col-sm-2"],[1,"col-sm-5"],[1,"col-sm-5","text-right"],["size","+2"],["nbTooltip","The current session capacity of the host pool","nbTooltipPlacement","right",1,"row"],["nbTooltip","The upcoming session capacity of the host pool, including free session capacity coming from the hosts currently starting or in the roll-out phase","nbTooltipPlacement","right",1,"row"],[1,"row","pt-3"],["nbTooltip","Number of host are running from the total number of hosts (running: all hosts, including hosts in drain-mode)",1,"col-md-12"],[1,"row","d-flex","mt-1"],[1,"col-md-12","d-flex","justify-content-between"],["icon","play-circle","nbTooltipIcon","play-circle","nbTooltip","Number of available session hosts, including temporary host created during the scale-out","nbTooltipPlacement","bottom"],["icon","rewind-right","nbTooltipIcon","rewind-right","nbTooltip","Number starting session hosts","nbTooltipPlacement","bottom"],["icon","stop-circle","nbTooltipIcon","stop-circle","nbTooltip","Number of deallocating session hosts","nbTooltipPlacement","bottom"],["icon","navigation-2","nbTooltipIcon","navigation-2","nbTooltip","Number of session hosts currently in the roll-out phase","nbTooltipPlacement","bottom"],["icon","trash-2","nbTooltipIcon","trash-2","nbTooltip","Number of session hosts deleting","nbTooltipPlacement","bottom"],["icon","swap-outline","nbTooltipIcon","repeat-outline","nbTooltip","Number of session host temporarly scaled-out (the number is included in the 'available session hosts' number)","nbTooltipPlacement","bottom"],[1,"col-md-4"],["icon","arrow-up","status","success","nbTooltip","Login rate in new sessions per minute","nbTooltipPlacement","bottom"],["icon","arrow-down","status","success","nbTooltip","Login rate in new sessions per minute","nbTooltipPlacement","bottom"],["icon","arrow-right","status","success","nbTooltip","Login rate in new sessions per minute","nbTooltipPlacement","bottom"],["icon","alert-triangle","nbTooltipIcon","alert-triangle","nbTooltipPlacement","bottom",1,"floated",3,"nbTooltip","click"]],template:function(t,e){1&t&&(l["\u0275\u0275template"](0,z,2,1,"nb-card",0),l["\u0275\u0275template"](1,it,7,3,"ng-container",1)),2&t&&(l["\u0275\u0275property"]("ngIf",!e.hostPoolsGroups.length&&e.searchQueryValue),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",e.hostPoolsGroups)("ngForTrackBy",e.trackBySceneId))},directives:[o.O5,o.sg,C.Asz,C.XWE,C.Bk3,C.jNv,C.ndF,C.fMN,C.yKW,N.K],pipes:[o.JJ],styles:["[_nghost-%COMP%]   nb-card.tiles-view-card[_ngcontent-%COMP%]{width:26rem;height:17rem;margin-right:1rem}[_nghost-%COMP%]   nb-action.floated[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .no-results-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem}"]}),t})();function st(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function rt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function at(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function ct(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function dt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function pt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function ut(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function mt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function ht(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function ft(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function gt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function yt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function St(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function bt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function vt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function Pt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function Ct(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function Ht(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"nb-action",15),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](t);const e=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().navigateTo("/pages/hostpools/"+e.Id+"/statistic","!failed")}),l["\u0275\u0275elementEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275propertyInterpolate1"]("nbTooltip","Some session hosts are in an error state (",null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsFailed,")")}}function xt(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",16)}function Tt(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",17)}function It(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",18)}function At(t,e){1&t&&l["\u0275\u0275element"](0,"nb-icon",19)}function wt(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275template"](6,Ht,1,1,"nb-action",7),l["\u0275\u0275element"](7,"nb-action",8),l["\u0275\u0275element"](8,"nb-action",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"td"),l["\u0275\u0275template"](10,xt,1,0,"nb-icon",10),l["\u0275\u0275template"](11,Tt,1,0,"nb-icon",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"td"),l["\u0275\u0275template"](13,It,1,0,"nb-icon",12),l["\u0275\u0275template"](14,At,1,0,"nb-icon",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"td"),l["\u0275\u0275text"](16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"td"),l["\u0275\u0275text"](18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"td"),l["\u0275\u0275text"](20),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"td"),l["\u0275\u0275text"](22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"td"),l["\u0275\u0275text"](24),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"td"),l["\u0275\u0275text"](26),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"td"),l["\u0275\u0275text"](28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"td"),l["\u0275\u0275text"](30),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](31,"td"),l["\u0275\u0275text"](32),l["\u0275\u0275pipe"](33,"number"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](34,"td"),l["\u0275\u0275text"](35),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](36,"td"),l["\u0275\u0275text"](37),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](38,"td"),l["\u0275\u0275text"](39),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](40,"td"),l["\u0275\u0275element"](41,"ngx-tacho",14),l["\u0275\u0275pipe"](42,"number"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](t.SceneDisplayName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](t.V2HostPool.Name),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",((null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsFailed)||0)>0),l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate1"]("link","/pages/hostpools/",t.Id,"/statistic"),l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate1"]("link","/pages/hostpools/",t.Id,"/configuration"),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.V2HostPool.Properties.LoadBalancerType===n.LoadBalancerTypeClass.Persistent||t.V2HostPool.Properties.LoadBalancerType===n.LoadBalancerTypeClass.MultiplePersistent),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.V2HostPool.Properties.LoadBalancerType!=n.LoadBalancerTypeClass.Persistent&&t.V2HostPool.Properties.LoadBalancerType!=n.LoadBalancerTypeClass.MultiplePersistent),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.V2HostPool.Properties.LoadBalancerType===n.LoadBalancerTypeClass.BreadthFirst),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.V2HostPool.Properties.LoadBalancerType==n.LoadBalancerTypeClass.DepthFirst),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHosts),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsNotOff),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsAvailable),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsStarting),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsStopping),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsInCreation),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsInDeletion),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsTemporarilyScaledAndAvailable),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind2"](33,22,null==t||null==t.HostPoolHistoryAndStatistic?null:t.HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute,"1.1-1")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.UserSessions),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.UserCapacityNow),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==t||null==t.HostPoolHistoryAndStatistic||null==t.HostPoolHistoryAndStatistic.StatisticDetail?null:t.HostPoolHistoryAndStatistic.StatisticDetail.UserSessionsCapacitySoon),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("chartValue",l["\u0275\u0275pipeBind2"](42,25,t.HostPoolHistoryAndStatistic.StatisticDetail.Utilization,"1.1-1"))}}function Et(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}const Dt=function(t,e){return{sortKey:t,label:e}};function Ft(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"th",21),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](t);const e=l["\u0275\u0275nextContext"]().sortKey;return l["\u0275\u0275nextContext"]().toggleSort(e)}),l["\u0275\u0275template"](2,Et,1,0,"ng-container",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"](),e=t.tooltip,n=t.sortKey,o=t.label;l["\u0275\u0275nextContext"]();const i=l["\u0275\u0275reference"](31);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("nbTooltip",e),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",l["\u0275\u0275pureFunction2"](3,Dt,n,o))}}function kt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function Ot(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"th",22),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](t);const e=l["\u0275\u0275nextContext"]().sortKey;return l["\u0275\u0275nextContext"]().toggleSort(e)}),l["\u0275\u0275template"](2,kt,1,0,"ng-container",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"](),e=t.sortKey,n=t.label;l["\u0275\u0275nextContext"]();const o=l["\u0275\u0275reference"](31);l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",l["\u0275\u0275pureFunction2"](2,Dt,e,n))}}function Nt(t,e){if(1&t&&(l["\u0275\u0275template"](0,Ft,3,6,"ng-container",20),l["\u0275\u0275template"](1,Ot,3,5,"ng-container",20)),2&t){const t=e.tooltip;l["\u0275\u0275property"]("ngIf",t),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t)}}function Lt(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}const Bt=function(t){return{$implicit:t}};function Mt(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"div",23),l["\u0275\u0275elementStart"](1,"span"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",24),l["\u0275\u0275template"](4,Lt,1,0,"ng-container",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t){const t=e.sortKey,n=e.label;l["\u0275\u0275nextContext"]();const o=l["\u0275\u0275reference"](33);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](3,Bt,t))}}function $t(t,e){if(1&t&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275element"](1,"nb-icon",25),l["\u0275\u0275elementContainerEnd"]()),2&t){const t=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate1"]("icon","arrow-","asc"===t.sortDirection?"down":"up","")}}function Vt(t,e){if(1&t&&l["\u0275\u0275template"](0,$t,2,1,"ng-container",20),2&t){const t=e.$implicit,n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("ngIf",n.sortColumn===t)}}const _t=function(t){return{sortKey:t,label:"Tenant"}},Ut=function(t){return{sortKey:t,label:"Host Pool Name"}},Kt=function(t){return{sortKey:t,label:"Type"}},Rt=function(t){return{sortKey:t,label:"LB"}},jt=function(t){return{sortKey:t,label:"Hosts in pool",tooltip:"Number of hosts in the pool"}},zt=function(t){return{sortKey:t,label:"Hosts running",tooltip:"Number of host are running in the pool, including hosts in drain-mode"}},Gt=function(t){return{sortKey:t,label:"Available",tooltip:"Number of available session hosts, including temporary host created during the scale-out"}},Qt=function(t){return{sortKey:t,label:"Starting",tooltip:"Number starting session hosts"}},Wt=function(t){return{sortKey:t,label:"Stopping",tooltip:"Number of deallocating session hosts"}},Jt=function(t){return{sortKey:t,label:"Rollout",tooltip:"Number of session hosts currently in the roll-out phase"}},qt=function(t){return{sortKey:t,label:"Deleting",tooltip:"Number of session hosts deleting"}},Xt=function(t){return{sortKey:t,label:"Temporary",tooltip:"Number of session host temporarly scaled-out (the number is included in the 'available session hosts' number)"}},Yt=function(t){return{sortKey:t,label:"Login rate",tooltip:"Login rate in new sessions per minute"}},Zt=function(t){return{sortKey:t,label:"Sessions"}},te=function(t){return{sortKey:t,label:"Capacity now",tooltip:"The current session capacity of the host pool"}},ee=function(t){return{sortKey:t,label:"Capacity soon",tooltip:"The upcoming session capacity of the host pool, including free session capacity coming from the hosts currently starting or in the roll-out phase"}},ne=function(t){return{sortKey:t,label:"Utilization",tooltip:"% Load of the session host based on the number of sessions and the session capacity"}};var oe=(()=>(function(t){t.Tenant="SceneDisplayName",t.HostPoolName="V2HostPool.Name",t.Type="V2HostPool.Properties.LoadBalancerType",t.SessionsInHost="HostPoolHistoryAndStatistic.StatisticDetail.SessionHosts",t.HostsRunning="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsNotOff",t.Available="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsAvailable",t.Starting="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsStarting",t.Stopping="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsStopping",t.Rollout="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsInCreation",t.Deleting="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsInDeletion",t.Temporary="HostPoolHistoryAndStatistic.StatisticDetail.SessionHostsTemporarilyScaledAndAvailable",t.LoginRate="HostPoolHistoryAndStatistic.DeltaUserSessionsPerMinute",t.Sessions="HostPoolHistoryAndStatistic.StatisticDetail.UserSessions",t.CapacityNow="HostPoolHistoryAndStatistic.StatisticDetail.UserCapacityNow",t.CapacitySoon="HostPoolHistoryAndStatistic.StatisticDetail.UserSessionsCapacitySoon",t.Utilization="HostPoolHistoryAndStatistic.StatisticDetail.Utilization"}(oe||(oe={})),oe))();let ie=(()=>{class t{constructor(t){this.router=t,this.destroyed$=new r.xQ,this.hostPoolsListCache=[],this.LoadBalancerTypeClass=j.rQ,this.searchQueryValue="",this.hostPoolsList=[],this.sortKeys=oe,this.sortColumn="",this.sortDirection="asc",this.trackByHostPoolId=(t,e)=>e.Id}set hostPools(t){t&&(this.hostPoolsList=this.filterHostPools(t,localStorage.getItem("Hydra.HostPools.Filter")),this.hostPoolsListCache=t)}set searchQuery(t){const e=t.trim().toLowerCase();localStorage.setItem("Hydra.HostPools.Filter",e),this.searchQueryValue=e,this.hostPoolsList=this.filterHostPools(this.hostPoolsListCache,e)}navigateTo(t,e=null){this.router.navigate([t],{queryParams:{search:e}})}toggleSort(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.sortColumn&&this.sortByPropertyPath(this.sortColumn)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}filterHostPools(t,e){if(!e)return t;const n=e.substring(1);if(e.startsWith("!"))return t.filter("failed"===n?t=>{var e,n,o;return(null!==(o=null===(n=null===(e=t.HostPoolHistoryAndStatistic)||void 0===e?void 0:e.StatisticDetail)||void 0===n?void 0:n.SessionHostsFailed)&&void 0!==o?o:0)>0}:t=>t.V2HostPool.Location.toLowerCase().includes(n));const o=new Set(t.filter(t=>{var n;return null===(n=t.SceneDisplayName)||void 0===n?void 0:n.toLowerCase().includes(e)}).map(t=>t.Scene));return t.filter(t=>o.has(t.Scene)||t.V2HostPool.Name.toLowerCase().includes(e))}sortByPropertyPath(t){const e=t.split(".");this.hostPoolsList.sort((t,n)=>{let o=this.getNestedProperty(t,e),i=this.getNestedProperty(n,e);return o=null==o?"":o,i=null==i?"":i,"asc"===this.sortDirection?o>i?1:o<i?-1:0:o<i?1:o>i?-1:0})}getNestedProperty(t,e){return e.reduce((t,e)=>t&&void 0!==t[e]?t[e]:void 0,t)}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](i.F0))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-host-pools-table-view"]],inputs:{hostPools:"hostPools",searchQuery:"searchQuery"},decls:34,vars:70,consts:[[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf","ngForTrackBy"],["tableHeaderCellTpl",""],["tableHeaderCellContentTpl",""],["sortTableIconTpl",""],["class","floated","icon","alert-triangle","nbTooltipIcon","alert-triangle","nbTooltipPlacement","bottom",3,"nbTooltip","click",4,"ngIf"],["icon","activity","nbTooltipIcon","activity","nbTooltip","Details","nbTooltipPlacement","bottom",1,"floated",3,"link"],["icon","settings-2-outline","nbTooltipIcon","settings-2-outline","nbTooltip","Configuration","nbTooltipPlacement","right",1,"floated",3,"link"],["icon","person","nbTooltipIcon","person","nbTooltip","VDI host pool","nbTooltipPlacement","top",4,"ngIf"],["icon","people","nbTooltipIcon","people","nbTooltip","Multi-session host pool","nbTooltipPlacement","top",4,"ngIf"],["class","floated","icon","repeat","nbTooltipIcon","repeat","nbTooltip","Load-balancer mode: Breadth first","nbTooltipPlacement","top",4,"ngIf"],["class","floated","icon","flip","nbTooltipIcon","flip","nbTooltip","Load-balancer mode: Depth first","nbTooltipPlacement","top",4,"ngIf"],[3,"chartValue"],["icon","alert-triangle","nbTooltipIcon","alert-triangle","nbTooltipPlacement","bottom",1,"floated",3,"nbTooltip","click"],["icon","person","nbTooltipIcon","person","nbTooltip","VDI host pool","nbTooltipPlacement","top"],["icon","people","nbTooltipIcon","people","nbTooltip","Multi-session host pool","nbTooltipPlacement","top"],["icon","repeat","nbTooltipIcon","repeat","nbTooltip","Load-balancer mode: Breadth first","nbTooltipPlacement","top",1,"floated"],["icon","flip","nbTooltipIcon","flip","nbTooltip","Load-balancer mode: Depth first","nbTooltipPlacement","top",1,"floated"],[4,"ngIf"],[3,"nbTooltip","click"],[3,"click"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"sort-direction-icon","mr-1",3,"icon"]],template:function(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275element"](1,"nb-card-header"),l["\u0275\u0275elementStart"](2,"nb-card-body"),l["\u0275\u0275elementStart"](3,"div",0),l["\u0275\u0275elementStart"](4,"table",1),l["\u0275\u0275elementStart"](5,"thead"),l["\u0275\u0275elementStart"](6,"tr"),l["\u0275\u0275template"](7,st,1,0,"ng-container",2),l["\u0275\u0275template"](8,rt,1,0,"ng-container",2),l["\u0275\u0275elementStart"](9,"th"),l["\u0275\u0275text"](10,"Action"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,at,1,0,"ng-container",2),l["\u0275\u0275template"](12,ct,1,0,"ng-container",2),l["\u0275\u0275template"](13,dt,1,0,"ng-container",2),l["\u0275\u0275template"](14,pt,1,0,"ng-container",2),l["\u0275\u0275template"](15,ut,1,0,"ng-container",2),l["\u0275\u0275template"](16,mt,1,0,"ng-container",2),l["\u0275\u0275template"](17,ht,1,0,"ng-container",2),l["\u0275\u0275template"](18,ft,1,0,"ng-container",2),l["\u0275\u0275template"](19,gt,1,0,"ng-container",2),l["\u0275\u0275template"](20,yt,1,0,"ng-container",2),l["\u0275\u0275template"](21,St,1,0,"ng-container",2),l["\u0275\u0275template"](22,bt,1,0,"ng-container",2),l["\u0275\u0275template"](23,vt,1,0,"ng-container",2),l["\u0275\u0275template"](24,Pt,1,0,"ng-container",2),l["\u0275\u0275template"](25,Ct,1,0,"ng-container",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"tbody"),l["\u0275\u0275template"](27,wt,43,28,"tr",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](28,Nt,2,2,"ng-template",null,4,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](30,Mt,5,5,"ng-template",null,5,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](32,Vt,1,1,"ng-template",null,6,l["\u0275\u0275templateRefExtractor"])),2&t){const t=l["\u0275\u0275reference"](29);l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](36,_t,e.sortKeys.Tenant)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](38,Ut,e.sortKeys.HostPoolName)),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](40,Kt,e.sortKeys.Type)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](42,Rt,e.sortKeys.Type)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](44,jt,e.sortKeys.SessionsInHost)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](46,zt,e.sortKeys.HostsRunning)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](48,Gt,e.sortKeys.Available)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](50,Qt,e.sortKeys.Starting)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](52,Wt,e.sortKeys.Stopping)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](54,Jt,e.sortKeys.Rollout)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](56,qt,e.sortKeys.Deleting)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](58,Xt,e.sortKeys.Temporary)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](60,Yt,e.sortKeys.LoginRate)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](62,Zt,e.sortKeys.Sessions)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](64,te,e.sortKeys.CapacityNow)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](66,ee,e.sortKeys.CapacitySoon)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["\u0275\u0275pureFunction1"](68,ne,e.sortKeys.Utilization)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.hostPoolsList)("ngForTrackBy",e.trackByHostPoolId)}},directives:[C.Asz,C.ndF,C.yKW,o.tP,o.sg,o.O5,C.Bk3,C.jNv,N.K,C.fMN],pipes:[o.JJ],styles:["[_nghost-%COMP%]   nb-action.floated[_ngcontent-%COMP%]{float:right}"]}),t})();function le(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275elementStart"](2,"h1"),l["\u0275\u0275text"](3,"Welcome"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"nb-card-body"),l["\u0275\u0275elementStart"](5,"p"),l["\u0275\u0275text"](6," You have successfully deployed the project into your Azure environment. There is only one single step to work with your Azure Virtual Desktop environment: "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"li"),l["\u0275\u0275text"](8,"Add a tenant configuration (comparable to the #WVDAdmin configuration)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](9,"br"),l["\u0275\u0275elementStart"](10,"p"),l["\u0275\u0275text"](11,"After adding a tenant configuration, the host pools, session hosts, and users are visible, and you can start managing your environment."),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](12,"br"),l["\u0275\u0275element"](13,"br"),l["\u0275\u0275elementStart"](14,"p"),l["\u0275\u0275text"](15," Documentation: "),l["\u0275\u0275elementStart"](16,"a",4),l["\u0275\u0275text"](17,"Adding a tenant"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](18,"br"),l["\u0275\u0275elementStart"](19,"p"),l["\u0275\u0275text"](20," Still not seeing your data? Write me a short note to check it together: "),l["\u0275\u0275elementStart"](21,"a",5),l["\u0275\u0275text"](22,"support@loginvsi.com"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]())}function se(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1," - Filtered"),l["\u0275\u0275elementEnd"]())}function re(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",14),l["\u0275\u0275elementStart"](1,"ngx-overview-popover-filter-trigger",15),l["\u0275\u0275listener"]("filtersChanged",function(e){return l["\u0275\u0275restoreView"](t),l["\u0275\u0275nextContext"](2).filtersChanges(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("filters",t.filters)}}function ae(t,e){1&t&&l["\u0275\u0275elementContainer"](0)}function ce(t,e){if(1&t&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,ae,1,0,"ng-container",16),l["\u0275\u0275elementContainerEnd"]()),2&t){l["\u0275\u0275nextContext"](2);const t=l["\u0275\u0275reference"](6);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngTemplateOutlet",t)}}const de=function(t,e){return{"col-md-5":t,"col-md-3":e}};function pe(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",6),l["\u0275\u0275elementStart"](1,"div",7),l["\u0275\u0275elementStart"](2,"h1"),l["\u0275\u0275text"](3," Azure Virtual Desktop Host Pools "),l["\u0275\u0275template"](4,se,2,0,"span",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",9),l["\u0275\u0275element"](6,"input",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](7,re,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](8,ce,2,1,"ng-container",0),l["\u0275\u0275elementStart"](9,"button",12),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](t),l["\u0275\u0275nextContext"]().update()}),l["\u0275\u0275element"](10,"nb-icon",13),l["\u0275\u0275text"](11," Update "),l["\u0275\u0275elementEnd"]()}if(2&t){const t=l["\u0275\u0275nextContext"](),e=l["\u0275\u0275reference"](4);l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",t.searchFormControl.value),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction2"](6,de,t.GlobalConstants.ViewDashboardAsTable,!t.GlobalConstants.ViewDashboardAsTable)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formControl",t.searchFormControl),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.GlobalConstants.ViewDashboardAsTable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.GlobalConstants.ViewDashboardAsTable)("ngIfElse",e)}}function ue(t,e){if(1&t&&l["\u0275\u0275element"](0,"ngx-host-pools-tiles-view",17),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("hostPools",t.hostPools)("searchQuery",t.searchFormControl.value)("appliedFilters",t.selectedFilters)}}function me(t,e){if(1&t&&l["\u0275\u0275element"](0,"ngx-host-pools-table-view",18),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("hostPools",t.hostPools)("searchQuery",t.searchFormControl.value)}}const he=[{path:"",redirectTo:"avd-host-pools-overview",pathMatch:"full"},{path:"",component:s,children:[{path:"avd-host-pools-overview",component:(()=>{class t{constructor(t,e,n,o){this.hostPoolsService=t,this.router=e,this.toastrService=n,this.storageService=o,this.destroyed$=new r.xQ,this.hostPools$=new r.xQ,this.GlobalConstants=P.tc,this.searchFormControl=new x.NI(""),this.hasNoTenants=!1,this.hostPools=[],this.filters=[],this.selectedFilters=[],this.retryApiCallWithToastCallback=t=>t.pipe((0,m.b)(t=>this.showDangerToast("Failure accessing the API",`Cannot read data from API. The message is: ${t.message} with status ${t.statusText}`)),(0,h.j)(()=>(0,a.H)(H.e5))),this.handleApiErrorCallback=t=>(0,c._)(()=>(this.showDangerToast("Failure accessing the API",`Cannot read data from API. Reload this site to try it again. The message is: ${t.message} with status ${t.statusText}`),(0,d.of)([])))}ngOnInit(){P.tc.userMode?this.router.navigate(["/pages/myresources"]):(localStorage.getItem("Hydra.HostPools.Filter")&&this.searchFormControl.setValue(this.storageService.getItem("Hydra.HostPools.Filter")),this.initHostPools())}update(){this.hostPools$.next()}filtersChanges([t]){this.selectedFilters=t.filter(t=>t.checked).map(t=>t.label.toLowerCase())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}initHostPools(){this.hostPools$.pipe((0,f.O)(0),(0,g.w)(()=>(0,a.H)(0,P.tc.autoRefreshDefault)),(0,g.w)(()=>this.hostPoolsService.getData()),(0,y.a)(this.retryApiCallWithToastCallback),(0,S.K)(this.handleApiErrorCallback),(0,b.R)(this.destroyed$)).subscribe(t=>{if(!t.length)return this.hasNoTenants=!0;this.hostPools=function(t){return t.map(t=>0!==t.HostPoolHistoryAndStatistic.StatisticDetail.UserCapacityNow?{...t,HostPoolHistoryAndStatistic:{...t.HostPoolHistoryAndStatistic,StatisticDetail:{...t.HostPoolHistoryAndStatistic.StatisticDetail,Utilization:100*t.HostPoolHistoryAndStatistic.StatisticDetail.UserSessions/t.HostPoolHistoryAndStatistic.StatisticDetail.UserCapacityNow}}}:{...t,HostPoolHistoryAndStatistic:{...t.HostPoolHistoryAndStatistic,StatisticDetail:{...t.HostPoolHistoryAndStatistic.StatisticDetail,Utilization:0}}})}(function(t){return t.filter(t=>null!=t.HostPoolHistoryAndStatistic&&null!=t.HostPoolHistoryAndStatistic.StatisticDetail)}(t)).sort((t,e)=>t.V2HostPool.Name.localeCompare(e.V2HostPool.Name)),this.filters=this.buildFilters(function(t){return Array.from(new Set(t.flatMap(t=>t.SceneDisplayName)))}(t))})}buildFilters(t){return this.filters.length?T(this.filters,t):t.map(t=>({label:t,checked:this.selectedFilters.includes(t.toLowerCase())}))}showDangerToast(t,e){this.toastrService.danger(e,t,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:C.fe3.TOP_RIGHT,preventDuplicates:!0})}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](R.lJ),l["\u0275\u0275directiveInject"](i.F0),l["\u0275\u0275directiveInject"](C.quB),l["\u0275\u0275directiveInject"](I.V))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-host-pools-overview"]],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["hostPoolsOverviewTpl",""],["tileViewTpl",""],["tableViewTpl",""],["target","_blank","href","https://docs.loginvsi.com/hydra/2.1.0/adding-a-tenant"],["href","mailto:support@loginvsi.com"],[1,"row"],[1,"col-md-7"],[4,"ngIf"],[3,"ngClass"],["type","text","nbInput","","fullWidth","","placeholder","Search for a specific pool or for !failed, !region",3,"formControl"],["class","col-md-2",4,"ngIf"],["nbButton","","status","semi-round",3,"click"],["icon","refresh"],[1,"col-md-2"],[3,"filters","filtersChanged"],[4,"ngTemplateOutlet"],[3,"hostPools","searchQuery","appliedFilters"],[3,"hostPools","searchQuery"]],template:function(t,e){if(1&t&&(l["\u0275\u0275template"](0,le,23,0,"nb-card",0),l["\u0275\u0275template"](1,pe,12,9,"ng-template",null,1,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](3,ue,1,3,"ng-template",null,2,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275template"](5,me,1,2,"ng-template",null,3,l["\u0275\u0275templateRefExtractor"])),2&t){const t=l["\u0275\u0275reference"](2);l["\u0275\u0275property"]("ngIf",e.hasNoTenants)("ngIfElse",t)}},directives:[o.O5,C.Asz,C.ndF,C.yKW,o.mk,C.h8i,x.Fj,x.JJ,x.oH,C.DPz,C.fMN,O,o.tP,lt,ie],styles:[""]}),t})()},{path:"w365-overview",component:_}]},{path:"**",redirectTo:"avd-host-pools-overview",pathMatch:"full"}];let fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[i.Bz.forChild(he)],i.Bz]}),t})();var ge=n(70427),ye=n(66911),Se=n(69517),be=n(77310),ve=n(61367);let Pe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[o.ez,C.zyh,C.nKr,x.u5,C.rgH,C.MAY,C.KdK,ye.m,C.T2N,C.uuI,C.spT,C.MfT,Se.IJ,C.IIj,ge.PagesModule,C.EoG,C.oGl,x.UX,be._t,ve.H,C.V7y]]}),t})();var Ce=n(47957);let He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[o.ez,fe,ge.PagesModule,Pe,Ce.Wd365Module]]}),t})()},34681:function(t,e,n){"use strict";n.d(e,{G:function(){return r}});var o=n(47349),i=n(92340),l=n(37716),s=n(91841);let r=(()=>{class t{constructor(t){this.httpClient=t,this.apiUrl=`${i.N.apiUrl}/data/scenes`,this.ALL_TENANTS_ID="00000000-0000-0000-0000-000000000000"}getAllCloudPCs(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/cloudpcs`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}getClouPcMigrationSnapshots(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/snapshotImports`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}getCloudPcSnapshots(t,e){return this.httpClient.get(`${this.apiUrl}/${t}/win365/cloudpcs/${e}/snapshots`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}getProvisioningPolicies(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/provisioningpolicies`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}getUserSettings(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/settings`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}saveUserSettings(t,e){return this.httpClient.post(`${this.apiUrl}/${t}/win365/settings`,e).pipe((0,o.d)({refCount:!0,bufferSize:1}))}removeUserSettings(t,e){return this.httpClient.delete(`${this.apiUrl}/${t}/win365/settings`,{body:e}).pipe((0,o.d)({refCount:!0,bufferSize:1}))}getSupportedRegions(t){return this.httpClient.get(`${this.apiUrl}/${t}/win365/supportedRegions`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}getViewScenes(){return this.httpClient.get(`${i.N.apiUrl}/data/views/win365/scenes`).pipe((0,o.d)({refCount:!0,bufferSize:1}))}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275inject"](s.eN))},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);