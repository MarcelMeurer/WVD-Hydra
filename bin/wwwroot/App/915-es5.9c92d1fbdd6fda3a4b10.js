!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){s=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[915],{20915:function(t,a,i){"use strict";i.r(a),i.d(a,{AllCloudPcsModule:function(){return nt}});var l=i(38583),u=i(10264),d=i(79765),p=i(46797),h=i(40205),m=i(25917),f=i(9112),v=i(88002),g=i(68307),C=i(11627),b=i(39761),P=i(43190),S=i(67666),y=i(5304),x=i(46782),w=i(33866),k=i(11173),O=i(14625),E=i(27861),I=i(35758),R=i(45435),T=i(30110),M=i(3679),_=i(54395),N=i(87519),D=i(76897),F=i(41602),V=i(37716),A=i(1816);function j(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"button",15),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().clearSearch()}),V["\u0275\u0275element"](1,"nb-icon",16),V["\u0275\u0275elementEnd"]()}}function U(e,t){if(1&e&&V["\u0275\u0275element"](0,"nb-icon",20),2&e){var n=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("icon","arrow-"+("asc"===n.sortDirection?"down":"up"))}}function L(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"th",17),V["\u0275\u0275listener"]("click",function(){var e=V["\u0275\u0275restoreView"](n).sortKey;return V["\u0275\u0275nextContext"]().toggleSort(e)}),V["\u0275\u0275elementStart"](1,"div",18),V["\u0275\u0275elementStart"](2,"span"),V["\u0275\u0275text"](3),V["\u0275\u0275elementEnd"](),V["\u0275\u0275template"](4,U,1,1,"nb-icon",19),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()}if(2&e){var r=t.sortKey,o=t.label,a=V["\u0275\u0275nextContext"]();V["\u0275\u0275advance"](3),V["\u0275\u0275textInterpolate"](o),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",a.sortColumn===r)}}function $(e,t){1&e&&V["\u0275\u0275elementContainer"](0)}function B(e,t){1&e&&V["\u0275\u0275elementContainer"](0)}function K(e,t){1&e&&V["\u0275\u0275elementContainer"](0)}function H(e,t){1&e&&V["\u0275\u0275elementContainer"](0)}function z(e,t){1&e&&V["\u0275\u0275elementContainer"](0)}function Q(e,t){1&e&&V["\u0275\u0275elementContainer"](0)}function W(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"tr",21),V["\u0275\u0275listener"]("click",function(){var e=V["\u0275\u0275restoreView"](n).$implicit;return V["\u0275\u0275nextContext"]().selectSnapshot(e)}),V["\u0275\u0275elementStart"](1,"td",8),V["\u0275\u0275element"](2,"nb-radio",22),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](3,"td"),V["\u0275\u0275text"](4),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](5,"td"),V["\u0275\u0275text"](6),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](7,"td"),V["\u0275\u0275text"](8),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](9,"td"),V["\u0275\u0275text"](10),V["\u0275\u0275pipe"](11,"date"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](12,"td"),V["\u0275\u0275text"](13),V["\u0275\u0275pipe"](14,"date"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](15,"td"),V["\u0275\u0275text"](16),V["\u0275\u0275pipe"](17,"date"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=V["\u0275\u0275nextContext"]();V["\u0275\u0275classProp"]("selected-row",r.Id===(null==o.selectedSnapshot?null:o.selectedSnapshot.Id)),V["\u0275\u0275advance"](2),V["\u0275\u0275property"]("checked",r.Id===(null==o.selectedSnapshot?null:o.selectedSnapshot.Id)),V["\u0275\u0275advance"](2),V["\u0275\u0275textInterpolate"](r.SnapshotType),V["\u0275\u0275advance"](2),V["\u0275\u0275textInterpolate"](r.Status),V["\u0275\u0275advance"](2),V["\u0275\u0275textInterpolate"](r.HealthCheckStatus),V["\u0275\u0275advance"](2),V["\u0275\u0275textInterpolate"](V["\u0275\u0275pipeBind2"](11,9,r.CreatedDateTime,"short")),V["\u0275\u0275advance"](3),V["\u0275\u0275textInterpolate"](V["\u0275\u0275pipeBind2"](14,12,r.ExpirationDateTime,"short")),V["\u0275\u0275advance"](3),V["\u0275\u0275textInterpolate1"]("",V["\u0275\u0275pipeBind2"](17,15,r.LastRestoredDateTime,"short")," ")}}function G(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"tr"),V["\u0275\u0275elementStart"](1,"td",23),V["\u0275\u0275elementStart"](2,"ngx-table-empty-state",24),V["\u0275\u0275listener"]("clearSearchClick",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().clearSearch()}),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](),o=V["\u0275\u0275reference"](14);V["\u0275\u0275advance"](1),V["\u0275\u0275attribute"]("colspan",o.children.length),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("filterState",r.filterState)}}var Y=function(){return{sortKey:"SnapshotType",label:"Restore point type"}},q=function(){return{sortKey:"Status",label:"Status"}},Z=function(){return{sortKey:"HealthCheckStatus",label:"Health check status"}},J=function(){return{sortKey:"CreatedDateTime",label:"Created"}},X=function(){return{sortKey:"ExpirationDateTime",label:"Expiration"}},ee=function(){return{sortKey:"LastRestoredDateTime",label:"Last restored"}},te=function(){var e=function(){function e(t,n,r,o){s(this,e),this.dialogRef=t,this.allCloudPcsService=n,this.toastService=r,this.cdr=o,this.destroyed$=new d.xQ,this.filterState={searchQuery:""},this.searchFormControl=new M.NI(""),this.trackBySnapshotId=function(e,t){return t.Id},this.isLoading=!1,this.snapshots=[],this.searchedSnapshots=[],this.selectedSnapshot=null,this.sortColumn="CreatedDateTime",this.sortDirection="desc",this.isEmptyStateVisible=!1}return c(e,[{key:"ngOnInit",value:function(){this.loadSnapshots(),this.initSearchQueryHandler()}},{key:"selectSnapshot",value:function(e){this.selectedSnapshot=e}},{key:"close",value:function(){this.dialogRef.close()}},{key:"restore",value:function(){this.selectedSnapshot&&this.dialogRef.close(this.selectedSnapshot)}},{key:"clearSearch",value:function(){this.searchFormControl.setValue("")}},{key:"toggleSort",value:function(e){this.sortColumn===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=e,this.sortDirection="asc"),this.applySorting(),this.cdr.markForCheck()}},{key:"loadSnapshots",value:function(){var e=this;this.scene&&this.cloudPcId&&(this.isLoading=!0,this.allCloudPcsService.getCloudPcSnapshots(this.scene,this.cloudPcId).pipe((0,x.R)(this.destroyed$)).subscribe({next:function(t){e.snapshots=t,e.searchedSnapshots=o(t),e.applySorting(),e.isLoading=!1,e.updateEmptyStateVisibility(),e.cdr.markForCheck()},error:function(t){console.error("Error loading snapshots:",t),e.toastService.danger("Failed to load snapshots"),e.isLoading=!1,e.updateEmptyStateVisibility(),e.cdr.markForCheck()}}))}},{key:"initSearchQueryHandler",value:function(){var e=this;this.searchFormControl.valueChanges.pipe((0,_.b)(D.XU),(0,N.x)(),(0,x.R)(this.destroyed$)).subscribe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.filterState={searchQuery:t.trim()},e.searchSnapshots(),e.cdr.markForCheck()})}},{key:"searchSnapshots",value:function(){var e,t=(null===(e=this.searchFormControl.value)||void 0===e?void 0:e.toLowerCase().trim())||"";this.searchedSnapshots=t?this.snapshots.filter(function(e){var n,r,o,a,i,s,l=(null===(n=e.SnapshotType)||void 0===n?void 0:n.toLowerCase())||"",c=(null===(r=e.Status)||void 0===r?void 0:r.toLowerCase())||"",u=(null===(o=e.HealthCheckStatus)||void 0===o?void 0:o.toLowerCase())||"",d=(null===(a=e.CreatedDateTime)||void 0===a?void 0:a.toLowerCase())||"",p=(null===(i=e.ExpirationDateTime)||void 0===i?void 0:i.toLowerCase())||"",h=(null===(s=e.LastRestoredDateTime)||void 0===s?void 0:s.toLowerCase())||"";return l.includes(t)||c.includes(t)||u.includes(t)||d.includes(t)||p.includes(t)||h.includes(t)}):o(this.snapshots),this.applySorting(),this.updateEmptyStateVisibility(),this.cdr.markForCheck()}},{key:"updateEmptyStateVisibility",value:function(){this.isEmptyStateVisible=!this.isLoading&&0===this.searchedSnapshots.length}},{key:"applySorting",value:function(){this.sortColumn&&this.sortByPropertyPath(this.sortColumn)}},{key:"sortByPropertyPath",value:function(e){var t=this,n=e.split(".");this.searchedSnapshots=o(this.searchedSnapshots).sort(function(e,r){var o=t.getNestedProperty(e,n),a=t.getNestedProperty(r,n);return o=null==o?"":o,a=null==a?"":a,"asc"===t.sortDirection?o>a?1:o<a?-1:0:o<a?1:o>a?-1:0})}},{key:"getNestedProperty",value:function(e,t){return t.reduce(function(e,t){return e&&void 0!==e[t]?e[t]:void 0},e)}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(V["\u0275\u0275directiveInject"](O.X4l),V["\u0275\u0275directiveInject"](F.O),V["\u0275\u0275directiveInject"](O.quB),V["\u0275\u0275directiveInject"](V.ChangeDetectorRef))},e.\u0275cmp=V["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-restore-pcs-from-snapshot-dialog"]],inputs:{scene:"scene",cloudPcId:"cloudPcId"},decls:31,vars:25,consts:[["nbSpinnerMessage","Loading...",3,"nbSpinner"],[1,"search-container"],["nbInput","","fullWidth","","type","text","placeholder","Search",3,"formControl"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click",4,"ngIf"],["sortableHeader",""],[1,"table-container","table-responsive"],[1,"table","table-bordered","table-striped"],["headerRow",""],[1,"select-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","selectable-row",3,"selected-row","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"d-flex","justify-content-between"],["nbButton","","status","basic",3,"click"],["nbButton","",3,"disabled","click"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click"],["icon","close-outline"],[1,"sortable-header",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],["class","sort-icon",3,"icon",4,"ngIf"],[1,"sort-icon",3,"icon"],[1,"selectable-row",3,"click"],[3,"checked"],[1,"text-center","p-5"],[3,"filterState","clearSearchClick"]],template:function(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"nb-card",0),V["\u0275\u0275elementStart"](1,"nb-card-header"),V["\u0275\u0275text"](2,"Available Restore Points"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](3,"nb-card-body"),V["\u0275\u0275elementStart"](4,"div",1),V["\u0275\u0275elementStart"](5,"nb-form-field"),V["\u0275\u0275element"](6,"input",2),V["\u0275\u0275template"](7,j,2,0,"button",3),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275template"](8,L,5,2,"ng-template",null,4,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementStart"](10,"div",5),V["\u0275\u0275elementStart"](11,"table",6),V["\u0275\u0275elementStart"](12,"thead"),V["\u0275\u0275elementStart"](13,"tr",null,7),V["\u0275\u0275elementStart"](15,"th",8),V["\u0275\u0275text"](16,"Select"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275template"](17,$,1,0,"ng-container",9),V["\u0275\u0275template"](18,B,1,0,"ng-container",9),V["\u0275\u0275template"](19,K,1,0,"ng-container",9),V["\u0275\u0275template"](20,H,1,0,"ng-container",9),V["\u0275\u0275template"](21,z,1,0,"ng-container",9),V["\u0275\u0275template"](22,Q,1,0,"ng-container",9),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](23,"tbody"),V["\u0275\u0275template"](24,W,18,18,"tr",10),V["\u0275\u0275template"](25,G,3,2,"tr",11),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](26,"nb-card-footer",12),V["\u0275\u0275elementStart"](27,"button",13),V["\u0275\u0275listener"]("click",function(){return t.close()}),V["\u0275\u0275text"](28,"Cancel"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](29,"button",14),V["\u0275\u0275listener"]("click",function(){return t.restore()}),V["\u0275\u0275text"](30," Restore "),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()),2&e){var n=V["\u0275\u0275reference"](9);V["\u0275\u0275property"]("nbSpinner",t.isLoading),V["\u0275\u0275advance"](6),V["\u0275\u0275property"]("formControl",t.searchFormControl),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",t.searchFormControl.value),V["\u0275\u0275advance"](10),V["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",V["\u0275\u0275pureFunction0"](19,Y)),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",V["\u0275\u0275pureFunction0"](20,q)),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",V["\u0275\u0275pureFunction0"](21,Z)),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",V["\u0275\u0275pureFunction0"](22,J)),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",V["\u0275\u0275pureFunction0"](23,X)),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",V["\u0275\u0275pureFunction0"](24,ee)),V["\u0275\u0275advance"](2),V["\u0275\u0275property"]("ngForOf",t.searchedSnapshots)("ngForTrackBy",t.trackBySnapshotId),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",t.isEmptyStateVisible),V["\u0275\u0275advance"](4),V["\u0275\u0275property"]("disabled",!t.selectedSnapshot||t.isLoading)}},directives:[O.Asz,O.Q7R,O.ndF,O.yKW,O.jBG,O.h8i,M.Fj,M.JJ,M.oH,l.O5,l.tP,l.sg,O.XWE,O.DPz,O.jNv,O.yyc,O.fMN,O.r3g,A.$],pipes:[l.uU],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:78vh;width:1200px;max-width:95vw;overflow:hidden}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{overflow:hidden;flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-bottom:1rem;flex-shrink:0}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:auto;min-height:38vh}[_nghost-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}[_nghost-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}[_nghost-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem 2rem .75rem .75rem;text-align:left;font-weight:600;white-space:nowrap;background-color:#fff;box-shadow:inset 0 1px 0 0 #dee2e6;position:relative}[_nghost-%COMP%]   .selectable-row[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .select-column[_ngcontent-%COMP%]{width:60px;text-align:center}[_nghost-%COMP%]   .sortable-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .sortable-header[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1rem;margin-left:.5rem;flex-shrink:0;width:1rem;position:absolute;right:.75rem}[_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]{padding:1rem;flex-shrink:0}"],changeDetection:0}),e}(),ne={context:{cancelButtonText:"Cancel",confirmButtonText:"Ok"},hasScroll:!1,closeOnEsc:!1,closeOnBackdropClick:!1},re=function(){var e=function(){function e(t,n){s(this,e),this.actionService=t,this.dialogService=n,this.destroyed$=new d.xQ}return c(e,[{key:"sync",value:function(e,t,n){var r=this;e.forEach(function(e){r.actionService.sendAction("scenes/".concat(e.Scene,"/win365/cloudpcs/").concat(e.Id,"/").concat(t),null,n,"").pipe((0,x.R)(r.destroyed$)).subscribe()})}},{key:"restart",value:function(e,t,r){var o=this;this.dialogService.open(T.z,n(n({},ne),{},{context:n(n({},ne.context),{},{headerTitle:"Restart",confirmButtonText:"Restart",bodyText:"Please confirm the operation '".concat(r,"' for ").concat(e.length," cloud PC's")})})).onClose.pipe((0,R.h)(Boolean),(0,P.w)(function(){return(0,I.D)(e.map(function(e){return o.actionService.sendAction("scenes/".concat(e.Scene,"/win365/cloudpcs/").concat(e.Id,"/").concat(t),null,r,"")}))})).subscribe()}},{key:"reprovision",value:function(e,t,r){var o=this;this.dialogService.open(T.z,n(n({},ne),{},{context:n(n({},ne.context),{},{headerTitle:"Reprovision",confirmButtonText:"Reprovision",bodyText:"Please confirm the operation '".concat(r,"' for ").concat(e.length," cloud PC's")})})).onClose.pipe((0,R.h)(Boolean),(0,P.w)(function(){return(0,I.D)(e.map(function(e){return o.actionService.sendAction("scenes/".concat(e.Scene,"/win365/cloudpcs/").concat(e.Id,"/").concat(t),null,r,"")}))})).subscribe()}},{key:"createSnapshot",value:function(e,t,r){var o=this;this.dialogService.open(T.z,n(n({},ne),{},{context:n(n({},ne.context),{},{headerTitle:"Create restore point",bodyText:"Create a restore point for the selected Cloud PC(s). This may take time.",confirmButtonText:"Create restore point",cancelButtonText:"Cancel"})})).onClose.pipe((0,R.h)(Boolean),(0,P.w)(function(){return(0,I.D)(e.map(function(e){return o.actionService.sendAction("scenes/".concat(e.Scene,"/win365/cloudpcs/").concat(e.Id,"/").concat(t),null,r,"")}))})).subscribe()}},{key:"restoreFromSnapshot",value:function(e){var t,n=this,r=(null===(t=e.Resource)||void 0===t?void 0:t.DisplayName)||"";this.dialogService.open(te,{context:{scene:e.Scene,cloudPcId:e.Id},hasScroll:!1,closeOnEsc:!0,closeOnBackdropClick:!1}).onClose.pipe((0,R.h)(function(e){return!!e}),(0,P.w)(function(t){return n.actionService.sendAction("scenes/".concat(e.Scene,"/win365/cloudpcs/").concat(e.Id,"/restore"),t.Id,"Restore from snapshot",r)}),(0,x.R)(this.destroyed$)).subscribe()}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(V["\u0275\u0275inject"](E.c),V["\u0275\u0275inject"](O.Gln))},e.\u0275prov=V["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function oe(e){switch(e){case w.Z1.CloudApp:return"Cloud App";case w.Z1.CloudPc:return"Cloud PC";case w.Z1.UnknownFutureValue:return"Unknown future value";default:return"null"}}function ae(e){switch(e){case w.vs.Failed:return"Failed";case w.vs.InGracePeriod:return"In grace period";case w.vs.Provisioned:return"Provisioned";case w.vs.ProvisionedWithWarnings:return"Provisioned with warnings";case w.vs.Provisioning:return"Provisioning";case w.vs.NotProvisioned:return"Not provisioned";case w.vs.Deprovisioning:return"Deprovisioning"}}var ie=(function(e){e.TenantName="SceneName",e.Status="Resource.Status",e.DeviceName="Resource.ManagedDeviceName",e.User="Resource.UserPrincipalName",e.CloudPCSize="Resource.ServicePlanName",e.ProvisioningPolicy="Resource.ProvisioningPolicyName",e.Experience="Resource.UserExperienceType",e.Image="Resource.ImageDisplayName",e.DateModified="Resource.LastModifiedDateTime",e.DateProvisioned="Resource.ProvisionedDateTime"}(ie||(ie={})),ie),se=i(45880),le=i(68285),ce=i(91841),ue=function(e,t,n,r,o){return{failed:e,"in-grace-period":t,provisioned:n,"provisioned-with-warnings":r,"provisioning-or-not":o}},de=function(){var e=function e(){s(this,e),this.CloudPcStatus=w.vs,this.length=0};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=V["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-cloud-pc-status"]],inputs:{label:"label",status:"status",length:"length"},decls:5,vars:9,consts:[[1,"d-flex","flex-column","pl-2","cloud-pc-status-item",3,"ngClass"]],template:function(e,t){1&e&&(V["\u0275\u0275elementStart"](0,"div",0),V["\u0275\u0275elementStart"](1,"span"),V["\u0275\u0275text"](2),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](3,"span"),V["\u0275\u0275text"](4),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()),2&e&&(V["\u0275\u0275property"]("ngClass",V["\u0275\u0275pureFunction5"](3,ue,t.status===t.CloudPcStatus.Failed,t.status===t.CloudPcStatus.InGracePeriod,t.status===t.CloudPcStatus.Provisioned,t.status===t.CloudPcStatus.ProvisionedWithWarnings,t.status===t.CloudPcStatus.Provisioning||t.status===t.CloudPcStatus.NotProvisioned)),V["\u0275\u0275advance"](2),V["\u0275\u0275textInterpolate"](t.label),V["\u0275\u0275advance"](2),V["\u0275\u0275textInterpolate"](t.length))},directives:[l.mk],styles:["[_nghost-%COMP%]   .cloud-pc-status-item[_ngcontent-%COMP%]{height:3.75em;grid-gap:1em;gap:1em}[_nghost-%COMP%]   .cloud-pc-status-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700}[_nghost-%COMP%]   .cloud-pc-status-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{font-weight:700;font-size:1.5em}[_nghost-%COMP%]   .cloud-pc-status-item.failed[_ngcontent-%COMP%]{border-left:.5em solid var(--danger)}[_nghost-%COMP%]   .cloud-pc-status-item.in-grace-period[_ngcontent-%COMP%]{border-left:.5em solid var(--warning)}[_nghost-%COMP%]   .cloud-pc-status-item.provisioned[_ngcontent-%COMP%]{border-left:.5em solid var(--success)}[_nghost-%COMP%]   .cloud-pc-status-item.provisioned-with-warnings[_ngcontent-%COMP%]{border-left:.5em solid var(--warning)}[_nghost-%COMP%]   .cloud-pc-status-item.provisioning-or-not[_ngcontent-%COMP%]{border-left:.5em solid var(--primary)}"]}),e}(),pe=i(60290),he=i(73544),me=i(84266),fe=["ngx-table-cloud-pcs-status",""],ve=function(){var e=function(){function e(){s(this,e),this.hostClass="",this.label=""}return c(e,[{key:"ngOnChanges",value:function(){var e,t,n=null===(t=null===(e=this.item)||void 0===e?void 0:e.Resource)||void 0===t?void 0:t.Status;switch(n){case w.vs.Failed:this.hostClass="cloud-pc-status failed",this.label="Failed";break;case w.vs.InGracePeriod:this.hostClass="cloud-pc-status in-grace-period",this.label="In grace period";break;case w.vs.Provisioned:this.hostClass="cloud-pc-status provisioned",this.label="Provisioned";break;case w.vs.ProvisionedWithWarnings:this.hostClass="cloud-pc-status provisioned-with-warnings",this.label="Provisioned with warnings";break;case w.vs.Provisioning:case w.vs.NotProvisioned:this.hostClass="cloud-pc-status provisioning-or-not",this.label=n===w.vs.Provisioning?"Provisioning":"Not provisioned";break;case w.vs.Deprovisioning:this.hostClass="cloud-pc-status deprovisioning",this.label="Deprovisioning";break;default:this.hostClass="cloud-pc-status",this.label=""}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=V["\u0275\u0275defineComponent"]({type:e,selectors:[["","ngx-table-cloud-pcs-status",""]],hostVars:2,hostBindings:function(e,t){2&e&&V["\u0275\u0275classMap"](t.hostClass)},inputs:{item:"item"},features:[V["\u0275\u0275NgOnChangesFeature"]],attrs:fe,decls:2,vars:1,consts:[[1,"d-block","h-100"]],template:function(e,t){1&e&&(V["\u0275\u0275elementStart"](0,"div",0),V["\u0275\u0275text"](1),V["\u0275\u0275elementEnd"]()),2&e&&(V["\u0275\u0275advance"](1),V["\u0275\u0275textInterpolate"](t.label))},styles:["[_nghost-%COMP%]   .cloud-pc-status.failed[_ngcontent-%COMP%]{border-left:.4em solid var(--danger)}[_nghost-%COMP%]   .cloud-pc-status.in-grace-period[_ngcontent-%COMP%]{border-left:.4em solid var(--warning)}[_nghost-%COMP%]   .cloud-pc-status.provisioned[_ngcontent-%COMP%]{border-left:.4em solid var(--success)}[_nghost-%COMP%]   .cloud-pc-status.provisioned-with-warnings[_ngcontent-%COMP%]{border-left:.4em solid var(--warning)}[_nghost-%COMP%]   .cloud-pc-status.provisioning-or-not[_ngcontent-%COMP%]{border-left:.4em solid var(--primary)}"],changeDetection:0}),e}(),ge=i(47691),Ce=i(33175),be=["processesDialog"];function Pe(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"em"),V["\u0275\u0275text"](1),V["\u0275\u0275elementEnd"]()),2&e){var n,r=V["\u0275\u0275nextContext"]();V["\u0275\u0275advance"](1),V["\u0275\u0275textInterpolate1"]("",null!==(n=r.allCloudPcsCache.length)&&void 0!==n?n:0," cloud PCs")}}function Se(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"em",5),V["\u0275\u0275text"](1),V["\u0275\u0275elementEnd"]()),2&e){var n=V["\u0275\u0275nextContext"]();V["\u0275\u0275advance"](1),V["\u0275\u0275textInterpolate1"]("(",n.selectedCloudPcs.length," cloud PCs selected)")}}function ye(e,t){1&e&&V["\u0275\u0275element"](0,"nb-spinner")}var xe=function(e){return[e]};function we(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",40),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("fieldPath",r.sortKeys.TenantName)("dataSource",r.allCloudPcsCache)("preselectLabels",V["\u0275\u0275pureFunction1"](3,xe,r.preselectLabels.sceneName))}}function ke(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",41),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("dataSource",r.allCloudPcsCache)("extractSpecificValue",r.statusValue)}}function Oe(e,t){1&e&&V["\u0275\u0275element"](0,"td",42),2&e&&V["\u0275\u0275property"]("item",t.$implicit)}function Ee(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",43),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("fieldPath",r.sortKeys.DeviceName)("dataSource",r.allCloudPcsCache)}}function Ie(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",44),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("fieldPath",r.sortKeys.User)("dataSource",r.allCloudPcsCache)}}function Re(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",45),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("fieldPath",r.sortKeys.CloudPCSize)("dataSource",r.allCloudPcsCache)}}function Te(e,t){if(1&e&&V["\u0275\u0275element"](0,"ngx-bar1",50),2&e){var n=V["\u0275\u0275nextContext"]().$implicit;V["\u0275\u0275property"]("chartValue1",null==n||null==n.Advanced||null==n.Advanced.Info?null:n.Advanced.Info.ProcessorUsage)("chartValue2",null==n||null==n.Advanced||null==n.Advanced.Info?null:n.Advanced.Info.MemoryUsage)("chartValue3",null==n||null==n.Advanced||null==n.Advanced.Info?null:n.Advanced.Info.ProcessorQueueLength)("chartValue4",null==n||null==n.Advanced||null==n.Advanced.Info?null:n.Advanced.Info.DiskQueueLength)}}function Me(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"nb-icon",51),V["\u0275\u0275listener"]("click",function(){V["\u0275\u0275restoreView"](n);var e=V["\u0275\u0275nextContext"]().$implicit;return V["\u0275\u0275nextContext"](2).showTaskList(e.Id)}),V["\u0275\u0275elementEnd"]()}}function _e(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"td"),V["\u0275\u0275elementStart"](1,"div",46),V["\u0275\u0275elementStart"](2,"div",47),V["\u0275\u0275template"](3,Te,1,4,"ngx-bar1",48),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](4,"div",47),V["\u0275\u0275template"](5,Me,1,0,"nb-icon",49),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("ngIf",null!=(null==n||null==n.Advanced||null==n.Advanced.Info?null:n.Advanced.Info.ProcessorUsage)),V["\u0275\u0275advance"](2),V["\u0275\u0275property"]("ngIf",null!=(null==n||null==n.Advanced||null==n.Advanced.Info?null:n.Advanced.Info.ProcessorUsage))}}function Ne(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",52),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("fieldPath",r.sortKeys.ProvisioningPolicy)("dataSource",r.allCloudPcsCache)("preselectLabels",V["\u0275\u0275pureFunction1"](3,xe,r.preselectLabels.provisioningPolicyName))}}function De(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",53),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("dataSource",r.allCloudPcsCache)("extractSpecificValue",r.experienceValue)}}function Fe(e,t){1&e&&(V["\u0275\u0275elementContainerStart"](0),V["\u0275\u0275text"](1,"Cloud App "),V["\u0275\u0275elementContainerEnd"]())}function Ve(e,t){1&e&&(V["\u0275\u0275elementContainerStart"](0),V["\u0275\u0275text"](1,"Cloud PC "),V["\u0275\u0275elementContainerEnd"]())}function Ae(e,t){1&e&&(V["\u0275\u0275elementContainerStart"](0),V["\u0275\u0275text"](1," Unknown Future Value "),V["\u0275\u0275elementContainerEnd"]())}function je(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"td"),V["\u0275\u0275template"](1,Fe,2,0,"ng-container",0),V["\u0275\u0275template"](2,Ve,2,0,"ng-container",0),V["\u0275\u0275template"](3,Ae,2,0,"ng-container",0),V["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",n.Resource.UserExperienceType===r.CloudPcUserExperienceType.CloudApp),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",n.Resource.UserExperienceType===r.CloudPcUserExperienceType.CloudPc),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",n.Resource.UserExperienceType===r.CloudPcUserExperienceType.UnknownFutureValue)}}function Ue(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",54),V["\u0275\u0275listener"]("filtersChanges",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"](2);V["\u0275\u0275property"]("fieldPath",r.sortKeys.Image)("dataSource",r.allCloudPcsCache)}}function Le(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"td"),V["\u0275\u0275text"](1),V["\u0275\u0275pipe"](2,"date"),V["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;V["\u0275\u0275advance"](1),V["\u0275\u0275textInterpolate"](V["\u0275\u0275pipeBind2"](2,1,n.Resource.LastModifiedDateTime,"short"))}}function $e(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"td"),V["\u0275\u0275text"](1),V["\u0275\u0275pipe"](2,"date"),V["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;V["\u0275\u0275advance"](1),V["\u0275\u0275textInterpolate"](V["\u0275\u0275pipeBind2"](2,1,n.Resource.ProvisionedDateTime,"short"))}}var Be=function(e){return{cloudPc:e}};function Ke(e,t){if(1&e&&(V["\u0275\u0275elementStart"](0,"td",55),V["\u0275\u0275elementStart"](1,"nb-action",56),V["\u0275\u0275element"](2,"nb-icon",23),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=V["\u0275\u0275nextContext"](2),o=V["\u0275\u0275reference"](12);V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("nbPopover",o)("nbPopoverContext",V["\u0275\u0275pureFunction1"](3,Be,n)),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("pack",r.HYDRA_ICONS_PACK)}}function He(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementContainerStart"](0),V["\u0275\u0275elementStart"](1,"div",6),V["\u0275\u0275element"](2,"ngx-cloud-pc-status",7),V["\u0275\u0275element"](3,"ngx-cloud-pc-status",8),V["\u0275\u0275element"](4,"ngx-cloud-pc-status",9),V["\u0275\u0275element"](5,"ngx-cloud-pc-status",10),V["\u0275\u0275element"](6,"ngx-cloud-pc-status",11),V["\u0275\u0275element"](7,"ngx-cloud-pc-status",12),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](8,"ngx-data-table",13,14),V["\u0275\u0275listener"]("clearFiltersClick",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().clearFilters()})("selectionChange",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().selectionChange(e)})("searchChange",function(e){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().onSearchChange(e)}),V["\u0275\u0275elementStart"](10,"div",15),V["\u0275\u0275elementStart"](11,"nb-actions",16),V["\u0275\u0275elementStart"](12,"nb-action",17),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().sync()}),V["\u0275\u0275element"](13,"nb-icon",18),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](14,"nb-action",17),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().restart()}),V["\u0275\u0275element"](15,"nb-icon",19),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](16,"nb-action",17),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().createSnapshot()}),V["\u0275\u0275element"](17,"nb-icon",20),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](18,"nb-action",17),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().reprovision()}),V["\u0275\u0275element"](19,"nb-icon",21),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](20,"nb-action",22),V["\u0275\u0275element"](21,"nb-icon",23),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](22,"ngx-table-column",24),V["\u0275\u0275template"](23,we,1,5,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](25,"ngx-table-column",26),V["\u0275\u0275template"](26,ke,1,2,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275template"](28,Oe,1,1,"ng-template",null,27,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](30,"ngx-table-column",28),V["\u0275\u0275template"](31,Ee,1,2,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](33,"ngx-table-column",29),V["\u0275\u0275template"](34,Ie,1,2,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](36,"ngx-table-column",30),V["\u0275\u0275template"](37,Re,1,2,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](39,"ngx-table-column",31),V["\u0275\u0275template"](40,_e,6,2,"ng-template",null,27,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](42,"ngx-table-column",32),V["\u0275\u0275template"](43,Ne,1,5,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](45,"ngx-table-column",33),V["\u0275\u0275template"](46,De,1,2,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275template"](48,je,4,3,"ng-template",null,27,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](50,"ngx-table-column",34),V["\u0275\u0275template"](51,Ue,1,2,"ng-template",null,25,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](53,"ngx-table-column",35),V["\u0275\u0275template"](54,Le,3,4,"ng-template",null,27,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](56,"ngx-table-column",36),V["\u0275\u0275template"](57,$e,3,4,"ng-template",null,27,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](59,"ngx-table-column",37),V["\u0275\u0275template"](60,Ke,3,5,"ng-template",null,27,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](62,"button",38),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().update()}),V["\u0275\u0275element"](63,"nb-icon",39),V["\u0275\u0275text"](64," Update "),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=V["\u0275\u0275reference"](9),o=V["\u0275\u0275nextContext"](),a=V["\u0275\u0275reference"](10);V["\u0275\u0275advance"](2),V["\u0275\u0275property"]("status",o.CloudPcStatus.Failed)("length",o.cloudPcStatusesRecord[o.CloudPcStatus.Failed]),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("status",o.CloudPcStatus.InGracePeriod)("length",o.cloudPcStatusesRecord[o.CloudPcStatus.InGracePeriod]),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("status",o.CloudPcStatus.Provisioned)("length",o.cloudPcStatusesRecord[o.CloudPcStatus.Provisioned]),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("status",o.CloudPcStatus.ProvisionedWithWarnings)("length",o.cloudPcStatusesRecord[o.CloudPcStatus.ProvisionedWithWarnings]),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("status",o.CloudPcStatus.Provisioning)("length",o.cloudPcStatusesRecord[o.CloudPcStatus.Provisioning]),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("status",o.CloudPcStatus.NotProvisioned)("length",o.cloudPcStatusesRecord[o.CloudPcStatus.NotProvisioned]),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("data",o.cloudPcs)("config",o.tableConfig)("columnFilters",o.filterState.columnFilters)("initialSearch",o.filterState.searchQuery),V["\u0275\u0275advance"](4),V["\u0275\u0275propertyInterpolate"]("nbTooltip",r.hasSelection?"Sync":"Please select at least one item in a table to call 'Sync'"),V["\u0275\u0275property"]("disabled",!r.hasSelection),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("pack",o.HYDRA_ICONS_PACK),V["\u0275\u0275advance"](1),V["\u0275\u0275propertyInterpolate"]("nbTooltip",r.hasSelection?"Restart":"Select at least one item in the table to restart"),V["\u0275\u0275property"]("disabled",!r.hasSelection),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("pack",o.HYDRA_ICONS_PACK),V["\u0275\u0275advance"](1),V["\u0275\u0275propertyInterpolate"]("nbTooltip",r.hasSelection?"Create a snapshot / restore point":"Select at least one item in the table to create a snapshot or restore point"),V["\u0275\u0275property"]("disabled",!r.hasSelection),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("pack",o.HYDRA_ICONS_PACK),V["\u0275\u0275advance"](1),V["\u0275\u0275propertyInterpolate"]("nbTooltip",r.hasSelection?"Reprovision":"Select at least one item in the table to reprovision"),V["\u0275\u0275property"]("disabled",!r.hasSelection),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("pack",o.HYDRA_ICONS_PACK),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("nbPopover",a),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("pack",o.HYDRA_ICONS_PACK),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("sortable",!0)("searchable",!0),V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("sortable",!0)("searchable",!0)("searchTransform",o.statusSearchTransform),V["\u0275\u0275advance"](5),V["\u0275\u0275property"]("sortable",!0)("searchable",!0),V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("sortable",!0)("searchable",!0),V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("sortable",!0)("searchable",!0),V["\u0275\u0275advance"](6),V["\u0275\u0275property"]("sortable",!0)("searchable",!0),V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("sortable",!0)("searchable",!0)("searchTransform",o.experienceSearchTransform),V["\u0275\u0275advance"](5),V["\u0275\u0275property"]("sortable",!0)("searchable",!0),V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("sortable",!0),V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("sortable",!0)}}function ze(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"div",57),V["\u0275\u0275elementStart"](1,"nb-actions",58),V["\u0275\u0275elementStart"](2,"nb-action",59),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n),V["\u0275\u0275nextContext"]().downloadCSV()}),V["\u0275\u0275element"](3,"nb-icon",60),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"]();V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("pack",r.HYDRA_ICONS_PACK)}}function Qe(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"div",57),V["\u0275\u0275elementStart"](1,"nb-actions",58),V["\u0275\u0275elementStart"](2,"nb-action",61),V["\u0275\u0275listener"]("click",function(){var e=V["\u0275\u0275restoreView"](n).$implicit;return V["\u0275\u0275nextContext"]().restoreFromSnapshot(e.cloudPc)}),V["\u0275\u0275element"](3,"nb-icon",62),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"]();V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("pack",r.HYDRA_ICONS_PACK)}}function We(e,t){if(1&e){var n=V["\u0275\u0275getCurrentView"]();V["\u0275\u0275elementStart"](0,"nb-card"),V["\u0275\u0275elementStart"](1,"nb-card-header"),V["\u0275\u0275text"](2,"Processes and Performance"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](3,"nb-card-body",63),V["\u0275\u0275element"](4,"ngx-vmAndSessionPerformance",64),V["\u0275\u0275element"](5,"br"),V["\u0275\u0275elementStart"](6,"button",65),V["\u0275\u0275listener"]("click",function(){return V["\u0275\u0275restoreView"](n).dialogRef.close("1")}),V["\u0275\u0275text"](7,"Ok"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"]()}if(2&e){var r=V["\u0275\u0275nextContext"]();V["\u0275\u0275advance"](3),V["\u0275\u0275property"]("nbSpinner",!r.processesView),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("inputData",r.vmAndSessionPerformanceData)("id",r.currentHostId)("showUserNameInProcessList",!0)}}var Ge,Ye,qe=[{path:"**",redirectTo:"all-cloud-pcs",pathMatch:"full"},{path:"",component:(Ge=function(){function t(e,n,o,a,i,l,c,u){var f,b,P=this;s(this,t),this.allCloudPcsService=e,this.toastrService=n,this.allCloudPcsActionsService=o,this.activatedRoute=a,this.router=i,this.http=l,this.dialogService=c,this.cdr=u,this.destroyed$=new d.xQ,this.cloudPcsStatusTextRecord=(r(f={},w.vs.Failed,"Failed"),r(f,w.vs.InGracePeriod,"In grace period"),r(f,w.vs.Provisioned,"Provisioned"),r(f,w.vs.ProvisionedWithWarnings,"Provisioned with warnings"),r(f,w.vs.NotProvisioned,"Not provisioned"),r(f,w.vs.Deprovisioning,"Deprovisioning"),f),this.cloudPcsExperienceTextRecord=(r(b={},w.Z1.CloudApp,"Cloud App"),r(b,w.Z1.CloudPc,"Cloud PC"),r(b,w.Z1.UnknownFutureValue,"Unknown future value"),b),this.selectedCloudPcs=[],this.statusSearchTransform=function(e){var t;return null!==(t=P.cloudPcsStatusTextRecord[e])&&void 0!==t?t:""},this.experienceSearchTransform=function(e){var t;return null!==(t=P.cloudPcsExperienceTextRecord[e])&&void 0!==t?t:""},this.statusValue=function(e){return ae(e.Resource.Status)},this.experienceValue=function(e){return oe(e.Resource.UserExperienceType)},this.preselectLabels={sceneName:"",provisioningPolicyName:""},this.filterState={searchQuery:"",columnFilters:{}},this.cloudPcs$=new d.xQ,this.filterBy$=this.activatedRoute.queryParamMap.pipe((0,v.U)(function(e){var t;return null===(t=e.get("filter-by"))||void 0===t?void 0:t.split(",")})),this.searchFor$=this.activatedRoute.queryParamMap.pipe((0,v.U)(function(e){return e.get("search")})),this.CloudPcStatus=w.vs,this.CloudPcUserExperienceType=w.Z1,this.sortKeys=ie,this.tableConfig={id:"AllCloudPcs",search:{placeholder:"Search for Cloud PC"},selectionKey:"IsSelected"},this.HYDRA_ICONS_PACK=le.K,this.cloudPcs=[],this.allCloudPcsCache=[],this.isLoading=!1,this.processesView=!1,this.processesViewRunning=!1,this.result$=new d.xQ,this.retryApiCallWithToastCallback=function(e){return e.pipe((0,g.b)(function(e){return P.showDangerToast("Failure accessing the SessionHosts-API","Cannot read data from API. The message is: ".concat(e.message," with status ").concat(e.statusText))}),(0,C.j)(function(){return(0,p.H)(D.e5)}))},this.handleApiErrorCallback=function(e){return(0,h._)(function(){return P.showDangerToast("Failure accessing the SessionHosts-API","Cannot read data from API. Reload this site to try it again. The message is: ".concat(e.message," with status ").concat(e.statusText)),(0,m.of)([])})}}return c(t,[{key:"hasSearchQueryParam",get:function(){return"search"in this.activatedRoute.snapshot.queryParams}},{key:"ngOnInit",value:function(){this.initCloudPcs()}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete(),this.resultSubscription$&&this.resultSubscription$.unsubscribe()}},{key:"update",value:function(){this.cloudPcs$.next()}},{key:"selectionChange",value:function(e){this.selectedCloudPcs=this.cloudPcs.filter(function(t){return e.includes(t.Id)})}},{key:"populateFiltersSet",value:function(t){var a=e(t,2),i=a[0],s=a[1],l=i.filter(function(e){return e.checked}).map(function(e){return e.label.toLowerCase()});l.includes("null")&&ie.User.includes(s)&&(l=[].concat(o(l),[void 0])),this.filterState=n(n({},this.filterState),{},{columnFilters:n(n({},this.filterState.columnFilters),{},r({},s,l))}),this.applyAllFilters()}},{key:"clearFilters",value:function(){var e;this.filterState=n(n({},this.filterState),{},{columnFilters:{}}),null===(e=this.filterTriggers)||void 0===e||e.forEach(function(e){return e.resetAllFilters()}),this.applyAllFilters()}},{key:"onSearchChange",value:function(e){e||this.removeSearchQueryParamIfPresent()}},{key:"showTaskList",value:function(e){var t=this;this.currentHostId=e,this.processesView=!1,this.processesViewRunning||(this.processesViewRunning=!0,this.resultSubscription$=this.result$.pipe((0,b.O)(0),(0,P.w)(function(){return(0,p.H)(1,6e3)}),(0,P.w)(function(){return t.http.get("".concat((new k.tc).apiURL(),"/data/cloudpc/").concat(e,"/processes"))}),(0,S.a)(function(e){return e.pipe((0,g.b)(function(e){t.resultSubscription$&&t.resultSubscription$.unsubscribe(),t.processesView=!1,t.processesViewRunning=!1,t.showToast("danger","Failure accessing the Cloud PC","Cannot read data from Cloud PC: ".concat(e.error))}),(0,C.j)(function(){return(0,p.H)(5e3)}))}),(0,y.K)(function(e){return t.resultSubscription$&&t.resultSubscription$.unsubscribe(),t.processesView=!1,t.processesViewRunning=!1,t.showToast("danger","Failure accessing the Cloud PC","Cannot read data from Cloud PC: ".concat(e.error)),(0,m.of)([])})).subscribe(function(e){console.log("Process data: Getting data"),t.vmAndSessionPerformanceData=JSON.parse(e.ResultString),t.processesView||(t.dialogService.open(t.processesDialog,{}).onClose.subscribe(function(e){t.resultSubscription$&&t.resultSubscription$.unsubscribe(),t.processesView=!1,t.processesViewRunning=!1}),t.processesView=!0,t.processesViewRunning=!1)}))}},{key:"sync",value:function(){this.selectedCloudPcs.length&&this.allCloudPcsActionsService.sync(this.selectedCloudPcs,"sync","Sync")}},{key:"restart",value:function(){this.selectedCloudPcs.length&&this.allCloudPcsActionsService.restart(this.selectedCloudPcs,"restart","Restart")}},{key:"createSnapshot",value:function(){this.selectedCloudPcs.length&&this.allCloudPcsActionsService.createSnapshot(this.selectedCloudPcs,"createrestorepoint","Create snapshot")}},{key:"reprovision",value:function(){this.selectedCloudPcs.length&&this.allCloudPcsActionsService.reprovision(this.selectedCloudPcs,"reprovision","Reprovision Cloud PC(s)")}},{key:"downloadCSV",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.csv";if(Array.isArray(e)&&e.length){var n=function(e,t){return null===t?"":t},r=Object.keys(e[0]),o=e.map(function(e){return r.map(function(t){return JSON.stringify(e[t],n)}).join(",")});o.unshift(r.join(","));var a=o.join("\r\n"),i=new Blob([a],{type:"text/csv"}),s=URL.createObjectURL(i),l=document.createElement("a");l.href=s,l.download=t,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}else console.warn("DataSource is empty or not an array.")}(this.cloudPcs.map(function(e){return{TenantName:e.SceneName,Status:ae(e.Resource.Status),DeviceName:e.Resource.ManagedDeviceName,User:e.Resource.UserPrincipalName,CloudPCSize:e.Resource.ServicePlanName,ProvisioningPolicy:e.Resource.ProvisioningPolicyName,Experience:oe(e.Resource.UserExperienceType),Image:e.Resource.ImageDisplayName,DateModified:e.Resource.LastModifiedDateTime,DateProvisioned:e.Resource.ProvisionedDateTime}}),"all-cloud-pcs.csv")}},{key:"restoreFromSnapshot",value:function(e){this.allCloudPcsActionsService.restoreFromSnapshot(e)}},{key:"initCloudPcs",value:function(){var t=this;this.isLoading=!0,(0,f.aj)([this.initCloudPcsPolling$(),this.searchFor$,this.filterBy$]).pipe((0,g.b)(function(r){var a=e(r,3),i=a[0],s=a[1],l=a[2];t.handlePreselection(i,l),t.allCloudPcsCache=o(i),t.buildCloudPcStatuses(i),s&&(t.filterState=n(n({},t.filterState),{},{searchQuery:s})),t.applyAllFilters()}),(0,x.R)(this.destroyed$)).subscribe({next:function(){t.isLoading=!1,t.cdr.markForCheck()},error:function(e){t.isLoading=!1,t.showDangerToast("Failure loading Cloud PCs","Cannot load data. The message is: ".concat(e.message," with status ").concat(e.statusText)),t.cdr.markForCheck()}})}},{key:"handlePreselection",value:function(t,r){if(2===(null==r?void 0:r.length)){var o=e(r,2),a=o[0],i=o[1],s=t.find(function(e){return e.Scene===a&&e.Resource.ProvisioningPolicyId===i});s&&(this.preselectLabels={sceneName:s.SceneName,provisioningPolicyName:s.Resource.ProvisioningPolicyName},this.filterState=n(n({},this.filterState),{},{columnFilters:n(n({},this.filterState.columnFilters),{},{SceneName:[s.SceneName.toLowerCase()],ProvisioningPolicyName:[s.Resource.ProvisioningPolicyName.toLowerCase()]})}))}}},{key:"initCloudPcsPolling$",value:function(){var e=this;return this.cloudPcs$.pipe((0,b.O)(0),(0,P.w)(function(){return(0,p.H)(0,k.tc.autoRefreshDefault)}),(0,P.w)(function(){return e.allCloudPcsService.getAllCloudPCs()}),(0,S.a)(this.retryApiCallWithToastCallback),(0,y.K)(this.handleApiErrorCallback))}},{key:"applyAllFilters",value:function(){var e=this,t=o(this.allCloudPcsCache);Object.keys(this.filterState.columnFilters).some(function(t){var n;return(null===(n=e.filterState.columnFilters[t])||void 0===n?void 0:n.length)>0})&&(t=this.applyColumnFilters(t)),this.cloudPcs=t,this.cdr.markForCheck()}},{key:"applyColumnFilters",value:function(e){var t=this,n=Object.keys(this.filterState.columnFilters).filter(function(e){var n;return(null===(n=t.filterState.columnFilters[e])||void 0===n?void 0:n.length)>0});return n.length?e.filter(function(e){return n.every(function(n){var r,o=t.filterState.columnFilters[n],a=(null!==(r=t.getTableCellValue(e,n))&&void 0!==r?r:"null").toLowerCase();return o.includes(a)})}):e}},{key:"getTableCellValue",value:function(e,t){switch(t){case"SceneName":return e.SceneName;case"Status":return ae(e.Resource.Status);case"ManagedDeviceName":return e.Resource.ManagedDeviceName;case"UserPrincipalName":return e.Resource.UserPrincipalName;case"ServicePlanName":return e.Resource.ServicePlanName;case"ProvisioningPolicyName":return e.Resource.ProvisioningPolicyName;case"UserExperienceType":return oe(e.Resource.UserExperienceType);case"ImageDisplayName":return e.Resource.ImageDisplayName;default:return""}}},{key:"buildCloudPcStatuses",value:function(e){var t;this.cloudPcStatusesRecord=(r(t={},w.vs.Failed,e.filter(function(e){return e.Resource.Status===w.vs.Failed}).length),r(t,w.vs.InGracePeriod,e.filter(function(e){return e.Resource.Status===w.vs.InGracePeriod}).length),r(t,w.vs.Provisioned,e.filter(function(e){return e.Resource.Status===w.vs.Provisioned}).length),r(t,w.vs.ProvisionedWithWarnings,e.filter(function(e){return e.Resource.Status===w.vs.ProvisionedWithWarnings}).length),r(t,w.vs.Provisioning,e.filter(function(e){return e.Resource.Status===w.vs.Provisioning}).length),r(t,w.vs.NotProvisioned,e.filter(function(e){return e.Resource.Status===w.vs.NotProvisioned}).length),t)}},{key:"showDangerToast",value:function(e,t){this.toastrService.danger(t,e,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:O.fe3.TOP_RIGHT,preventDuplicates:!0})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(n,t?"".concat(t):"",{status:e,destroyByClick:!0,duration:2e4,hasIcon:!0,position:O.fe3.TOP_RIGHT,preventDuplicates:!0})}},{key:"removeSearchQueryParamIfPresent",value:function(){if(this.hasSearchQueryParam){var e=n({},this.activatedRoute.snapshot.queryParams);delete e.search,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:e,replaceUrl:!0})}}}]),t}(),Ge.\u0275fac=function(e){return new(e||Ge)(V["\u0275\u0275directiveInject"](F.O),V["\u0275\u0275directiveInject"](O.quB),V["\u0275\u0275directiveInject"](re),V["\u0275\u0275directiveInject"](u.gz),V["\u0275\u0275directiveInject"](u.F0),V["\u0275\u0275directiveInject"](ce.eN),V["\u0275\u0275directiveInject"](O.Gln),V["\u0275\u0275directiveInject"](V.ChangeDetectorRef))},Ge.\u0275cmp=V["\u0275\u0275defineComponent"]({type:Ge,selectors:[["ngx-all-cloud-pcs"]],viewQuery:function(e,t){var n;1&e&&(V["\u0275\u0275viewQuery"](be,5),V["\u0275\u0275viewQuery"](se.m4,5)),2&e&&(V["\u0275\u0275queryRefresh"](n=V["\u0275\u0275loadQuery"]())&&(t.processesDialog=n.first),V["\u0275\u0275queryRefresh"](n=V["\u0275\u0275loadQuery"]())&&(t.filterTriggers=n))},decls:15,vars:4,consts:[[4,"ngIf"],["class","ml-1",4,"ngIf"],["burgerMenuPopoverTpl",""],["burgerTableActionTpl",""],["processesDialog",""],[1,"ml-1"],[1,"row","mb-5"],["label","Failed",1,"col-md-2",3,"status","length"],["label","In grace period",1,"col-md-2",3,"status","length"],["label","Provisioned",1,"col-md-2",3,"status","length"],["label","Provisioned with warnings",1,"col-md-2",3,"status","length"],["label","Provisioning",1,"col-md-2",3,"status","length"],["label","Not provisioned",1,"col-md-2",3,"status","length"],[3,"data","config","columnFilters","initialSearch","clearFiltersClick","selectionChange","searchChange"],["dataTable",""],["data-table-actions","",1,"d-flex","align-items-center"],["size","small"],["nbTooltipPlacement","top",3,"disabled","nbTooltip","click"],["icon","sync",3,"pack"],["icon","restart",3,"pack"],["icon","create-snapshot",3,"pack"],["icon","reprovision",3,"pack"],["nbPopoverPlacement","bottom",3,"nbPopover"],["icon","burger-menu",3,"pack"],["key","SceneName","label","Tenant name",3,"sortable","searchable"],["headerFilter",""],["key","Resource.Status","label","Status",3,"sortable","searchable","searchTransform"],["cell",""],["key","Resource.ManagedDeviceName","label","Device name",3,"sortable","searchable"],["key","Resource.UserPrincipalName","label","User",3,"sortable","searchable"],["key","Resource.ServicePlanName","label","Cloud PC size",3,"sortable","searchable"],["key","utilization","label","Utilization"],["key","Resource.ProvisioningPolicyName","label","Provisioning policy",3,"sortable","searchable"],["key","Resource.UserExperienceType","label","Experience",3,"sortable","searchable","searchTransform"],["key","Resource.ImageDisplayName","label","Image",3,"sortable","searchable"],["key","Resource.LastModifiedDateTime","label","Date modified",3,"sortable"],["key","Resource.ProvisionedDateTime","label","Date provisioned",3,"sortable"],["key","actions","label","Actions"],["type","button","nbButton","","status","semi-round",3,"click"],["icon","refresh"],["filterName","SceneName",3,"fieldPath","dataSource","preselectLabels","filtersChanges"],["filterName","Status",3,"dataSource","extractSpecificValue","filtersChanges"],["ngx-table-cloud-pcs-status","",3,"item"],["filterName","ManagedDeviceName",3,"fieldPath","dataSource","filtersChanges"],["filterName","UserPrincipalName",3,"fieldPath","dataSource","filtersChanges"],["filterName","ServicePlanName",3,"fieldPath","dataSource","filtersChanges"],[1,"row"],[1,"col-sm-6"],[3,"chartValue1","chartValue2","chartValue3","chartValue4",4,"ngIf"],["icon","activity","style","margin: 10px","nbTooltip","Show processes","nbTooltipPlacement","left",3,"click",4,"ngIf"],[3,"chartValue1","chartValue2","chartValue3","chartValue4"],["icon","activity","nbTooltip","Show processes","nbTooltipPlacement","left",2,"margin","10px",3,"click"],["filterName","ProvisioningPolicyName",3,"fieldPath","dataSource","preselectLabels","filtersChanges"],["filterName","UserExperienceType",3,"dataSource","extractSpecificValue","filtersChanges"],["filterName","ImageDisplayName",3,"fieldPath","dataSource","filtersChanges"],[1,"text-center","align-middle","table-actions-column"],["nbPopoverPlacement","bottom",1,"d-inline","c-pointer",3,"nbPopover","nbPopoverContext"],[1,"p-4","popover-menu-container"],["size","small","fullWidth",""],["nbTooltip","Download CSV","nbTooltipPlacement","top",3,"click"],["icon","download",3,"pack"],["nbTooltip","Revert this Cloud PC to a selected restore point","nbTooltipPlacement","top",3,"click"],["icon","restore-snapshot-camera",3,"pack"],["nbSpinnerSize","small",3,"nbSpinner"],["target","cloudpc",3,"inputData","id","showUserNameInProcessList"],["nbButton","",3,"click"]],template:function(e,t){1&e&&(V["\u0275\u0275elementStart"](0,"nb-card"),V["\u0275\u0275elementStart"](1,"nb-card-header"),V["\u0275\u0275elementStart"](2,"h1"),V["\u0275\u0275text"](3,"All cloud PCs"),V["\u0275\u0275elementEnd"](),V["\u0275\u0275template"](4,Pe,2,1,"em",0),V["\u0275\u0275template"](5,Se,2,1,"em",1),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementStart"](6,"nb-card-body"),V["\u0275\u0275template"](7,ye,1,0,"nb-spinner",0),V["\u0275\u0275template"](8,He,65,50,"ng-container",0),V["\u0275\u0275elementEnd"](),V["\u0275\u0275elementEnd"](),V["\u0275\u0275template"](9,ze,4,1,"ng-template",null,2,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275template"](11,Qe,4,1,"ng-template",null,3,V["\u0275\u0275templateRefExtractor"]),V["\u0275\u0275template"](13,We,8,4,"ng-template",null,4,V["\u0275\u0275templateRefExtractor"])),2&e&&(V["\u0275\u0275advance"](4),V["\u0275\u0275property"]("ngIf",t.allCloudPcsCache.length),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",t.selectedCloudPcs.length),V["\u0275\u0275advance"](2),V["\u0275\u0275property"]("ngIf",t.isLoading),V["\u0275\u0275advance"](1),V["\u0275\u0275property"]("ngIf",!t.isLoading))},directives:[O.Asz,O.ndF,l.O5,O.yKW,O.Tzq,de,pe.Q,O.lYD,O.Bk3,O.jNv,O.fMN,O.ydg,he.U,O.DPz,me.m,ve,ge.s,O.Q7R,Ce.m],pipes:[l.uU],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   nb-actions[_ngcontent-%COMP%]   nb-action[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}[_nghost-%COMP%]   nb-actions[_ngcontent-%COMP%]   nb-action.disabled[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .cloud-pc-status.failed[_ngcontent-%COMP%]{border-left:.4em solid var(--danger)}[_nghost-%COMP%]   .cloud-pc-status.in-grace-period[_ngcontent-%COMP%]{border-left:.4em solid var(--warning)}[_nghost-%COMP%]   .cloud-pc-status.provisioned[_ngcontent-%COMP%]{border-left:.4em solid var(--success)}[_nghost-%COMP%]   .cloud-pc-status.provisioned-with-warnings[_ngcontent-%COMP%]{border-left:.4em solid var(--warning)}[_nghost-%COMP%]   .cloud-pc-status.provisioning-or-not[_ngcontent-%COMP%]{border-left:.4em solid var(--primary)}[_nghost-%COMP%]   .table-actions-column[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}[_nghost-%COMP%]   .table-actions-column[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{width:inherit;height:inherit;color:var(--dark)}.popover-menu-container[_ngcontent-%COMP%]   nb-actions[_ngcontent-%COMP%]   nb-action[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}.popover-menu-container[_ngcontent-%COMP%]   nb-actions[_ngcontent-%COMP%]   nb-action.disabled[_ngcontent-%COMP%]{opacity:.5}"],changeDetection:0}),Ge)}],Ze=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=V["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=V["\u0275\u0275defineInjector"]({imports:[[u.Bz.forChild(qe)],u.Bz]}),e}(),Je=i(66911),Xe=i(69517),et=i(88100),tt=i(14171),nt=((Ye=function e(){s(this,e)}).\u0275fac=function(e){return new(e||Ye)},Ye.\u0275mod=V["\u0275\u0275defineNgModule"]({type:Ye}),Ye.\u0275inj=V["\u0275\u0275defineInjector"]({imports:[[l.ez,Ze,se.H8,O.zyh,O.nKr,O.MAY,O.rgH,O.MfT,O.uuI,Je.m,Xe.jF,O.T2N,O.KdK,O.x4g,O.IIj,M.u5,M.UX,O.spT,O.YNG,O.V7y,et.Z,tt.tA]]}),Ye)}}])}();