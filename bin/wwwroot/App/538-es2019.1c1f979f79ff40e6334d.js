(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[538],{76897:function(e,t,n){"use strict";n.d(t,{XU:function(){return i},cc:function(){return r},e5:function(){return o}});const i=400,r=3,o=5e3},1816:function(e,t,n){"use strict";n.d(t,{$:function(){return m}});var i=n(37716),r=n(38583),o=n(14625);function l(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](' No results for "',e.filterState.searchQuery,'" with current filters. ')}}function a(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](' No results for "',e.filterState.searchQuery,'". ')}}function s(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," No results match the applied filters. "),i["\u0275\u0275elementContainerEnd"]())}function c(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," No data to display. "),i["\u0275\u0275elementContainerEnd"]())}function u(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1," Try a different term or clear the search. "),i["\u0275\u0275elementEnd"]())}function p(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1," Adjust or clear filters. "),i["\u0275\u0275elementEnd"]())}function d(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1," Try different terms or filters. "),i["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",7),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onClearSearch()}),i["\u0275\u0275text"](1," Clear search "),i["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",7),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onClearFilters()}),i["\u0275\u0275text"](1," Clear filters "),i["\u0275\u0275elementEnd"]()}}let m=(()=>{class e{constructor(){this.clearSearchClick=new i.EventEmitter,this.clearFiltersClick=new i.EventEmitter,this.hasSearchQuery=!1,this.hasActiveFilters=!1}set filterState(e){this._filterState=e,this.updateEmptyStateFlags()}get filterState(){return this._filterState}updateEmptyStateFlags(){var e,t;this.hasSearchQuery=(null!==(t=null===(e=this._filterState.searchQuery)||void 0===e?void 0:e.trim().length)&&void 0!==t?t:0)>0,this.hasActiveFilters=!1,this._filterState.columnFilters&&(this.hasActiveFilters=Object.keys(this._filterState.columnFilters).some(e=>{var t;return(null===(t=this._filterState.columnFilters[e])||void 0===t?void 0:t.length)>0}))}onClearSearch(){this.clearSearchClick.emit()}onClearFilters(){this.clearFiltersClick.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-table-empty-state"]],inputs:{filterState:"filterState"},outputs:{clearSearchClick:"clearSearchClick",clearFiltersClick:"clearFiltersClick"},decls:12,vars:9,consts:[[1,"empty-state"],[1,"mb-2"],[4,"ngIf"],["class","text-muted mb-3",4,"ngIf"],[1,"d-flex","justify-content-center","gap-2"],["type","button","nbButton","","status","primary","size","small",3,"click",4,"ngIf"],[1,"text-muted","mb-3"],["type","button","nbButton","","status","primary","size","small",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275template"](2,l,2,1,"ng-container",2),i["\u0275\u0275template"](3,a,2,1,"ng-container",2),i["\u0275\u0275template"](4,s,2,0,"ng-container",2),i["\u0275\u0275template"](5,c,2,0,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,u,2,0,"p",3),i["\u0275\u0275template"](7,p,2,0,"p",3),i["\u0275\u0275template"](8,d,2,0,"p",3),i["\u0275\u0275elementStart"](9,"div",4),i["\u0275\u0275template"](10,h,2,0,"button",5),i["\u0275\u0275template"](11,g,2,0,"button",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&!t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&!t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&!t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery&&t.hasActiveFilters),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasSearchQuery),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasActiveFilters))},directives:[r.O5,o.DPz],styles:["[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   .gap-2[_ngcontent-%COMP%]{grid-gap:.5rem;gap:.5rem}"]}),e})()},88100:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(38583),r=n(14625),o=n(37716);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[i.ez,r.T2N]]}),e})()},47010:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var i=n(37716),r=n(79765),o=n(3679),l=n(54395),a=n(87519),s=n(46782),c=n(76897),u=n(14625),p=n(38583);function d(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"nb-list-item"),i["\u0275\u0275elementStart"](1,"nb-checkbox",7),i["\u0275\u0275listener"]("checkedChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.checked=t})("checkedChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().toggle(n,t)}),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("checked",e.checked),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}let h=(()=>{class e{constructor(){this.destroyed$=new r.xQ,this.filtersCache=[],this.filtersChanges=new i.EventEmitter,this.areAllChecked=!1,this.isIntermediateState=!1,this.searchQueryControl=new o.NI(""),this.internalFilters=[],this.trackByItemIndex=(e,t)=>`${t.label}-${e}`,this.searchInFiltersCallback=e=>{const t=e.toLowerCase().trim();this.internalFilters=t?this.filtersCache.filter(e=>e.label.toLowerCase().includes(t)):[...this.filtersCache]}}set filters(e){if(!e)throw new Error("Filters are required");this.internalFilters=e,this.filtersCache=[...e],this.initSearch(),this.updateCheckStates()}selectAll(e){this.internalFilters.forEach(t=>this.toggle(t,e)),this.updateCheckStates()}toggle(e,t){e.checked=t,this.updateCheckStates()}applyFilters(){this.filtersChanges.emit([this.internalFilters,this.filterName])}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}initSearch(){this.searchQueryControl.valueChanges.pipe((0,l.b)(c.XU),(0,a.x)(),(0,s.R)(this.destroyed$)).subscribe(this.searchInFiltersCallback)}updateCheckStates(){const e=this.filtersCache.length,t=this.filtersCache.filter(e=>e.checked).length;this.areAllChecked=t===e,this.isIntermediateState=t>0&&t<e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-table-filter-popover"]],inputs:{filters:"filters",filterName:"filterName"},outputs:{filtersChanges:"filtersChanges"},decls:12,vars:6,consts:[[1,"content-layout"],["for","filters_search",1,"w-100"],["id","filters_search","type","text","placeholder","Search","nbInput","","fullWidth","","fieldSize","small",3,"formControl"],[3,"checked","indeterminate","checkedChange"],[1,"scrollable-container"],[4,"ngFor","ngForOf","ngForTrackBy"],["nbButton","","size","small","fullWidth","",3,"click"],[3,"checked","checkedChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"nb-card"),i["\u0275\u0275elementStart"](1,"nb-list",0),i["\u0275\u0275elementStart"](2,"nb-list-item"),i["\u0275\u0275elementStart"](3,"label",1),i["\u0275\u0275element"](4,"input",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"nb-checkbox",3),i["\u0275\u0275listener"]("checkedChange",function(e){return t.selectAll(e)}),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"nb-list",4),i["\u0275\u0275template"](8,d,3,2,"nb-list-item",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"nb-card-footer"),i["\u0275\u0275elementStart"](10,"button",6),i["\u0275\u0275listener"]("click",function(){return t.applyFilters()}),i["\u0275\u0275text"](11," Apply "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("formControl",t.searchQueryControl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("checked",t.areAllChecked)("indeterminate",t.isIntermediateState),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.areAllChecked?"Deselect":"Select"," all "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.internalFilters)("ngForTrackBy",t.trackByItemIndex))},directives:[u.Asz,u.zP_,u.qBV,u.h8i,o.Fj,o.JJ,o.oH,u.NTf,p.sg,u.XWE,u.DPz],styles:["[_nghost-%COMP%]{display:block;width:18.75em;height:27em;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0;height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]{height:100%;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{height:100%;align-items:start;flex-direction:column}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-list.scrollable-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-list.scrollable-container[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{height:auto;padding:.5em 0}[_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{padding:0 .5em}"]}),e})()},66538:function(e,t,n){"use strict";n.r(t),n.d(t,{ProvisioningPoliciesModule:function(){return Oe}});var i=n(38583),r=n(10264),o=n(79765),l=n(46797),a=n(40205),s=n(25917),c=n(39761),u=n(5304),p=n(46782),d=n(54395),h=n(87519),g=n(68307),m=n(11627),f=n(43190),C=n(67666),y=n(11173),v=n(76897),S=(()=>(function(e){e[e.Gallery=0]="Gallery",e[e.Custom=1]="Custom",e[e.UnknownFutureValue=2]="UnknownFutureValue"}(S||(S={})),S))(),P=(()=>(function(e){e[e.Dedicated=0]="Dedicated",e[e.Shared=1]="Shared",e[e.UnknownFutureValue=2]="UnknownFutureValue",e[e.SharedByUser=3]="SharedByUser",e[e.SharedByEntraGroup=4]="SharedByEntraGroup",e[e.Reserve=5]="Reserve"}(P||(P={})),P))(),b=(()=>(function(e){e[e.CloudPc=0]="CloudPc",e[e.CloudApp=1]="CloudApp",e[e.UnknownFutureValue=2]="UnknownFutureValue"}(b||(b={})),b))(),x=n(14625),E=n(3679),I=n(34681),w=(()=>(function(e){e.TenantName="SceneName",e.Name="Resource.DisplayName",e.Image="Resource.ImageDisplayName",e.Experience="UserExperienceType",e.ImageStatus="Resource.ImageType",e.CreatedBy="Resource.CreatedBy",e.LicenseType="Resource.ProvisioningType"}(w||(w={})),w))();function T(e){switch(e){case b.CloudApp:case"CloudApp":return"Cloud App";case b.CloudPc:case"CloudPc":return"Cloud PC";case b.UnknownFutureValue:case"UnknownFutureValue":return"Unknown future value";default:return"null"}}function F(e){switch(e){case S.Gallery:return"Gallery";case S.Custom:return"Custom";case S.UnknownFutureValue:return"Unknown future value";default:return"null"}}function k(e){switch(e){case P.Dedicated:return"Dedicated";case P.Shared:return"Shared";case P.SharedByUser:return"Shared By User";case P.SharedByEntraGroup:return"Shared By Entra Group";case P.Reserve:return"Reserve";case P.UnknownFutureValue:return"Unknown future value";default:return"null"}}var O=n(37716),N=n(47010);const _=["popoverRef"];function A(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"ngx-table-filter-popover",4),O["\u0275\u0275listener"]("filtersChanges",function(t){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"]().filtersChanged(t)}),O["\u0275\u0275elementEnd"]()}if(2&e){const e=O["\u0275\u0275nextContext"]();O["\u0275\u0275property"]("filters",e.filters)("filterName",e.filterName)}}const R=function(e){return{"filters-applied":e}};let M=(()=>{class e{constructor(){this.dataSource=[],this.filtersChanges=new O.EventEmitter,this.filters=[],this.areFiltersApplied=!1,this.valueMapper=e=>{var t,n;switch(this.resourcePath){case w.Experience:return T(e.UserExperienceType);case w.ImageStatus:return F(null===(t=e.Resource)||void 0===t?void 0:t.ImageType);case w.LicenseType:return k(null===(n=e.Resource)||void 0===n?void 0:n.ProvisioningType);default:return this.getObjectValueByResourcePath(e,this.resourcePath)}},this.getObjectValueByResourcePath=(e,t)=>null==t?void 0:t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:void 0,e)}ngOnInit(){this.buildFilters()}filtersChanged(e){var t;this.areFiltersApplied=e[0].some(e=>e.checked),this.filtersChanges.emit(e),null===(t=this.popoverRef)||void 0===t||t.hide()}buildFilters(){var e;if(!(null===(e=this.dataSource)||void 0===e?void 0:e.length)||!this.resourcePath)return;const t=new Set(this.dataSource.map(this.valueMapper)),n=Array.from(t);this.filters=n.map(e=>({label:e,checked:!1}))}resetAllFilters(){this.filters=this.filters.map(e=>({...e,checked:!1})),this.areFiltersApplied=!1,this.filtersChanged([this.filters,this.filterName])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-provisioning-policies-filter-trigger"]],viewQuery:function(e,t){if(1&e&&O["\u0275\u0275viewQuery"](_,7),2&e){let e;O["\u0275\u0275queryRefresh"](e=O["\u0275\u0275loadQuery"]())&&(t.popoverRef=e.first)}},inputs:{resourcePath:"resourcePath",filterName:"filterName",dataSource:"dataSource"},outputs:{filtersChanges:"filtersChanges"},decls:5,vars:5,consts:[["nbButton","","size","tiny","nbPopoverTrigger","focus","nbPopoverPlacement","bottom",3,"ngClass","nbPopover","disabled","click"],["popoverRef","nbPopover"],["icon","funnel"],["tableFilterPopoverTpl",""],[3,"filters","filterName","filtersChanges"]],template:function(e,t){if(1&e&&(O["\u0275\u0275elementStart"](0,"button",0,1),O["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),O["\u0275\u0275element"](2,"nb-icon",2),O["\u0275\u0275elementEnd"](),O["\u0275\u0275template"](3,A,1,2,"ng-template",null,3,O["\u0275\u0275templateRefExtractor"])),2&e){const e=O["\u0275\u0275reference"](4);O["\u0275\u0275property"]("ngClass",O["\u0275\u0275pureFunction1"](3,R,t.areFiltersApplied))("nbPopover",e)("disabled",!t.dataSource.length)}},directives:[x.DPz,i.mk,x.ydg,x.fMN,N.D],styles:['[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   button.filters-applied[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-.188em;right:-.188em;width:.7em;height:.7em;border-radius:50%;background-color:var(--primary)}']}),e})();var U=n(1816),z=n(69517);function V(e,t){1&e&&O["\u0275\u0275element"](0,"nb-spinner")}function B(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"button",19),O["\u0275\u0275listener"]("click",function(){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).clearSearch()}),O["\u0275\u0275element"](1,"nb-icon",20),O["\u0275\u0275elementEnd"]()}}function $(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function D(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function L(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function Q(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function j(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function K(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function G(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function H(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Cloud App"),O["\u0275\u0275elementContainerEnd"]())}function q(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Cloud PC"),O["\u0275\u0275elementContainerEnd"]())}function W(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Unknown future value"),O["\u0275\u0275elementContainerEnd"]())}function X(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Gallery"),O["\u0275\u0275elementContainerEnd"]())}function J(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Custom"),O["\u0275\u0275elementContainerEnd"]())}function Z(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Unknown future value"),O["\u0275\u0275elementContainerEnd"]())}function Y(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Dedicated"),O["\u0275\u0275elementContainerEnd"]())}function ee(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Shared"),O["\u0275\u0275elementContainerEnd"]())}function te(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Shared By User"),O["\u0275\u0275elementContainerEnd"]())}function ne(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Shared By Entra Group"),O["\u0275\u0275elementContainerEnd"]())}function ie(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Reserve"),O["\u0275\u0275elementContainerEnd"]())}function re(e,t){1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275text"](1,"Unknown future value"),O["\u0275\u0275elementContainerEnd"]())}function oe(e,t){if(1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275elementStart"](1,"tr"),O["\u0275\u0275elementStart"](2,"td"),O["\u0275\u0275text"](3),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](4,"td"),O["\u0275\u0275text"](5),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](6,"td"),O["\u0275\u0275text"](7),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](8,"td"),O["\u0275\u0275template"](9,H,2,0,"ng-container",0),O["\u0275\u0275template"](10,q,2,0,"ng-container",0),O["\u0275\u0275template"](11,W,2,0,"ng-container",0),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](12,"td"),O["\u0275\u0275template"](13,X,2,0,"ng-container",0),O["\u0275\u0275template"](14,J,2,0,"ng-container",0),O["\u0275\u0275template"](15,Z,2,0,"ng-container",0),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](16,"td"),O["\u0275\u0275text"](17),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](18,"td"),O["\u0275\u0275template"](19,Y,2,0,"ng-container",0),O["\u0275\u0275template"](20,ee,2,0,"ng-container",0),O["\u0275\u0275template"](21,te,2,0,"ng-container",0),O["\u0275\u0275template"](22,ne,2,0,"ng-container",0),O["\u0275\u0275template"](23,ie,2,0,"ng-container",0),O["\u0275\u0275template"](24,re,2,0,"ng-container",0),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=O["\u0275\u0275nextContext"](3);O["\u0275\u0275advance"](3),O["\u0275\u0275textInterpolate"](e.SceneName),O["\u0275\u0275advance"](2),O["\u0275\u0275textInterpolate"](null==e.Resource?null:e.Resource.DisplayName),O["\u0275\u0275advance"](2),O["\u0275\u0275textInterpolate"](null==e.Resource?null:e.Resource.ImageDisplayName),O["\u0275\u0275advance"](2),O["\u0275\u0275property"]("ngIf",e.UserExperienceType===n.CloudPcUserExperienceType.CloudApp||"CloudApp"===e.UserExperienceType),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",e.UserExperienceType===n.CloudPcUserExperienceType.CloudPc||"CloudPc"===e.UserExperienceType),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",e.UserExperienceType===n.CloudPcUserExperienceType.UnknownFutureValue||"UnknownFutureValue"===e.UserExperienceType),O["\u0275\u0275advance"](2),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ImageType)===n.CloudPcProvisioningPolicyImageType.Gallery),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ImageType)===n.CloudPcProvisioningPolicyImageType.Custom),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ImageType)===n.CloudPcProvisioningPolicyImageType.UnknownFutureValue),O["\u0275\u0275advance"](2),O["\u0275\u0275textInterpolate"](null==e.Resource?null:e.Resource.CreatedBy),O["\u0275\u0275advance"](2),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ProvisioningType)===n.CloudPcProvisioningType.Dedicated),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ProvisioningType)===n.CloudPcProvisioningType.Shared),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ProvisioningType)===n.CloudPcProvisioningType.SharedByUser),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ProvisioningType)===n.CloudPcProvisioningType.SharedByEntraGroup),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ProvisioningType)===n.CloudPcProvisioningType.Reserve),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",(null==e.Resource?null:e.Resource.ProvisioningType)===n.CloudPcProvisioningType.UnknownFutureValue)}}function le(e,t){if(1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275template"](1,oe,25,16,"ng-container",21),O["\u0275\u0275pipe"](2,"slice"),O["\u0275\u0275elementContainerEnd"]()),2&e){const e=O["\u0275\u0275nextContext"](2);O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngForOf",O["\u0275\u0275pipeBind3"](2,2,e.provisioningPolicies,(e.paginationCurrentPage-1)*e.paginationPageSize,e.paginationCurrentPage*e.paginationPageSize))("ngForTrackBy",e.trackByPolicyId)}}function ae(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"tr"),O["\u0275\u0275elementStart"](1,"td",22),O["\u0275\u0275elementStart"](2,"ngx-table-empty-state",23),O["\u0275\u0275listener"]("clearSearchClick",function(){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).clearSearch()})("clearFiltersClick",function(){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).clearFilters()}),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"]()}if(2&e){O["\u0275\u0275nextContext"]();const e=O["\u0275\u0275reference"](12),t=O["\u0275\u0275nextContext"]();O["\u0275\u0275advance"](1),O["\u0275\u0275attribute"]("colspan",e.children.length),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("filterState",t.filterState)}}function se(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"ngb-pagination",24),O["\u0275\u0275listener"]("pageChange",function(t){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).paginationCurrentPage=t}),O["\u0275\u0275elementEnd"]()}if(2&e){const e=O["\u0275\u0275nextContext"](2);O["\u0275\u0275property"]("page",e.paginationCurrentPage)("collectionSize",e.provisioningPolicies.length)("maxSize",e.paginationMaxSize)("boundaryLinks",!0)("pageSize",e.paginationPageSize)}}function ce(e,t){if(1&e&&(O["\u0275\u0275elementStart"](0,"nb-option",27),O["\u0275\u0275text"](1),O["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;O["\u0275\u0275property"]("value",e),O["\u0275\u0275advance"](1),O["\u0275\u0275textInterpolate1"](" ",e," ")}}function ue(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"nb-select",25),O["\u0275\u0275listener"]("ngModelChange",function(t){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).paginationPageSize=t})("selectedChange",function(){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).saveLocalConfig()}),O["\u0275\u0275template"](1,ce,2,2,"nb-option",26),O["\u0275\u0275elementEnd"]()}if(2&e){const e=O["\u0275\u0275nextContext"](2);O["\u0275\u0275property"]("ngModel",e.paginationPageSize),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngForOf",e.rowsPerPageOptions)}}const pe=function(e){return{sortKey:e,label:"Tenant",filterName:"SceneName"}},de=function(e){return{sortKey:e,label:"Name",filterName:"DisplayName"}},he=function(e){return{sortKey:e,label:"Image",filterName:"ImageDisplayName"}},ge=function(e){return{sortKey:e,label:"Experience",filterName:"UserExperienceType"}},me=function(e){return{sortKey:e,label:"Image status",filterName:"ImageType"}},fe=function(e){return{sortKey:e,label:"Created by",filterName:"CreatedBy"}},Ce=function(e){return{sortKey:e,label:"License type",filterName:"ProvisioningType"}};function ye(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275elementStart"](1,"div",3),O["\u0275\u0275elementStart"](2,"div",4),O["\u0275\u0275elementStart"](3,"label",5),O["\u0275\u0275elementStart"](4,"div",6),O["\u0275\u0275elementStart"](5,"nb-form-field"),O["\u0275\u0275element"](6,"input",7),O["\u0275\u0275template"](7,B,2,0,"button",8),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](8,"div",9),O["\u0275\u0275elementStart"](9,"table",10),O["\u0275\u0275elementStart"](10,"thead"),O["\u0275\u0275elementStart"](11,"tr",11,12),O["\u0275\u0275template"](13,$,1,0,"ng-container",13),O["\u0275\u0275template"](14,D,1,0,"ng-container",13),O["\u0275\u0275template"](15,L,1,0,"ng-container",13),O["\u0275\u0275template"](16,Q,1,0,"ng-container",13),O["\u0275\u0275template"](17,j,1,0,"ng-container",13),O["\u0275\u0275template"](18,K,1,0,"ng-container",13),O["\u0275\u0275template"](19,G,1,0,"ng-container",13),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](20,"tbody"),O["\u0275\u0275template"](21,le,3,6,"ng-container",0),O["\u0275\u0275template"](22,ae,3,2,"tr",0),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275template"](23,se,1,5,"ngb-pagination",14),O["\u0275\u0275elementStart"](24,"div",15),O["\u0275\u0275template"](25,ue,2,2,"nb-select",16),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](26,"button",17),O["\u0275\u0275listener"]("click",function(){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"]().update()}),O["\u0275\u0275element"](27,"nb-icon",18),O["\u0275\u0275text"](28," Update "),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=O["\u0275\u0275nextContext"](),t=O["\u0275\u0275reference"](8);O["\u0275\u0275advance"](6),O["\u0275\u0275property"]("formControl",e.searchFormControl),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",e.searchFormControl.value),O["\u0275\u0275advance"](6),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](20,pe,e.sortKeys.TenantName)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](22,de,e.sortKeys.Name)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](24,he,e.sortKeys.Image)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](26,ge,e.sortKeys.Experience)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](28,me,e.sortKeys.ImageStatus)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](30,fe,e.sortKeys.CreatedBy)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](32,Ce,e.sortKeys.LicenseType)),O["\u0275\u0275advance"](2),O["\u0275\u0275property"]("ngIf",e.provisioningPolicies.length),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",e.isEmptyStateVisible),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",e.provisioningPolicies.length>3),O["\u0275\u0275advance"](2),O["\u0275\u0275property"]("ngIf",e.provisioningPolicies.length>e.MAX_LENGTH_TO_SHOW_ELEMENT)}}function ve(e,t){1&e&&O["\u0275\u0275elementContainer"](0)}function Se(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"ngx-provisioning-policies-filter-trigger",32),O["\u0275\u0275listener"]("filtersChanges",function(t){return O["\u0275\u0275restoreView"](e),O["\u0275\u0275nextContext"](2).populateFiltersSet(t)}),O["\u0275\u0275elementEnd"]()}if(2&e){const e=O["\u0275\u0275nextContext"](),t=e.sortKey,n=e.filterName,i=O["\u0275\u0275nextContext"]();O["\u0275\u0275property"]("resourcePath",t)("filterName",n)("dataSource",i.provisioningPolicies)}}const Pe=function(e){return{$implicit:e}};function be(e,t){if(1&e){const e=O["\u0275\u0275getCurrentView"]();O["\u0275\u0275elementStart"](0,"th",28),O["\u0275\u0275listener"]("click",function(){const t=O["\u0275\u0275restoreView"](e).sortKey,n=O["\u0275\u0275nextContext"]();return t&&n.toggleSort(t)}),O["\u0275\u0275elementStart"](1,"div",29),O["\u0275\u0275elementStart"](2,"span"),O["\u0275\u0275text"](3),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](4,"div",30),O["\u0275\u0275template"](5,ve,1,0,"ng-container",13),O["\u0275\u0275template"](6,Se,1,3,"ngx-provisioning-policies-filter-trigger",31),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"]()}if(2&e){const e=t.sortKey,n=t.label,i=t.hideFilter;O["\u0275\u0275nextContext"]();const r=O["\u0275\u0275reference"](10);O["\u0275\u0275advance"](3),O["\u0275\u0275textInterpolate"](n),O["\u0275\u0275advance"](2),O["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",O["\u0275\u0275pureFunction1"](4,Pe,e)),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",!i)}}function xe(e,t){if(1&e&&(O["\u0275\u0275elementContainerStart"](0),O["\u0275\u0275element"](1,"nb-icon",33),O["\u0275\u0275elementContainerEnd"]()),2&e){const e=O["\u0275\u0275nextContext"](2);O["\u0275\u0275advance"](1),O["\u0275\u0275propertyInterpolate"]("nbTooltip","asc"===e.sortDirection?"Sorted ascending":"Sorted descending"),O["\u0275\u0275propertyInterpolate1"]("icon","arrow-","asc"===e.sortDirection?"down":"up","")}}function Ee(e,t){if(1&e&&O["\u0275\u0275template"](0,xe,2,2,"ng-container",0),2&e){const e=t.$implicit,n=O["\u0275\u0275nextContext"]();O["\u0275\u0275property"]("ngIf",n.sortColumn===e)}}const Ie=[{path:"",component:(()=>{class e{constructor(e,t){this.wd365Service=e,this.toastrService=t,this.destroyed$=new o.xQ,this.filterState={searchQuery:"",columnFilters:{}},this.selectedPolicyIds=new Set,this.selectedPolicies=[],this.rowsPerPageOptions=[20,50,80,100,150,200],this.MAX_LENGTH_TO_SHOW_ELEMENT=20,this.CloudPcUserExperienceType=b,this.CloudPcProvisioningPolicyImageType=S,this.CloudPcProvisioningType=P,this.isEmptyStateVisible=!1,this.provisioningPolicies$=new o.xQ,this.provisioningPolicies=[],this.provisioningPoliciesCache=[],this.isLoading=!1,this.searchFormControl=new E.NI(""),this.paginationCurrentPage=1,this.paginationPageSize=this.rowsPerPageOptions[0],this.paginationMaxSize=10,this.sortKeys=w,this.sortColumn="",this.sortDirection="asc",this.trackByPolicyId=(e,t)=>t.Id,this.retryApiCallWithToastCallback=e=>e.pipe((0,g.b)(e=>this.showDangerToast("Failure accessing the API",`Cannot read data from API. The message is: ${e.message} with status ${e.statusText}`)),(0,m.j)(()=>(0,l.H)(v.e5))),this.handleApiErrorCallback=e=>(0,a._)(()=>(this.showDangerToast("Failure accessing the API",`Cannot read data from API. Reload this site to try it again. The message is: ${e.message} with status ${e.statusText}`),(0,s.of)([])))}get hasSelectedPolicies(){return this.selectedPolicies.length>0}get areAllChecked(){return this.provisioningPolicies.length>0&&this.provisioningPolicies.every(e=>e.IsSelected)}get isIntermediateState(){const e=this.provisioningPolicies.filter(e=>e.IsSelected).length;return e>0&&e<this.provisioningPolicies.length}ngOnInit(){this.loadPageSizeFromLocalStorage(),this.initProvisioningPolicies(),this.initTableSearch()}loadPageSizeFromLocalStorage(){const e=localStorage.getItem("Hydra.ProvisioningPolicies.PageSize");e&&Number(e)&&(this.paginationPageSize=Number(e))}toggleSort(e){this.sortColumn===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=e,this.sortDirection="asc"),this.applySorting()}selectionChanged(e,t){e.IsSelected=t,t?this.selectedPolicyIds.add(e.Id):this.selectedPolicyIds.delete(e.Id),this.countSelected()}selectAll(e){e?this.selectAllOnPage(this.provisioningPolicies):this.deselectAllOnPage(this.provisioningPolicies),this.countSelected()}selectPage(){const e=this.getPoliciesPageSlice();e.every(e=>e.IsSelected)?this.deselectAllOnPage(e):this.selectAllOnPage(e),this.countSelected()}clearSearch(){this.searchFormControl.setValue("")}clearFilters(){var e;this.filterState={...this.filterState,columnFilters:{}},this.paginationCurrentPage=1,null===(e=this.filterTriggers)||void 0===e||e.forEach(e=>e.resetAllFilters()),this.applyAllFilters()}saveLocalConfig(){localStorage.setItem("Hydra.ProvisioningPolicies.PageSize",this.paginationPageSize.toString())}update(){this.provisioningPolicies$.next()}populateFiltersSet([e,t]){this.filterState.columnFilters[t]=e.filter(e=>e.checked).map(e=>e.label.toLowerCase()),this.applyAllFilters()}countSelected(){this.selectedPolicies=this.provisioningPolicies.filter(e=>e.IsSelected)}getPoliciesPageSlice(){return this.provisioningPolicies.slice((this.paginationCurrentPage-1)*this.paginationPageSize,this.paginationCurrentPage*this.paginationPageSize)}selectAllOnPage(e){e.forEach(e=>{e.IsSelected=!0,this.selectedPolicyIds.add(e.Id)})}deselectAllOnPage(e){e.forEach(e=>{e.IsSelected=!1,this.selectedPolicyIds.delete(e.Id)})}preserveSelection(e){return e.map(e=>({...e,IsSelected:this.selectedPolicyIds.has(e.Id)}))}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}initProvisioningPolicies(){this.isLoading=!0,this.provisioningPolicies$.pipe((0,c.O)(0),(0,f.w)(()=>(0,l.H)(0,y.tc.autoRefreshDefault)),(0,f.w)(()=>this.wd365Service.getProvisioningPolicies()),(0,C.a)(this.retryApiCallWithToastCallback),(0,u.K)(this.handleApiErrorCallback),(0,p.R)(this.destroyed$)).subscribe(e=>{const t=this.preserveSelection(e);this.provisioningPoliciesCache=[...t],this.applyAllFilters(),this.isLoading=!1,this.updateEmptyStateVisibility()})}updateEmptyStateVisibility(){this.isEmptyStateVisible=!this.isLoading&&0===this.provisioningPolicies.length}initTableSearch(){this.searchFormControl.valueChanges.pipe((0,d.b)(v.XU),(0,h.x)(),(0,p.R)(this.destroyed$)).subscribe((e="")=>{this.filterState.searchQuery=e.trim(),this.applyAllFilters()})}applyAllFilters(){this.paginationCurrentPage=1;let e=[...this.provisioningPoliciesCache];Object.keys(this.filterState.columnFilters).some(e=>{var t;return(null===(t=this.filterState.columnFilters[e])||void 0===t?void 0:t.length)>0})&&(e=this.applyColumnFilters(e)),this.filterState.searchQuery&&(e=this.applySearchFilter(e)),this.provisioningPolicies=e,this.updateEmptyStateVisibility(),this.applySorting()}applySorting(){this.sortColumn&&this.sortByPropertyPath(this.sortColumn)}applyColumnFilters(e){const t=Object.keys(this.filterState.columnFilters).filter(e=>{var t;return(null===(t=this.filterState.columnFilters[e])||void 0===t?void 0:t.length)>0});return t.length?e.filter(e=>t.every(t=>{var n;const i=this.filterState.columnFilters[t],r=null===(n=function(e,t){var n,i,r,o,l;switch(t){case"SceneName":return e.Scene;case"DisplayName":return null===(n=e.Resource)||void 0===n?void 0:n.DisplayName;case"ImageDisplayName":return null===(i=e.Resource)||void 0===i?void 0:i.ImageDisplayName;case"UserExperienceType":return T(e.UserExperienceType);case"ImageType":return F(null===(r=e.Resource)||void 0===r?void 0:r.ImageType);case"CreatedBy":return null===(o=e.Resource)||void 0===o?void 0:o.CreatedBy;case"ProvisioningType":return k(null===(l=e.Resource)||void 0===l?void 0:l.ProvisioningType);default:return""}}(e,t))||void 0===n?void 0:n.toLowerCase();return i.includes(r)})):e}applySearchFilter(e){var t;const n=null===(t=this.filterState)||void 0===t?void 0:t.searchQuery.toLowerCase();return e.filter(e=>{var t,i,r,o,l,a,s,c,u,p,d;const h=null!==(i=null===(t=e.Scene)||void 0===t?void 0:t.toLowerCase())&&void 0!==i?i:"",g=null!==(l=null===(o=null===(r=e.Resource)||void 0===r?void 0:r.DisplayName)||void 0===o?void 0:o.toLowerCase())&&void 0!==l?l:"",m=null!==(c=null===(s=null===(a=e.Resource)||void 0===a?void 0:a.ImageDisplayName)||void 0===s?void 0:s.toLowerCase())&&void 0!==c?c:"",f=null!==(d=null===(p=null===(u=e.Resource)||void 0===u?void 0:u.CreatedBy)||void 0===p?void 0:p.toLowerCase())&&void 0!==d?d:"";return(null==h?void 0:h.includes(n))||(null==g?void 0:g.includes(n))||(null==m?void 0:m.includes(n))||(null==f?void 0:f.includes(n))})}sortByPropertyPath(e){const t=e.split(".");this.provisioningPolicies.sort((e,n)=>{let i=this.getNestedProperty(e,t),r=this.getNestedProperty(n,t);return i=null==i?"":i,r=null==r?"":r,"asc"===this.sortDirection?i>r?1:i<r?-1:0:i<r?1:i>r?-1:0})}getNestedProperty(e,t){return t.reduce((e,t)=>e&&void 0!==e[t]?e[t]:void 0,e)}showDangerToast(e,t){this.toastrService.danger(t,e,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:x.fe3.TOP_RIGHT,preventDuplicates:!0})}}return e.\u0275fac=function(t){return new(t||e)(O["\u0275\u0275directiveInject"](I.G),O["\u0275\u0275directiveInject"](x.quB))},e.\u0275cmp=O["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-provisioning-policies"]],viewQuery:function(e,t){if(1&e&&O["\u0275\u0275viewQuery"](M,5),2&e){let e;O["\u0275\u0275queryRefresh"](e=O["\u0275\u0275loadQuery"]())&&(t.filterTriggers=e)}},decls:11,vars:2,consts:[[4,"ngIf"],["tableHeaderCellTpl",""],["sortTableIconTpl",""],[1,"row"],[1,"col-md-5"],["for","search_query",1,"w-100"],[1,"search-input-wrapper"],["id","search_query","type","text","placeholder","Search for tenant, name, image, or creator","nbInput","","fullWidth","",1,"search-input",3,"formControl"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"align-top"],["headerRow",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","d-flex justify-content-center",3,"page","collectionSize","maxSize","boundaryLinks","pageSize","pageChange",4,"ngIf"],[1,"d-flex","justify-content-center","p-2"],["nbTooltip","How many rows to list on one page",3,"ngModel","ngModelChange","selectedChange",4,"ngIf"],["type","button","nbButton","","status","semi-round",3,"click"],["icon","refresh"],["nbTooltip","Clear search","nbSuffix","","nbButton","","ghost","",3,"click"],["icon","close-outline"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","p-5"],[3,"filterState","clearSearchClick","clearFiltersClick"],[1,"d-flex","justify-content-center",3,"page","collectionSize","maxSize","boundaryLinks","pageSize","pageChange"],["nbTooltip","How many rows to list on one page",3,"ngModel","ngModelChange","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"align-top",3,"click"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[3,"resourcePath","filterName","dataSource","filtersChanges",4,"ngIf"],[3,"resourcePath","filterName","dataSource","filtersChanges"],[1,"sort-direction-icon","mr-1",3,"nbTooltip","icon"]],template:function(e,t){1&e&&(O["\u0275\u0275elementStart"](0,"nb-card"),O["\u0275\u0275elementStart"](1,"nb-card-header"),O["\u0275\u0275elementStart"](2,"h1"),O["\u0275\u0275text"](3,"Provisioning Policies"),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementStart"](4,"nb-card-body"),O["\u0275\u0275template"](5,V,1,0,"nb-spinner",0),O["\u0275\u0275template"](6,ye,29,34,"ng-container",0),O["\u0275\u0275elementEnd"](),O["\u0275\u0275elementEnd"](),O["\u0275\u0275template"](7,be,7,6,"ng-template",null,1,O["\u0275\u0275templateRefExtractor"]),O["\u0275\u0275template"](9,Ee,1,1,"ng-template",null,2,O["\u0275\u0275templateRefExtractor"])),2&e&&(O["\u0275\u0275advance"](5),O["\u0275\u0275property"]("ngIf",t.isLoading),O["\u0275\u0275advance"](1),O["\u0275\u0275property"]("ngIf",!t.isLoading))},directives:[x.Asz,x.ndF,x.yKW,i.O5,x.Tzq,x.jBG,x.h8i,E.Fj,E.JJ,E.oH,i.tP,x.DPz,x.fMN,x.jNv,x.yyc,i.sg,U.$,z.N9,x.rs,E.On,x.q51,M],pipes:[i.OU],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(.skip-sorting){-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}[_nghost-%COMP%]   .sort-direction-icon[_ngcontent-%COMP%]{font-size:1em;cursor:default}"]}),e})()}];let we=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=O["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild(Ie)],r.Bz]}),e})();var Te=n(66911),Fe=n(61367),ke=n(88100);let Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=O["\u0275\u0275defineInjector"]({imports:[[i.ez,we,Te.m,E.u5,x.zyh,x.KdK,z.jF,x.T2N,x.uuI,x.MAY,x.MfT,x.nKr,x.rgH,E.UX,Fe.H,ke.Z,x.spT,x.x4g,x.IIj,x.V7y]]}),e})()},34681:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var i=n(47349),r=n(92340),o=n(37716),l=n(91841);let a=(()=>{class e{constructor(e){this.httpClient=e,this.apiUrl=`${r.N.apiUrl}/data/scenes`,this.ALL_TENANTS_ID="00000000-0000-0000-0000-000000000000"}getAllCloudPCs(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/cloudpcs`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}getClouPcMigrationSnapshots(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/snapshotImports`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}getCloudPcSnapshots(e,t){return this.httpClient.get(`${this.apiUrl}/${e}/win365/cloudpcs/${t}/snapshots`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}getProvisioningPolicies(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/provisioningpolicies`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}getUserSettings(){return this.httpClient.get(`${this.apiUrl}/${this.ALL_TENANTS_ID}/win365/settings`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}saveUserSettings(e,t){return this.httpClient.post(`${this.apiUrl}/${e}/win365/settings`,t).pipe((0,i.d)({refCount:!0,bufferSize:1}))}removeUserSettings(e,t){return this.httpClient.delete(`${this.apiUrl}/${e}/win365/settings`,{body:t}).pipe((0,i.d)({refCount:!0,bufferSize:1}))}getSupportedRegions(e){return this.httpClient.get(`${this.apiUrl}/${e}/win365/supportedRegions`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}getViewScenes(){return this.httpClient.get(`${r.N.apiUrl}/data/views/win365/scenes`).pipe((0,i.d)({refCount:!0,bufferSize:1}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](l.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);