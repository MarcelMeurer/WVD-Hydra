!function(){var e=["checked"];function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[414],{83414:function(r,o,i){"use strict";i.r(o),i.d(o,{CloudPcConfigurationModule:function(){return qe}});var u=i(38583),f=i(3679),m=i(14625),g=i(10264),p=i(79765),h=i(46797),v=i(40205),b=i(25917),C=i(94402),y=i(47349),S=i(92340),x=i(37716),k=i(91841),P=function(){var e=function(){function e(t){s(this,e),this.httpClient=t,this.apiUrl="".concat(S.N.apiUrl,"/data/scenes"),this.ALL_TENANTS_ID="00000000-0000-0000-0000-000000000000"}return d(e,[{key:"getCloudPcConfigurations",value:function(){return this.httpClient.get("".concat(this.apiUrl,"/").concat(this.ALL_TENANTS_ID,"/win365/configurations")).pipe((0,y.d)({refCount:!0,bufferSize:1}))}},{key:"getCloudPcConfiguration",value:function(e,t){return this.httpClient.get("".concat(this.apiUrl,"/").concat(e,"/win365/configurations/").concat(t)).pipe((0,y.d)({refCount:!0,bufferSize:1}))}},{key:"saveCloudPcConfiguration",value:function(e,t){return this.httpClient.post("".concat(this.apiUrl,"/").concat(e,"/win365/configurations"),t).pipe((0,y.d)({refCount:!0,bufferSize:1}))}},{key:"removeCloudPcConfiguration",value:function(e,t){return this.httpClient.delete("".concat(this.apiUrl,"/").concat(e,"/win365/configurations"),{body:t}).pipe((0,y.d)({refCount:!0,bufferSize:1}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275inject"](k.eN))},e.\u0275prov=x["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),E=i(68307),w=i(11627),I=i(45435),O=i(43190),T=i(39761),A=i(67666),F=i(5304),M=i(46782),_=i(94612),N=i(27716),V=i(11173),D=i(76897),j=(function(e){e.SceneName="SceneName",e.Name="DisplayName",e.Assigned="IsAssigned",e.LastUpdated="LastModifiedDateTime",e.Priority="Priority"}(j||(j={})),j),$=i(45880),B=i(88002),R=i(36123),G=i(30110),L=i(34681),z=function(){var t=function(){function t(e,n,r,o,i,a){s(this,t),this.dialogRef=e,this.dialogService=n,this.wd365Service=r,this.cloudPcConfigurationService=o,this.toastrService=i,this.cdr=a,this.destroyed$=new p.xQ,this.cloudPcConfigurationToEdit=null,this.tenants$=this.wd365Service.getViewScenes(),this.isLoading=!1,this.isSaving=!1,this.form=new f.cw({settings:new f.cw({tenant:new f.NI(null,f.kI.required),displayName:new f.NI("",f.kI.required),description:new f.NI(""),isAiEnabled:new f.NI("")}),scopeTags:new f.cw({tags:new f.Oe([])}),assignments:new f.cw({groups:new f.Oe([])})})}return d(t,[{key:"scopeTagsFormArray",get:function(){var e;return null===(e=this.form.get("scopeTags"))||void 0===e?void 0:e.get("tags")}},{key:"assignmentsFormArray",get:function(){var e;return null===(e=this.form.get("assignments"))||void 0===e?void 0:e.get("groups")}},{key:"ngOnInit",value:function(){var e=this;this.initialFormValues=this.form.getRawValue(),this.hasFormChanges$=this.form.valueChanges.pipe((0,B.U)(function(t){return(0,R.xF)(e.initialFormValues,t).hasDifference}),(0,T.O)(!1)),this.cloudPcConfigurationToEdit&&this.loadConfiguration(this.cloudPcConfigurationToEdit)}},{key:"loadConfiguration",value:function(e){var t=this,n=e.SceneId,r=e.Id;this.isLoading=!0,this.cloudPcConfigurationService.getCloudPcConfiguration(n,r).pipe((0,M.R)(this.destroyed$)).subscribe({next:function(e){var n,r;t.cloudPcConfig=e,t.populateSettingsForm(e),t.populateScopeTagsFormArray(null!==(n=e.RoleScopeTags)&&void 0!==n?n:[]),t.populateAssignmentsFormArray(null!==(r=e.Assignments)&&void 0!==r?r:[]),t.isLoading=!1,t.cdr.markForCheck()},error:function(e){t.isLoading=!1,t.toastrService.danger(e.message||"Failed to load configuration","Error"),t.dialogRef.close()}})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"close",value:function(){(0,R.xF)(this.initialFormValues,this.form.getRawValue()).hasDifference?this.showConfirmationDialog():this.dialogRef.close()}},{key:"showConfirmationDialog",value:function(){var e=this;this.dialogService.open(G.z,{context:{headerTitle:"Warning",bodyText:"You are about to exit without saving your changes. Are you sure you want to leave?",cancelButtonText:"Close without saving",confirmButtonText:"Stay"},hasScroll:!1,closeOnEsc:!1,closeOnBackdropClick:!1}).onClose.subscribe(function(t){!0!==t&&e.dialogRef.close()})}},{key:"save",value:function(){var t,n=this,r=this.form.getRawValue().settings,o=r.tenant,i=this.scopeTagsFormArray.value.map(function(e){return e.Id}),l=this.assignmentsFormArray.value.map(function(t){t.checked;return c(t,e)}),s=null===(t=this.cloudPcConfig)||void 0===t?void 0:t.Id,u=a(a({},s&&{Id:s}),{},{SceneId:o,DisplayName:r.displayName,Description:r.description,RoleScopeTagIds:i,IsAiEnabled:""===r.isAiEnabled?null:r.isAiEnabled,Assignments:l});this.isSaving=!0,this.cdr.markForCheck(),this.cloudPcConfigurationService.saveCloudPcConfiguration(o,u).pipe((0,M.R)(this.destroyed$)).subscribe({next:function(){n.toastrService.success(n.cloudPcConfig?"Cloud PC Configuration updated":"Cloud PC Configuration created","Success"),n.dialogRef.close({created:!0})},error:function(e){n.isSaving=!1,n.toastrService.danger(e.message||(n.cloudPcConfig?"Failed to update Cloud PC Configuration":"Failed to create Cloud PC Configuration"),"Error"),n.cdr.markForCheck()}})}},{key:"populateSettingsForm",value:function(e){var t,n;this.form.patchValue({settings:{tenant:e.SceneId,displayName:e.DisplayName,description:null!==(t=e.Description)&&void 0!==t?t:"",isAiEnabled:null!==(n=e.IsAiEnabled)&&void 0!==n?n:""}})}},{key:"populateScopeTagsFormArray",value:function(e){var t=this;this.scopeTagsFormArray.clear(),e.map(function(e){return{Id:e.Id,Name:e.Name,checked:!1}}).forEach(function(e){return t.scopeTagsFormArray.push(new f.NI(e),{emitEvent:!1})}),this.initialFormValues=this.form.getRawValue()}},{key:"populateAssignmentsFormArray",value:function(e){var t,n=this;this.assignmentsFormArray.clear(),null===(t=null==e?void 0:e.map(function(e){return a(a({},e),{},{checked:!1})}))||void 0===t||t.forEach(function(e){return n.assignmentsFormArray.push(new f.NI(e),{emitEvent:!1})}),this.initialFormValues=this.form.getRawValue()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(x["\u0275\u0275directiveInject"](m.X4l),x["\u0275\u0275directiveInject"](m.Gln),x["\u0275\u0275directiveInject"](L.G),x["\u0275\u0275directiveInject"](P),x["\u0275\u0275directiveInject"](m.quB),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef))},t.\u0275cmp=x["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-manage-cloud-pc-configuration-dialog"]],inputs:{cloudPcConfigurationToEdit:"cloudPcConfigurationToEdit"},decls:19,vars:19,consts:[["nbSpinnerMessage","Saving...",3,"nbSpinner"],["nbSpinnerMessage","Loading...",3,"nbSpinner"],[3,"formGroup"],["tabTitle","Settings","badgePosition","center start","badgeStatus","danger",3,"badgeDot"],["settingsTab",""],[3,"form","tenants","cloudPcConfiguration"],["tabTitle","Scope tags"],[3,"form","tenantId"],["tabTitle","Assignments"],[1,"d-flex","justify-content-between"],["type","button","nbButton","",3,"disabled","click"]],template:function(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"nb-card",0),x["\u0275\u0275elementStart"](1,"nb-card-header"),x["\u0275\u0275text"](2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"nb-card-body",1),x["\u0275\u0275elementStart"](4,"nb-tabset",2),x["\u0275\u0275elementStart"](5,"nb-tab",3,4),x["\u0275\u0275element"](7,"ngx-cloud-pc-config-settings-tab",5),x["\u0275\u0275pipe"](8,"async"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](9,"nb-tab",6),x["\u0275\u0275element"](10,"ngx-scope-tags-tab",7),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"nb-tab",8),x["\u0275\u0275element"](12,"ngx-assignments-tab",7),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"nb-card-footer",9),x["\u0275\u0275elementStart"](14,"button",10),x["\u0275\u0275listener"]("click",function(){return t.close()}),x["\u0275\u0275text"](15,"Close"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](16,"button",10),x["\u0275\u0275listener"]("click",function(){return t.save()}),x["\u0275\u0275pipe"](17,"async"),x["\u0275\u0275text"](18),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n,r,o=x["\u0275\u0275reference"](6);x["\u0275\u0275property"]("nbSpinner",t.isSaving),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",t.cloudPcConfigurationToEdit?"Update Cloud PC Configuration":"Create Cloud PC Configuration"," "),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("nbSpinner",t.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formGroup",t.form),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("badgeDot",!o.active&&(null==t.form.controls||null==t.form.controls.settings?null:t.form.controls.settings.invalid)),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("form",null==t.form.controls?null:t.form.controls.settings)("tenants",x["\u0275\u0275pipeBind1"](8,15,t.tenants$))("cloudPcConfiguration",t.cloudPcConfigurationToEdit),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("form",null==t.form.controls?null:t.form.controls.scopeTags)("tenantId",null==(n=t.form.get("settings.tenant"))?null:n.value),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("form",null==t.form.controls?null:t.form.controls.assignments)("tenantId",null==(r=t.form.get("settings.tenant"))?null:r.value),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("disabled",t.isSaving),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("disabled",t.form.invalid||t.isSaving||t.cloudPcConfigurationToEdit&&!x["\u0275\u0275pipeBind1"](17,17,t.hasFormChanges$)),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",t.cloudPcConfigurationToEdit?"Update":"Save"," ")}},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{width:80em;height:80vh}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-tabset[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]   nb-tabset[_ngcontent-%COMP%]   nb-tab[_ngcontent-%COMP%]{height:calc(100% - 2rem);overflow-y:auto}"],changeDetection:0}),t}(),U=i(60290),q=i(73544),W=i(84266);function Q(e,t){1&e&&x["\u0275\u0275element"](0,"nb-spinner")}function K(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",19),x["\u0275\u0275listener"]("filtersChanges",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),x["\u0275\u0275elementEnd"]()}if(2&e){var r=x["\u0275\u0275nextContext"](2);x["\u0275\u0275property"]("fieldPath",r.sortKeys.SceneName)("dataSource",r.cloudPcConfigurationsCache)}}function H(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",20),x["\u0275\u0275listener"]("filtersChanges",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),x["\u0275\u0275elementEnd"]()}if(2&e){var r=x["\u0275\u0275nextContext"](2);x["\u0275\u0275property"]("fieldPath",r.sortKeys.Name)("dataSource",r.cloudPcConfigurationsCache)}}function X(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"ngx-table-filter-trigger",21),x["\u0275\u0275listener"]("filtersChanges",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](2).populateFiltersSet(e)}),x["\u0275\u0275elementEnd"]()}if(2&e){var r=x["\u0275\u0275nextContext"](2);x["\u0275\u0275property"]("extractSpecificValue",r.isAssignedValue)("fieldPath",r.sortKeys.Assigned)("dataSource",r.cloudPcConfigurationsCache)}}function J(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"td"),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](n.IsAssigned?"Yes":"No")}}function Y(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"td"),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"date"),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind2"](2,1,n.LastModifiedDateTime,"short"))}}function Z(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"td",22),x["\u0275\u0275elementStart"](1,"nb-action",23),x["\u0275\u0275listener"]("click",function(){var e=x["\u0275\u0275restoreView"](n).$implicit;return x["\u0275\u0275nextContext"](2).openManageCloudPcConfigurationDialog(e)}),x["\u0275\u0275element"](2,"nb-icon",24),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}}function ee(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275elementStart"](1,"ngx-data-table",1,2),x["\u0275\u0275listener"]("clearFiltersClick",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().clearFilters()})("selectionChange",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().selectionChange(e)}),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275elementStart"](4,"nb-actions",4),x["\u0275\u0275elementStart"](5,"nb-action",5),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().removeSelectedCloudPcConfigurations()}),x["\u0275\u0275element"](6,"nb-icon",6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"nb-action",7),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().openManageCloudPcConfigurationDialog()}),x["\u0275\u0275element"](8,"nb-icon",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](9,"ngx-table-column",9),x["\u0275\u0275template"](10,K,1,2,"ng-template",null,10,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](12,"ngx-table-column",11),x["\u0275\u0275template"](13,H,1,2,"ng-template",null,10,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](15,"ngx-table-column",12),x["\u0275\u0275template"](16,X,1,3,"ng-template",null,10,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](18,J,2,1,"ng-template",null,13,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](20,"ngx-table-column",14),x["\u0275\u0275template"](21,Y,3,4,"ng-template",null,13,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](23,"ngx-table-column",15),x["\u0275\u0275elementStart"](24,"ngx-table-column",16),x["\u0275\u0275template"](25,Z,3,0,"ng-template",null,13,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](27,"button",17),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().update()}),x["\u0275\u0275element"](28,"nb-icon",18),x["\u0275\u0275text"](29," Update "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=x["\u0275\u0275reference"](2),o=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("data",o.cloudPcConfigurations)("config",o.tableConfig)("columnFilters",o.filterState.columnFilters),x["\u0275\u0275advance"](4),x["\u0275\u0275propertyInterpolate"]("nbTooltip",r.hasSelection?"Delete":"Select at least one item to delete"),x["\u0275\u0275property"]("disabled",!r.hasSelection),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("sortable",!0)("searchable",!0),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("sortable",!0)("searchable",!0),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("sortable",!0),x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("sortable",!0),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("sortable",!0)}}var te,ne={autoFocus:!0,closeOnEsc:!1,closeOnBackdropClick:!1,hasScroll:!1},re=[{path:"",component:(te=function(){function e(t,n,r,o){var i=this;s(this,e),this.cloudPcConfigurationService=t,this.toastrService=n,this.cdr=r,this.dialogService=o,this.destroyed$=new p.xQ,this.selectedConfigurationsGroups={},this.cloudPcConfigurationsUpdate$=new p.xQ,this.tableConfig={id:"CloudPcConfigurations",search:{placeholder:"Search for Cloud PC configurations"},selectionKey:"IsSelected",sorting:{enabled:!0,defaultColumn:j.SceneName,defaultDirection:"asc"}},this.sortKeys=j,this.isAssignedValue=function(e){return e.IsAssigned?"Yes":"No"},this.filterState={searchQuery:"",columnFilters:{}},this.cloudPcConfigurations=[],this.cloudPcConfigurationsCache=[],this.isLoading=!1,this.retryApiCallWithToastCallback=function(e){return e.pipe((0,E.b)(function(e){return i.showDangerToast("Failure accessing the API","Cannot read data from API. The message is: ".concat(e.message," with status ").concat(e.statusText))}),(0,w.j)(function(){return(0,h.H)(D.e5)}))},this.handleApiErrorCallback=function(e){return(0,v._)(function(){return i.showDangerToast("Failure accessing the API","Cannot read data from API. Reload this site to try it again. The message is: ".concat(e.message," with status ").concat(e.statusText)),(0,b.of)([])})}}return d(e,[{key:"ngOnInit",value:function(){this.initCloudPcConfigurations()}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"update",value:function(){this.cloudPcConfigurationsUpdate$.next()}},{key:"openManageCloudPcConfigurationDialog",value:function(e){var t=this;this.dialogService.open(z,a({context:{cloudPcConfigurationToEdit:null!=e?e:null}},ne)).onClose.subscribe(function(e){(null==e?void 0:e.created)&&t.update()})}},{key:"populateFiltersSet",value:function(e){var t=n(e,2),r=t[0],o=t[1],i=r.filter(function(e){return e.checked}).map(function(e){return e.label.toLowerCase()});this.filterState=a(a({},this.filterState),{},{columnFilters:a(a({},this.filterState.columnFilters),{},l({},o,i))}),this.applyAllFilters()}},{key:"clearFilters",value:function(){var e;this.filterState=a(a({},this.filterState),{},{columnFilters:{}}),null===(e=this.filterTriggers)||void 0===e||e.forEach(function(e){return e.resetAllFilters()}),this.applyAllFilters()}},{key:"selectionChange",value:function(e){var n=this.cloudPcConfigurations.filter(function(t){return e.includes(t.Id)});this.selectedConfigurationsGroups=n.reduce(function(e,n){var r;return n.SceneId?a(a({},e),{},l({},n.SceneId,[].concat(t(null!==(r=e[n.SceneId])&&void 0!==r?r:[]),[n.Id]))):e},{})}},{key:"removeSelectedCloudPcConfigurations",value:function(){var e=this,t=Object.values(this.selectedConfigurationsGroups).flat().length;0!==t&&this.dialogService.open(G.z,a({context:{headerTitle:"Delete Cloud PC configurations?",bodyText:"Please confirm deletion of ".concat(t," Cloud PC configuration(s)"),cancelButtonText:"Cancel",confirmButtonText:"Delete"}},ne)).onClose.pipe((0,I.h)(Boolean),(0,O.w)(function(){return e.processCloudPcConfigurationsRemoval()})).subscribe({next:function(){e.update(),e.toastrService.success("".concat(t," Cloud PC configuration(s) deleted"),"Cloud PC configuration deleted")},error:function(t){return e.toastrService.danger(t.message,"Error")}})}},{key:"initCloudPcConfigurations",value:function(){var e=this;this.isLoading=!0,this.cloudPcConfigurationsUpdate$.pipe((0,T.O)(0),(0,O.w)(function(){return(0,h.H)(0,V.tc.autoRefreshDefault)}),(0,O.w)(function(){return e.cloudPcConfigurationService.getCloudPcConfigurations()}),(0,A.a)(this.retryApiCallWithToastCallback),(0,F.K)(this.handleApiErrorCallback),(0,M.R)(this.destroyed$)).subscribe(function(n){e.cloudPcConfigurationsCache=t(n),e.applyAllFilters(),e.isLoading=!1,e.cdr.markForCheck()})}},{key:"showDangerToast",value:function(e,t){this.toastrService.danger(t,e,{destroyByClick:!0,duration:2e4,hasIcon:!0,position:m.fe3.TOP_RIGHT,preventDuplicates:!0})}},{key:"applyAllFilters",value:function(){var e=this,n=t(this.cloudPcConfigurationsCache);Object.keys(this.filterState.columnFilters).some(function(t){var n;return(null===(n=e.filterState.columnFilters[t])||void 0===n?void 0:n.length)>0})&&(n=this.applyColumnFilters(n)),this.cloudPcConfigurations=n,this.cdr.markForCheck()}},{key:"applyColumnFilters",value:function(e){var t=this,n=Object.keys(this.filterState.columnFilters).filter(function(e){var n;return(null===(n=t.filterState.columnFilters[e])||void 0===n?void 0:n.length)>0});return n.length?e.filter(function(e){return n.every(function(n){var r,o=t.filterState.columnFilters[n],i=null===(r=t.getTableCellValue(e,n))||void 0===r?void 0:r.toLowerCase();return o.includes(i)})}):e}},{key:"getTableCellValue",value:function(e,t){switch(t){case"SceneName":return e.SceneName;case"DisplayName":return e.DisplayName;case"IsAssigned":return this.isAssignedValue(e);default:return""}}},{key:"processCloudPcConfigurationsRemoval",value:function(){var e=this;return(0,C.D)(Object.entries(this.selectedConfigurationsGroups)).pipe((0,_.b)(function(t){var r=n(t,2),o=r[0],i=r[1];return e.cloudPcConfigurationService.removeCloudPcConfiguration(o,i)}),(0,N.q)())}}]),e}(),te.\u0275fac=function(e){return new(e||te)(x["\u0275\u0275directiveInject"](P),x["\u0275\u0275directiveInject"](m.quB),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef),x["\u0275\u0275directiveInject"](m.Gln))},te.\u0275cmp=x["\u0275\u0275defineComponent"]({type:te,selectors:[["ngx-cloud-pc-configuration"]],viewQuery:function(e,t){var n;1&e&&x["\u0275\u0275viewQuery"]($.m4,5),2&e&&x["\u0275\u0275queryRefresh"](n=x["\u0275\u0275loadQuery"]())&&(t.filterTriggers=n)},decls:7,vars:2,consts:[[4,"ngIf"],[3,"data","config","columnFilters","clearFiltersClick","selectionChange"],["dataTable",""],["data-table-actions","",1,"d-flex","align-items-center"],["size","small"],["nbTooltipPlacement","top",3,"disabled","nbTooltip","click"],["icon","trash-2-outline"],[3,"click"],["icon","plus-outline"],["key","SceneName","label","Tenant",3,"sortable","searchable"],["headerFilter",""],["key","DisplayName","label","Name",3,"sortable","searchable"],["key","IsAssigned","label","Assigned",3,"sortable"],["cell",""],["key","LastModifiedDateTime","label","Last updated",3,"sortable"],["key","Priority","label","Priority",3,"sortable"],["key","actions","label","Edit"],["type","button","nbButton","","status","semi-round",3,"click"],["icon","refresh"],["filterName","SceneName",3,"fieldPath","dataSource","filtersChanges"],["filterName","DisplayName",3,"fieldPath","dataSource","filtersChanges"],["filterName","IsAssigned",3,"extractSpecificValue","fieldPath","dataSource","filtersChanges"],[1,"text-center","align-middle"],["nbTooltip","Edit Cloud PC Configuration",1,"d-inline","c-pointer",3,"click"],["icon","settings-2-outline"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"nb-card"),x["\u0275\u0275elementStart"](1,"nb-card-header"),x["\u0275\u0275elementStart"](2,"h1"),x["\u0275\u0275text"](3,"Cloud PC Configuration"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"nb-card-body"),x["\u0275\u0275template"](5,Q,1,0,"nb-spinner",0),x["\u0275\u0275template"](6,ee,30,12,"ng-container",0),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("ngIf",t.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!t.isLoading))},directives:[m.Asz,m.ndF,m.yKW,u.O5,m.Tzq,U.Q,m.lYD,m.Bk3,m.jNv,m.fMN,q.U,m.DPz,W.m],pipes:[u.uU],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nb-actions[_ngcontent-%COMP%]   nb-action[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}"],changeDetection:0}),te)}],oe=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=x["\u0275\u0275defineInjector"]({imports:[[g.Bz.forChild(re)],g.Bz]}),e}(),ie=i(14171);function ae(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"nb-option",20),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;x["\u0275\u0275property"]("value",n.Id),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",n.DisplayName," ")}}function le(e,t){1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275elementStart"](1,"span",21),x["\u0275\u0275text"](2,"This field is required"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]())}function ce(e,t){1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275elementStart"](1,"span",21),x["\u0275\u0275text"](2,"This field is required"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]())}function se(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"nb-option",20),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;x["\u0275\u0275property"]("value",n.value),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",n.label," ")}}function ue(e,t){if(1&e&&(x["\u0275\u0275elementContainerStart"](0,1),x["\u0275\u0275elementStart"](1,"h6",2),x["\u0275\u0275text"](2,"General"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275elementStart"](4,"div",4),x["\u0275\u0275elementStart"](5,"label",5),x["\u0275\u0275elementStart"](6,"span",6),x["\u0275\u0275text"](7,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"span"),x["\u0275\u0275text"](9,"Tenant"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"div",7),x["\u0275\u0275elementStart"](11,"nb-select",8),x["\u0275\u0275template"](12,ae,2,2,"nb-option",9),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](13,le,3,0,"ng-container",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](14,"div",3),x["\u0275\u0275elementStart"](15,"div",4),x["\u0275\u0275elementStart"](16,"label",11),x["\u0275\u0275elementStart"](17,"span",6),x["\u0275\u0275text"](18,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](19,"span"),x["\u0275\u0275text"](20,"Name"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](21,"div",7),x["\u0275\u0275element"](22,"input",12),x["\u0275\u0275template"](23,ce,3,0,"ng-container",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](24,"div",3),x["\u0275\u0275elementStart"](25,"div",4),x["\u0275\u0275elementStart"](26,"label",13),x["\u0275\u0275text"](27,"Description"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](28,"div",7),x["\u0275\u0275elementStart"](29,"textarea",14),x["\u0275\u0275text"](30,"      "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](31,"h6",2),x["\u0275\u0275text"](32,"Configuration settings"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](33,"p",15),x["\u0275\u0275text"](34," Works for higher spec devices (8vCPU/32GB/256GB and higher). "),x["\u0275\u0275elementStart"](35,"a",16),x["\u0275\u0275text"](36,"Learn more"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](37,". "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](38,"div",3),x["\u0275\u0275elementStart"](39,"div",4),x["\u0275\u0275elementStart"](40,"label",17),x["\u0275\u0275text"](41,"AI-enabled features"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](42,"nb-icon",18),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](43,"div",7),x["\u0275\u0275elementStart"](44,"nb-select",19),x["\u0275\u0275template"](45,se,2,2,"nb-option",9),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("formGroup",n.form),x["\u0275\u0275advance"](11),x["\u0275\u0275property"]("nbSpinner",!(n.cloudPcConfiguration||null!=n.tenants&&n.tenants.length)),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngForOf",n.tenants),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",(null==n.form||null==n.form.controls||null==n.form.controls.tenant||null==n.form.controls.tenant.errors?null:n.form.controls.tenant.errors.required)&&(null==n.form||null==n.form.controls||null==n.form.controls.tenant?null:n.form.controls.tenant.touched)),x["\u0275\u0275advance"](10),x["\u0275\u0275property"]("ngIf",(null==n.form||null==n.form.controls||null==n.form.controls.displayName||null==n.form.controls.displayName.errors?null:n.form.controls.displayName.errors.required)&&(null==n.form||null==n.form.controls||null==n.form.controls.displayName?null:n.form.controls.displayName.touched)),x["\u0275\u0275advance"](22),x["\u0275\u0275property"]("ngForOf",n.aiEnabledOptions)}}var de=function(){var e=function(){function e(){s(this,e),this.tenants=[],this.cloudPcConfiguration=null,this.aiEnabledOptions=[{value:"",label:"Not configured (Default)"},{value:!0,label:"Enable"},{value:!1,label:"Disable"}]}return d(e,[{key:"ngOnChanges",value:function(e){var t,n,r;(null===(t=e.cloudPcConfiguration)||void 0===t?void 0:t.currentValue)&&(null===(r=null===(n=this.form)||void 0===n?void 0:n.get("tenant"))||void 0===r||r.disable({emitEvent:!1}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-cloud-pc-config-settings-tab"]],inputs:{form:"form",tenants:"tenants",cloudPcConfiguration:"cloudPcConfiguration"},features:[x["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"section-title"],[1,"form-group","row"],[1,"col-md-3","d-flex","align-items-center"],["for","tenant",1,"label"],[1,"asterisk"],[1,"col-md-9"],["id","tenant","fullWidth","","placeholder","Select Tenant","formControlName","tenant",3,"nbSpinner"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","displayName",1,"label"],["id","displayName","type","text","nbInput","","fullWidth","","formControlName","displayName","placeholder","Enter a name"],["for","description",1,"label"],["id","description","nbInput","","fullWidth","","formControlName","description","placeholder","Create a description","rows","3"],[1,"label","section-description"],["href","https://learn.microsoft.com/en-us/windows-365/enterprise/ai-enabled-cloud-pcs","target","_blank","rel","noopener"],["for","isAiEnabled",1,"label"],["icon","info-outline","nbTooltip","Hybrid compute framework will be installed and allow end user's device to use AI-enabled features."],["id","isAiEnabled","fullWidth","","formControlName","isAiEnabled"],[3,"value"],[1,"form-control-error"]],template:function(e,t){1&e&&x["\u0275\u0275template"](0,ue,46,6,"ng-container",0),2&e&&x["\u0275\u0275property"]("ngIf",t.form)},directives:[u.O5,f.JL,f.sg,m.rs,f.JJ,f.u,m.Q7R,u.sg,m.h8i,f.Fj,m.fMN,m.jNv,m.q51],styles:["[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{grid-gap:.5rem;gap:.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .asterisk[_ngcontent-%COMP%]{color:var(--danger);margin-right:.5em}[_nghost-%COMP%]   .form-control-error[_ngcontent-%COMP%]{font-size:.8em;color:var(--danger)}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:.8125rem;font-weight:600;color:#101426}[_nghost-%COMP%]   .section-description[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.5rem}[_nghost-%COMP%]   .section-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary)}"],changeDetection:0}),e}(),fe=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=x["\u0275\u0275defineInjector"]({imports:[[u.ez,m.V7y,m.nKr,m.uuI,f.UX,m.x4g,m.MfT,m.T2N]]}),e}(),me=function(){var e=function(){function e(t){s(this,e),this.httpClient=t,this.apiUrl="".concat(S.N.apiUrl,"/data/scenes")}return d(e,[{key:"getScopeTags",value:function(e){return this.httpClient.get("".concat(this.apiUrl,"/").concat(e,"/win365/roleScopeTags")).pipe((0,y.d)({refCount:!0,bufferSize:1}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275inject"](k.eN))},e.\u0275prov=x["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ge=i(26215),pe=i(28984),he=i(87519),ve=i(68939);function be(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"label",8),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",n.label," ")}}function Ce(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"nb-checkbox",16),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]().$implicit;x["\u0275\u0275property"]("checked",n.checked),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",n.Name," ")}}function ye(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"span",17),x["\u0275\u0275listener"]("click",function(){x["\u0275\u0275restoreView"](n);var e=x["\u0275\u0275nextContext"]().$implicit;return x["\u0275\u0275nextContext"](4).singleSelectionChange(e)}),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()}if(2&e){var r=x["\u0275\u0275nextContext"]().$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",r.Name," ")}}function Se(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"nb-option",13),x["\u0275\u0275listener"]("click",function(){var e=x["\u0275\u0275restoreView"](n).$implicit;return x["\u0275\u0275nextContext"](4).multiSelectionChange(e)}),x["\u0275\u0275template"](1,Ce,2,2,"nb-checkbox",14),x["\u0275\u0275template"](2,ye,2,1,"span",15),x["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=x["\u0275\u0275nextContext"](4);x["\u0275\u0275property"]("value",r),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",o.multi),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!o.multi)}}function xe(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",18),x["\u0275\u0275elementStart"](1,"button",19),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](4).assign()}),x["\u0275\u0275text"](2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){var r,o=x["\u0275\u0275nextContext"](4);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("disabled",!o.selectedScopeTags.length),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",null!==(r=o.multiSelectButtonLabel)&&void 0!==r?r:"Add"," ")}}function ke(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",10),x["\u0275\u0275elementStart"](1,"nb-option-list"),x["\u0275\u0275template"](2,Se,3,3,"nb-option",11),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](3,xe,3,2,"div",12),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]().ngIf;x["\u0275\u0275nextContext"]();var r=x["\u0275\u0275reference"](3),o=x["\u0275\u0275nextContext"]();x["\u0275\u0275styleProp"]("width",r.elementRef.nativeElement.offsetWidth+"px"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngForOf",n),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",o.multi)}}function Pe(e,t){if(1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275template"](1,ke,4,4,"div",9),x["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",n.length)}}function Ee(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",2),x["\u0275\u0275template"](1,be,2,1,"label",3),x["\u0275\u0275elementStart"](2,"nb-form-field",4,5),x["\u0275\u0275pipe"](4,"async"),x["\u0275\u0275elementStart"](5,"input",6),x["\u0275\u0275listener"]("focus",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().setDefaultSearchDebounceTime()}),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](6,Pe,2,1,"ng-container",7),x["\u0275\u0275pipe"](7,"async"),x["\u0275\u0275elementEnd"]()}if(2&e){var r,o=x["\u0275\u0275nextContext"]();x["\u0275\u0275classProp"]("has-opened-dropdown",o.filteredScopeTagsAmount>0),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",o.label),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("nbSpinner",x["\u0275\u0275pipeBind1"](4,7,o.isSearching$)),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("placeholder",null!==(r=o.placeholder)&&void 0!==r?r:"Search")("formControl",o.searchFormControl),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",x["\u0275\u0275pipeBind1"](7,9,o.filteredScopeTags$))}}function we(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",20),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().close()}),x["\u0275\u0275elementEnd"]()}}var Ie=function(){var e=function(){function e(t){s(this,e),this.scopeTagsTypeheadService=t,this.searchDebounce$=new ge.X(D.XU),this.multi=!1,this.selectionChanged=new x.EventEmitter,this.isSearching$=new ge.X(!1),this.filteredScopeTagsAmount=0,this.searchFormControl=new f.NI(""),this.selectedScopeTags=[]}return d(e,[{key:"tenantViewSceneId",set:function(e){if(!e)throw new Error("Tenant View Scene Id must be provided");this.tenantId=e}},{key:"ngOnInit",value:function(){this.initSearchQueryHandler()}},{key:"setDefaultSearchDebounceTime",value:function(){this.searchDebounce$.next(D.XU)}},{key:"assign",value:function(){this.selectionChanged.emit(this.selectedScopeTags.map(function(e){return{Id:e.Id,Name:e.Name}})),this.close()}},{key:"close",value:function(){this.selectedScopeTags=[],this.filteredScopeTagsAmount=0,this.searchFormControl.setValue(""),this.searchDebounce$.next(0)}},{key:"multiSelectionChange",value:function(e){e.checked=!e.checked,this.selectedScopeTags=e.checked?[].concat(t(this.selectedScopeTags),[a(a({},e),{},{checked:!0})]):this.selectedScopeTags.filter(function(t){return t.Id!==e.Id})}},{key:"singleSelectionChange",value:function(e){this.selectionChanged.emit({Id:e.Id,Name:e.Name}),this.close()}},{key:"initSearchQueryHandler",value:function(){var e=this;this.filteredScopeTags$=this.searchFormControl.valueChanges.pipe((0,pe.D)(function(){return e.searchDebounce$.pipe((0,O.w)(function(e){return(0,h.H)(e)}))}),(0,he.x)(),(0,E.b)(function(){return e.isSearching$.next(!0)}),(0,O.w)(function(t){return t&&"string"==typeof t?e.getScopeTags$(t):(e.isSearching$.next(!1),(0,b.of)([]))}))}},{key:"getScopeTags$",value:function(e){var t=this;return this.scopeTagsTypeheadService.getScopeTags(this.tenantId).pipe((0,B.U)(function(t){var n=e.toLowerCase();return t.filter(function(e){return e.Name.toLowerCase().includes(n)})}),(0,E.b)(function(e){t.filteredScopeTagsAmount=e.length,t.selectedScopeTags=[]}),(0,B.U)(function(e){return e.map(function(e){return a(a({},e),{},{checked:!1})})}),(0,ve.x)(function(){return t.isSearching$.next(!1)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](me))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-scope-tags-typehead"]],inputs:{tenantViewSceneId:"tenantViewSceneId",multi:"multi",label:"label",placeholder:"placeholder",multiSelectButtonLabel:"multiSelectButtonLabel"},outputs:{selectionChanged:"selectionChanged"},decls:2,vars:2,consts:[["class","scope-tags-typehead-container",3,"has-opened-dropdown",4,"ngIf"],["class","scope-tags-typehead-backdrop",3,"click",4,"ngIf"],[1,"scope-tags-typehead-container"],["for","search_query","class","label",4,"ngIf"],["nbSpinnerMessage","Searching...",3,"nbSpinner"],["formFieldReference",""],["id","search_query","type","text","nbInput","","fullWidth","",3,"placeholder","formControl","focus"],[4,"ngIf"],["for","search_query",1,"label"],["class","dropdown mt-1",3,"width",4,"ngIf"],[1,"dropdown","mt-1"],[3,"value","click",4,"ngFor","ngForOf"],["class","dropdown-footer p-1",4,"ngIf"],[3,"value","click"],[3,"checked",4,"ngIf"],["class","c-pointer w-100 h-100",3,"click",4,"ngIf"],[3,"checked"],[1,"c-pointer","w-100","h-100",3,"click"],[1,"dropdown-footer","p-1"],["nbButton","","fullWidth","",3,"disabled","click"],[1,"scope-tags-typehead-backdrop",3,"click"]],template:function(e,t){1&e&&(x["\u0275\u0275template"](0,Ee,8,11,"div",0),x["\u0275\u0275template"](1,we,1,0,"div",1)),2&e&&(x["\u0275\u0275property"]("ngIf",t.tenantId),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.filteredScopeTagsAmount>0))},directives:[u.O5,m.jBG,m.Q7R,m.h8i,f.Fj,f.JJ,f.oH,m.Hcl,u.sg,m.q51,m.NTf,m.DPz],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .scope-tags-typehead-container[_ngcontent-%COMP%]{z-index:7198}[_nghost-%COMP%]   .scope-tags-typehead-container.has-opened-dropdown[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .scope-tags-typehead-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:fixed;border:.0625rem solid #e4e9f2;border-radius:.25rem;overflow:hidden}[_nghost-%COMP%]   .scope-tags-typehead-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   nb-option-list[_ngcontent-%COMP%]{display:block;border-style:none}[_nghost-%COMP%]   .scope-tags-typehead-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]{background-color:var(--white)}[_nghost-%COMP%]   .scope-tags-typehead-container[_ngcontent-%COMP%]     nb-checkbox{height:100%;display:flex;align-items:center}[_nghost-%COMP%]   .scope-tags-typehead-container[_ngcontent-%COMP%]     nb-checkbox label{cursor:pointer}[_nghost-%COMP%]   .scope-tags-typehead-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:7087}"],changeDetection:0}),e}();function Oe(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"nb-alert",2),x["\u0275\u0275text"](1," Select a tenant before selecting scope tags.\n"),x["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"nb-list-item",14),x["\u0275\u0275elementStart"](1,"nb-checkbox",15),x["\u0275\u0275listener"]("checkedChange",function(e){var t=x["\u0275\u0275restoreView"](n).$implicit;return x["\u0275\u0275nextContext"](3).selectOne(t,e)}),x["\u0275\u0275elementStart"](2,"span",16),x["\u0275\u0275text"](3),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"button",17),x["\u0275\u0275listener"]("click",function(){var e=x["\u0275\u0275restoreView"](n).index;return x["\u0275\u0275nextContext"](3).remove(e)}),x["\u0275\u0275element"](5,"nb-icon",6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("checked",r.value.checked),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](r.value.Name)}}function Ae(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"nb-list",12),x["\u0275\u0275template"](1,Te,6,2,"nb-list-item",13),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngForOf",n.scopeTagsFormArray.controls)("ngForTrackBy",n.trackByIndex)}}function Fe(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",18),x["\u0275\u0275elementStart"](1,"span",19),x["\u0275\u0275text"](2,"No scope tags selected"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]())}function Me(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",3),x["\u0275\u0275elementStart"](1,"ngx-scope-tags-typehead",4),x["\u0275\u0275listener"]("selectionChanged",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().selectionChanged(e)}),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](2,"button",5),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().removeSelected()}),x["\u0275\u0275element"](3,"nb-icon",6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"div",7),x["\u0275\u0275elementStart"](5,"nb-checkbox",8),x["\u0275\u0275listener"]("checkedChange",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().selectAll(e)}),x["\u0275\u0275text"](6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"div",9),x["\u0275\u0275template"](8,Ae,2,2,"nb-list",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](9,Fe,3,0,"ng-template",null,11,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"]()}if(2&e){var r=x["\u0275\u0275reference"](10),o=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("tenantViewSceneId",o.tenantId)("multi",!0),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("disabled",!o.isIndeterminate&&!o.areAllSelected),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("disabled",!o.scopeTagsFormArray.length)("checked",o.areAllSelected)("indeterminate",o.isIndeterminate),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",o.areAllSelected?"Deselect all":"Select all"," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",o.scopeTagsFormArray.length)("ngIfElse",r)}}var _e=function(){var e=function(){function e(){s(this,e),this.trackByIndex=function(e){return e}}return d(e,[{key:"scopeTagsFormArray",get:function(){var e;return null===(e=this.form)||void 0===e?void 0:e.get("tags")}},{key:"areAllSelected",get:function(){var e,t=this.scopeTagsFormArray.controls.every(function(e){return e.value.checked});return!(!(null===(e=this.scopeTagsFormArray)||void 0===e?void 0:e.length)||!t)}},{key:"isIndeterminate",get:function(){var e;if(!(null===(e=this.scopeTagsFormArray)||void 0===e?void 0:e.length))return!1;var t=this.scopeTagsFormArray.controls.filter(function(e){return e.value.checked}).length;return t>0&&t<this.scopeTagsFormArray.length}},{key:"selectionChanged",value:function(e){var t=this,n=new Set(this.scopeTagsFormArray.value.map(function(e){return e.Id}));e.filter(function(e){return!n.has(e.Id)}).forEach(function(e){return t.scopeTagsFormArray.push(new f.NI({Id:e.Id,Name:e.Name,checked:!1}))})}},{key:"removeSelected",value:function(){for(var e=this.scopeTagsFormArray.length-1;e>=0;e--)this.scopeTagsFormArray.at(e).value.checked&&this.remove(e)}},{key:"selectAll",value:function(e){this.scopeTagsFormArray.controls.forEach(function(t){return t.setValue(a(a({},t.value),{},{checked:e}),{emitEvent:!1})})}},{key:"selectOne",value:function(e,t){e.setValue(a(a({},e.value),{},{checked:t}),{emitEvent:!1})}},{key:"remove",value:function(e){this.scopeTagsFormArray.removeAt(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-scope-tags-tab"]],inputs:{tenantId:"tenantId",form:"form"},decls:3,vars:2,consts:[["status","danger",4,"ngIf","ngIfElse"],["viewTpl",""],["status","danger"],[1,"scope-tags-tab-header"],["label","Search for tags by name","placeholder","Start typing to select tags",3,"tenantViewSceneId","multi","selectionChanged"],["nbButton","",3,"disabled","click"],["icon","trash-2-outline"],[1,"scope-tags-tab-body","mt-4"],[1,"select-all-checkbox",3,"disabled","checked","indeterminate","checkedChange"],[1,"scrollable-container"],["class","mt-2",4,"ngIf","ngIfElse"],["noDataTpl",""],[1,"mt-2"],["class","d-flex justify-content-between",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column",3,"checked","checkedChange"],[1,"d-flex"],["nbButton","","size","tiny","status","danger",3,"click"],[1,"no-data-container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"text-muted"]],template:function(e,t){if(1&e&&(x["\u0275\u0275template"](0,Oe,2,0,"nb-alert",0),x["\u0275\u0275template"](1,Me,11,9,"ng-template",null,1,x["\u0275\u0275templateRefExtractor"])),2&e){var n=x["\u0275\u0275reference"](2);x["\u0275\u0275property"]("ngIf",!t.tenantId)("ngIfElse",n)}},directives:[u.O5,m.$9b,Ie,m.DPz,m.fMN,m.NTf,m.zP_,u.sg,m.qBV],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden}[_nghost-%COMP%]   .scope-tags-tab-header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;grid-gap:1em;gap:1em}[_nghost-%COMP%]   .scope-tags-tab-body[_ngcontent-%COMP%]{height:calc(100% - 5rem)}[_nghost-%COMP%]   .scope-tags-tab-body[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{padding:.5em}[_nghost-%COMP%]   .scope-tags-tab-body[_ngcontent-%COMP%]   .scrollable-container[_ngcontent-%COMP%]{height:calc(100% - 3rem);overflow:auto}[_nghost-%COMP%]   .scope-tags-tab-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{padding:.5em;min-height:4.063em}"],changeDetection:0}),e}(),Ne=i(5992),Ve=i(20521);function De(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"nb-alert",2),x["\u0275\u0275text"](1," Select a tenant before assigning groups.\n"),x["\u0275\u0275elementEnd"]())}function je(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"span",16),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]().$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](n.value.Upn)}}function $e(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"nb-list-item",14),x["\u0275\u0275elementStart"](1,"nb-checkbox",15),x["\u0275\u0275listener"]("checkedChange",function(e){var t=x["\u0275\u0275restoreView"](n).$implicit;return x["\u0275\u0275nextContext"](3).selectOne(t,e)}),x["\u0275\u0275elementStart"](2,"span",16),x["\u0275\u0275text"](3),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](4,je,2,1,"span",17),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"button",18),x["\u0275\u0275listener"]("click",function(){var e=x["\u0275\u0275restoreView"](n).index;return x["\u0275\u0275nextContext"](3).remove(e)}),x["\u0275\u0275element"](6,"nb-icon",6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("checked",r.value.checked),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](r.value.DisplayName),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",r.value.Upn)}}function Be(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"nb-list",12),x["\u0275\u0275template"](1,$e,7,3,"nb-list-item",13),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngForOf",n.assignmentGroupsFormArray.controls)("ngForTrackBy",n.trackByIndex)}}function Re(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",19),x["\u0275\u0275elementStart"](1,"span",20),x["\u0275\u0275text"](2,"No groups selected"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]())}function Ge(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",3),x["\u0275\u0275elementStart"](1,"ngx-directory-object-typehead",4),x["\u0275\u0275listener"]("selectionChanged",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().selectionChanged(e)}),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](2,"button",5),x["\u0275\u0275listener"]("click",function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().removeSelected()}),x["\u0275\u0275element"](3,"nb-icon",6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"div",7),x["\u0275\u0275elementStart"](5,"nb-checkbox",8),x["\u0275\u0275listener"]("checkedChange",function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().selectAll(e)}),x["\u0275\u0275text"](6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"div",9),x["\u0275\u0275template"](8,Be,2,2,"nb-list",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](9,Re,3,0,"ng-template",null,11,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"]()}if(2&e){var r=x["\u0275\u0275reference"](10),o=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("tenantViewSceneId",o.tenantId)("multi",!0)("type",o.DirectoryObjectTypeEnum.Groups),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("disabled",!o.isIndeterminate&&!o.areAllSelected),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("disabled",!o.assignmentGroupsFormArray.length)("checked",o.areAllSelected)("indeterminate",o.isIndeterminate),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",o.areAllSelected?"Deselect all":"Select all"," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",o.assignmentGroupsFormArray.length)("ngIfElse",r)}}var Le,ze=function(){var e=function(){function e(){s(this,e),this.DirectoryObjectTypeEnum=Ne.W,this.trackByIndex=function(e){return e}}return d(e,[{key:"assignmentGroupsFormArray",get:function(){var e;return null===(e=this.form)||void 0===e?void 0:e.get("groups")}},{key:"areAllSelected",get:function(){var e,t=this.assignmentGroupsFormArray.controls.every(function(e){return e.value.checked});return!(!(null===(e=this.assignmentGroupsFormArray)||void 0===e?void 0:e.length)||!t)}},{key:"isIndeterminate",get:function(){var e;if(!(null===(e=this.assignmentGroupsFormArray)||void 0===e?void 0:e.length))return!1;var t=this.assignmentGroupsFormArray.controls.filter(function(e){return e.value.checked}).length;return t>0&&t<this.assignmentGroupsFormArray.length}},{key:"selectionChanged",value:function(e){var t=this,n=new Set(this.assignmentGroupsFormArray.value.map(function(e){return e.Id}));e.filter(function(e){return!n.has(e.Id)}).forEach(function(e){return t.assignmentGroupsFormArray.push(new f.NI(a(a({},e),{},{checked:!1})))})}},{key:"removeSelected",value:function(){for(var e=this.assignmentGroupsFormArray.length-1;e>=0;e--)this.assignmentGroupsFormArray.at(e).value.checked&&this.remove(e)}},{key:"selectAll",value:function(e){this.assignmentGroupsFormArray.controls.forEach(function(t){return t.setValue(a(a({},t.value),{},{checked:e}),{emitEvent:!1})})}},{key:"selectOne",value:function(e,t){e.setValue(a(a({},e.value),{},{checked:t}),{emitEvent:!1})}},{key:"remove",value:function(e){this.assignmentGroupsFormArray.removeAt(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-assignments-tab"]],inputs:{tenantId:"tenantId",form:"form"},decls:3,vars:2,consts:[["status","danger",4,"ngIf","ngIfElse"],["viewTpl",""],["status","danger"],[1,"assignments-tab-header"],["label","Search for groups by name (min. 3 characters)","placeholder","Start typing to assign groups to the selected tenant.","multiSelectButtonLabel","Add groups",3,"tenantViewSceneId","multi","type","selectionChanged"],["nbButton","",3,"disabled","click"],["icon","trash-2-outline"],[1,"assignments-tab-body","mt-4"],[1,"select-all-checkbox",3,"disabled","checked","indeterminate","checkedChange"],[1,"scrollable-container"],["class","mt-2",4,"ngIf","ngIfElse"],["noDataTpl",""],[1,"mt-2"],["class","d-flex justify-content-between",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column",3,"checked","checkedChange"],[1,"d-flex"],["class","d-flex",4,"ngIf"],["nbButton","","size","tiny","status","danger",3,"click"],[1,"no-data-container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"text-muted"]],template:function(e,t){if(1&e&&(x["\u0275\u0275template"](0,De,2,0,"nb-alert",0),x["\u0275\u0275template"](1,Ge,11,10,"ng-template",null,1,x["\u0275\u0275templateRefExtractor"])),2&e){var n=x["\u0275\u0275reference"](2);x["\u0275\u0275property"]("ngIf",!t.tenantId)("ngIfElse",n)}},directives:[u.O5,m.$9b,Ve.B,m.DPz,m.fMN,m.NTf,m.zP_,u.sg,m.qBV],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden}[_nghost-%COMP%]   .assignments-tab-header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;grid-gap:1em;gap:1em}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]{height:calc(100% - 5rem)}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{padding:.5em}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]   .scrollable-container[_ngcontent-%COMP%]{height:calc(100% - 3rem);overflow:auto}[_nghost-%COMP%]   .assignments-tab-body[_ngcontent-%COMP%]   nb-list[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{padding:.5em;min-height:4.063em}"],changeDetection:0}),e}(),Ue=i(77194),qe=((Le=function e(){s(this,e)}).\u0275fac=function(e){return new(e||Le)},Le.\u0275mod=x["\u0275\u0275defineNgModule"]({type:Le}),Le.\u0275inj=x["\u0275\u0275defineInjector"]({imports:[[u.ez,oe,f.UX,m.zyh,m.uuI,m.T2N,m.KdK,m.nKr,m.IIj,m.EoG,ie.tA,m.MAY,m.rgH,$.H8,fe,m.PYG,m.MfT,m.COg,Ue.e7]]}),Le);x["\u0275\u0275setComponentScope"](z,[m.Asz,m.Q7R,m.ndF,m.yKW,m.kyn,f.JL,f.sg,m.TR4,de,_e,ze,m.XWE,m.DPz],[u.Ov])}}])}();